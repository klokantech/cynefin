function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function k(a){return function(){return this[a]}}function da(a){return function(){return a}}var n,t=this;function ea(){}function fa(a){a.Zb=function(){return a.jm?a.jm:a.jm=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function y(a){return void 0!==a}function ha(a){return null===a}function ia(a){return"array"==ga(a)}function ja(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ka(a){return"string"==typeof a}function la(a){return"number"==typeof a}function ma(a){return"function"==ga(a)}function na(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function E(a){return a[oa]||(a[oa]=++pa)}
var oa="closure_uid_"+(1E9*Math.random()>>>0),pa=0;function qa(a,b,c){return a.call.apply(a.bind,arguments)}function ra(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function F(a,b,c){F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qa:ra;return F.apply(null,arguments)}function sa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};
function ua(a,b){var c=a.split("."),d=t;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function G(a,b){function c(){}c.prototype=b.prototype;a.g=b.prototype;a.prototype=new c};function va(a){Error.captureStackTrace?Error.captureStackTrace(this,va):this.stack=Error().stack||"";a&&(this.message=String(a))}G(va,Error);va.prototype.name="CustomError";function wa(a){if(!xa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ya,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Aa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ba,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ca,"\x26quot;"));return a}var ya=/&/g,Aa=/</g,Ba=/>/g,Ca=/\"/g,xa=/[&<>\"]/;function Da(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};var Ea=Array.prototype,Fa=Ea.indexOf?function(a,b,c){return Ea.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ka(a))return ka(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},I=Ea.forEach?function(a,b,c){Ea.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ka(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ga=Ea.filter?function(a,b,c){return Ea.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],
f=0,g=ka(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},Ha=Ea.map?function(a,b,c){return Ea.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=ka(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ia=Ea.some?function(a,b,c){return Ea.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ka(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Ja(a,b){return 0<=Fa(a,b)}
function Ka(a,b){var c=Fa(a,b),d;(d=0<=c)&&Ea.splice.call(a,c,1);return d}function La(a){return Ea.concat.apply(Ea,arguments)}function Ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Na(a,b,c,d){Ea.splice.apply(a,Pa(arguments,1))}function Pa(a,b,c){return 2>=arguments.length?Ea.slice.call(a,b):Ea.slice.call(a,b,c)}function Qa(a,b){Ea.sort.call(a,b||Ra)}
function Ua(a,b){if(!ja(a)||!ja(b)||a.length!=b.length)return!1;for(var c=a.length,d=Va,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ra(a,b){return a>b?1:a<b?-1:0}function Va(a,b){return a===b}function Wa(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function Xa(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];ia(d)?b.push.apply(b,Xa.apply(null,d)):b.push(d)}return b};var Ya,Za,$a,ab,bb,cb,db;function eb(){return t.navigator?t.navigator.userAgent:null}function fb(){return t.navigator}ab=$a=Za=Ya=!1;var gb;if(gb=eb()){var hb=fb();Ya=0==gb.lastIndexOf("Opera",0);Za=!Ya&&(-1!=gb.indexOf("MSIE")||-1!=gb.indexOf("Trident"));$a=!Ya&&-1!=gb.indexOf("WebKit");ab=!Ya&&!$a&&!Za&&"Gecko"==hb.product}var ib=Ya,J=Za,jb=ab,K=$a,kb,mb=fb();kb=mb&&mb.platform||"";bb=-1!=kb.indexOf("Mac");cb=-1!=kb.indexOf("Win");db=-1!=kb.indexOf("Linux");
var nb=!!fb()&&-1!=(fb().appVersion||"").indexOf("X11");function ob(){var a=t.document;return a?a.documentMode:void 0}var pb;a:{var qb="",rb;if(ib&&t.opera)var sb=t.opera.version,qb="function"==typeof sb?sb():sb;else if(jb?rb=/rv\:([^\);]+)(\)|;)/:J?rb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:K&&(rb=/WebKit\/(\S+)/),rb)var tb=rb.exec(eb()),qb=tb?tb[1]:"";if(J){var ub=ob();if(ub>parseFloat(qb)){pb=String(ub);break a}}pb=qb}var vb={};
function wb(a){var b;if(!(b=vb[a])){b=0;for(var c=String(pb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var p=l.exec(g)||["","",""],q=m.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==p[1].length?0:parseInt(p[1],
10))>(0==q[1].length?0:parseInt(q[1],10))?1:0)||((0==p[2].length)<(0==q[2].length)?-1:(0==p[2].length)>(0==q[2].length)?1:0)||(p[2]<q[2]?-1:p[2]>q[2]?1:0)}while(0==b)}b=vb[a]=0<=b}return b}var xb=t.document,yb=xb&&J?ob()||("CSS1Compat"==xb.compatMode?parseInt(pb,10):5):void 0;var zb,Ab=!J||J&&9<=yb;!jb&&!J||J&&J&&9<=yb||jb&&wb("1.9.1");J&&wb("9");function Bb(a){a=a.className;return ka(a)&&a.match(/\S+/g)||[]}function Cb(a,b){for(var c=Bb(a),d=Pa(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)Ja(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e}function Db(a,b){var c=Bb(a),d=Pa(arguments,1),c=Eb(c,d);a.className=c.join(" ")}function Eb(a,b){return Ga(a,function(a){return!Ja(b,a)})}function Fb(a,b,c){c?Cb(a,b):Db(a,b)}function Gb(){var a=document.body,b=!Ja(Bb(a),"adjustMode");Fb(a,"adjustMode",b);return b};function Hb(a,b,c){return Math.min(Math.max(a,b),c)}function Ib(a,b){var c=a%b;return 0>c*b?c+b:c};function L(a,b){this.x=y(a)?a:0;this.y=y(b)?b:0}n=L.prototype;n.ua=function(){return new L(this.x,this.y)};function Jb(a,b){return new L(a.x-b.x,a.y-b.y)}n.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};n.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};n.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};n.scale=function(a,b){var c=la(b)?b:a;this.x*=a;this.y*=c;return this};function Kb(a,b){this.width=a;this.height=b}n=Kb.prototype;n.ua=function(){return new Kb(this.width,this.height)};n.isEmpty=function(){return!(this.width*this.height)};n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a,b){var c=la(b)?b:a;this.width*=a;this.height*=c;return this};function Lb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Mb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Nb(a){var b=0,c;for(c in a)b++;return b}function Ob(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Pb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Qb(a){for(var b in a)return!1;return!0}function Rb(a){for(var b in a)delete a[b]}function Sb(a,b){b in a&&delete a[b]}function P(a,b,c){return b in a?a[b]:c}
function Tb(a){var b={},c;for(c in a)b[c]=a[c];return b}function Ub(a){var b=ga(a);if("object"==b||"array"==b){if(a.ua)return a.ua();var b="array"==b?[]:{},c;for(c in a)b[c]=Ub(a[c]);return b}return a}var Vb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Vb.length;f++)c=Vb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Xb(a){return a?new Yb(Zb(a)):zb||(zb=new Yb)}function Q(a){return ka(a)?document.getElementById(a):a}function $b(a){var b=ac,c=a||document;c.querySelectorAll&&c.querySelector?a=c.querySelector("."+b):(c=a||document,a=(c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+b):c.getElementsByClassName?c.getElementsByClassName(b):bc("*",b,a))[0]);return a||null}
function bc(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,g;g=c[f];f++)a==g.nodeName&&(d[e++]=g);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;g=c[f];f++)a=g.className,"function"==typeof a.split&&Ja(a.split(/\s+/),b)&&(d[e++]=g);d.length=e;return d}return c}
function cc(a,b){Lb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in dc?a.setAttribute(dc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ec(a){a=a.document;a=fc(a)?a.documentElement:a.body;return new Kb(a.clientWidth,a.clientHeight)}function gc(a,b,c){return hc(document,arguments)}
function hc(a,b){var c=b[0],d=b[1];if(!Ab&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',wa(d.name),'"');if(d.type){c.push(' type\x3d"',wa(d.type),'"');var e={};Wb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(ka(d)?c.className=d:ia(d)?Cb.apply(null,[c].concat(d)):cc(c,d));2<b.length&&ic(a,c,b,2);return c}
function ic(a,b,c,d){function e(c){c&&b.appendChild(ka(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ja(f)||na(f)&&0<f.nodeType?e(f):I(jc(f)?Ma(f):f,e)}}function S(a){return document.createElement(a)}function fc(a){return"CSS1Compat"==a.compatMode}function kc(a,b){ic(Zb(a),a,arguments,1)}function lc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function mc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function nc(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function oc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function pc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Zb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function qc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else lc(a),a.appendChild(Zb(a).createTextNode(String(b)))}function jc(a){if(a&&"number"==typeof a.length){if(na(a))return"function"==typeof a.item||"string"==typeof a.item;if(ma(a))return"function"==typeof a.item}return!1}function rc(a){return sc(a,function(a){return"FORM"==a.nodeName&&!0})}
function sc(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Yb(a){this.X=a||t.document||document}n=Yb.prototype;n.Yb=function(a){return ka(a)?this.X.getElementById(a):a};n.ol=function(a,b,c){return hc(this.X,arguments)};n.createElement=function(a){return this.X.createElement(a)};n.createTextNode=function(a){return this.X.createTextNode(String(a))};function tc(a){return fc(a.X)}
function uc(a){var b=a.X;a=!K&&fc(b)?b.documentElement:b.body;b=b.parentWindow||b.defaultView;return J&&wb("10")&&b.pageYOffset!=a.scrollTop?new L(a.scrollLeft,a.scrollTop):new L(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.Cq=lc;n.removeNode=oc;n.contains=pc;function vc(a){if("function"==typeof a.wb)return a.wb();if(ka(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ob(a)}function wc(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ja(a)||ka(a))I(a,b,c);else{var d;if("function"==typeof a.uc)d=a.uc();else if("function"!=typeof a.wb)if(ja(a)||ka(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Pb(a);else d=void 0;for(var e=vc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function xc(a,b){this.b={};this.Z=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof xc?(c=a.uc(),d=a.wb()):(c=Pb(a),d=Ob(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}n=xc.prototype;n.j=0;n.Ok=0;n.Wa=k("j");n.wb=function(){yc(this);for(var a=[],b=0;b<this.Z.length;b++)a.push(this.b[this.Z[b]]);return a};n.uc=function(){yc(this);return this.Z.concat()};
n.Fa=function(a){return zc(this.b,a)};n.equals=function(a,b){if(this===a)return!0;if(this.j!=a.Wa())return!1;var c=b||Ac;yc(this);for(var d,e=0;d=this.Z[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ac(a,b){return a===b}n.isEmpty=function(){return 0==this.j};n.clear=function(){this.b={};this.Ok=this.j=this.Z.length=0};n.remove=function(a){return zc(this.b,a)?(delete this.b[a],this.j--,this.Ok++,this.Z.length>2*this.j&&yc(this),!0):!1};
function yc(a){if(a.j!=a.Z.length){for(var b=0,c=0;b<a.Z.length;){var d=a.Z[b];zc(a.b,d)&&(a.Z[c++]=d);b++}a.Z.length=c}if(a.j!=a.Z.length){for(var e={},c=b=0;b<a.Z.length;)d=a.Z[b],zc(e,d)||(a.Z[c++]=d,e[d]=1),b++;a.Z.length=c}}n.get=function(a,b){return zc(this.b,a)?this.b[a]:b};n.set=function(a,b){zc(this.b,a)||(this.j++,this.Z.push(a),this.Ok++);this.b[a]=b};n.ua=function(){return new xc(this)};function zc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Cc(a){if(Dc){Dc=!1;var b=t.location;if(b){var c=b.href;if(c&&(c=(c=Cc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Dc=!0,Error();}}return a.match(Bc)}var Dc=K;function Ec(a,b){var c;if(a instanceof Ec)this.kb=y(b)?b:a.kb,Fc(this,a.We),c=a.ti,Gc(this),this.ti=c,c=a.sf,Gc(this),this.sf=c,Hc(this,a.Ph),this.setPath(a.getPath()),Ic(this,a.ld.ua()),c=a.Wg,Gc(this),this.Wg=c;else if(a&&(c=Cc(String(a)))){this.kb=!!b;Fc(this,c[1]||"",!0);var d=c[2]||"";Gc(this);this.ti=d?decodeURIComponent(d):"";d=c[3]||"";Gc(this);this.sf=d?decodeURIComponent(d):"";Hc(this,c[4]);this.setPath(c[5]||"",!0);Ic(this,c[6]||"",!0);c=c[7]||"";Gc(this);this.Wg=c?decodeURIComponent(c):
""}else this.kb=!!b,this.ld=new Jc(null,0,this.kb)}n=Ec.prototype;n.We="";n.ti="";n.sf="";n.Ph=null;n.Tm="";n.Wg="";n.Hp=!1;n.kb=!1;
n.toString=function(){var a=[],b=this.We;b&&a.push(Kc(b,Lc),":");if(b=this.sf){a.push("//");var c=this.ti;c&&a.push(Kc(c,Lc),"@");a.push(encodeURIComponent(String(b)));b=this.Ph;null!=b&&a.push(":",String(b))}if(b=this.getPath())this.sf&&"/"!=b.charAt(0)&&a.push("/"),a.push(Kc(b,"/"==b.charAt(0)?Mc:Nc));(b=this.ld.toString())&&a.push("?",b);(b=this.Wg)&&a.push("#",Kc(b,Oc));return a.join("")};n.ua=function(){return new Ec(this)};
function Fc(a,b,c){Gc(a);a.We=c?b?decodeURIComponent(b):"":b;a.We&&(a.We=a.We.replace(/:$/,""))}function Hc(a,b){Gc(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Ph=b}else a.Ph=null}n.getPath=k("Tm");n.setPath=function(a,b){Gc(this);this.Tm=b?a?decodeURIComponent(a):"":a;return this};function Ic(a,b,c){Gc(a);b instanceof Jc?(a.ld=b,a.ld.ok(a.kb)):(c||(b=Kc(b,Pc)),a.ld=new Jc(b,0,a.kb))}function Qc(a,b,c){Gc(a);ia(c)||(c=[String(c)]);a.ld.setValues(b,c)}
function Gc(a){if(a.Hp)throw Error("Tried to modify a read-only Uri");}n.ok=function(a){this.kb=a;this.ld&&this.ld.ok(a);return this};function Kc(a,b){return ka(a)?encodeURI(a).replace(b,Rc):null}function Rc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lc=/[#\/\?@]/g,Nc=/[\#\?:]/g,Mc=/[\#\?]/g,Pc=/[\#\?@]/g,Oc=/#/g;function Jc(a,b,c){this.Ua=a||null;this.kb=!!c}
function Sc(a){if(!a.ca&&(a.ca=new xc,a.j=0,a.Ua))for(var b=a.Ua.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Tc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}n=Jc.prototype;n.ca=null;n.j=null;n.Wa=function(){Sc(this);return this.j};n.add=function(a,b){Sc(this);this.Ua=null;a=Tc(this,a);var c=this.ca.get(a);c||this.ca.set(a,c=[]);c.push(b);this.j++;return this};
n.remove=function(a){Sc(this);a=Tc(this,a);return this.ca.Fa(a)?(this.Ua=null,this.j-=this.ca.get(a).length,this.ca.remove(a)):!1};n.clear=function(){this.ca=this.Ua=null;this.j=0};n.isEmpty=function(){Sc(this);return 0==this.j};n.Fa=function(a){Sc(this);a=Tc(this,a);return this.ca.Fa(a)};n.uc=function(){Sc(this);for(var a=this.ca.wb(),b=this.ca.uc(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
n.wb=function(a){Sc(this);var b=[];if(a)this.Fa(a)&&(b=La(b,this.ca.get(Tc(this,a))));else{a=this.ca.wb();for(var c=0;c<a.length;c++)b=La(b,a[c])}return b};n.set=function(a,b){Sc(this);this.Ua=null;a=Tc(this,a);this.Fa(a)&&(this.j-=this.ca.get(a).length);this.ca.set(a,[b]);this.j++;return this};n.get=function(a,b){var c=a?this.wb(a):[];return 0<c.length?String(c[0]):b};n.setValues=function(a,b){this.remove(a);0<b.length&&(this.Ua=null,this.ca.set(Tc(this,a),Ma(b)),this.j+=b.length)};
n.toString=function(){if(this.Ua)return this.Ua;if(!this.ca)return"";for(var a=[],b=this.ca.uc(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.wb(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.Ua=a.join("\x26")};n.ua=function(){var a=new Jc;a.Ua=this.Ua;this.ca&&(a.ca=this.ca.ua(),a.j=this.j);return a};function Tc(a,b){var c=String(b);a.kb&&(c=c.toLowerCase());return c}
n.ok=function(a){a&&!this.kb&&(Sc(this),this.Ua=null,wc(this.ca,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.kb=a};n.extend=function(a){for(var b=0;b<arguments.length;b++)wc(arguments[b],function(a,b){this.add(b,a)},this)};function Uc(a){return function(){return a}}var Vc=Uc(!1),Wc=Uc(!0);function Xc(a){return a}function Yc(a){return function(){throw a;}}function Zc(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function $c(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function ad(a,b){this.fg=[];this.Hm=a;this.tl=b||null}n=ad.prototype;n.Kd=!1;n.Df=!1;n.Hi=!1;n.no=!1;n.tk=!1;n.Ji=0;n.cancel=function(a){if(this.Kd)this.bg instanceof ad&&this.bg.cancel();else{if(this.Dc){var b=this.Dc;delete this.Dc;a?b.cancel(a):(b.Ji--,0>=b.Ji&&b.cancel())}this.Hm?this.Hm.call(this.tl,this):this.tk=!0;this.Kd||(a=new bd(this),cd(this),dd(this,!1,a))}};n.ll=function(a,b){this.Hi=!1;dd(this,a,b)};function dd(a,b,c){a.Kd=!0;a.bg=c;a.Df=!b;ed(a)}
function cd(a){if(a.Kd){if(!a.tk)throw new fd(a);a.tk=!1}}function gd(a){return Ia(a.fg,function(a){return ma(a[1])})}
function ed(a){a.Hk&&(a.Kd&&gd(a))&&(t.clearTimeout(a.Hk),delete a.Hk);a.Dc&&(a.Dc.Ji--,delete a.Dc);for(var b=a.bg,c=!1,d=!1;a.fg.length&&!a.Hi;){var e=a.fg.shift(),f=e[0],g=e[1],e=e[2];if(f=a.Df?g:f)try{var h=f.call(e||a.tl,b);y(h)&&(a.Df=a.Df&&(h==b||h instanceof Error),a.bg=b=h);b instanceof ad&&(d=!0,a.Hi=!0)}catch(l){b=l,a.Df=!0,gd(a)||(c=!0)}}a.bg=b;d&&(d=b,h=F(a.ll,a,!0),f=F(a.ll,a,!1),d.fg.push([h,f,void 0]),d.Kd&&ed(d),b.no=!0);c&&(a.Hk=t.setTimeout(Yc(b),0))}
function fd(a){va.call(this);this.vo=a}G(fd,va);fd.prototype.message="Deferred has already fired";fd.prototype.name="AlreadyCalledError";function bd(a){va.call(this);this.vo=a}G(bd,va);bd.prototype.message="Deferred was canceled";bd.prototype.name="CanceledError";function hd(a,b){var c=b||{},d=c.document||document,e=S("SCRIPT"),f={rn:e,ki:void 0},g=new ad(id,f),h=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(h=window.setTimeout(function(){jd(e,!0);var b=new kd(ld,"Timeout reached for loading script "+a);cd(g);dd(g,!1,b)},l),f.ki=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(jd(e,c.po||!1,h),cd(g),dd(g,!0,null))};e.onerror=function(){jd(e,!0,h);var b=new kd(md,"Error while loading script "+a);cd(g);
dd(g,!1,b)};cc(e,{type:"text/javascript",charset:"UTF-8",src:a});nd(d).appendChild(e);return g}function nd(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function id(){if(this&&this.rn){var a=this.rn;a&&"SCRIPT"==a.tagName&&jd(a,!0,this.ki)}}function jd(a,b,c){null!=c&&t.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){oc(a)},0)}var md=0,ld=1;
function kd(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);va.call(this,c);this.code=a}G(kd,va);function od(a,b){this.tr=new Ec(a);this.oo=b?b:"callback";this.ki=5E3}var pd=0;od.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(pd++).toString(36)+ta().toString(36);t._callbacks_||(t._callbacks_={});var e=this.tr.ua();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Qc(e,f,a[f]);b&&(t._callbacks_[d]=qd(d,b),Qc(e,this.oo,"_callbacks_."+d));b=hd(e.toString(),{timeout:this.ki,po:!0});b.fg.push([null,rd(d,a,c),void 0]);b.Kd&&ed(b);return{ia:d,vl:b}};
od.prototype.cancel=function(a){a&&(a.vl&&a.vl.cancel(),a.ia&&sd(a.ia,!1))};function rd(a,b,c){return function(){sd(a,!1);c&&c(b)}}function qd(a,b){return function(c){sd(a,!0);b.apply(void 0,arguments)}}function sd(a,b){t._callbacks_[a]&&(b?delete t._callbacks_[a]:t._callbacks_[a]=ea)};function td(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}n=td.prototype;n.ua=function(){return new td(this.top,this.right,this.bottom,this.left)};n.contains=function(a){return this&&a?a instanceof td?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
n.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};n.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};n.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
n.scale=function(a,b){var c=la(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function ud(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}n=ud.prototype;n.ua=function(){return new ud(this.left,this.top,this.width,this.height)};n.intersects=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
n.contains=function(a){return a instanceof ud?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};n.ga=function(){return new Kb(this.width,this.height)};n.getCenter=function(){return new L(this.left+this.width/2,this.top+this.height/2)};
n.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a,b){var c=la(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function vd(a,b){var c=Zb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function wd(a,b){return vd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function xd(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}J&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function yd(a){if(J&&!(J&&8<=yb))return a.offsetParent;var b=Zb(a),c=wd(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=wd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function zd(a){for(var b=new td(0,Infinity,Infinity,0),c=Xb(a),d=c.X.body,e=c.X.documentElement,f=!K&&fc(c.X)?c.X.documentElement:c.X.body;a=yd(a);)if(!(J&&0==a.clientWidth||K&&0==a.clientHeight&&a==d||a==d||a==e||"visible"==wd(a,"overflow"))){var g=Ad(a),h;h=a;if(jb&&!wb("1.9")){var l=parseFloat(vd(h,"borderLeftWidth"));if(Bd(h))var m=h.offsetWidth-h.clientWidth-l-parseFloat(vd(h,"borderRightWidth")),l=l+m;h=new L(l,parseFloat(vd(h,"borderTopWidth")))}else h=new L(h.clientLeft,h.clientTop);g.x+=
h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=ec(c.X.parentWindow||c.X.defaultView||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function Ad(a){var b,c=Zb(a),d=wd(a,"position"),e=jb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new L(0,0),g;b=c?Zb(c):document;g=!J||J&&9<=yb||tc(Xb(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=xd(a),a=uc(Xb(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(K&&"fixed"==wd(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(ib||K&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=yd(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,ib&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function Cd(a){var b;if(a.getBoundingClientRect)b=xd(a),b=new L(b.left,b.top);else{b=uc(Xb(a));var c=Ad(a);b=new L(c.x-b.x,c.y-b.y)}if(jb&&!wb(12)){var d;J?d="-ms-transform":K?d="-webkit-transform":ib?d="-o-transform":jb&&(d="-moz-transform");var e;d&&(e=wd(a,d));e||(e=wd(a,"transform"));a=e?(a=e.match(Dd))?new L(parseFloat(a[1]),parseFloat(a[2])):new L(0,0):new L(0,0);a=new L(b.x+a.x,b.y+a.y)}else a=b;return a}
function Ed(a){if(1==a.nodeType)return Cd(a);var b=ma(a.Ko),c=a;a.targetTouches?c=a.targetTouches[0]:b&&a.s.targetTouches&&(c=a.s.targetTouches[0]);return new L(c.clientX,c.clientY)}function Fd(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Gd(a){var b=Hd;if("none"!=wd(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}
function Hd(a){var b=a.offsetWidth,c=a.offsetHeight,d=K&&!b&&!c;return y(b)&&!d||!a.getBoundingClientRect?new Kb(b,c):(a=xd(a),new Kb(a.right-a.left,a.bottom-a.top))}function Id(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Jd(a,b){a.style.display=b?"":"none"}function Bd(a){return"rtl"==wd(a,"direction")}var Kd=jb?"MozUserSelect":K?"WebkitUserSelect":null;
function Ld(a,b){var c=a.getElementsByTagName("*");if(Kd){var d=b?"none":"";a.style[Kd]=d;if(c)for(var e=0,f;f=c[e];e++)f.style[Kd]=d}else if(J||ib)if(d=b?"on":"",a.setAttribute("unselectable",d),c)for(e=0;f=c[e];e++)f.setAttribute("unselectable",d)}function Md(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function Nd(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Md(a,c,"left","pixelLeft"):0}function Od(a){if(J){var b=Nd(a,"paddingLeft"),c=Nd(a,"paddingRight"),d=Nd(a,"paddingTop");a=Nd(a,"paddingBottom");return new td(d,c,a,b)}b=vd(a,"paddingLeft");c=vd(a,"paddingRight");d=vd(a,"paddingTop");a=vd(a,"paddingBottom");return new td(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Pd={thin:2,medium:4,thick:6};
function Qd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Pd?Pd[c]:Md(a,c,"left","pixelLeft")}function Rd(a){if(J){var b=Qd(a,"borderLeft"),c=Qd(a,"borderRight"),d=Qd(a,"borderTop");a=Qd(a,"borderBottom");return new td(d,c,a,b)}b=vd(a,"borderLeftWidth");c=vd(a,"borderRightWidth");d=vd(a,"borderTopWidth");a=vd(a,"borderBottomWidth");return new td(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}
var Dd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;var Sd=!J||J&&9<=yb,Td=!J||J&&9<=yb,Ud=J&&!wb("9");!K||wb("528");jb&&wb("1.9b")||J&&wb("8")||ib&&wb("9.5")||K&&wb("528");jb&&!wb("8")||J&&wb("9");function Vd(){0!=Wd&&(this.Yr=Error().stack,Xd[E(this)]=this)}var Wd=0,Xd={};Vd.prototype.rf=!1;Vd.prototype.gb=function(){if(!this.rf&&(this.rf=!0,this.c(),0!=Wd)){var a=E(this);delete Xd[a]}};function Yd(a,b){var c=sa(Zd,b);a.Vf||(a.Vf=[]);a.Vf.push(F(c,void 0))}Vd.prototype.c=function(){if(this.Vf)for(;this.Vf.length;)this.Vf.shift()()};function Zd(a){a&&"function"==typeof a.gb&&a.gb()};function $d(a,b){this.type=a;this.currentTarget=this.target=b}n=$d.prototype;n.c=ba();n.gb=ba();n.kd=!1;n.defaultPrevented=!1;n.nn=!0;n.stopPropagation=function(){this.kd=!0};n.preventDefault=function(){this.defaultPrevented=!0;this.nn=!1};function ae(a){a.stopPropagation()}function be(a){a.preventDefault()};var ce=J?"focusout":"DOMFocusOut",de=K?"webkitTransitionEnd":ib?"oTransitionEnd":"transitionend";function ee(a){ee[" "](a);return a}ee[" "]=ea;function fe(a,b){a&&this.yc(a,b)}G(fe,$d);var ge=[1,4,2];n=fe.prototype;n.target=null;n.relatedTarget=null;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.Mh=!1;n.s=null;
n.yc=function(a,b){var c=this.type=a.type;$d.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(jb){var e;a:{try{ee(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=K||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=K||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Mh=bb?a.metaKey:a.ctrlKey;this.state=a.state;this.s=a;a.defaultPrevented&&this.preventDefault();delete this.kd};function he(a){return(Sd?0==a.s.button:"click"==a.type?!0:!!(a.s.button&ge[0]))&&!(K&&bb&&a.ctrlKey)}
n.stopPropagation=function(){fe.g.stopPropagation.call(this);this.s.stopPropagation?this.s.stopPropagation():this.s.cancelBubble=!0};n.preventDefault=function(){fe.g.preventDefault.call(this);var a=this.s;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ud)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.Ko=k("s");n.c=ba();var ie="closure_listenable_"+(1E6*Math.random()|0);function je(a){return!(!a||!a[ie])}var ke=0;function le(a,b,c,d,e,f){this.bc=a;this.Zm=b;this.src=c;this.type=d;this.capture=!!e;this.Pd=f;this.key=++ke;this.Gc=this.ue=!1}function me(a){a.Gc=!0;a.bc=null;a.Zm=null;a.src=null;a.Pd=null};var ne={},oe={},pe={},qe={};function T(a,b,c,d,e){if(ia(b)){for(var f=0;f<b.length;f++)T(a,b[f],c,d,e);return null}c=re(c);return je(a)?a.xa(b,c,d,e):se(a,b,c,!1,d,e)}
function se(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=oe;b in g||(g[b]={j:0});g=g[b];e in g||(g[e]={j:0},g.j++);var g=g[e],h=E(a),l;if(g[h]){l=g[h];for(var m=0;m<l.length;m++)if(g=l[m],g.bc==c&&g.Pd==f){if(g.Gc)break;d||(l[m].ue=!1);return l[m]}}else l=g[h]=[],g.j++;m=te();g=new le(c,m,a,b,e,f);g.ue=d;m.src=a;m.bc=g;l.push(g);pe[h]||(pe[h]=[]);pe[h].push(g);a.addEventListener?a.addEventListener(b,m,e):a.attachEvent(b in qe?qe[b]:qe[b]="on"+b,m);return ne[g.key]=g}
function te(){var a=ue,b=Td?function(c){return a.call(b.src,b.bc,c)}:function(c){c=a.call(b.src,b.bc,c);if(!c)return c};return b}function ve(a,b,c,d,e){if(ia(b)){for(var f=0;f<b.length;f++)ve(a,b[f],c,d,e);return null}c=re(c);return je(a)?a.Kj(b,c,d,e):se(a,b,c,!0,d,e)}function we(a,b,c,d,e){if(ia(b))for(var f=0;f<b.length;f++)we(a,b[f],c,d,e);else if(c=re(c),je(a))a.kc(b,c,d,e);else if(d=!!d,a=xe(a,b,d))for(f=0;f<a.length;f++)if(a[f].bc==c&&a[f].capture==d&&a[f].Pd==e){U(a[f]);break}}
function U(a){if(la(a)||!a||a.Gc)return!1;var b=a.src;if(je(b))return ye(b.Wb,a);var c=a.type,d=a.Zm,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in qe?qe[c]:qe[c]="on"+c,d);b=E(b);pe[b]&&(d=pe[b],Ka(d,a),0==d.length&&delete pe[b]);me(a);if(d=oe[c][e][b])Ka(d,a),0==d.length&&(delete oe[c][e][b],oe[c][e].j--),0==oe[c][e].j&&(delete oe[c][e],oe[c].j--),0==oe[c].j&&delete oe[c];delete ne[a.key];return!0}
function xe(a,b,c){var d=oe;return b in d&&(d=d[b],c in d&&(d=d[c],a=E(a),d[a]))?d[a]:null}function ze(a){if(je(a))return a.Vc(void 0,void 0);a=E(a);var b=pe[a];if(b){var c=y(void 0),d=y(void 0);return c&&d?(b=oe[void 0],!!b&&!!b[void 0]&&a in b[void 0]):c||d?Ia(b,function(a){return c&&void 0==a.type||d&&void 0==a.capture}):!0}return!1}function Ae(a,b,c){var d=1;b=E(b);if(a[b])for(a=Ma(a[b]),b=0;b<a.length;b++){var e=a[b];e&&!e.Gc&&(d&=!1!==Be(e,c))}return Boolean(d)}
function Be(a,b){var c=a.bc,d=a.Pd||a.src;a.ue&&U(a);return c.call(d,b)}
function ue(a,b){if(a.Gc)return!0;var c=a.type,d=oe;if(!(c in d))return!0;var d=d[c],e,f;if(!Td){if(!(c=b))a:{for(var c=["window","event"],g=t;e=c.shift();)if(null!=g[e])g=g[e];else{c=null;break a}c=g}e=c;c=!0 in d;g=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var h=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){h=!0}if(h||void 0==e.returnValue)e.returnValue=!0}}h=new fe;h.yc(e,this);e=!0;try{if(c){for(var m=[],p=h.currentTarget;p;p=p.parentNode)m.push(p);f=d[!0];for(var q=
m.length-1;!h.kd&&0<=q;q--)h.currentTarget=m[q],e&=Ae(f,m[q],h);if(g)for(f=d[!1],q=0;!h.kd&&q<m.length;q++)h.currentTarget=m[q],e&=Ae(f,m[q],h)}else e=Be(a,h)}finally{m&&(m.length=0)}return e}d=new fe(b,this);return e=Be(a,d)}var Ce="__closure_events_fn_"+(1E9*Math.random()>>>0);function re(a){return ma(a)?a:a[Ce]||(a[Ce]=function(b){return a.handleEvent(b)})};function De(a){this.src=a;this.Ha={};this.oi=0}n=De.prototype;n.add=function(a,b,c,d,e){var f=this.Ha[a];f||(f=this.Ha[a]=[],this.oi++);var g=Fe(f,b,d,e);-1<g?(a=f[g],c||(a.ue=!1)):(a=new le(b,null,this.src,a,!!d,e),a.ue=c,f.push(a));return a};n.remove=function(a,b,c,d){if(!(a in this.Ha))return!1;var e=this.Ha[a];b=Fe(e,b,c,d);return-1<b?(me(e[b]),Ea.splice.call(e,b,1),0==e.length&&(delete this.Ha[a],this.oi--),!0):!1};
function ye(a,b){var c=b.type;if(!(c in a.Ha))return!1;var d=Ka(a.Ha[c],b);d&&(me(b),0==a.Ha[c].length&&(delete a.Ha[c],a.oi--));return d}n.Ue=function(a){var b=0,c;for(c in this.Ha)if(!a||c==a){for(var d=this.Ha[c],e=0;e<d.length;e++)++b,d[e].Gc=!0;delete this.Ha[c];this.oi--}return b};n.kj=function(a,b,c,d){a=this.Ha[a];var e=-1;a&&(e=Fe(a,b,c,d));return-1<e?a[e]:null};
n.Vc=function(a,b){var c=y(a),d=y(b);return Mb(this.Ha,function(e){for(var f=0;f<e.length;++f)if(!(c&&e[f].type!=a||d&&e[f].capture!=b))return!0;return!1})};function Fe(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Gc&&f.bc==b&&f.capture==!!c&&f.Pd==d)return e}return-1};function V(){Vd.call(this);this.Wb=new De(this);this.io=this}G(V,Vd);V.prototype[ie]=!0;n=V.prototype;n.Uj=null;n.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){we(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.Uj;if(c)for(b=[];c;c=c.Uj)b.push(c);var c=this.io,d=a.type||a;if(ka(a))a=new $d(a,c);else if(a instanceof $d)a.target=a.target||c;else{var e=a;a=new $d(d,c);Wb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.kd&&0<=g;g--)f=a.currentTarget=b[g],e=Ge(f,d,!0,a)&&e;a.kd||(f=a.currentTarget=c,e=Ge(f,d,!0,a)&&e,a.kd||(e=Ge(f,d,!1,a)&&e));if(b)for(g=0;!a.kd&&g<b.length;g++)f=a.currentTarget=b[g],e=Ge(f,d,!1,a)&&e;return e};
n.c=function(){V.g.c.call(this);this.Wb&&this.Wb.Ue(void 0);this.Uj=null};n.xa=function(a,b,c,d){return this.Wb.add(a,b,!1,c,d)};n.Kj=function(a,b,c,d){return this.Wb.add(a,b,!0,c,d)};n.kc=function(a,b,c,d){return this.Wb.remove(a,b,c,d)};function Ge(a,b,c,d){b=a.Wb.Ha[b];if(!b)return!0;b=Ma(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Gc&&g.capture==c){var h=g.bc,l=g.Pd||g.src;g.ue&&ye(a.Wb,g);e=!1!==h.call(l,d)&&e}}return e&&!1!=d.nn}n.kj=function(a,b,c,d){return this.Wb.kj(a,b,c,d)};
n.Vc=function(a,b){return this.Wb.Vc(a,b)};function He(a,b,c){V.call(this);this.Cc=a;this.dg=c;this.Ca=b;T(b,[Ie,Je,Ke,Le],this.handleEvent,!1,this);this.Ob=null;this.la=[];this.Wc=-1;this.Ga=0;this.Fd=this.$=null;this.im={}}G(He,V);n=He.prototype;n.Sp=10;n.mo=!0;n.Zk=!1;n.Xn=!1;n.Kn=!1;var Ie="hilite",Je="select",Le="dismiss",Ke="canceldismiss";n=He.prototype;
n.handleEvent=function(a){if(a.target==this.Ca)switch(a.type){case Ie:this.xc(a.row);break;case Je:a=a.row;var b=this.la[Me(this,a)],c=!!b&&this.Cc.zj&&this.Cc.zj(b);a&&(b&&!c&&this.Wc!=a)&&this.xc(a);c||Ne(this);break;case Ke:Oe(this);break;case Le:Pe(this)}};n.vb=k("$");n.sk=ca("$");n.Rd=function(){return this.Ca.af};
function Qe(a){for(var b=a.Ga+a.la.length-1,c=a.Wc,d=0;d<a.la.length;d++){if(c>=a.Ga&&c<b)c++;else if(-1==c)c=a.Ga;else if(a.Zk&&c==b){a.xc(-1);break}else if(a.Xn&&c==b)c=a.Ga;else break;if(a.xc(c))break}}function Re(a){for(var b=a.Ga+a.la.length-1,c=a.Wc,d=0;d<a.la.length;d++){if(c>a.Ga)c--;else if(a.Zk&&c==a.Ga){a.xc(-1);break}else if(!a.Xn||-1!=c&&c!=a.Ga)break;else c=b;if(a.xc(c))break}}
n.xc=function(a){var b=Me(this,a),c=this.la[b];return c&&this.Cc.zj&&this.Cc.zj(c)?!1:(this.Wc=a,this.Ca.xc(a),-1!=b)};
function Ne(a){var b=Me(a,a.Wc);if(-1!=b){var b=a.la[b],c=a.dg,d=b.toString();if(y(void 0)?0:c.Pe){var e=Se(c,c.vc(),Te(c.V)),f=Ue(c,c.vc());c.Lq.test(d)||(d=d.replace(/[\s\xa0]+$/,"")+c.uo);c.Br&&(0==e||/^[\s\xa0]*$/.test(f[e-1])||(d=" "+d),e==f.length-1&&(d+=" "));if(d!=f[e]){f[e]=d;d=c.V;(jb||J&&wb("9"))&&d.blur();d.value=f.join("");for(var g=0,h=0;h<=e;h++)g+=f[h].length;d.focus();e=g;f=c.V;d=e;Ve(f)?f.selectionStart=d:J&&(g=We(f),h=g[0],h.inRange(g[1])&&(d=Xe(f,d),h.collapse(!0),h.move("character",
d),h.select()));f=c.V;Ve(f)?f.selectionEnd=e:J&&(g=We(f),d=g[1],g[0].inRange(d)&&(e=Xe(f,e),f=Xe(f,Te(f)),d.collapse(!0),d.moveEnd("character",e-f),d.select()))}}else c.ci(d);c.mk=!0;a.Kn?(a.Ob=null,Pe(a)):a.Rb();a.dispatchEvent({type:"update",row:b});a.Kn&&a.dg.update(!0);return!0}a.Rb();a.dispatchEvent({type:"update",row:null});return!1}
n.Rb=function(){this.Wc=-1;this.Ob=null;this.Ga+=this.la.length;this.la=[];window.clearTimeout(this.Fd);this.Fd=null;this.Ca.Rb();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Le)};function Pe(a){a.Fd||(a.Fd=window.setTimeout(F(a.Rb,a),100))}n.hm=function(){return this.Fd?(window.clearTimeout(this.Fd),this.Fd=null,!0):!1};function Oe(a){a.hm()||window.setTimeout(F(a.hm,a),10)}n.c=function(){He.g.c.call(this);delete this.im;this.Ca.gb();this.dg.gb();this.Cc=null};
n.Np=function(a,b,c){this.Ob==a&&this.ek(b,c)};n.ek=function(a,b){var c="object"==ga(b)&&b,d=(c?c.bs():b)?Me(this,this.Wc):-1;this.Ga+=this.la.length;this.la=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.Ga+f,data:a[f]});f=null;this.$&&(f=this.im[E(this.$)]||this.$);this.Ca.ko=f;this.Ca.ek(e,this.Ob,this.$);f=this.mo;c&&void 0!==c.Jo()&&(f=c.Jo());this.Wc=-1;(f||0<=d)&&(0!=e.length&&this.Ob)&&(0<=d?this.xc(this.Ga+d):Qe(this));this.dispatchEvent("suggestionsupdate")};
function Me(a,b){var c=b-a.Ga;return 0>c||c>=a.la.length?-1:c}n.wg=function(a){var b=this.dg;b.wg.apply(b,arguments)};n.update=function(a){this.dg.update(a)};function Ye(a,b){V.call(this);this.Qd=a||1;this.Xe=b||t;this.Ii=F(this.ar,this);this.Jj=ta()}G(Ye,V);n=Ye.prototype;n.enabled=!1;n.Q=null;n.setInterval=function(a){this.Qd=a;this.Q&&this.enabled?(this.stop(),this.start()):this.Q&&this.stop()};n.ar=function(){if(this.enabled){var a=ta()-this.Jj;0<a&&a<0.8*this.Qd?this.Q=this.Xe.setTimeout(this.Ii,this.Qd-a):(this.Q&&(this.Xe.clearTimeout(this.Q),this.Q=null),this.dispatchEvent(Ze),this.enabled&&(this.Q=this.Xe.setTimeout(this.Ii,this.Qd),this.Jj=ta()))}};
n.start=function(){this.enabled=!0;this.Q||(this.Q=this.Xe.setTimeout(this.Ii,this.Qd),this.Jj=ta())};n.stop=function(){this.enabled=!1;this.Q&&(this.Xe.clearTimeout(this.Q),this.Q=null)};n.c=function(){Ye.g.c.call(this);this.stop();delete this.Xe};var Ze="tick";var $e;function af(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function bf(a,b,c){ja(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?($e||($e={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=$e,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function cf(a,b){var c="";b&&(c=b.id);bf(a,"activedescendant",c)};function Te(a){var b;a:{var c=0,d=0;if(Ve(a))c=a.selectionStart,d=-1;else if(J){var e=We(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function We(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Xe(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function Ve(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function df(a){Vd.call(this);this.Na=a;this.Z={}}G(df,Vd);var ef=[];n=df.prototype;n.xa=function(a,b,c,d,e){ia(b)||(ef[0]=b,b=ef);for(var f=0;f<b.length;f++){var g=T(a,b[f],c||this,d||!1,e||this.Na||this);this.Z[g.key]=g}return this};n.Kj=function(a,b,c,d,e){if(ia(b))for(var f=0;f<b.length;f++)this.Kj(a,b[f],c,d,e);else a=ve(a,b,c||this,d,e||this.Na||this),this.Z[a.key]=a;return this};
n.kc=function(a,b,c,d,e){if(ia(b))for(var f=0;f<b.length;f++)this.kc(a,b[f],c,d,e);else{a:if(e=e||this.Na||this,d=!!d,c=re(c||this),je(a))a=a.kj(b,c,d,e);else{if(a=xe(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Gc&&a[b].bc==c&&a[b].capture==d&&a[b].Pd==e){a=a[b];break a}a=null}a&&(U(a),delete this.Z[a.key])}return this};n.Ue=function(){Lb(this.Z,U);this.Z={}};n.c=function(){df.g.c.call(this);this.Ue()};n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ff(a,b,c,d,e){if(!(J||K&&wb("525")))return!0;if(bb&&e)return gf(a);if(e&&!d||!c&&(17==b||18==b||bb&&91==b))return!1;if(K&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(J&&d&&b==a)return!1;switch(a){case 13:return!(J&&J&&9<=yb);case 27:return!K}return gf(a)}
function gf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||K&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function hf(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function jf(a,b){V.call(this);a&&kf(this,a,b)}G(jf,V);n=jf.prototype;n.a=null;n.vh=null;n.Bj=null;n.wh=null;n.Za=-1;n.Yc=-1;n.Di=!1;
var lf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},mf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},nf=J||K&&wb("525"),of=bb&&jb;n=jf.prototype;
n.ep=function(a){K&&(17==this.Za&&!a.ctrlKey||18==this.Za&&!a.altKey||bb&&91==this.Za&&!a.metaKey)&&(this.Yc=this.Za=-1);-1==this.Za&&(a.ctrlKey&&17!=a.keyCode?this.Za=17:a.altKey&&18!=a.keyCode?this.Za=18:a.metaKey&&91!=a.keyCode&&(this.Za=91));nf&&!ff(a.keyCode,this.Za,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Yc=jb?hf(a.keyCode):a.keyCode,of&&(this.Di=a.altKey))};n.gp=function(a){this.Yc=this.Za=-1;this.Di=a.altKey};
n.handleEvent=function(a){var b=a.s,c,d,e=b.altKey;J&&"keypress"==a.type?(c=this.Yc,d=13!=c&&27!=c?b.keyCode:0):K&&"keypress"==a.type?(c=this.Yc,d=0<=b.charCode&&63232>b.charCode&&gf(c)?b.charCode:0):ib?(c=this.Yc,d=gf(c)?b.keyCode:0):(c=b.keyCode||this.Yc,d=b.charCode||0,of&&(e=this.Di),bb&&(63==d&&224==c)&&(c=191));var f=c,g=b.keyIdentifier;c?63232<=c&&c in lf?f=lf[c]:25==c&&a.shiftKey&&(f=9):g&&g in mf&&(f=mf[g]);a=f==this.Za;this.Za=f;b=new pf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.Yb=k("a");
function kf(a,b,c){a.wh&&a.detach();a.a=b;a.vh=T(a.a,"keypress",a,c);a.Bj=T(a.a,"keydown",a.ep,c,a);a.wh=T(a.a,"keyup",a.gp,c,a)}n.detach=function(){this.vh&&(U(this.vh),U(this.Bj),U(this.wh),this.wh=this.Bj=this.vh=null);this.a=null;this.Yc=this.Za=-1};n.c=function(){jf.g.c.call(this);this.detach()};function pf(a,b,c,d){d&&this.yc(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}G(pf,fe);var qf,rf;rf=qf=!1;var sf=eb();sf&&(-1!=sf.indexOf("Firefox")||-1!=sf.indexOf("Camino")||(-1!=sf.indexOf("iPhone")||-1!=sf.indexOf("iPod")?qf=!0:-1!=sf.indexOf("iPad")&&(rf=!0)));var tf=qf,uf=rf;function vf(a,b,c,d){Vd.call(this);d=d||150;this.Pe=null!=c?c:!0;this.eg=a||",;";this.uo=this.eg.substring(0,1);a=this.Pe?"[\\s"+this.eg+"]+":"[\\s]+";this.Ln=RegExp("^"+a+"|"+a+"$","g");this.Lq=RegExp("\\s*["+this.eg+"]$");this.um=b||"";this.Aq=this.Pe;this.Q=0<d?new Ye(d):null;this.va=new df(this);this.zi=new df(this);this.ac=new jf;this.nm=-1}G(vf,Vd);var wf=(tf||uf)&&!wb("533.17.9");n=vf.prototype;n.Br=!0;n.Ho=!0;n.Kk=!1;n.Nq=!0;n.Mq=!0;n.Ai=null;n.V=null;n.Ij="";n.td=!1;n.mk=!1;n.Tn=!0;
n.vc=function(){return this.V.value};n.ci=function(a){this.V.value=a};n.wg=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];na(c)&&1==c.nodeType&&bf(c,"haspopup",!0);this.va.xa(c,"focus",this.Sl);this.va.xa(c,"blur",this.Vo);if(!this.V&&(this.zi.xa(c,"keydown",this.oq),na(c)&&1==c.nodeType)){var d;a:{var e=Zb(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&xf(this,c)}}};
n.c=function(){vf.g.c.call(this);null!=this.Ai&&window.clearTimeout(this.Ai);this.va.gb();delete this.va;this.zi.gb();this.ac.gb();Zd(this.Q)};function yf(a){a.Q?a.Q.setInterval(300):a.Q=new Ye(300)}
function zf(a,b){switch(b.keyCode){case 40:if(a.U.Rd()){a.Kk?Re(a.U):Qe(a.U);b.preventDefault();return}if(!a.Pe){a.update(!0);b.preventDefault();return}break;case 38:if(a.U.Rd()){a.Kk?Qe(a.U):Re(a.U);b.preventDefault();return}break;case 9:if(a.U.Rd()&&!b.shiftKey){if(a.update(),Ne(a.U)&&a.Aq){b.preventDefault();return}}else a.U.Rb();break;case 13:if(a.U.Rd()){if(a.update(),Ne(a.U)){b.preventDefault();b.stopPropagation();return}}else a.U.Rb();break;case 27:if(a.U.Rd()){a.U.Rb();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.td){a.td||(a.va.xa(a.V,"keyup",a.Km),a.va.xa(a.V,"keypress",a.Jm),a.td=!0);return}break;default:a.Q&&!a.Tn&&(a.Q.stop(),a.Q.start())}Af(a,b)}function Af(a,b){var c=a.Pe&&b.charCode&&-1!=a.eg.indexOf(String.fromCharCode(b.charCode));a.Nq&&c&&a.update();a.Mq&&c&&Ne(a.U)&&b.preventDefault()}n.fp=da(!1);n.Sl=function(a){xf(this,a.target||null)};
function xf(a,b){a.zi.Ue();a.U&&Oe(a.U);b!=a.V&&(a.V=b,a.Q&&(a.Q.start(),a.va.xa(a.Q,Ze,a.Nm)),a.Ij=a.vc(),kf(a.ac,a.V),a.va.xa(a.ac,"key",a.Lm),a.va.xa(a.V,"mousedown",a.Mm),J&&a.va.xa(a.V,"keypress",a.Im))}n.Vo=function(){wf?this.Ai=window.setTimeout(F(this.Xm,this),0):this.Xm()};
n.Xm=function(){this.V&&(this.va.kc(this.ac,"key",this.Lm),this.ac.detach(),this.va.kc(this.V,"keyup",this.fp),this.va.kc(this.V,"mousedown",this.Mm),J&&this.va.kc(this.V,"keypress",this.Im),this.td&&Bf(this),this.V=null,this.Q&&(this.Q.stop(),this.va.kc(this.Q,Ze,this.Nm)),this.U&&Pe(this.U))};n.Nm=function(){this.update()};n.oq=function(a){this.Sl(a)};n.Lm=function(a){this.nm=a.keyCode;this.U&&zf(this,a)};n.Jm=function(){this.td&&229!=this.nm&&Bf(this)};
n.Km=function(a){this.td&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Bf(this)};n.Mm=ba();function Bf(a){a.td&&(a.td=!1,a.va.kc(a.V,"keypress",a.Jm),a.va.kc(a.V,"keyup",a.Km))}n.Im=function(a){Af(this,a)};
n.update=function(a){if(this.V&&(a||this.vc()!=this.Ij)){if(a||!this.mk){a=Te(this.V);var b=this.vc();a=Ue(this,b)[Se(this,b,a)];a=this.Ln?String(a).replace(this.Ln,""):a;if(this.U){this.U.sk(this.V);var b=this.U,c=this.vc();b.Ob!=a&&(b.Ob=a,b.Cc.ik(b.Ob,b.Sp,F(b.Np,b),c),Oe(b))}}this.Ij=this.vc()}this.mk=!1};function Se(a,b,c){a=Ue(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}
function Ue(a,b){if(!a.Pe)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.um&&-1!=a.um.indexOf(c[f])?(a.Ho&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.eg.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};var Cf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Df(){V.call(this);this.l=Ef;this.Al=this.startTime=null}G(Df,V);var Ef=0;Df.prototype.Wd=function(){this.qc("begin")};Df.prototype.Qe=function(){this.qc("end")};Df.prototype.qc=function(a){this.dispatchEvent(a)};function Ff(a,b,c){Vd.call(this);this.Sf=a;this.Na=c;this.lc=b||window;this.ff=F(this.Vi,this)}G(Ff,Vd);n=Ff.prototype;n.ia=null;n.Lk=!1;n.start=function(){this.stop();this.Lk=!1;var a=Gf(this),b=Hf(this);a&&!b&&this.lc.mozRequestAnimationFrame?(this.ia=T(this.lc,"MozBeforePaint",this.ff),this.lc.mozRequestAnimationFrame(null),this.Lk=!0):this.ia=a&&b?a.call(this.lc,this.ff):this.lc.setTimeout(Zc(this.ff),20)};
n.stop=function(){if(this.Mf()){var a=Gf(this),b=Hf(this);a&&!b&&this.lc.mozRequestAnimationFrame?U(this.ia):a&&b?b.call(this.lc,this.ia):this.lc.clearTimeout(this.ia)}this.ia=null};n.Mf=function(){return null!=this.ia};n.Vi=function(){this.Lk&&this.ia&&U(this.ia);this.ia=null;this.Sf.call(this.Na,ta())};n.c=function(){this.stop();Ff.g.c.call(this)};
function Gf(a){a=a.lc;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Hf(a){a=a.lc;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function If(a,b,c){Vd.call(this);this.Sf=a;this.Qd=b||0;this.Na=c;this.ff=F(this.Vi,this)}G(If,Vd);n=If.prototype;n.ia=0;n.c=function(){If.g.c.call(this);this.stop();delete this.Sf;delete this.Na};n.start=function(a){this.stop();var b=this.ff;a=y(a)?a:this.Qd;if(!ma(b))if(b&&"function"==typeof b.handleEvent)b=F(b.handleEvent,b);else throw Error("Invalid listener argument");this.ia=2147483647<a?-1:t.setTimeout(b,a||0)};n.stop=function(){this.Mf()&&t.clearTimeout(this.ia);this.ia=0};
n.Mf=function(){return 0!=this.ia};n.Vi=function(){this.ia=0;this.Sf&&this.Sf.call(this.Na)};var Jf={},Kf=null;function Lf(a){a=E(a);delete Jf[a];Qb(Jf)&&Kf&&Kf.stop()}function Mf(){Kf||(Kf=new If(function(){Nf()},20));var a=Kf;a.Mf()||a.start()}function Nf(){var a=ta();Lb(Jf,function(b){Of(b,a)});Qb(Jf)||Mf()};function Pf(a,b,c,d){Df.call(this);if(!ia(a)||!ia(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.ig=a;this.Ao=b;this.duration=c;this.Wk=d;this.coords=[];this.si=!1}G(Pf,Df);n=Pf.prototype;n.Hl=0;n.ob=0;n.Ej=null;
n.play=function(a){if(a||this.l==Ef)this.ob=0,this.coords=this.ig;else if(1==this.l)return!1;Lf(this);this.startTime=a=ta();-1==this.l&&(this.startTime-=this.duration*this.ob);this.Al=this.startTime+this.duration;this.Ej=this.startTime;this.ob||this.Wd();this.qc("play");-1==this.l&&this.qc("resume");this.l=1;var b=E(this);b in Jf||(Jf[b]=this);Mf();Of(this,a);return!0};n.stop=function(a){Lf(this);this.l=Ef;a&&(this.ob=1);Qf(this,this.ob);this.qc("stop");this.Qe()};
n.c=function(){this.l==Ef||this.stop(!1);this.qc("destroy");Pf.g.c.call(this)};function Of(a,b){a.ob=(b-a.startTime)/(a.Al-a.startTime);1<=a.ob&&(a.ob=1);a.Hl=1E3/(b-a.Ej);a.Ej=b;Qf(a,a.ob);1==a.ob?(a.l=Ef,Lf(a),a.qc("finish"),a.Qe()):1==a.l&&a.Rj()}function Qf(a,b){ma(a.Wk)&&(b=a.Wk(b));a.coords=Array(a.ig.length);for(var c=0;c<a.ig.length;c++)a.coords[c]=(a.Ao[c]-a.ig[c])*b+a.ig[c]}n.Rj=function(){this.qc("animate")};n.qc=function(a){this.dispatchEvent(new Rf(a,this))};
function Rf(a,b){$d.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.ob=b.ob;this.as=b.Hl;this.state=b.l;this.Wr=b}G(Rf,$d);function Sf(a,b,c,d,e){Pf.call(this,b,c,d,e);this.element=a}G(Sf,Pf);Sf.prototype.ri=ea;Sf.prototype.Rj=function(){this.ri();Sf.g.Rj.call(this)};Sf.prototype.Qe=function(){this.ri();Sf.g.Qe.call(this)};Sf.prototype.Wd=function(){this.ri();Sf.g.Wd.call(this)};function Tf(a,b,c,d,e){la(b)&&(b=[b]);la(c)&&(c=[c]);Sf.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}G(Tf,Sf);Tf.prototype.ri=function(){Id(this.element,this.coords[0])};
Tf.prototype.show=function(){this.element.style.display=""};function Uf(a,b,c){Tf.call(this,a,1,0,b,c)}G(Uf,Tf);Uf.prototype.Wd=function(){this.show();Uf.g.Wd.call(this)};Uf.prototype.Qe=function(){this.element.style.display="none";Uf.g.Qe.call(this)};function Vf(a,b,c){Tf.call(this,a,0,1,b,c)}G(Vf,Tf);Vf.prototype.Wd=function(){this.show();Vf.g.Wd.call(this)};function Wf(){}fa(Wf);Wf.prototype.ed=0;Wf.Zb();function Xf(a,b,c,d){V.call(this);this.Dc=a||document.body;this.Sb=Xb(this.Dc);this.Hq=!a;this.a=null;this.Ob="";this.la=[];this.be=[];this.Bn=this.jh=-1;this.af=!1;this.className="ac-renderer";this.lk="ac-row";this.sm="active";this.Xk="ac-active";this.Dp="ac-highlighted";this.xe=b||null;this.wr=null!=d?d:!0;this.Op=!0;this.tj=!1;this.Iq=!!c;this.pg=!1;this.Gh=0}G(Xf,V);n=Xf.prototype;n.Yb=k("a");n.ek=function(a,b,c){this.Ob=b;this.la=a;this.jh=-1;this.Bn=ta();this.$=c;this.be=[];Yf(this)};
n.Rb=function(){this.$&&cf(this.$,null);this.af&&(this.af=!1,this.$&&bf(this.$,"haspopup",!1),0<this.Gh?(Zd(this.se),this.se=new Uf(this.a,this.Gh),this.se.play()):Jd(this.a,!1))};n.show=function(){this.af||(this.af=!0,this.$&&(af(this.$,"combobox"),bf(this.$,"autocomplete","list"),bf(this.$,"haspopup",!0)),0<this.Gh?(Zd(this.se),this.se=new Vf(this.a,this.Gh),this.se.play()):Jd(this.a,!0))};
function Zf(a,b){var c=0<=b&&b<a.be.length?a.be[b]:void 0;if(a.dispatchEvent({type:"rowhilite",gs:c})&&(0<=a.jh&&Db(a.be[a.jh],a.Xk,a.sm),a.jh=b,c)){Cb(c,a.Xk,a.sm);a.$&&cf(a.$,c);var d=a.a,e=Ad(c),f=Ad(d),g=Rd(d),h=e.x-f.x-g.left,e=e.y-f.y-g.top,f=d.clientHeight-c.offsetHeight,g=d.scrollLeft,l=d.scrollTop,g=g+Math.min(h,Math.max(h-(d.clientWidth-c.offsetWidth),0)),l=l+Math.min(e,Math.max(e-f,0)),c=new L(g,l);d.scrollLeft=c.x;d.scrollTop=c.y}}
n.xc=function(a){if(-1==a)Zf(this,-1);else for(var b=0;b<this.la.length;b++)if(this.la[b].id==a){Zf(this,b);break}};function $f(a){if(!a.a){var b=a.Sb.ol("div",{style:"display:none"});a.a=b;Cb(b,a.className);af(b,"listbox");b.id=":"+(Wf.Zb().ed++).toString(36);a.Sb.appendChild(a.Dc,b);T(b,"click",a.ih,!1,a);T(b,"mousedown",a.Ul,!1,a);T(b,"mouseover",a.Vl,!1,a)}}
function Yf(a){$f(a);a.pg&&(a.a.style.visibility="hidden");a.Cr&&(a.a.style.minWidth=a.Cr.clientWidth+"px");a.be.length=0;a.Sb.Cq(a.a);if(a.xe&&a.xe.render)a.xe.render();else{var b=null;I(a.la,function(a){var d=this.Ob,e=this.Sb.ol("div",{className:this.lk,id:":"+(Wf.Zb().ed++).toString(36)});af(e,"option");this.xe&&this.xe.dk?this.xe.dk(a,d,e):e.innerHTML=wa(a.data.toString());d&&this.wr&&ag(this,e,d);Cb(e,this.lk);this.be.push(e);a=e;this.pg?this.a.insertBefore(a,b):this.Sb.appendChild(this.a,a);
b=a},a)}0==a.la.length?a.Rb():(a.show(),bg(a),Ld(a.a,!0))}
function bg(a){if(a.$&&a.Hq){var b,c=a.Iq?3:1;a.pg&&(c^=1);b=c;var d=a.ko||a.$,c=a.a,e=b^1,f,g;if(f=c.offsetParent){var h="HTML"==f.tagName||"BODY"==f.tagName;h&&"static"==wd(f,"position")||(g=Ad(f),h||(h=(h=Bd(f))&&jb?-f.scrollLeft:!h||J&&wb("8")||"visible"==wd(f,"overflowX")?f.scrollLeft:f.scrollWidth-f.clientWidth-f.scrollLeft,g=Jb(g,new L(h,f.scrollTop))))}f=g||new L;g=Ad(d);h=Gd(d);g=new ud(g.x,g.y,h.width,h.height);if(h=zd(d)){var l=new ud(h.left,h.top,h.right-h.left,h.bottom-h.top),h=Math.max(g.left,
l.left),m=Math.min(g.left+g.width,l.left+l.width);if(h<=m){var p=Math.max(g.top,l.top),l=Math.min(g.top+g.height,l.top+l.height);p<=l&&(g.left=h,g.top=p,g.width=m-h,g.height=l-p)}}h=Xb(d);p=Xb(c);if(h.X!=p.X){var m=h.X.body,p=p.X.parentWindow||p.X.defaultView,l=new L(0,0),q=Zb(m)?Zb(m).parentWindow||Zb(m).defaultView:window,r=m;do{var s=q==p?Ad(r):Cd(r);l.x+=s.x;l.y+=s.y}while(q&&q!=p&&(r=q.frameElement)&&(q=q.parent));m=Jb(l,Ad(m));J&&!tc(h)&&(m=Jb(m,uc(h)));g.left+=m.x;g.top+=m.y}b=(b&4&&Bd(d)?
b^2:b)&-5;b=new L(b&2?g.left+g.width:g.left,b&1?g.top+g.height:g.top);b=Jb(b,f);if(d=zd(c))d.top-=f.y,d.right-=f.x,d.bottom-=f.y,d.left-=f.x;f=b.ua();g=(e&4&&Bd(c)?e^2:e)&-5;b=Gd(c);e=b.ua();0!=g&&(g&2&&(f.x-=e.width+0),g&1&&(f.y-=e.height+0));d?(g=f,h=65,m=0,65==(h&65)&&(g.x<d.left||g.x>=d.right)&&(h&=-2),132==(h&132)&&(g.y<d.top||g.y>=d.bottom)&&(h&=-5),g.x<d.left&&h&1&&(g.x=d.left,m|=1),g.x<d.left&&(g.x+e.width>d.right&&h&16)&&(e.width=Math.max(e.width-(g.x+e.width-d.right),0),m|=4),g.x+e.width>
d.right&&h&1&&(g.x=Math.max(d.right-e.width,d.left),m|=1),h&2&&(m|=(g.x<d.left?16:0)|(g.x+e.width>d.right?32:0)),g.y<d.top&&h&4&&(g.y=d.top,m|=2),g.y<=d.top&&(g.y+e.height<d.bottom&&h&32)&&(e.height=Math.max(e.height-(d.top-g.y),0),g.y=d.top,m|=8),g.y>=d.top&&(g.y+e.height>d.bottom&&h&32)&&(e.height=Math.max(e.height-(g.y+e.height-d.bottom),0),m|=8),g.y+e.height>d.bottom&&h&4&&(g.y=Math.max(d.bottom-e.height,d.top),m|=2),h&8&&(m|=(g.y<d.top?64:0)|(g.y+e.height>d.bottom?128:0)),d=m):d=256;d&496||(g=
f,f=jb&&(bb||nb)&&wb("1.9"),g instanceof L?(d=g.x,g=g.y):(d=g,g=void 0),c.style.left=Fd(d,f),c.style.top=Fd(g,f),b==e||b&&e&&b.width==e.width&&b.height==e.height||(d=tc(Xb(Zb(c))),!J||d&&wb("8")?(c=c.style,jb?c.MozBoxSizing="border-box":K?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(e.width,0)+"px",c.height=Math.max(e.height,0)+"px"):(b=c.style,d?(d=Od(c),c=Rd(c),b.pixelWidth=e.width-c.left-d.left-d.right-c.right,b.pixelHeight=e.height-c.top-d.top-d.bottom-c.bottom):(b.pixelWidth=
e.width,b.pixelHeight=e.height))));a.pg&&(a.a.style.visibility="visible")}}n.vb=k("$");n.c=function(){this.a&&(we(this.a,"click",this.ih,!1,this),we(this.a,"mousedown",this.Ul,!1,this),we(this.a,"mouseover",this.Vl,!1,this),this.Sb.removeNode(this.a),this.a=null,this.af=!1);Zd(this.se);this.Dc=null;Xf.g.c.call(this)};
function ag(a,b,c){if(3==b.nodeType){var d=null;ia(c)&&(1<c.length&&!a.tj)&&(d=Pa(c,1));c=cg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.Op?RegExp("([\\s\\S]*?)\\b("+c+")","gi"):RegExp("([\\s\\S]*?)("+c+")","gi");c=[];for(var g=0,h=f.exec(e),l=0;h;)l++,c.push(h[1]),c.push(h[2]),g=f.lastIndex,h=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.tj?l:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.Sb.createElement("b"),g.className=a.Dp,a.Sb.appendChild(g,a.Sb.createTextNode(c[f+1])),g=b.parentNode.insertBefore(g,
b.nextSibling),b.parentNode.insertBefore(a.Sb.createTextNode(""),g.nextSibling),b=g.nextSibling;a=Pa(c,2*d);b.nodeValue=a.join("")}else d&&ag(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,ag(a,b,c),b=d}
function cg(a,b){var c="";if(!b)return c;ia(b)&&(b=Ga(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.tj?ia(b)?c=Ha(b,Da).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Da(c),c=c.replace(/ /g,"|")):ia(b)?c=0<b.length?Da(b[0]):"":/^\W/.test(b)||(c=Da(b));return c}function dg(a,b){for(;b&&b!=a.a&&!Ja(Bb(b),a.lk);)b=b.parentNode;return b?Fa(a.be,b):-1}n.ih=function(a){var b=dg(this,a.target);0<=b&&this.dispatchEvent({type:Je,row:this.la[b].id});a.stopPropagation()};
n.Ul=function(a){a.stopPropagation();a.preventDefault()};n.Vl=function(a){a=dg(this,a.target);0<=a&&!(300>ta()-this.Bn)&&this.dispatchEvent({type:Ie,row:this.la[a].id})};function eg(a,b){this.ur=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Xf=b||{};this.uh=new od(this.ur,"json_callback")}
eg.prototype.ik=function(a,b,c){this.Xf.q=a;this.Xf.format="json";this.Xf.addressdetails=1;this.Xf.limit=b;a&&1!=a.length?(1==b&&(this.nq=a),1<b&&a===this.nq||(null!==this.ln&&this.uh.cancel(this.ln),this.ln=this.uh.send(this.Xf,function(b){function e(a){var b=[];I(a,function(a){var c=a.boundingbox;b.push({formatted_address:a.display_name,type:a.type,bounds:c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:null,viewport:null})},this);return b}var f=Ga(b,function(a){return("place"==
a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),g=Ga(b,function(a){return"place"!==a["class"]&&"highway"!==a["class"]});0<f.length?(I(f,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;if("suburb"==a.type)var d=a.address.suburb+(c?
", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),c(a,e(La(f,g)))):c(a,e(b))}))):c(a,[])};function fg(a,b,c){var d=new Xf(null,{dk:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.Cc=new eg(b,c);b=new vf(null,null,!1);yf(b);b.Tn=!1;b.U=this;b.wg(a);He.call(this,this.Cc,d,b);this.addEventListener("update",function(b){a.value=b.row.formatted_address})}G(fg,He);fg.prototype.search=function(a,b,c){this.Cc.ik(a,b,c)};function gg(a,b,c){V.call(this);this.target=a;this.handle=b||a;this.tm=c||new ud(NaN,NaN,NaN,NaN);this.X=Zb(a);this.ib=new df(this);Yd(this,this.ib);T(this.handle,["touchstart","mousedown"],this.An,!1,this)}G(gg,V);var hg=J||jb&&wb("1.9.3");n=gg.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.Cn=0;n.Dn=0;n.Dd=0;n.Pc=0;n.zl=!0;n.Hd=!1;n.bm=0;n.Vp=0;n.Ep=!1;n.si=!1;
n.c=function(){gg.g.c.call(this);we(this.handle,["touchstart","mousedown"],this.An,!1,this);this.ib.Ue();hg&&this.X.releaseCapture();this.handle=this.target=null};function ig(a){y(a.on)||(a.on=Bd(a.target));return a.on}
n.An=function(a){var b="mousedown"==a.type;if(!this.zl||this.Hd||b&&!he(a))this.dispatchEvent("earlycancel");else{jg(a);if(0==this.bm)if(this.dispatchEvent(new kg("start",this,a.clientX,a.clientY,a)))this.Hd=!0,a.preventDefault();else return;else a.preventDefault();var b=this.X,c=b.documentElement,d=!hg;this.ib.xa(b,["touchmove","mousemove"],this.op,d);this.ib.xa(b,["touchend","mouseup"],this.Rg,d);hg?(c.setCapture(!1),this.ib.xa(c,"losecapture",this.Rg)):this.ib.xa(b?b.parentWindow||b.defaultView:
window,"blur",this.Rg);J&&this.Ep&&this.ib.xa(b,"dragstart",be);this.Kq&&this.ib.xa(this.Kq,"scroll",this.pq,d);this.clientX=this.Cn=a.clientX;this.clientY=this.Dn=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.si?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=wd(a,"position")||(c=Zb(a).documentElement),c?(jb?(d=Rd(c),b+=d.left):J&&8<=yb&&(d=Rd(c),b-=d.left),a=Bd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Dd=a;this.Pc=this.target.offsetTop;this.Tj=
uc(Xb(this.X));this.Vp=ta()}};n.Rg=function(a,b){this.ib.Ue();hg&&this.X.releaseCapture();if(this.Hd){jg(a);this.Hd=!1;var c=lg(this,this.Dd),d=mg(this,this.Pc);this.dispatchEvent(new kg("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function jg(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.yc(a.s.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.yc(a.s.changedTouches[0],a.currentTarget)}
n.op=function(a){if(this.zl){jg(a);var b=(this.si&&ig(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Hd){var d=this.Cn-this.clientX,e=this.Dn-this.clientY;if(d*d+e*e>this.bm)if(this.dispatchEvent(new kg("start",this,a.clientX,a.clientY,a)))this.Hd=!0;else{this.rf||this.Rg(a);return}}c=ng(this,b,c);b=c.x;c=c.y;this.Hd&&this.dispatchEvent(new kg("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(og(this,a,b,c),a.preventDefault())}};function ng(a,b,c){var d=uc(Xb(a.X));b+=d.x-a.Tj.x;c+=d.y-a.Tj.y;a.Tj=d;a.Dd+=b;a.Pc+=c;b=lg(a,a.Dd);a=mg(a,a.Pc);return new L(b,a)}n.pq=function(a){var b=ng(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;og(this,a,b.x,b.y)};function og(a,b,c,d){a.si&&ig(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new kg("drag",a,b.clientX,b.clientY,b,c,d))}
function lg(a,b){var c=a.tm,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function mg(a,b){var c=a.tm,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function kg(a,b,c,d,e,f,g,h){$d.call(this,a);this.clientX=c;this.clientY=d;this.Ea=e;this.left=y(f)?f:b.Dd;this.top=y(g)?g:b.Pc;this.$r=b;this.Zr=!!h}G(kg,$d);function pg(a,b){a[0]+=b[0];a[1]+=b[1]}function qg(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=e[0],e=e[1],h=f[0],f=f[1],l=h-g,m=f-e,c=0===l&&0===m?0:(l*(c-g)+m*(d-e))/(l*l+m*m||0);0>=c||(1<=c?(g=h,e=f):(g+=c*l,e+=c*m));return[g,e]}function tg(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}function ug(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e}function vg(a,b){a[0]*=b;a[1]*=b}function wg(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d};var xg;
function yg(){var a=t.MessageChannel;"undefined"===typeof a&&("undefined"!==typeof window&&window.postMessage&&window.addEventListener)&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.body.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=F(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);
this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.fl;c.fl=null;a()};return function(a){d.next={fl:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:
function(a){t.setTimeout(a,0)}};function zg(){this.$m=ta()}new zg;zg.prototype.set=ca("$m");zg.prototype.get=k("$m");function Ag(a){V.call(this);this.sg=a||window;this.Bh=T(this.sg,"resize",this.tp,!1,this);this.Kb=ec(this.sg||window)}G(Ag,V);n=Ag.prototype;n.Bh=null;n.sg=null;n.Kb=null;n.ga=function(){return this.Kb?this.Kb.ua():null};n.c=function(){Ag.g.c.call(this);this.Bh&&(U(this.Bh),this.Bh=null);this.Kb=this.sg=null};n.tp=function(){var a=ec(this.sg||window);a==this.Kb||a&&this.Kb&&a.width==this.Kb.width&&a.height==this.Kb.height||(this.Kb=a,this.dispatchEvent("resize"))};function Bg(a,b){V.call(this);this.a=a;var c=na(this.a)&&1==this.a.nodeType?this.a:this.a?this.a.body:null;this.Ip=!!c&&Bd(c);this.Ne=T(this.a,jb?"DOMMouseScroll":"mousewheel",this,b)}G(Bg,V);
Bg.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.s;if("mousewheel"==a.type){c=1;if(J||K&&(cb||wb("532.0")))c=40;d=Cg(-a.wheelDelta,c);y(a.wheelDeltaX)?(b=Cg(-a.wheelDeltaX,c),c=Cg(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),y(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;la(this.xm)&&(b=Hb(b,-this.xm,this.xm));la(this.ym)&&(c=Hb(c,-this.ym,this.ym));this.Ip&&(b=-b);b=new Dg(d,a,b,c);this.dispatchEvent(b)};function Cg(a,b){return K&&(bb||db)&&0!=a%b?a:a/b}
Bg.prototype.c=function(){Bg.g.c.call(this);U(this.Ne);this.Ne=null};function Dg(a,b,c,d){b&&this.yc(b,void 0);this.type="mousewheel";this.detail=a;this.Dd=c;this.Pc=d}G(Dg,fe);function Eg(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Eg.prototype.BYTES_PER_ELEMENT=4;Eg.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Eg.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Eg.BYTES_PER_ELEMENT=4,Eg.prototype.BYTES_PER_ELEMENT=Eg.prototype.BYTES_PER_ELEMENT,Eg.prototype.set=Eg.prototype.set,Eg.prototype.toString=Eg.prototype.toString,ua("Float32Array",Eg));function Fg(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Fg.prototype.BYTES_PER_ELEMENT=8;Fg.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Fg.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Fg.BYTES_PER_ELEMENT=8}catch(Gg){}Fg.prototype.BYTES_PER_ELEMENT=Fg.prototype.BYTES_PER_ELEMENT;Fg.prototype.set=Fg.prototype.set;Fg.prototype.toString=Fg.prototype.toString;ua("Float64Array",Fg)};function Hg(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Ig(){var a=Array(16);Jg(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Kg(){var a=Array(16);Jg(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Jg(a,b,c,d,e,f,g,h,l,m,p,q,r,s,v,u,w){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=l;a[8]=m;a[9]=p;a[10]=q;a[11]=r;a[12]=s;a[13]=v;a[14]=u;a[15]=w}
function Lg(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15]}function Mg(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Ng(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],l=a[5],m=a[6],p=a[7],q=a[8],r=a[9],s=a[10],v=a[11],u=a[12],w=a[13],z=a[14];a=a[15];var x=b[0],A=b[1],C=b[2],B=b[3],D=b[4],H=b[5],R=b[6],aa=b[7],Y=b[8],M=b[9],O=b[10],N=b[11],lb=b[12],Oa=b[13],za=b[14];b=b[15];c[0]=d*x+h*A+q*C+u*B;c[1]=e*x+l*A+r*C+w*B;c[2]=f*x+m*A+s*C+z*B;c[3]=g*x+p*A+v*C+a*B;c[4]=d*D+h*H+q*R+u*aa;c[5]=e*D+l*H+r*R+w*aa;c[6]=f*D+m*H+s*R+z*aa;c[7]=g*D+p*H+v*R+a*aa;c[8]=d*Y+h*M+q*O+u*N;c[9]=e*Y+l*M+r*O+w*N;c[10]=f*Y+m*M+s*O+z*
N;c[11]=g*Y+p*M+v*O+a*N;c[12]=d*lb+h*Oa+q*za+u*b;c[13]=e*lb+l*Oa+r*za+w*b;c[14]=f*lb+m*Oa+s*za+z*b;c[15]=g*lb+p*Oa+v*za+a*b}function Og(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Pg(a,b,c){Jg(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Qg(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=a[6],m=a[7],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+g*q;a[1]=d*p+h*q;a[2]=e*p+l*q;a[3]=f*p+m*q;a[4]=c*-q+g*p;a[5]=d*-q+h*p;a[6]=e*-q+l*p;a[7]=f*-q+m*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);var Rg=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Sg(a,b){var c,d,e=Rg.length;for(d=0;d<e;++d)try{if(c=a.getContext(Rg[d],b),null!==c)return c}catch(f){}return null};var Tg="https:"===t.location.protocol,Ug=J&&!wb("9.0")&&""!==pb,Vg=t.devicePixelRatio||1,Wg=!1,Xg=function(){if(!("HTMLCanvasElement"in t))return!1;try{var a=S("CANVAS").getContext("2d");if(null===a)return!1;y(a.setLineDash)&&(Wg=!0);return!0}catch(b){return!1}}(),Yg="ontouchstart"in t,Zg="PointerEvent"in t,$g=!!t.navigator.msPointerEnabled,ah=function(){if(!("WebGLRenderingContext"in t))return!1;try{var a=S("CANVAS");return!ha(Sg(a,{Do:!0}))}catch(b){return!1}}();function bh(){V.call(this);this.qa=0}G(bh,V);bh.prototype.W=function(){++this.qa;this.dispatchEvent("change")};function ch(a,b){$d.call(this,a);this.key=b}G(ch,$d);function dh(a,b){this.target=a;this.key=b;this.Hn=this.from=Xc}dh.prototype.transform=function(a,b){this.from=a;this.Hn=b;this.target.notify(this.key)};function eh(a){bh.call(this);E(this);this.je={};this.me={};this.Gi={};this.Lj={};y(a)&&this.setValues(a)}G(eh,bh);var fh={},gh={},hh={};function ih(a){return fh.hasOwnProperty(a)?fh[a]:fh[a]="change:"+a.toLowerCase()}n=eh.prototype;
n.bindTo=function(a,b,c){c=c||a;this.unbind(a);var d=ih(c);this.Lj[a]=T(b,d,function(){jh(this,a)},void 0,this);this.Gi[a]=T(b,"beforepropertychange",kh(a,c),void 0,this);b=new dh(b,c);this.me[a]=b;jh(this,a);return b};function kh(a,b){return function(c){c.key===b&&this.dispatchEvent(new ch("beforepropertychange",a))}}
n.get=function(a){var b,c=this.me;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.key,d=gh.hasOwnProperty(c)?gh[c]:gh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=P(b,d);b=y(d)?d.call(b):b.get(c);b=a.Hn(b)}else this.je.hasOwnProperty(a)&&(b=this.je[a]);return b};n.uc=function(){var a=this.me,b;if(Qb(this.je)){if(Qb(a))return[];b=a}else if(Qb(a))b=this.je;else{b={};for(var c in this.je)b[c]=!0;for(c in a)b[c]=!0}return Pb(b)};
n.notify=function(a){var b=this.me;b.hasOwnProperty(a)?(a=b[a],a.target.notify(a.key)):jh(this,a)};function jh(a,b){var c=ih(b);a.dispatchEvent(c);a.dispatchEvent(new ch("propertychange",b))}n.set=function(a,b){this.dispatchEvent(new ch("beforepropertychange",a));var c=this.me;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.key;b=d.from(b);d=hh.hasOwnProperty(e)?hh[e]:hh[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=P(c,d);y(d)?d.call(c,b):c.set(e,b)}else this.je[a]=b,jh(this,a)};
n.setValues=function(a){for(var b in a)this.set(b,a[b])};n.unbind=function(a){var b=this.Lj,c=b[a];c&&(delete b[a],U(c),b=this.get(a),delete this.me[a],this.je[a]=b);if(b=this.Gi[a])U(b),delete this.Gi[a]};n.unbindAll=function(){for(var a in this.Lj)this.unbind(a)};function lh(a,b,c){$d.call(this,a,c);this.element=b}G(lh,$d);function mh(a){eh.call(this);this.oc=a||[];nh(this)}G(mh,eh);n=mh.prototype;n.clear=function(){for(;0<this.getLength();)this.pop()};n.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};n.forEach=function(a,b){I(this.oc,a,b)};n.getArray=k("oc");n.getAt=function(a){return this.oc[a]};n.getLength=function(){return this.get("length")};
n.insertAt=function(a,b){Na(this.oc,a,0,b);nh(this);this.dispatchEvent(new lh("add",b,this))};n.pop=function(){return this.removeAt(this.getLength()-1)};n.push=function(a){var b=this.oc.length;this.insertAt(b,a);return b};n.remove=function(a){var b=this.oc,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return this.removeAt(c)};n.removeAt=function(a){var b=this.oc[a];Ea.splice.call(this.oc,a,1);nh(this);this.dispatchEvent(new lh("remove",b,this));return b};function nh(a){a.set("length",a.oc.length)};function oh(a,b,c){$d.call(this,a);this.map=b;this.frameState=y(c)?c:null}G(oh,$d);function ph(a,b,c){$d.call(this,a);this.Ea=b;a=y(c)?c:{};this.buttons=qh(a);this.Yj=rh(a,this.buttons);this.bubbles=P(a,"bubbles",!1);this.cancelable=P(a,"cancelable",!1);this.view=P(a,"view",null);this.detail=P(a,"detail",null);this.screenX=P(a,"screenX",0);this.screenY=P(a,"screenY",0);this.clientX=P(a,"clientX",0);this.clientY=P(a,"clientY",0);this.ctrlKey=P(a,"ctrlKey",!1);this.altKey=P(a,"altKey",!1);this.shiftKey=P(a,"shiftKey",!1);this.metaKey=P(a,"metaKey",!1);this.button=P(a,"button",0);
this.relatedTarget=P(a,"relatedTarget",null);this.pointerId=P(a,"pointerId",0);this.width=P(a,"width",0);this.height=P(a,"height",0);this.js=P(a,"tiltX",0);this.ks=P(a,"tiltY",0);this.pointerType=P(a,"pointerType","");this.hwTimestamp=P(a,"hwTimestamp",0);this.th=P(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}G(ph,$d);
function qh(a){if(a.buttons||sh)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function rh(a,b){var c=0;return c=a.Yj?a.Yj:b?0.5:0}var sh=!1;try{sh=1===(new MouseEvent("click",{buttons:1})).buttons}catch(th){};function uh(a,b){this.n=a;this.Fh=b};function vh(a){uh.call(this,a,{mousedown:this.Xp,mousemove:this.Yp,mouseup:this.aq,mouseover:this.$p,mouseout:this.Zp});this.da=a.da;this.qm=[]}G(vh,uh);function wh(a,b){for(var c=a.qm,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function xh(a){var b=yh(a,a.s),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.th=!0;b.pointerType="mouse";return b}n=vh.prototype;
n.Xp=function(a){if(!wh(this,a)){(1).toString()in this.da&&this.cancel(a);var b=xh(a);this.da[(1).toString()]=a;this.n.fireEvent(zh,b,a)}};n.Yp=function(a){if(!wh(this,a)){var b=xh(a);this.n.move(b,a)}};n.aq=function(a){if(!wh(this,a)){var b=P(this.da,(1).toString());b&&b.button===a.button&&(b=xh(a),this.n.fireEvent(Ah,b,a),Sb(this.da,(1).toString()))}};n.$p=function(a){if(!wh(this,a)){var b=xh(a);Bh(this.n,b,a)}};n.Zp=function(a){if(!wh(this,a)){var b=xh(a);Ch(this.n,b,a)}};
n.cancel=function(a){var b=xh(a);this.n.cancel(b,a);Sb(this.da,(1).toString())};function Dh(a){uh.call(this,a,{MSPointerDown:this.fq,MSPointerMove:this.gq,MSPointerUp:this.jq,MSPointerOut:this.hq,MSPointerOver:this.iq,MSPointerCancel:this.eq,MSGotPointerCapture:this.cq,MSLostPointerCapture:this.dq});this.da=a.da;this.eo=["","unavailable","touch","pen","mouse"]}G(Dh,uh);function Eh(a,b){var c=b;la(b.s.pointerType)&&(c=yh(b,b.s),c.pointerType=a.eo[b.s.pointerType]);return c}n=Dh.prototype;n.fq=function(a){this.da[a.s.pointerId]=a;var b=Eh(this,a);this.n.fireEvent(zh,b,a)};
n.gq=function(a){var b=Eh(this,a);this.n.move(b,a)};n.jq=function(a){var b=Eh(this,a);this.n.fireEvent(Ah,b,a);Sb(this.da,a.s.pointerId)};n.hq=function(a){var b=Eh(this,a);Ch(this.n,b,a)};n.iq=function(a){var b=Eh(this,a);Bh(this.n,b,a)};n.eq=function(a){var b=Eh(this,a);this.n.cancel(b,a);Sb(this.da,a.s.pointerId)};n.dq=function(a){this.n.dispatchEvent(new ph("lostpointercapture",a,a.s))};n.cq=function(a){this.n.dispatchEvent(new ph("gotpointercapture",a,a.s))};function Fh(a){uh.call(this,a,{pointerdown:this.vq,pointermove:this.wq,pointerup:this.zq,pointerout:this.xq,pointerover:this.yq,pointercancel:this.uq,gotpointercapture:this.Uo,lostpointercapture:this.Mp})}G(Fh,uh);n=Fh.prototype;n.vq=function(a){Gh(this.n,a)};n.wq=function(a){Gh(this.n,a)};n.zq=function(a){Gh(this.n,a)};n.xq=function(a){Gh(this.n,a)};n.yq=function(a){Gh(this.n,a)};n.uq=function(a){Gh(this.n,a)};n.Mp=function(a){Gh(this.n,a)};n.Uo=function(a){Gh(this.n,a)};function Hh(a,b){uh.call(this,a,{touchstart:this.lr,touchmove:this.kr,touchend:this.jr,touchcancel:this.ir});this.da=a.da;this.Wp=b;this.xf=void 0;this.Mi=0;this.$f=void 0}G(Hh,uh);n=Hh.prototype;n.mn=function(){this.Mi=0;this.$f=void 0};
n.hr=function(a,b){var c=yh(a,b);c.pointerId=b.identifier+2;c.bubbles=!0;c.cancelable=!0;c.detail=this.Mi;c.button=0;c.buttons=1;c.width=b.webkitRadiusX||b.radiusX||0;c.height=b.webkitRadiusY||b.radiusY||0;c.Yj=b.webkitForce||b.force||0.5;c.th=this.xf===b.identifier;c.pointerType="touch";c.clientX=b.clientX;c.clientY=b.clientY;c.screenX=b.screenX;c.screenY=b.screenY;return c};
function Ih(a,b,c){var d=Ma(b.s.changedTouches),d=Ha(d,sa(a.hr,b),a);I(d,function(a){a.preventDefault=function(){b.preventDefault()}},a);I(d,sa(c,b),a)}function Jh(a,b){var c=b.s.touches;if(Nb(a.da)>=c.length){var d=[];Lb(a.da,function(a,b){var g;if(!(g=1==b))a:{g=c.length;for(var h,l=0;l<g;l++)if(h=c[l],h.identifier===b-2){g=!0;break a}g=!1}g||d.push(a.Xd)},a);I(d,sa(a.Ki,b),a)}}
n.lr=function(a){Jh(this,a);var b=Nb(this.da),c;if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.da;c=b}c&&(this.xf=a.s.changedTouches[0].identifier,y(this.$f)&&t.clearTimeout(this.$f));Kh(this,a);this.Mi++;Ih(this,a,this.rq)};n.rq=function(a,b){this.da[b.pointerId]={target:b.target,Xd:b,Rm:b.target};var c=this.n;b.bubbles=!0;c.fireEvent(Lh,b,a);c=this.n;b.bubbles=!1;c.fireEvent(Mh,b,a);this.n.fireEvent(zh,b,a)};n.kr=function(a){a.preventDefault();Ih(this,a,this.bq)};
n.bq=function(a,b){var c=P(this.da,b.pointerId);if(c){var d=c.Xd,e=c.Rm;this.n.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ch(this.n,d,a),Bh(this.n,b,a)):(b.target=e,b.relatedTarget=null,this.Ki(a,b)));c.Xd=b;c.Rm=b.target}};n.jr=function(a){Kh(this,a);Ih(this,a,this.sr)};
n.sr=function(a,b){this.n.fireEvent(Ah,b,a);this.n.Xd(b,a);var c=this.n;b.bubbles=!1;c.fireEvent(Nh,b,a);Sb(this.da,b.pointerId);b.th&&(this.xf=void 0,this.$f=t.setTimeout(this.mn,200))};n.ir=function(a){Ih(this,a,this.Ki)};n.Ki=function(a,b){this.n.cancel(b,a);this.n.Xd(b,a);var c=this.n;b.bubbles=!1;c.fireEvent(Nh,b,a);Sb(this.da,b.pointerId);b.th&&(this.xf=void 0,this.$f=t.setTimeout(this.mn,200))};
function Kh(a,b){var c=a.Wp.qm,d=b.s.changedTouches[0];if(a.xf===d.identifier){var e=[d.clientX,d.clientY];c.push(e);t.setTimeout(function(){Ka(c,e)},2500)}};function Oh(a){V.call(this);this.a=a;this.da={};this.Bl={};this.wf=[];Zg?Ph(this,new Fh(this)):$g?Ph(this,new Dh(this)):(a=new vh(this),Ph(this,a),Yg&&Ph(this,new Hh(this,a)));a=this.wf.length;for(var b,c=0;c<a;c++)b=this.wf[c],Qh(this,Pb(b.Fh))}G(Oh,V);function Ph(a,b){var c=Pb(b.Fh);c&&(I(c,function(a){var c=b.Fh[a];c&&(this.Bl[a]=F(c,b))},a),a.wf.push(b))}n=Oh.prototype;n.ib=function(a){var b=this.Bl[a.type];b&&b(a)};function Qh(a,b){I(b,function(a){T(this.a,a,this.ib,!1,this)},a)}
function Rh(a,b){I(b,function(a){we(this.a,a,this.ib,!1,this)},a)}function yh(a,b){for(var c={},d,e=0,f=Sh.length;e<f;e++)d=Sh[e][0],c[d]=a[d]||b[d]||Sh[e][1];return c}n.move=function(a,b){this.fireEvent(Th,a,b)};n.Xd=function(a,b){a.bubbles=!0;this.fireEvent(Uh,a,b)};n.cancel=function(a,b){this.fireEvent(Vh,a,b)};function Ch(a,b,c){a.Xd(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Nh,b,c))}
function Bh(a,b,c){b.bubbles=!0;a.fireEvent(Lh,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Mh,b,c))}n.fireEvent=function(a,b,c){this.dispatchEvent(new ph(a,c,b))};function Gh(a,b){a.dispatchEvent(new ph(b.type,b,b.s))}n.c=function(){for(var a=this.wf.length,b,c=0;c<a;c++)b=this.wf[c],Rh(this,Pb(b.Fh));Oh.g.c.call(this)};
var Th="pointermove",zh="pointerdown",Ah="pointerup",Lh="pointerover",Uh="pointerout",Mh="pointerenter",Nh="pointerleave",Vh="pointercancel",Sh=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Wh(a,b,c,d){oh.call(this,a,b,d);this.Ea=c;this.originalEvent=c.s;this.coordinate=b.Xb(Xh(b,this.originalEvent));this.pixel=Xh(b,this.originalEvent)}G(Wh,oh);Wh.prototype.preventDefault=function(){Wh.g.preventDefault.call(this);this.Ea.preventDefault()};Wh.prototype.stopPropagation=function(){Wh.g.stopPropagation.call(this);this.Ea.stopPropagation()};function Yh(a,b,c,d){Wh.call(this,a,b,c.Ea,d);this.jd=c}G(Yh,Wh);
function Zh(a){V.call(this);this.b=a;this.hf=0;this.Wi=!1;this.Kg=this.Oh=this.Gd=null;a=this.b.na;this.Yk=0;this.Fk={};this.Re=new Oh(a);this.Qc=null;this.Oh=T(this.Re,zh,this.pp,!1,this);this.bk=T(this.Re,Th,this.Bq,!1,this)}G(Zh,V);function $h(a,b){if(0!==a.hf){t.clearTimeout(a.hf);a.hf=0;var c=new Yh(ai,a.b,b);a.dispatchEvent(c)}else a.hf=t.setTimeout(F(function(){this.hf=0;var a=new Yh(bi,this.b,b);this.dispatchEvent(a)},a),250)}
function ci(a,b){b.type==di||b.type==ei?delete a.Fk[b.pointerId]:b.type==fi&&(a.Fk[b.pointerId]=!0);a.Yk=Nb(a.Fk)}n=Zh.prototype;n.Wl=function(a){ci(this,a);var b=new Yh(di,this.b,a);this.dispatchEvent(b);0===this.Yk&&(I(this.Gd,U),this.Gd=null,Zd(this.Qc),this.Qc=null);!this.Wi&&0===a.button&&$h(this,this.Kg)};
n.pp=function(a){ci(this,a);var b=new Yh(fi,this.b,a);this.dispatchEvent(b);this.Kg=a;this.Wi=!1;null===this.Gd&&(this.Qc=new Oh(document),this.Gd=[T(this.Qc,gi,this.rj,!1,this),T(this.Qc,di,this.Wl,!1,this),T(this.Re,ei,this.Wl,!1,this)]);a.preventDefault()};n.rj=function(a){if(a.clientX!=this.Kg.clientX||a.clientY!=this.Kg.clientY){this.Wi=!0;var b=new Yh(hi,this.b,a);this.dispatchEvent(b)}a.preventDefault()};n.Bq=function(a){this.dispatchEvent(new Yh(a.type,this.b,a))};
n.c=function(){null!==this.bk&&(U(this.bk),this.bk=null);null!==this.Oh&&(U(this.Oh),this.Oh=null);null!==this.Gd&&(I(this.Gd,U),this.Gd=null);null!==this.Qc&&(Zd(this.Qc),this.Qc=null);null!==this.Re&&(Zd(this.Re),this.Re=null);Zh.g.c.call(this)};var bi="singleclick",ai="dblclick",hi="pointerdrag",gi="pointermove",fi="pointerdown",di="pointerup",ei="pointercancel",ii={Vr:bi,Kr:ai,Or:hi,Rr:gi,Nr:fi,Ur:di,Tr:"pointerover",Sr:"pointerout",Pr:"pointerenter",Qr:"pointerleave",Mr:ei};function ji(a,b,c){this.z=a;this.x=b;this.y=c}function ki(a,b,c,d){return y(d)?(d.z=a,d.x=b,d.y=c,d):new ji(a,b,c)}function li(a,b,c){return a+"/"+b+"/"+c}ji.prototype.hash=function(){return(this.x<<this.z)+this.y};function mi(a){var b=Array(a.z),c=1<<a.z-1,d,e;for(d=0;d<a.z;++d)e=48,a.x&c&&(e+=1),a.y&c&&(e+=2),b[d]=String.fromCharCode(e),c>>=1;return b.join("")}ji.prototype.toString=function(){return li(this.z,this.x,this.y)};function ni(a,b){V.call(this);this.p=a;this.state=b}G(ni,V);ni.prototype.W=function(){this.dispatchEvent("change")};ni.prototype.getKey=function(){return E(this).toString()};ni.prototype.wa=k("state");function oi(a,b){this.Wm=a;this.Cj=b;this.Vb=[];this.Se=[];this.Te={}}oi.prototype.clear=function(){this.Vb.length=0;this.Se.length=0;Rb(this.Te)};function pi(a){var b=a.Vb,c=a.Se,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),qi(a,0));b=a.Cj(d);delete a.Te[b];return d}function ri(a,b){var c=a.Wm(b);Infinity!=c&&(a.Vb.push(b),a.Se.push(c),a.Te[a.Cj(b)]=!0,si(a,0,a.Vb.length-1))}oi.prototype.Wa=function(){return this.Vb.length};oi.prototype.isEmpty=function(){return 0===this.Vb.length};
function qi(a,b){for(var c=a.Vb,d=a.Se,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;si(a,h,b)}function si(a,b,c){var d=a.Vb;a=a.Se;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function ti(a){var b=a.Wm,c=a.Vb,d=a.Se,e=0,f=c.length,g,h,l;for(h=0;h<f;++h)g=c[h],l=b(g),Infinity==l?delete a.Te[a.Cj(g)]:(d[e]=l,c[e++]=g);c.length=e;d.length=e;for(b=(a.Vb.length>>1)-1;0<=b;b--)qi(a,b)};function ui(a,b){oi.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.br=b;this.ng=0}G(ui,oi);ui.prototype.yp=function(){--this.ng;this.br()};function vi(){eh.call(this);this.kh=[0,0]}G(vi,eh);vi.prototype.H=da(null);vi.prototype.sh=da(!1);function wi(a,b){a.kh[1]+=b};function xi(a){return function(b){if(y(b))return[Hb(b[0],a[0],a[2]),Hb(b[1],a[1],a[3])]}}function yi(a){return a};function zi(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Ai(a){return function(b,c,d){if(y(b))return b=zi(a,b,d),b=Hb(b+c,0,a.length-1),a[b]}}function Bi(a,b,c){return function(d,e,f){if(y(d))return f=0<f?0:0>f?1:0.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),y(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Ci(a){if(y(a))return 0}function Di(a,b){if(y(a))return a+b}function Ei(a){var b=2*Math.PI/a;return function(a,d){if(y(a))return a=Math.floor((a+d)/b+0.5)*b}}function Fi(){var a=5*Math.PI/180;return function(b,c){if(y(b))return Math.abs(b+c)<=a?0:b+c}};function Gi(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Hi(a){for(var b=Ii(),c=0,d=a.length;c<d;++c)Ji(b,a[c]);return b}function Ki(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return Li(c,d,e,f,void 0)}function Mi(a,b){return y(void 0)?void 0:[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Ni(a,b){return y(b)?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Oi(a,b){return a[0]<=b[0]&&b[0]<=a[2]&&a[1]<=b[1]&&b[1]<=a[3]}
function Pi(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Ii(){return[Infinity,Infinity,-Infinity,-Infinity]}function Li(a,b,c,d,e){return y(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Qi(a){return Li(Infinity,Infinity,-Infinity,-Infinity,a)}function Ri(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a}
function Ji(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}function Si(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}function Ti(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function Ui(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,h;for(f=0;4>f;++f)g=e[f],h=d[f],e[f]=a[0]+g*b-h*c,d[f]=a[1]+g*c+h*b;return Ki(e,d)}function Vi(a){return a[3]-a[1]}function Wi(a){return[a[0],a[3]]}function Xi(a){return a[2]-a[0]}function Yi(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Zi(a,b){return y(b)?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a}
function $i(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function aj(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return Ki([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};function bj(){bh.call(this);this.extent=void 0;this.Ug=-1;this.di={};this.xn=this.ei=0}G(bj,bh);function cj(a,b,c,d){var e=c[0],f=c[1],g=c[4],h=c[5],l=c[12];c=c[13];var m=y(d)?d:[],p=0,q,r;q=0;for(r=a.length;q<r;q+=b){var s=a[q],v=a[q+1];m[p++]=e*s+g*v+l;m[p++]=f*s+h*v+c}y(d)&&m.length!=p&&(m.length=p);return m};function dj(){bj.call(this);this.Le="XY";this.r=2;this.e=null}G(dj,bj);function ej(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4;throw Error("unsupported layout: "+a);}dj.prototype.i=function(a){if(this.Ug!=this.qa){var b=this.e,c=this.e.length,d=this.r,e=Qi(this.extent);this.extent=Si(e,b,0,c,d);this.Ug=this.qa}return Zi(this.extent,a)};
function fj(a,b){a.xn!=a.qa&&(Rb(a.di),a.ei=0,a.xn=a.qa);if(0>b||0!==a.ei&&b<=a.ei)return a;var c=b.toString();if(a.di.hasOwnProperty(c))return a.di[c];var d=a.mj(b);if(d.e.length<a.e.length)return a.di[c]=d;a.ei=b;return a}dj.prototype.mj=function(){return this};function gj(a,b,c){a.r=ej(b);a.Le=b;a.e=c}
function hj(a,b,c,d){if(y(b))c=ej(b);else{for(b=0;b<d;++b){if(0===c.length){a.Le="XY";a.r=2;return}c=c[0]}c=c.length;if(2==c)b="XY";else if(3==c)b="XYZ";else if(4==c)b="XYZM";else throw Error("unsupported stride: "+c);}a.Le=b;a.r=c}dj.prototype.transform=function(a){null!==this.e&&(a(this.e,this.e,this.r),this.W())};function ij(a,b,c){var d=a.e;return null===d?null:cj(d,a.r,b,c)};function jj(a,b,c,d){var e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],h;for(h=0;h<d;++h)a[b++]=g[h]}return b};function kj(a,b,c,d,e){e=y(e)?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e};function lj(a,b){dj.call(this);this.Ba(a,b)}G(lj,dj);n=lj.prototype;n.ua=function(){var a=new lj(null);a.ic(this.Le,this.e.slice());return a};n.R=function(){return this.e.slice()};n.i=function(a){if(this.Ug!=this.qa){var b=this.e,c=b[0],b=b[1];this.extent=Li(c,b,c,b,this.extent);this.Ug=this.qa}return Zi(this.extent,a)};n.Ma=da("Point");
n.Ba=function(a,b){if(null===a)this.ic("XY",null);else{hj(this,b,a,0);null===this.e&&(this.e=[]);var c=this.e,d=this.e,e=0,f,g;f=0;for(g=a.length;f<g;++f)d[e++]=a[f];c.length=e;this.W()}};n.ic=function(a,b){gj(this,a,b);this.W()};function mj(a,b,c,d,e,f){for(var g=!1,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],p=a[b+1];l>f!=p>f&&e<(m-h)*(f-l)/(p-l)+h&&(g=!g);h=m;l=p}return g};function nj(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return 0<e};function oj(a,b){dj.call(this);this.Va=[];this.Dl=-1;this.El=null;this.Om=this.Qp=this.Rp=-1;this.Wf=null;this.Ba(a,b)}G(oj,dj);n=oj.prototype;n.ua=function(){var a=new oj(null);a.ic(this.Le,this.e.slice(),this.Va.slice());return a};n.R=function(){var a=this.e,b=this.Va,c=this.r,d=0,e=y(void 0)?void 0:[],f=0,g,h;g=0;for(h=b.length;g<h;++g){var l=b[g];e[f++]=kj(a,d,l,c,e[f]);d=l}e.length=f;return e};
function pj(a){if(a.Dl!=a.qa){var b=Ti(a.i());var c=qj(a),d=a.Va,e=a.r,f,g,h,l,m,p=b[1],q=[],r=d[0];h=c[r-e];m=c[r-e+1];for(f=0;f<r;f+=e){l=c[f];g=c[f+1];if(p<=m&&g<=p||m<=p&&p<=g)h=(p-m)/(g-m)*(l-h)+h,q.push(h);h=l;m=g}r=NaN;m=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<g;++f){l=q[f];var s=Math.abs(l-h);if(s>m){h=(h+l)/2;var v;b:if(0!==d.length&&mj(c,0,d[0],e,h,p)){var u=v=void 0;v=1;for(u=d.length;v<u;++v)if(mj(c,d[v-1],d[v],e,h,p)){v=!1;break b}v=!0}else v=!1;v&&(r=h,m=s)}h=l}isNaN(r)&&(r=b[0]);
y(void 0)?((void 0).push(r,p),b=void 0):b=[r,p];a.El=b;a.Dl=a.qa}return a.El}function qj(a){if(a.Om!=a.qa){var b=a.e,c;a:{c=a.Va;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=nj(b,d,g,a.r);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.Wf=b;else{a.Wf=b.slice();c=b=a.Wf;e=a.Va;f=a.r;for(var h=0,g=0,d=e.length;g<d;++g){var l=e[g],m=nj(c,h,l,f);if(0===g?!m:m)for(var m=c,p=l,q=f;h<p-q;){var r;for(r=0;r<q;++r){var s=m[h+r];m[h+r]=m[p-q+r];m[p-q+r]=s}h+=q;p-=q}h=l}b.length=h}a.Om=a.qa}return a.Wf}
n.mj=function(a){var b=[],c=[],d=this.e,e=this.Va,f=this.r;a=Math.sqrt(a);var g=0,h=0,l,m;l=0;for(m=e.length;l<m;++l){var p=e[l];a:{var q=d,r=p,s=f,v=a,u=b;if(g!=r){var w=v*Math.round(q[g]/v),z=v*Math.round(q[g+1]/v),g=g+s;u[h++]=w;u[h++]=z;var x=void 0,A=void 0;do if(x=v*Math.round(q[g]/v),A=v*Math.round(q[g+1]/v),g+=s,g==r){u[h++]=x;u[h++]=A;break a}while(x==w&&A==z);for(;g<r;){var C,B;C=v*Math.round(q[g]/v);B=v*Math.round(q[g+1]/v);g+=s;if(C!=x||B!=A){var D=x-w,H=A-z,R=C-w,aa=B-z;D*aa==H*R&&(0>
D&&R<D||D==R||0<D&&R>D)&&(0>H&&aa<H||H==aa||0<H&&aa>H)||(u[h++]=x,u[h++]=A,w=x,z=A);x=C;A=B}}u[h++]=x;u[h++]=A}}c.push(h);g=p}b.length=h;d=new oj(null);d.ic("XY",b,c);return d};n.Ma=da("Polygon");n.Ba=function(a,b){if(null===a)this.ic("XY",null,this.Va);else{hj(this,b,a,2);null===this.e&&(this.e=[]);var c=this.e,d=this.r,e=this.Va,f=0,e=y(e)?e:[],g=0,h,l;h=0;for(l=a.length;h<l;++h)f=jj(c,f,a[h],d),e[g++]=f;e.length=g;this.e.length=0===e.length?0:e[e.length-1];this.W()}};
n.ic=function(a,b,c){gj(this,a,b);this.Va=c;this.W()};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
var rj={};rj.degrees=2*Math.PI*(new (ca("radius"))(6370997)).radius/360;rj.ft=0.3048;rj.m=1;rj.pixels=NaN;function sj(a){this.Ad=a.code;this.Sn=a.units;this.ba=y(a.extent)?a.extent:null;this.Xr=y(a.axisOrientation)?a.axisOrientation:"enu";this.cs=y(a.global)?a.global:!1;this.ul=null}sj.prototype.i=k("ba");var tj={},uj={};function vj(a){wj(a);I(a,function(b){I(a,function(a){b!==a&&xj(b,a,yj)})})}function wj(a){I(a,function(a){tj[a.Ad]=a;xj(a,a,yj)})}
function zj(a){return null!=a?ka(a)?Aj(a):a:Aj("EPSG:3857")}function xj(a,b,c){a=a.Ad;b=b.Ad;a in uj||(uj[a]={});uj[a][b]=c}function Aj(a){a instanceof sj||(ka(a)?(a=tj[a],y(a)||(a=null)):a=null);return a}function Bj(a,b){var c=Aj(a),d=Aj(b);return Cj(c,d)}function Cj(a,b){var c=a.Ad,d=b.Ad,e;c in uj&&d in uj[c]&&(e=uj[c][d]);y(e)||(e=Dj);return e}function Dj(a,b){if(y(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}
function yj(a,b){var c;if(y(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}function Ej(a,b,c){return Bj(b,c)(a)};function W(a){vi.call(this);a=a||{};var b={};b.center=y(a.center)?a.center:null;b.projection=zj(a.projection);var c,d,e;if(y(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Ai(c);else{d=a.maxResolution;y(d)||(c=a.projection,d=zj(c).i(),d=(null===d?360*rj.degrees/rj[c.Sn]:Math.max(d[2]-d[0],d[3]-d[1]))/256);c=a.maxZoom;y(c)||(c=28);var f=a.zoomFactor;y(f)||(f=2);e=d/Math.pow(f,c);c=Bi(f,d,c)}this.Bm=d;this.Tp=e;d=y(a.extent)?xi(a.extent):yi;(y(a.enableRotation)?a.enableRotation:1)?(e=a.constrainRotation,
e=y(e)&&!0!==e?!1===e?Di:la(e)?Ei(e):Di:Fi()):e=Ci;this.we=new Gi(d,c,e);y(a.resolution)?b.resolution=a.resolution:y(a.zoom)&&(b.resolution=this.constrainResolution(this.Bm,a.zoom));b.rotation=y(a.rotation)?a.rotation:0;this.setValues(b)}G(W,vi);W.prototype.constrainResolution=function(a,b,c){return this.we.resolution(a,b||0,c||0)};W.prototype.constrainRotation=function(a,b){return this.we.rotation(a,b||0)};W.prototype.getCenter=function(){return this.get("center")};W.prototype.getCenter=W.prototype.getCenter;
function Fj(a,b){var c=a.getCenter(),d=a.o();return[c[0]-d*b[0]/2,c[1]-d*b[1]/2,c[0]+d*b[0]/2,c[1]+d*b[1]/2]}W.prototype.getProjection=function(){return this.get("projection")};W.prototype.getProjection=W.prototype.getProjection;W.prototype.o=function(){return this.get("resolution")};W.prototype.getResolution=W.prototype.o;function Gj(a,b){return Math.max((a[2]-a[0])/b[0],(a[3]-a[1])/b[1])}W.prototype.$b=function(){return this.get("rotation")};W.prototype.getRotation=W.prototype.$b;
W.prototype.H=function(){return this};function Hj(a){var b=a.getCenter(),c=a.getProjection(),d=a.o();a=a.$b();return{center:b.slice(),projection:y(c)?c:null,resolution:d,rotation:y(a)?a:0}}W.prototype.getZoom=function(){var a,b=this.o();if(y(b)){var c,d=0;do{c=this.constrainResolution(this.Bm,d);if(c==b){a=d;break}++d}while(c>this.Tp)}return a};function Ij(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.setCenter(Ti(b)),b=Gj(b,c),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.ce(c))}
W.prototype.sh=function(){return null!=this.getCenter()&&y(this.o())};W.prototype.setCenter=function(a){this.set("center",a)};W.prototype.setCenter=W.prototype.setCenter;W.prototype.wn=function(a){this.set("projection",a)};W.prototype.setProjection=W.prototype.wn;W.prototype.ce=function(a){this.set("resolution",a)};W.prototype.setResolution=W.prototype.ce;W.prototype.qk=function(a){this.set("rotation",a)};W.prototype.setRotation=W.prototype.qk;function Jj(a,b,c,d){this.A=a;this.Y=b;this.I=c;this.w=d}function Kj(a,b,c,d,e){return y(e)?(e.A=a,e.Y=b,e.I=c,e.w=d,e):new Jj(a,b,c,d)}n=Jj.prototype;n.contains=function(a){return this.A<=a.x&&a.x<=this.Y&&this.I<=a.y&&a.y<=this.w};n.equals=function(a){return this.A==a.A&&this.I==a.I&&this.Y==a.Y&&this.w==a.w};n.extend=function(a){a.A<this.A&&(this.A=a.A);a.Y>this.Y&&(this.Y=a.Y);a.I<this.I&&(this.I=a.I);a.w>this.w&&(this.w=a.w)};n.ga=function(){return[this.xb(),this.w-this.I+1]};
n.xb=function(){return this.Y-this.A+1};n.intersects=function(a){return this.A<=a.Y&&this.Y>=a.A&&this.I<=a.w&&this.w>=a.I};function Lj(a){this.Zl=a.html;this.ji=y(a.tileRanges)?a.tileRanges:null};function Mj(a){eh.call(this);this.element=y(a.element)?a.element:null;this.$=y(a.target)?Q(a.target):null;this.b=null;this.Ch=[]}G(Mj,eh);Mj.prototype.c=function(){oc(this.element);Mj.g.c.call(this)};Mj.prototype.getMap=k("b");Mj.prototype.Ge=ea;
Mj.prototype.setMap=function(a){null===this.b||oc(this.element);0!=this.Ch.length&&(I(this.Ch,U),this.Ch.length=0);this.b=a;null!==this.b&&((null===this.$?a.Lh:this.$).appendChild(this.element),this.Ge!==ea&&this.Ch.push(T(a,"postrender",this.Ge,!1,this)),a.render())};function Nj(a){a=y(a)?a:{};this.Ye=S("UL");var b=gc("DIV",{"class":(y(a.className)?a.className:"ol-attribution")+" ol-unselectable"},this.Ye);Mj.call(this,{element:b,target:a.target});this.B=!0;this.xd={};this.wd={}}G(Nj,Mj);Nj.prototype.Ge=function(a){this.Ik(a.frameState)};
Nj.prototype.Ik=function(a){if(null===a)this.B&&(Jd(this.element,!1),this.B=!1);else{var b,c,d,e,f,g,h,l,m,p=a.layersArray,q=Tb(a.attributions),r={};b=0;for(c=p.length;b<c;b++)if(d=p[b].L,m=E(d).toString(),l=d.yd,null!==l)for(d=0,e=l.length;d<e;d++)if(g=l[d],h=E(g).toString(),!(h in q)){f=a.usedTiles[m];var s;if(s=y(f))a:if(s=g,null===s.ji)s=!0;else{var v=void 0,u=void 0,w=void 0,z=void 0;for(z in f)if(z in s.ji)for(w=f[z],v=0,u=s.ji[z].length;v<u;++v)if(s.ji[z][v].intersects(w)){s=!0;break a}s=!1}s?
(h in r&&delete r[h],q[h]=g):r[h]=g}b=[q,r];a=b[0];b=b[1];for(var x in this.xd)x in a?(this.wd[x]||(Jd(this.xd[x],!0),this.wd[x]=!0),delete a[x]):x in b?(this.wd[x]&&(Jd(this.xd[x],!1),delete this.wd[x]),delete b[x]):(oc(this.xd[x]),delete this.xd[x],delete this.wd[x]);for(x in a)c=S("LI"),c.innerHTML=a[x].Zl,this.Ye.appendChild(c),this.xd[x]=c,this.wd[x]=!0;for(x in b)c=S("LI"),c.innerHTML=b[x].Zl,Jd(c,!1),this.Ye.appendChild(c),this.xd[x]=c;x=!Qb(this.wd);this.B!=x&&(Jd(this.element,x),this.B=x)}};function Oj(a){a=y(a)?a:{};this.Ye=S("UL");var b=gc("DIV",{"class":(y(a.className)?a.className:"ol-logo")+" ol-unselectable"},this.Ye);Mj.call(this,{element:b,target:a.target});this.B=!0;this.Lp={}}G(Oj,Mj);Oj.prototype.Ge=function(a){this.Ik(a.frameState)};
Oj.prototype.Ik=function(a){if(null===a)this.B&&(Jd(this.element,!1),this.B=!1);else{var b;a=a.logos;var c=this.Lp;for(b in c)b in a||(oc(c[b]),delete c[b]);for(var d in a)if(!(d in c)){b=new Image;b.src=d;var e=a[d];""===e?e=b:(e=gc("A",{href:e,target:"_blank"}),e.appendChild(b));b=gc("LI",void 0,e);this.Ye.appendChild(b);c[d]=b}d=!Qb(a);this.B!=d&&(Jd(this.element,d),this.B=d)}};function Pj(a){return 1-Math.pow(1-a,3)};function Qj(a){return 3*a*a-2*a*a*a}function Rj(a){return a};function Sj(a){var b=a.source,c=y(a.start)?a.start:ta(),d=b[0],e=b[1],f=y(a.duration)?a.duration:1E3,g=y(a.easing)?a.easing:Qj;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var m=1-g((b.time-c)/f),p=d-b.view2DState.center[0],q=e-b.view2DState.center[1];b.animate=!0;b.view2DState.center[0]+=m*p;b.view2DState.center[1]+=m*q;b.viewHints[0]+=1;return!0}return!1}}
function Tj(a){var b=a.rotation,c=y(a.start)?a.start:ta(),d=y(a.duration)?a.duration:1E3,e=y(a.easing)?a.easing:Qj;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.view2DState.rotation;g.animate=!0;g.view2DState.rotation+=h*l;g.viewHints[0]+=1;return!0}return!1}}
function Uj(a){var b=a.resolution,c=y(a.start)?a.start:ta(),d=y(a.duration)?a.duration:1E3,e=y(a.easing)?a.easing:Qj;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.view2DState.resolution;g.animate=!0;var m=g.view2DState.resolution;g.view2DState.resolution+=h*l;g.viewHints[0]+=1;a.dispatchEvent({type:"zoom_anim",value:m/g.view2DState.resolution,resolution:g.view2DState.resolution});return!0}a.dispatchEvent({type:"zoom_anim",value:1,
resolution:g.view2DState.resolution});return!1}};function Vj(a){a=y(a)?a:{};var b=y(a.className)?a.className:"ol-zoom",c=y(a.delta)?a.delta:1,d=y(a.zoomInLabel)?a.zoomInLabel:"+",e=y(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=y(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=gc("SPAN",{role:"tooltip"},y(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=gc("BUTTON",{"class":b+"-in ol-has-tooltip",name:"ZoomIn",type:"button"},g,d);T(d,["touchend","click"],sa(Vj.prototype.Zn,c),!1,this);T(d,["mouseout",ce],function(){this.blur()},!1);f=gc("SPAN",{role:"tooltip",
type:"button"},f);e=gc("BUTTON",{"class":b+"-out  ol-has-tooltip",name:"ZoomOut"},f,e);T(e,["touchend","click"],sa(Vj.prototype.Zn,-c),!1,this);T(e,["mouseout",ce],function(){this.blur()},!1);b=gc("DIV",b+" ol-unselectable",d,e);Mj.call(this,{element:b,target:a.target});this.Tb=y(a.duration)?a.duration:250}G(Vj,Mj);
Vj.prototype.Zn=function(a,b){b.preventDefault();var c=this.getMap(),d=c.k().H(),e=d.o();y(e)&&(0<this.Tb&&c.Nc(Uj({resolution:e,duration:this.Tb,easing:Pj})),c=d.constrainResolution(e,a),d.ce(c))};function Wj(a,b,c){this.Ti=a;this.Hh=b;this.wo=c;this.ya=[];this.Ie=this.Ei=0}Wj.prototype.update=function(a,b){this.ya.push(a,b,ta())};Wj.prototype.end=function(){var a=ta()-this.wo,b=this.ya.length-3;if(this.ya[b+2]<a)return!1;for(var c=b-3;0<=c&&this.ya[c+2]>a;)c-=3;if(0<=c){var a=this.ya[b+2]-this.ya[c+2],d=this.ya[b]-this.ya[c],b=this.ya[b+1]-this.ya[c+1];this.Ei=Math.atan2(b,d);this.Ie=Math.sqrt(d*d+b*b)/a;return this.Ie>this.Hh}return!1};
function Xj(a,b){var c=a.Ti,d=a.Ie,e=a.Hh,f=Math.log(a.Hh/a.Ie)/a.Ti;return Sj({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/(e-d)}})};function Yj(){bh.call(this);this.b=null}G(Yj,bh);Yj.prototype.getMap=k("b");Yj.prototype.setMap=ca("b");function Zj(a,b,c,d,e){if(null!=c){var f=b.$b(),g=b.getCenter();y(f)&&(y(g)&&y(e)&&0<e)&&(a.Nc(Tj({rotation:f,duration:e,easing:Pj})),y(d)&&a.Nc(Sj({source:g,duration:e,easing:Pj})));if(null!=d){var h;a=b.getCenter();y(a)&&(h=[a[0]-d[0],a[1]-d[1]],ug(h,c-b.$b()),pg(h,d));b.setCenter(h)}b.qk(c)}}function ak(a,b,c,d,e){var f=b.o();c=b.constrainResolution(f,c,0);bk(a,b,c,d,e)}
function bk(a,b,c,d,e){if(null!=c){var f=b.o(),g=b.getCenter();y(f)&&(y(g)&&y(e)&&0<e)&&(a.Nc(Uj({resolution:f,duration:e,easing:Pj})),y(d)&&a.Nc(Sj({source:g,duration:e,easing:Pj})));if(null!=d){var h;a=b.getCenter();e=b.o();y(a)&&y(e)&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.setCenter(h)}b.ce(c)}};function ck(a){a=y(a)?a:{};this.Qb=y(a.delta)?a.delta:1;Yj.call(this);this.Tb=y(a.duration)?a.duration:250}G(ck,Yj);ck.prototype.Ya=function(a){var b=!1,c=a.Ea;if(a.type==ai){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Qb:this.Qb,e=b.k().H();ak(b,e,c,d,this.Tb);a.preventDefault();b=!0}return!b};function dk(a){a=a.Ea;return a.altKey&&!a.Mh&&a.shiftKey}function ek(a){a=a.Ea;return!a.altKey&&!a.Mh&&!a.shiftKey}function fk(a){a=a.Ea;return!a.altKey&&!a.Mh&&a.shiftKey}function gk(a){a=a.Ea.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function hk(){Yj.call(this);this.Uc=!1;this.qg={};this.Da=[]}G(hk,Yj);function ik(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}n=hk.prototype;n.jb=ea;n.zb=Vc;n.yb=Vc;
n.Ya=function(a){if(!(a instanceof Yh))return!0;var b=!1,c=a.type;if(c===fi||c===hi||c===di)c=a.jd,a.type==di?delete this.qg[c.pointerId]:a.type==fi?this.qg[c.pointerId]=c:c.pointerId in this.qg&&(this.qg[c.pointerId]=c),this.Da=Ob(this.qg);this.Uc&&(a.type==hi?this.jb(a):a.type==di&&(this.Uc=this.zb(a)));a.type==fi&&(this.Uc=a=this.yb(a),b=this.Xq(a));return!b};n.Xq=Vc;function jk(a){hk.call(this);this.Bb=(y(a)?a:{}).kinetic;this.Ac=this.Nf=null;this.pc=y(a.condition)?a.condition:ek;this.Em=!1}G(jk,hk);jk.prototype.jb=function(a){var b=ik(this.Da);if(null!==this.Ac){this.Bb&&this.Bb.update(b[0],b[1]);var c=this.Ac[0]-b[0],d=b[1]-this.Ac[1];a=a.map;var e=a.k().H(),f=Hj(e),c=[c,d];vg(c,f.resolution);ug(c,f.rotation);pg(c,f.center);c=e.we.center(c);a.render();e.setCenter(c)}this.Ac=b};
jk.prototype.zb=function(a){a=a.map;var b=a.k().H();if(0===this.Da.length){if(!this.Em&&this.Bb&&this.Bb.end()){var c=(this.Bb.Hh-this.Bb.Ie)/this.Bb.Ti,d=this.Bb.Ei,e=b.getCenter();this.Nf=Xj(this.Bb,e);a.Nc(this.Nf);e=kk(a,e);c=a.Xb([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.we.center(c);b.setCenter(c)}wi(b,-1);a.render();return!1}this.Ac=null;return!0};
jk.prototype.yb=function(a){if(0<this.Da.length&&this.pc(a)){var b=a.map,c=b.k().H();this.Ac=null;this.Uc||wi(c,1);b.render();null!==this.Nf&&Ka(b.Qh,this.Nf)&&(c.setCenter(a.frameState.view2DState.center),this.Nf=null);this.Bb&&(a=this.Bb,a.ya.length=0,a.Ei=0,a.Ie=0);this.Em=1<this.Da.length;return!0}return!1};function lk(a){a=y(a)?a:{};hk.call(this);this.pc=y(a.condition)?a.condition:dk;this.zc=void 0}G(lk,hk);lk.prototype.jb=function(a){if(1==a.jd.pointerId){var b=a.map,c=b.ga();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(y(this.zc)){a=c-this.zc;var d=b.k().H(),e=Hj(d);b.render();Zj(b,d,e.rotation-a)}this.zc=c}};lk.prototype.zb=function(a){if(1!=a.jd.pointerId)return!0;a=a.map;var b=a.k();wi(b,-1);var b=b.H(),c=Hj(b).rotation,c=b.constrainRotation(c,0);Zj(a,b,c,void 0,250);return!1};
lk.prototype.yb=function(a){return 1==a.jd.pointerId&&he(a.Ea)&&this.pc(a)?(a=a.map,wi(a.k(),1),a.render(),this.zc=void 0,!0):!1};function mk(a,b,c,d,e,f){$d.call(this,a,b);this.vectorContext=c;this.frameState=d;this.context=e;this.glContext=f}G(mk,$d);function nk(a){this.bh=this.Sg=this.Lb=this.Ec=this.b=null;this.de=a}G(nk,Vd);function ok(a){var b=a.Lb,c=a.Sg;a=Ha([b,[b[0],c[1]],c,[c[0],b[1]]],a.b.Xb,a.b);a[4]=a[0].slice();return new oj([a])}nk.prototype.c=function(){this.setMap(null)};nk.prototype.qj=function(a){var b=this.bh,c=this.de;a.vectorContext.Xi(Infinity,function(a){a.hc(c.ub,c.Ia);a.Jb(c.C);a.tf(b,null)})};nk.prototype.N=k("bh");function pk(a){null===a.b||(null===a.Lb||null===a.Sg)||a.b.render()}
nk.prototype.setMap=function(a){null!==this.Ec&&(U(this.Ec),this.Ec=null,this.b.render(),this.b=null);this.b=a;null!==this.b&&(this.Ec=T(a,"postcompose",this.qj,!1,this),pk(this))};function qk(a,b){$d.call(this,a);this.coordinate=b}G(qk,$d);function rk(a){hk.call(this);a=y(a)?a:{};this.ef=new nk(y(a.style)?a.style:null);this.Lb=null;this.pc=y(a.condition)?a.condition:Wc}G(rk,hk);n=rk.prototype;n.jb=function(a){if(1==a.jd.pointerId){var b=this.ef;a=a.pixel;b.Lb=this.Lb;b.Sg=a;b.bh=ok(b);pk(b)}};n.N=function(){return this.ef.N()};n.Gm=ea;
n.zb=function(a){if(1!=a.jd.pointerId)return!0;this.ef.setMap(null);var b=a.pixel[0]-this.Lb[0],c=a.pixel[1]-this.Lb[1];64<=b*b+c*c&&(this.Gm(a),this.dispatchEvent(new qk("boxend",a.coordinate)));return!1};n.yb=function(a){if(1==a.jd.pointerId&&he(a.Ea)&&this.pc(a)){this.Lb=a.pixel;this.ef.setMap(a.map);var b=this.ef,c=this.Lb;b.Lb=this.Lb;b.Sg=c;b.bh=ok(b);pk(b);this.dispatchEvent(new qk("boxstart",a.coordinate));return!0}return!1};var sk=/^#(?:[0-9a-f]{3}){1,2}$/i,tk=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,uk=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;function vk(a){if(!ka(a)){var b=a[0];b!=(b|0)&&(b=b+0.5|0);var c=a[1];c!=(c|0)&&(c=c+0.5|0);var d=a[2];d!=(d|0)&&(d=d+0.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a}
var xk=function(){var a={},b=0;return function(c,d){var e;if(a.hasOwnProperty(c))e=a[c];else{if(1024<=b){e=0;for(var f in a)0===(e++&3)&&(delete a[f],--b)}e=wk(c);a[c]=e;++b}y(d)&&(d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],e=d);return e}}();
function wk(a){var b=!1;Cf.hasOwnProperty(a)&&(a=Cf[a],b=!0);var c,d;if(b||sk.exec(a))return d=3==a.length-1?1:2,b=parseInt(a.substr(1+0*d,d),16),c=parseInt(a.substr(1+1*d,d),16),a=parseInt(a.substr(1+2*d,d),16),1==d&&(b=(b<<4)+b,c=(c<<4)+c,a=(a<<4)+a),b=[b,c,a,1];if(d=uk.exec(a))return b=Number(d[1]),c=Number(d[2]),a=Number(d[3]),d=Number(d[4]),b=[b,c,a,d],yk(b,b);if(d=tk.exec(a))return b=Number(d[1]),c=Number(d[2]),a=Number(d[3]),b=[b,c,a,1],yk(b,b);throw Error(a+" is not a valid color");}
function yk(a,b){var c=y(b)?b:[];c[0]=Hb(a[0]+0.5|0,0,255);c[1]=Hb(a[1]+0.5|0,0,255);c[2]=Hb(a[2]+0.5|0,0,255);c[3]=Hb(a[3],0,1);return c};function zk(a){a=y(a)?a:{};this.fb=y(a.color)?a.color:null;this.Pf=a.lineCap;this.Jp=y(a.lineDash)?a.lineDash:null;this.Qf=a.lineJoin;this.Uf=a.miterLimit;this.ud=a.width}zk.prototype.getLineDash=k("Jp");zk.prototype.xb=k("ud");function Ak(a){a=y(a)?a:{};this.fb=y(a.color)?a.color:null};function Bk(a){this.gd=a.opacity;this.Ic=a.rotateWithView;this.od=a.rotation;this.Hb=a.scale;this.Jc=a.Yq}Bk.prototype.getOpacity=k("gd");Bk.prototype.$b=k("od");function Ck(a){a=y(a)?a:{};this.ub=y(a.fill)?a.fill:null;this.h=y(a.image)?a.image:null;this.Ia=y(a.stroke)?a.stroke:null;this.C=y(a.text)?a.text:null;this.Jr=a.zIndex}Ck.prototype.J=k("h");Ck.prototype.getZIndex=k("Jr");function Dk(a){a=y(a)?a:{};rk.call(this,{condition:y(a.condition)?a.condition:fk,style:y(a.style)?a.style:new Ck({stroke:new zk({color:[0,0,255,1]})})})}G(Dk,rk);Dk.prototype.Gm=function(){var a=this.getMap(),b=a.k().H(),c=this.N().i(),d=Ti(c),c=Gj(c,a.ga()),c=b.constrainResolution(c,0,void 0);bk(a,b,c,d,200)};function Ek(a){Yj.call(this);a=y(a)?a:{};this.pc=y(a.condition)?a.condition:$c(ek,gk);this.sq=y(a.pixelDelta)?a.pixelDelta:128}G(Ek,Yj);
Ek.prototype.Ya=function(a){var b=!1;if("key"==a.type){var c=a.Ea.keyCode;if(this.pc(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.k(),e=Hj(b),f=e.resolution*this.sq,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];ug(c,e.rotation);e=b.getCenter();y(e)&&(y(100)&&d.Nc(Sj({source:e,duration:100,easing:Rj})),d=b.we.center([e[0]+c[0],e[1]+c[1]]),b.setCenter(d));a.preventDefault();b=!0}}return!b};function Fk(a){Yj.call(this);a=y(a)?a:{};this.pc=y(a.condition)?a.condition:gk;this.Qb=y(a.delta)?a.delta:1;this.Tb=y(a.duration)?a.duration:100}G(Fk,Yj);Fk.prototype.Ya=function(a){var b=!1;if("key"==a.type){var c=a.Ea.charCode;if(this.pc(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Qb:-this.Qb;b.render();var d=b.k().H();ak(b,d,c,void 0,this.Tb);a.preventDefault();b=!0}}return!b};function Gk(a){a=y(a)?a:{};Yj.call(this);this.Qb=0;this.Tb=y(a.duration)?a.duration:250;this.Dj=null;this.Dk=this.hi=void 0}G(Gk,Yj);Gk.prototype.Ya=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.Ea;this.Dj=a.coordinate;this.Qb+=c.Pc;y(this.hi)||(this.hi=ta());c=Math.max(80-(ta()-this.hi),0);t.clearTimeout(this.Dk);this.Dk=t.setTimeout(F(this.zo,this,b),c);a.preventDefault();b=!0}return!b};
Gk.prototype.zo=function(a){var b=Hb(this.Qb,-1,1),c=a.k().H();a.render();ak(a,c,-b,this.Dj,this.Tb);this.Qb=0;this.Dj=null;this.Dk=this.hi=void 0};function Hk(a){hk.call(this);a=y(a)?a:{};this.eb=null;this.zc=void 0;this.cg=!1;this.Xh=0;this.$q=y(a.threshold)?a.threshold:0.3}G(Hk,hk);Hk.prototype.jb=function(a){var b=0,c=this.Da[0],d=this.Da[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);y(this.zc)&&(b=c-this.zc,this.Xh+=b,!this.cg&&Math.abs(this.Xh)>this.$q&&(this.cg=!0));this.zc=c;a=a.map;c=Ed(a.na);d=ik(this.Da);d[0]-=c.x;d[1]-=c.y;this.eb=a.Xb(d);this.cg&&(c=a.k().H(),d=Hj(c),a.render(),Zj(a,c,d.rotation+b,this.eb))};
Hk.prototype.zb=function(a){if(2>this.Da.length){a=a.map;var b=a.k();wi(b,-1);if(this.cg){var b=b.H(),c=Hj(b).rotation,d=this.eb,c=b.constrainRotation(c,0);Zj(a,b,c,d,250)}return!1}return!0};Hk.prototype.yb=function(a){return 2<=this.Da.length?(a=a.map,this.eb=null,this.zc=void 0,this.cg=!1,this.Xh=0,this.Uc||wi(a.k(),1),a.render(),!0):!1};function Ik(a){a=y(a)?a:{};hk.call(this);this.eb=null;this.Tb=y(a.duration)?a.duration:400;this.zh=void 0;this.Gj=1}G(Ik,hk);Ik.prototype.jb=function(a){var b=1,c=this.Da[0],d=this.Da[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);y(this.zh)&&(b=this.zh/e);this.zh=e;1!=b&&(this.Gj=b);a=a.map;var e=a.k().H(),c=Hj(e),d=Ed(a.na),f=ik(this.Da);f[0]-=d.x;f[1]-=d.y;this.eb=a.Xb(f);a.render();bk(a,e,c.resolution*b,this.eb)};
Ik.prototype.zb=function(a){if(2>this.Da.length){a=a.map;var b=a.k();wi(b,-1);var b=b.H(),c=Hj(b).resolution,d=this.eb,e=this.Tb,c=b.constrainResolution(c,0,this.Gj-1);bk(a,b,c,d,e);return!1}return!0};Ik.prototype.yb=function(a){return 2<=this.Da.length?(a=a.map,this.eb=null,this.zh=void 0,this.Gj=1,this.Uc||wi(a.k(),1),a.render(),!0):!1};function Jk(a){a=y(a)?a:{};var b=new mh,c=new Wj(-0.005,0.05,100);(y(a.altShiftDragRotate)?a.altShiftDragRotate:1)&&b.push(new lk);(y(a.doubleClickZoom)?a.doubleClickZoom:1)&&b.push(new ck({delta:a.zoomDelta,duration:a.zoomDuration}));(y(a.dragPan)?a.dragPan:1)&&b.push(new jk({kinetic:c}));(y(a.pinchRotate)?a.pinchRotate:1)&&b.push(new Hk);(y(a.pinchZoom)?a.pinchZoom:1)&&b.push(new Ik({duration:a.zoomDuration}));if(y(a.keyboard)?a.keyboard:1)b.push(new Ek),b.push(new Fk({delta:a.zoomDelta,duration:a.zoomDuration}));
(y(a.mouseWheelZoom)?a.mouseWheelZoom:1)&&b.push(new Gk({duration:a.zoomDuration}));(y(a.shiftDragZoom)?a.shiftDragZoom:1)&&b.push(new Dk);return b};function Kk(a){bh.call(this);this.Zj=Aj(a.projection);this.ba=y(a.extent)?a.extent:y(a.projection)?this.Zj.i():null;this.yd=y(a.attributions)?a.attributions:null;this.vm=a.logo;this.l=y(a.state)?a.state:1}G(Kk,bh);Kk.prototype.i=k("ba");Kk.prototype.getProjection=k("Zj");Kk.prototype.wa=k("l");Kk.prototype.wn=ca("Zj");function X(a){eh.call(this);a=Tb(a);a.brightness=y(a.brightness)?a.brightness:0;a.contrast=y(a.contrast)?a.contrast:1;a.hue=y(a.hue)?a.hue:0;a.opacity=y(a.opacity)?a.opacity:1;a.saturation=y(a.saturation)?a.saturation:1;a.visible=y(a.visible)?a.visible:!0;a.maxResolution=y(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=y(a.minResolution)?a.minResolution:0;this.setValues(a)}G(X,eh);X.prototype.Jl=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.Jl;
X.prototype.Kl=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.Kl;X.prototype.Ml=function(){return this.get("hue")};X.prototype.getHue=X.prototype.Ml;
function Lk(a){var b=a.Jl(),c=a.Kl(),d=a.Ml(),e=a.getOpacity(),f=a.Ql(),g=a.nj(),h=a.getVisible(),l=a.Nl();a=a.Ol();return{brightness:y(b)?Hb(b,-1,1):0,contrast:y(c)?Math.max(c,0):1,hue:y(d)?d:0,opacity:y(e)?Hb(e,0,1):1,saturation:y(f)?Math.max(f,0):1,vk:g,visible:y(h)?!!h:!0,maxResolution:y(l)?l:Infinity,minResolution:y(a)?Math.max(a,0):0}}X.prototype.Nl=function(){return this.get("maxResolution")};X.prototype.getMaxResolution=X.prototype.Nl;X.prototype.Ol=function(){return this.get("minResolution")};
X.prototype.getMinResolution=X.prototype.Ol;X.prototype.getOpacity=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.getOpacity;X.prototype.Ql=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.Ql;X.prototype.getVisible=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.getVisible;X.prototype.Oq=function(a){this.set("brightness",a)};X.prototype.setBrightness=X.prototype.Oq;X.prototype.Pq=function(a){this.set("contrast",a)};
X.prototype.setContrast=X.prototype.Pq;X.prototype.Qq=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.Qq;X.prototype.Rq=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.Rq;X.prototype.Sq=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.Sq;X.prototype.setOpacity=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.setOpacity;X.prototype.Uq=function(a){this.set("saturation",a)};
X.prototype.setSaturation=X.prototype.Uq;X.prototype.setVisible=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.setVisible;function Mk(a){var b=y(a)?a:{};a=Tb(b);delete a.layers;b=b.layers;X.call(this,a);this.Zc=null;T(this,ih("layers"),this.lp,!1,this);y(b)?ia(b)&&(b=new mh(Ma(b))):b=new mh;this.un(b)}G(Mk,X);n=Mk.prototype;n.Tl=function(){this.getVisible()&&this.W()};
n.lp=function(){null!==this.Zc&&(I(Ob(this.Zc),U),this.Zc=null);var a=this.Xa();if(null!=a){this.Zc={add:T(a,"add",this.kp,!1,this),remove:T(a,"remove",this.mp,!1,this)};var a=a.getArray(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Zc[E(d).toString()]=T(d,["propertychange","change"],this.Tl,!1,this)}this.W()};n.kp=function(a){a=a.element;this.Zc[E(a).toString()]=T(a,["propertychange","change"],this.Tl,!1,this);this.W()};
n.mp=function(a){a=E(a.element).toString();U(this.Zc[a]);delete this.Zc[a];this.W()};n.Xa=function(){return this.get("layers")};Mk.prototype.getLayers=Mk.prototype.Xa;Mk.prototype.un=function(a){this.set("layers",a)};Mk.prototype.setLayers=Mk.prototype.un;
Mk.prototype.jj=function(a){var b=y(a)?a:{layers:[],layerStates:[]},c=b.layers.length;this.Xa().forEach(function(a){a.jj(b)});a=Lk(this);var d,e;for(d=b.layerStates.length;c<d;c++)e=b.layerStates[c],e.brightness=Hb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution);return b};
Mk.prototype.nj=da(1);function Nk(a){sj.call(this,{code:a,units:"m",extent:Ok,global:!0})}G(Nk,sj);var Pk=6378137*Math.PI,Ok=[-Pk,-Pk,Pk,Pk],Qk=Ha(["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857"],function(a){return new Nk(a)});function Rk(a,b,c){var d=a.length;c=1<c?c:2;y(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}
function Sk(a,b,c){var d=a.length;c=1<c?c:2;y(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Tk(a,b){sj.call(this,{code:a,units:"degrees",extent:Uk,axisOrientation:b,global:!0})}G(Tk,sj);var Uk=[-180,-90,180,90],Vk=[new Tk("CRS:84"),new Tk("EPSG:4326","neu"),new Tk("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Tk("urn:ogc:def:crs:OGC:1.3:CRS84"),new Tk("urn:ogc:def:crs:OGC:2:84"),new Tk("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Tk("urn:x-ogc:def:crs:EPSG:4326","neu")];function Wk(a){var b=Tb(a);delete b.source;X.call(this,b);this.L=a.source;T(this.L,"change",this.wp,!1,this)}G(Wk,X);Wk.prototype.jj=function(a){a=y(a)?a:{layers:[],layerStates:[]};a.layers.push(this);a.layerStates.push(Lk(this));return a};Wk.prototype.nj=function(){return this.L.wa()};Wk.prototype.wp=function(){this.W()};function Xk(a,b,c,d,e){V.call(this);this.yd=e;this.ba=a;this.Zd=c;this.ag=b;this.state=d}G(Xk,V);Xk.prototype.W=function(){this.dispatchEvent("change")};Xk.prototype.i=k("ba");Xk.prototype.o=k("ag");Xk.prototype.wa=k("state");function Yk(a){this.minZoom=y(a.minZoom)?a.minZoom:0;this.nd=a.resolutions;this.maxZoom=this.nd.length-1;this.Kh=y(a.origin)?a.origin:null;this.Qm=null;y(a.origins)&&(this.Qm=a.origins);this.Ck=null;y(a.tileSizes)&&(this.Ck=a.tileSizes);this.Gn=y(a.tileSize)?a.tileSize:null===this.Ck?256:void 0}var Zk=new ji(0,0,0);Yk.prototype.yf=function(a,b,c,d,e){e=$k(this,a,e);for(a=a.z-1;a>=this.minZoom;){if(b.call(c,a,al(this,e,a,d)))return!0;--a}return!1};
Yk.prototype.Fe=function(a){return null===this.Kh?this.Qm[a]:this.Kh};Yk.prototype.o=function(a){return this.nd[a]};Yk.prototype.Bf=function(a,b,c){return a.z<this.maxZoom?(c=$k(this,a,c),al(this,c,a.z+1,b)):null};function bl(a,b,c,d){cl(a,b[0],b[1],c,!1,Zk);var e=Zk.x,f=Zk.y;cl(a,b[2],b[3],c,!0,Zk);return Kj(e,Zk.x,f,Zk.y,d)}function al(a,b,c,d){c=a.o(c);return bl(a,b,c,d)}function dl(a,b){var c=a.Fe(b.z),d=a.o(b.z),e=el(a,b.z);return[c[0]+(b.x+0.5)*e*d,c[1]+(b.y+0.5)*e*d]}
function $k(a,b,c){var d=a.Fe(b.z),e=a.o(b.z);a=el(a,b.z);var f=d[0]+b.x*a*e;b=d[1]+b.y*a*e;return Li(f,b,f+a*e,b+a*e,c)}function cl(a,b,c,d,e,f){var g=zi(a.nd,d,0),h=d/a.o(g),l=a.Fe(g);a=el(a,g);b=h*(b-l[0])/(d*a);c=h*(c-l[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return ki(g,b,c,f)}function fl(a,b,c){c=a.o(c);return cl(a,b[0],b[1],c,!1,void 0)}function el(a,b){return y(a.Gn)?a.Gn:a.Ck[b]};function gl(a){Kk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection});this.qq=y(a.opaque)?a.opaque:!1;this.tileGrid=y(a.tileGrid)?a.tileGrid:null}G(gl,Kk);n=gl.prototype;n.gf=Vc;n.bj=function(a,b,c,d){var e=!0,f,g,h,l;for(h=d.A;h<=d.Y;++h)for(l=d.I;l<=d.w;++l)g=this.ij(c,h,l),a[c]&&a[c][g]||(f=b(c,h,l),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};n.dh=da(0);n.ij=li;
function hl(a,b){var c;if(null===a.tileGrid){if(c=b.ul,null===c){c=b.i();for(var d=null===c?360*rj.degrees/rj[b.Sn]:Math.max(c[2]-c[0],c[3]-c[1]),e=y(void 0)?void 0:256,f=Array((y(void 0)?NaN:42)+1),d=d/e,g=0,h=f.length;g<h;++g)f[g]=d/Math.pow(2,g);c=new Yk({origin:null===c?[0,0]:[c[0],c[1]],resolutions:f,tileSize:e});b.ul=c}}else c=a.tileGrid;return c}n.Vn=ea;function il(a,b){Vd.call(this);this.Sd=a;this.$a=b}G(il,Vd);il.prototype.getMap=function(){return this.Sd.getMap()};il.prototype.pj=function(a){2===a.target.wa()&&jl(this)};function jl(a){var b=a.$a;b.getVisible()&&1==b.nj()&&a.getMap().render()}function kl(a,b){b.gf()&&a.postRenderFunctions.push(sa(function(a,b,e){b=E(a).toString();a.$i(e.usedTiles[b])},b))}function ll(a,b){if(null!=b){var c,d,e;d=0;for(e=b.length;d<e;++d)c=b[d],a[E(c).toString()]=c}}
function ml(a,b){var c=b.vm;y(c)&&(a.logos[c]="")}function nl(a,b,c,d){b=E(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function ol(a,b,c,d){return function(e,f,g){e=b.getTile(e,f,g,c,d);return a(e)?e:null}}function pl(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function ql(a,b,c,d,e,f,g,h,l,m){var p=E(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var q=a.wantedTiles[p];a=a.tileQueue;var r=c.minZoom,s,v,u,w,z,x;y(h)||(h=0);for(x=g;x>=r;--x)for(v=al(c,f,x),u=c.o(x),w=v.A;w<=v.Y;++w)for(z=v.I;z<=v.w;++z)g-x<=h?(s=b.getTile(x,w,z,d,e),0==s.wa()&&(q[s.p.toString()]=!0,s.getKey()in a.Te||ri(a,[s,p,dl(c,s.p),u])),y(l)&&l.call(m,s)):b.Vn(x,w,z)};function rl(){this.Ja={};this.Bg=0;this.Pp=32}fa(rl);rl.prototype.clear=function(){this.Ja={};this.Bg=0};rl.prototype.get=function(a,b){var c=b+":"+a;return c in this.Ja?this.Ja[c]:null};rl.prototype.set=function(a,b,c){this.Ja[b+":"+a]=c;++this.Bg};function sl(a,b,c,d,e,f,g,h){Mg(a);0===b&&0===c||Og(a,b,c);1==d&&1==e||Pg(a,d,e);0!==f&&Qg(a,f);0===g&&0===h||Og(a,g,h);return a}function tl(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function ul(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function vl(a,b){Vd.call(this);this.b=b;this.Cb={}}G(vl,Vd);
function wl(a){var b=a.view2DState,c=a.coordinateToPixelMatrix;sl(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],l=c[6],m=c[7],p=c[8],q=c[9],r=c[10],s=c[11],v=c[12],u=c[13],w=c[14],c=c[15],z=b*h-d*g,x=b*l-e*g,A=b*m-f*g,C=d*l-e*h,B=d*m-f*h,D=e*m-f*l,H=p*u-q*v,R=p*w-r*v,aa=p*c-s*v,Y=q*w-r*u,M=q*c-s*u,O=r*c-s*w,N=z*O-x*M+A*Y+C*aa-B*R+D*H;0!=N&&(N=1/N,a[0]=(h*O-l*M+m*Y)*N,a[1]=(-d*
O+e*M-f*Y)*N,a[2]=(u*D-w*B+c*C)*N,a[3]=(-q*D+r*B-s*C)*N,a[4]=(-g*O+l*aa-m*R)*N,a[5]=(b*O-e*aa+f*R)*N,a[6]=(-v*D+w*A-c*x)*N,a[7]=(p*D-r*A+s*x)*N,a[8]=(g*M-h*aa+m*H)*N,a[9]=(-b*M+d*aa-f*H)*N,a[10]=(v*B-u*A+c*z)*N,a[11]=(-p*B+q*A-s*z)*N,a[12]=(-g*Y+h*R-l*H)*N,a[13]=(b*Y-d*R+e*H)*N,a[14]=(-v*C+u*x-w*z)*N,a[15]=(p*C-q*x+r*z)*N)}n=vl.prototype;n.Gg=function(a){return new il(this,a)};n.c=function(){Lb(this.Cb,function(a){Zd(a)});vl.g.c.call(this)};
function xl(a,b){var c=E(b).toString();if(c in a.Cb)return a.Cb[c];var d=a.Gg(b);return a.Cb[c]=d}n.getMap=k("b");n.Sh=ea;n.Eq=function(a,b){for(var c in this.Cb)if(!(null!==b&&c in b.layerStates)){var d=this.Cb[c];delete this.Cb[c];Zd(d)}};function yl(a){a.postRenderFunctions.push(function(){var a=rl.Zb();if(a.Bg>a.Pp){var c=0,d,e;for(d in a.Ja)e=a.Ja[d],0!==(c++&3)||ze(e)||(delete a.Ja[d],--a.Bg)}})}
function zl(a,b){for(var c in a.Cb)if(!(c in b.layerStates)){b.postRenderFunctions.push(F(a.Eq,a));break}};function Al(a){Wk.call(this,a)}G(Al,Wk);function Bl(a){Wk.call(this,a)}G(Bl,Wk);Bl.prototype.gh=function(){return this.get("preload")};Bl.prototype.getPreload=Bl.prototype.gh;Bl.prototype.Tq=function(a){this.set("preload",a)};Bl.prototype.setPreload=Bl.prototype.Tq;Bl.prototype.hh=function(){return this.get("useInterimTilesOnError")};Bl.prototype.getUseInterimTilesOnError=Bl.prototype.hh;Bl.prototype.Vq=function(a){this.set("useInterimTilesOnError",a)};Bl.prototype.setUseInterimTilesOnError=Bl.prototype.Vq;var Cl=xk("black"),Dl=[],El=[0,0,0,1];function Fl(a){a=y(a)?a:{};this.f=S("CANVAS");this.lh=null;this.ub=y(a.fill)?a.fill:null;this.ak=a.radius;this.Ia=y(a.stroke)?a.stroke:null;a=this.md();this.eb=[a/2,a/2];this.Kb=[a,a];Bk.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,Yq:void 0})}G(Fl,Bk);n=Fl.prototype;n.J=k("f");n.ga=k("Kb");n.load=ea;n.rr=ea;
n.md=function(){var a=this.f,b,c;null===this.Ia?c=0:(b=vk(this.Ia.fb),c=this.Ia.xb(),y(c)||(c=1));var d=2*(this.ak+c)+1;a.height=d;a.width=d;var e=a.getContext("2d");e.arc(d/2,d/2,this.ak,0,2*Math.PI,!0);null!==this.ub&&(e.fillStyle=vk(this.ub.fb),e.fill());null!==this.Ia&&(e.strokeStyle=b,e.lineWidth=c,e.stroke());null===this.ub?(a=this.lh=S("CANVAS"),a.height=d,a.width=d,e=a.getContext("2d"),e.arc(d/2,d/2,this.ak,0,2*Math.PI,!0),e.fillStyle=Cl,e.fill(),null!==this.Ia&&(e.strokeStyle=b,e.lineWidth=
c,e.stroke())):this.lh=a;return d};function Gl(a){eh.call(this);this.ia=void 0;this.ej="geometry";this.de=null;this.pd=void 0;this.ah=null;T(this,ih(this.ej),this.$o,!1,this);null!=a?a instanceof bj?this.nk(a):this.setValues(a):this.nk(null)}G(Gl,eh);Gl.prototype.N=function(){return this.get(this.ej)};Gl.prototype.getGeometry=Gl.prototype.N;Gl.prototype.tc=k("ia");Gl.prototype.Zo=function(){this.W()};Gl.prototype.$o=function(){null!==this.ah&&(U(this.ah),this.ah=null);var a=this.N();null!=a&&(this.ah=T(a,"change",this.Zo,!1,this))};
Gl.prototype.nk=function(a){this.set(this.ej,a)};Gl.prototype.setGeometry=Gl.prototype.nk;Gl.prototype.setStyle=function(a){this.de=a;ma(a)||(a=ia(a)?a:[a],a=Uc(a));this.pd=a;this.W()};function Hl(){var a=new Ak({color:"rgba(255,255,255,0.4)"}),b=new zk({color:"#3399CC",width:1.25}),c=[new Ck({image:new Fl({fill:a,stroke:b,radius:5}),fill:a,stroke:b})];Hl=function(){return c};return c}function Il(a,b){var c=a.pd;y(c)||(c=Hl);return c.call(a,b)}
function Jl(a){ma(a)||(a=ia(a)?a:[a],a=Uc(a));return a};function Kl(a){a=y(a)?a:{};var b=Tb(a);delete b.style;Wk.call(this,b);this.de=null;this.pd=void 0;y(a.style)&&this.setStyle(a.style)}G(Kl,Wk);Kl.prototype.setStyle=function(a){this.de=a;this.pd=Jl(a);this.W()};function Ll(a,b,c,d,e){this.Cg={};this.G=a;this.Zd=b;this.ba=c;this.sa=d;this.zr=e;this.h=this.ra=this.La=this.kl=this.jl=this.il=null;this.oh=this.cm=this.xj=this.wj=0;this.dm=!1;this.Hf=this.em=0;this.fm=!1;this.gm=0;this.C="";this.qd=this.ee=this.kg=this.jg=0;this.Kc=this.Qa=this.Pa=null;this.fc=[];this.li=Ig()}
function Ml(a,b){if(null!==a.h){var c=cj(b,2,a.sa,a.fc),d=a.G,e=a.li,f=d.globalAlpha;1!=a.oh&&(d.globalAlpha=f*a.oh);var g=a.em;a.dm&&(g+=a.zr);var h,l;h=0;for(l=c.length;h<l;h+=2){var m=c[h]-a.wj,p=c[h+1]-a.xj;a.fm&&(m=m+0.5|0,p=p+0.5|0);if(0!==g||1!=a.Hf){var q=m+a.wj,r=p+a.xj;sl(e,q,r,a.Hf,a.Hf,g,-q,-r);d.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}d.drawImage(a.h,m,p,a.gm,a.cm)}0===g&&1==a.Hf||d.setTransform(1,0,0,1,0,0);1!=a.oh&&(d.globalAlpha=f)}}
function Nl(a,b,c,d){var e=0;if(null!==a.Kc&&""!==a.C){null===a.Pa||Ol(a,a.Pa);null===a.Qa||Pl(a,a.Qa);var f=a.Kc,g=a.G,h=a.kl;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.kl={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=cj(b,d,a.sa,a.fc);for(f=a.G;e<c;e+=d){g=
b[e]+a.jg;h=b[e+1]+a.kg;if(0!==a.ee||1!=a.qd){var l=sl(a.li,g,h,a.qd,a.qd,a.ee,-g,-h);f.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}null===a.Qa||f.strokeText(a.C,g,h);null===a.Pa||f.fillText(a.C,g,h)}0===a.ee&&1==a.qd||f.setTransform(1,0,0,1,0,0)}}function Ql(a,b,c,d,e){a=a.G;a.moveTo(b[c],b[c+1]);var f;for(f=c+2;f<d;f+=2)a.lineTo(b[f],b[f+1]);e&&a.lineTo(b[c],b[c+1]);return d}function Rl(a,b,c,d){var e=a.G,f,g;f=0;for(g=d.length;f<g;++f)c=Ql(a,b,c,d[f],!0),e.closePath();return c}n=Ll.prototype;
n.Xi=function(a,b){var c=a.toString(),d=this.Cg[c];y(d)?d.push(b):this.Cg[c]=[b]};n.Lg=function(a){if(Yi(this.ba,a.i())){if(null!==this.La||null!==this.ra){null===this.La||Ol(this,this.La);null===this.ra||Pl(this,this.ra);var b=ij(a,this.sa,this.fc),c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.G;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.La||d.fill();null===this.ra||d.stroke()}""!==this.C&&Nl(this,a.getCenter(),2,2)}};
n.xl=function(a,b){var c=a.N();if(null!==c&&Yi(this.ba,c.i())){var d=b.getZIndex();y(d)||(d=0);this.Xi(d,function(a){a.hc(b.ub,b.Ia);a.gg(b.J());a.Jb(b.C);Sl[c.Ma()].call(a,c,null)})}};n.yl=function(a,b){var c=a.Ll(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];Sl[f.Ma()].call(this,f,b)}};n.Qg=function(a){var b=a.e;a=a.r;null===this.h||Ml(this,b);""!==this.C&&Nl(this,b,b.length,a)};n.Og=function(a){var b=a.e;a=a.r;null===this.h||Ml(this,b);""!==this.C&&Nl(this,b,b.length,a)};
n.Mg=function(a){if(Yi(this.ba,a.i())){if(null!==this.ra){Pl(this,this.ra);var b=ij(a,this.sa,this.fc),c=this.G;c.beginPath();Ql(this,b,0,b.length,!1);c.stroke()}""!==this.C&&(a=Tl(a),Nl(this,a,2,2))}};n.Ng=function(a){var b=a.i();if(Yi(this.ba,b)){if(null!==this.ra){Pl(this,this.ra);var b=ij(a,this.sa,this.fc),c=this.G;c.beginPath();var d=a.Va,e=0,f,g;f=0;for(g=d.length;f<g;++f)e=Ql(this,b,e,d[f],!1);c.stroke()}""!==this.C&&(a=a.No(),Nl(this,a,a.length,2))}};
n.tf=function(a){if(Yi(this.ba,a.i())){var b;if(null!==this.ra||null!==this.La){null===this.La||Ol(this,this.La);null===this.ra||Pl(this,this.ra);b=ij(a,this.sa,this.fc);var c=this.G;c.beginPath();Rl(this,b,0,a.Va);null===this.La||c.fill();null===this.ra||c.stroke()}""!==this.C&&(a=pj(a),Nl(this,a,2,2))}};
n.Pg=function(a){if(Yi(this.ba,a.i())){var b;if(null!==this.ra||null!==this.La){null===this.La||Ol(this,this.La);null===this.ra||Pl(this,this.ra);b=ij(a,this.sa,this.fc);var c=this.G,d=a.Lo(),e=0,f,g;f=0;for(g=d.length;f<g;++f){var h=d[f];c.beginPath();e=Rl(this,b,e,h);null===this.La||c.fill();null===this.ra||c.stroke()}}""!==this.C&&(a=a.Mo(),Nl(this,a,a.length,2))}};
n.flush=function(){var a=Ha(Pb(this.Cg),Number);Qa(a);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Cg[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function Ol(a,b){var c=a.G,d=a.il;null===d?(c.fillStyle=b.fillStyle,a.il={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function Pl(a,b){var c=a.G,d=a.jl;null===d?(c.lineCap=b.lineCap,Wg&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.jl={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Wg&&!Ua(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
n.hc=function(a,b){if(null===a)this.La=null;else{var c=a.fb;this.La={fillStyle:vk(null===c?Cl:c)}}if(null===b)this.ra=null;else{var c=b.fb,d=b.Pf,e=b.getLineDash(),f=b.Qf,g=b.xb(),h=b.Uf;this.ra={lineCap:y(d)?d:"round",lineDash:null!=e?e:Dl,lineJoin:y(f)?f:"round",lineWidth:this.Zd*(y(g)?g:1),miterLimit:y(h)?h:10,strokeStyle:vk(null===c?El:c)}}};
n.gg=function(a){if(null===a)this.h=null;else{var b=a.eb,c=a.J(1),d=a.getOpacity(),e=a.Ic,f=a.$b(),g=a.Hb,h=a.ga();a=a.Jc;this.wj=b[0];this.xj=b[1];this.cm=h[1];this.h=c;this.oh=y(d)?d:1;this.dm=y(e)?e:!1;this.em=y(f)?f:0;this.Hf=y(g)?g:1;this.fm=y(a)?a:!1;this.gm=h[0]}};
n.Jb=function(a){if(null===a)this.C="";else{var b=a.ub;null===b?this.Pa=null:(b=b.fb,this.Pa={fillStyle:vk(null===b?Cl:b)});var c=a.Ia;if(null===c)this.Qa=null;else{var b=c.fb,d=c.Pf,e=c.getLineDash(),f=c.Qf,g=c.xb(),c=c.Uf;this.Qa={lineCap:y(d)?d:"round",lineDash:null!=e?e:Dl,lineJoin:y(f)?f:"round",lineWidth:this.Zd*(y(g)?g:1),miterLimit:y(c)?c:10,strokeStyle:vk(null===b?El:b)}}var b=a.Oo(),d=a.Po(),e=a.Qo(),f=a.$b(),g=a.Hb,c=a.C,h=a.Ro();a=a.So();this.Kc={font:y(b)?b:"10px sans-serif",textAlign:y(h)?
h:"center",textBaseline:y(a)?a:"middle"};this.C=y(c)?c:"";this.jg=y(d)?d:0;this.kg=y(e)?e:0;this.ee=y(f)?f:0;this.qd=this.Zd*(y(g)?g:1)}};var Sl={Point:Ll.prototype.Qg,LineString:Ll.prototype.Mg,Polygon:Ll.prototype.tf,MultiPoint:Ll.prototype.Og,MultiLineString:Ll.prototype.Ng,MultiPolygon:Ll.prototype.Pg,GeometryCollection:Ll.prototype.yl,Circle:Ll.prototype.Lg};function Ul(a,b){il.call(this,a,b);this.sa=Ig()}G(Ul,il);Ul.prototype.Fg=function(a,b,c){this.Ka("precompose",c,a,void 0);var d=this.J();if(null!==d){var e=this.ph;c.globalAlpha=b.opacity;if(0===a.view2DState.rotation){b=e[13];var f=d.width*e[0],g=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(f),Math.round(g))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0)}this.Ka("postcompose",c,a,void 0)};
Ul.prototype.Ka=function(a,b,c,d){var e=this.$a;e.Vc(a)&&(d=y(d)?d:this.Cf(c),d=new Ll(b,c.pixelRatio,c.extent,d,c.view2DState.rotation),e.dispatchEvent(new mk(a,e,d,c,b,null)),d.flush())};Ul.prototype.Cf=function(a){var b=a.view2DState,c=a.pixelRatio;return sl(this.sa,c*a.size[0]/2,c*a.size[1]/2,c/b.resolution,-c/b.resolution,-b.rotation,-b.center[0],-b.center[1])};function Vl(a){Kk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.nd=y(a.resolutions)?a.resolutions:null}G(Vl,Kk);function Wl(a,b){Ul.call(this,a,b);this.h=null;this.ph=Ig()}G(Wl,Ul);Wl.prototype.J=function(){return null===this.h?null:this.h.hj()};
Wl.prototype.Fc=function(a){var b=a.pixelRatio,c=a.view2DState,d=c.center,e=c.resolution,f=c.rotation,g=this.$a.L,h=a.viewHints;h[0]||h[1]||(c=g.J(a.extent,e,b,c.projection),null!==c&&(h=c.wa(),0==h?(ve(c,"change",this.pj,!1,this),c.load()):2==h&&(this.h=c)));if(null!==this.h){var c=this.h,h=c.i(),l=c.o(),m=c.Zd,e=b*l/(e*m);sl(this.ph,b*a.size[0]/2,b*a.size[1]/2,e,e,f,m*(h[0]-d[0])/l,m*(d[1]-h[3])/l);ll(a.attributions,c.yd);ml(a,g)}};function Xl(a,b){Ul.call(this,a,b);this.G=this.ve=this.f=null;this.ph=Ig();this.bn=NaN;this.Uh=this.gc=null}G(Xl,Ul);Xl.prototype.J=k("f");
Xl.prototype.Fc=function(a){var b=a.pixelRatio,c=a.view2DState,d=c.projection,e=this.$a,f=e.L,g=hl(f,d),h=f.dh(),l=zi(g.nd,c.resolution,0),m=el(hl(f,d),l),p=m/el(g,l),q=g.o(l),p=q/p,r=c.center,s;q==c.resolution?(r=pl(r,q,a.size),s=Ui(r,q,c.rotation,a.size)):s=a.extent;var v=bl(g,s,q),u=m*v.xb(),w=m*(v.w-v.I+1),z,x;null===this.f?(z=S("CANVAS"),z.width=u,z.height=w,x=z.getContext("2d"),this.f=z,this.ve=[u,w],this.G=x):(z=this.f,x=this.G,this.ve[0]<u||this.ve[1]<w?(z.width=u,z.height=w,this.ve=[u,w],
this.gc=null):(u=this.ve[0],w=this.ve[1],l==this.bn&&this.gc.A<=v.A&&v.Y<=this.gc.Y&&this.gc.I<=v.I&&v.w<=this.gc.w||(this.gc=null)));var A,C;null===this.gc?(u/=m,w/=m,A=v.A-Math.floor((u-v.xb())/2),C=v.I-Math.floor((w-(v.w-v.I+1))/2),this.bn=l,this.gc=new Jj(A,A+u-1,C,C+w-1),this.Uh=Array(u*w),w=this.gc):(w=this.gc,u=w.xb());z={};z[l]={};var B=[],D=F(f.bj,f,z,ol(function(a){return null!==a&&2==a.wa()},f,b,d)),H=e.hh();y(H)||(H=!0);var R=Ii(),aa=new Jj(0,0,0,0),Y,M,O,N;for(C=v.A;C<=v.Y;++C)for(N=
v.I;N<=v.w;++N)M=f.getTile(l,C,N,b,d),O=M.wa(),2==O||4==O||3==O&&!H?z[l][M.p.toString()]=M:(Y=g.yf(M.p,D,null,aa,R),Y||(B.push(M),Y=g.Bf(M.p,aa,R),null===Y||D(l+1,Y)));D=0;for(Y=B.length;D<Y;++D)M=B[D],C=m*(M.p.x-w.A),N=m*(w.w-M.p.y),x.clearRect(C,N,m,m);B=Ha(Pb(z),Number);Qa(B);var lb=f.qq,Oa=Wi($k(g,new ji(l,w.A,w.w),R)),za,rg,Ee,Sa,Ta,D=0;for(Y=B.length;D<Y;++D){za=B[D];var m=el(hl(f,d),za),sg=el(g,M.p.z);Ee=z[za];if(za==l)for(rg in Ee)M=Ee[rg],A=(M.p.y-w.I)*u+(M.p.x-w.A),this.Uh[A]!=M&&(C=m*(M.p.x-
w.A),N=m*(w.w-M.p.y),O=M.wa(),4!=O&&(3!=O||H)&&lb||x.clearRect(C,N,m,m),2==O&&(O=M.J(),Ta=m*(O.width/sg),Sa=m*(O.height/sg),x.drawImage(O,h,h,Ta,Sa,C,N,Ta,Sa)),this.Uh[A]=M);else for(rg in za=g.o(za)/q,Ee)for(M=Ee[rg],A=$k(g,M.p,R),C=(A[0]-Oa[0])/p,N=(Oa[1]-A[3])/p,O=M.wa(),4!=O&&lb||(Ta=za*m,Sa=za*m,x.clearRect(C,N,Ta,Sa)),2==O&&(O=M.J(),Ta=m*(O.width/sg),Sa=m*(O.height/sg),x.drawImage(O,h,h,Ta,Sa,C,N,za*Ta,za*Sa)),O=al(g,A,l,aa),A=Math.max(O.A,w.A),N=Math.min(O.Y,w.Y),C=Math.max(O.I,w.I),O=Math.min(O.w,
w.w),Sa=A;Sa<=N;++Sa)for(Ta=C;Ta<=O;++Ta)A=(Ta-w.I)*u+(Sa-w.A),this.Uh[A]=void 0}nl(a.usedTiles,f,l,v);ql(a,f,g,b,d,s,l,e.gh());kl(a,f);ml(a,f);sl(this.ph,b*a.size[0]/2,b*a.size[1]/2,b*p/c.resolution,b*p/c.resolution,c.rotation,(Oa[0]-r[0])/p,(r[1]-Oa[1])/p)};var Yl=["Polygon","LineString","Image","Text"];function Zl(a,b,c){this.er=a;this.Mj=b;this.ad=0;this.resolution=c;this.zg=this.yg=null;this.instructions=[];this.coordinates=[];this.gn=Ig();this.t=[];this.fc=[];this.ba=Ii();this.li=Ig();this.km={}}
function $l(a,b,c,d,e,f){var g=a.coordinates.length,h=a.gj(),l=[b[c],b[c+1]],m=[NaN,NaN],p=!0,q,r,s;for(q=c+e;q<d;q+=e){m[0]=b[q];m[1]=b[q+1];s=h[1];var v=h[2],u=h[3],w=m[0],z=m[1],x=0;w<h[0]?x|=16:w>v&&(x|=4);z<s?x|=8:z>u&&(x|=2);0===x&&(x=1);s=x;s!==r?(p&&(a.coordinates[g++]=l[0],a.coordinates[g++]=l[1]),a.coordinates[g++]=m[0],a.coordinates[g++]=m[1],p=!1):1===s?(a.coordinates[g++]=m[0],a.coordinates[g++]=m[1],p=!1):p=!0;l[0]=m[0];l[1]=m[1];r=s}q===c+e&&(a.coordinates[g++]=l[0],a.coordinates[g++]=
l[1]);f&&(a.coordinates[g++]=b[c],a.coordinates[g++]=b[c+1]);return g}function am(a,b,c){a.yg=[0,b,0];a.instructions.push(a.yg);a.km[a.instructions.length-1]=c.toString();a.zg=[0,b,0];a.t.push(a.zg)}n=Zl.prototype;
n.hk=function(a,b,c,d,e,f,g){var h;tl(c,this.gn)?h=this.fc:(h=cj(this.coordinates,2,c,this.fc),Lg(this.gn,c));c=0;for(var l=f.length,m=0,p,q=this.li;c<l;){var r=f[c],s,v,u,w;switch(r[0]){case 0:y(P(e,this.km[c]))?c=r[2]:++c;break;case 1:a.beginPath();++c;break;case 2:p=h[m];var z=h[m+1],x=h[m+2]-p,r=h[m+3]-z;a.arc(p,z,Math.sqrt(x*x+r*r),0,2*Math.PI,!0);m+=4;++c;break;case 3:a.closePath();++c;break;case 4:m=r[1];p=r[2];s=r[3];u=r[4]*b;var A=r[5]*b,C=r[6]*b;v=r[7];var z=r[9],x=r[10],B=r[11],D=r[12]*
b;for(r[8]&&(z+=d);m<p;m+=2){r=h[m]-u;w=h[m+1]-A;B&&(r=r+0.5|0,w=w+0.5|0);if(1!=x||0!==z){var H=r+u,R=w+A;sl(q,H,R,x,x,z,-H,-R);a.setTransform(q[0],q[1],q[4],q[5],q[12],q[13])}H=a.globalAlpha;1!=v&&(a.globalAlpha=H*v);a.drawImage(s,r,w,D,C);1!=v&&(a.globalAlpha=H);1==x&&0===z||a.setTransform(1,0,0,1,0,0)}++c;break;case 5:m=r[1];p=r[2];u=r[3];A=r[4];C=r[5];z=r[6];x=r[7]*b;s=r[8];for(v=r[9];m<p;m+=2){r=h[m]+A;w=h[m+1]+C;if(1!=x||0!==z)sl(q,r,w,x,x,z,-r,-w),a.setTransform(q[0],q[1],q[4],q[5],q[12],q[13]);
v&&a.strokeText(u,r,w);s&&a.fillText(u,r,w);1==x&&0===z||a.setTransform(1,0,0,1,0,0)}++c;break;case 6:if(y(g)&&(p=r[1],p=g(p,r[2])))return p;++c;break;case 7:a.fill();++c;break;case 8:m=r[1];p=r[2];a.moveTo(h[m],h[m+1]);for(m+=2;m<p;m+=2)a.lineTo(h[m],h[m+1]);++c;break;case 9:a.fillStyle=r[1];++c;break;case 10:a.strokeStyle=r[1];a.lineWidth=r[2]*b;a.lineCap=r[3];a.lineJoin=r[4];a.miterLimit=r[5];Wg&&a.setLineDash(r[6]);++c;break;case 11:a.font=r[1];a.textAlign=r[2];a.textBaseline=r[3];++c;break;case 12:a.stroke();
++c;break;default:++c}}};n.gk=function(a,b,c,d,e){return this.hk(a,b,c,d,e,this.instructions,void 0)};function bm(a){var b=a.t;b.reverse();var c,d=b.length,e,f,g=-1;for(c=0;c<d;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){e[2]=c;e=a.t;for(f=c;g<f;){var h=e[g];e[g]=e[f];e[f]=h;++g;--f}g=-1}}function cm(a,b,c){a.yg[2]=a.instructions.length;a.yg=null;a.zg[2]=a.t.length;a.zg=null;b=[6,b,c];a.instructions.push(b);a.t.push(b)}n.finish=ea;n.gj=k("Mj");n.i=k("ba");
function dm(a,b,c){Zl.call(this,a,b,c);this.h=this.mh=null;this.ud=this.Jc=this.Hb=this.od=this.Ic=this.gd=this.He=this.re=this.qe=void 0}G(dm,Zl);
dm.prototype.Qg=function(a,b){if(null!==this.h){Ri(this.ba,a.i());am(this,a,E(b));var c=a.e,d=this.coordinates.length,c=$l(this,c,0,c.length,a.r,!1);this.instructions.push([4,d,c,this.h,this.qe,this.re,this.He,this.gd,this.Ic,this.od,this.Hb,this.Jc,this.ud]);this.t.push([4,d,c,this.mh,this.qe,this.re,this.He,this.gd,this.Ic,this.od,this.Hb,this.Jc,this.ud]);cm(this,a,b)}};
dm.prototype.Og=function(a,b){if(null!==this.h){Ri(this.ba,a.i());am(this,a,E(b));var c=a.e,d=this.coordinates.length,c=$l(this,c,0,c.length,a.r,!1);this.instructions.push([4,d,c,this.h,this.qe,this.re,this.He,this.gd,this.Ic,this.od,this.Hb,this.Jc,this.ud]);this.t.push([4,d,c,this.mh,this.qe,this.re,this.He,this.gd,this.Ic,this.od,this.Hb,this.Jc,this.ud]);cm(this,a,b)}};
dm.prototype.finish=function(){bm(this);this.re=this.qe=void 0;this.h=this.mh=null;this.ud=this.Jc=this.od=this.Ic=this.gd=this.Hb=this.He=void 0};dm.prototype.gg=function(a){var b=a.eb,c=a.ga(),d=a.lh,e=a.J(1);this.qe=b[0];this.re=b[1];this.mh=d;this.h=e;this.He=c[1];this.gd=a.getOpacity();this.Ic=a.Ic;this.od=a.$b();this.Hb=a.Hb;this.Jc=a.Jc;this.ud=c[0]};
function em(a,b,c){Zl.call(this,a,b,c);this.l={pf:void 0,kf:void 0,lf:null,mf:void 0,nf:void 0,of:void 0,Hj:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}G(em,Zl);function fm(a,b,c,d,e){var f=a.coordinates.length;b=$l(a,b,c,d,e,!1);f=[8,f,b];a.instructions.push(f);a.t.push(f);return d}n=em.prototype;n.gj=function(){var a=this.Mj;this.ad&&(a=Mi(a,this.resolution*(this.ad+1)/2));return a};
function gm(a){var b=a.l,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.pf==c&&b.kf==d&&Ua(b.lf,e)&&b.mf==f&&b.nf==g&&b.of==h||(b.Hj!=a.coordinates.length&&(a.instructions.push([12]),b.Hj=a.coordinates.length),a.instructions.push([10,c,g,d,f,h,e],[1]),b.pf=c,b.kf=d,b.lf=e,b.mf=f,b.nf=g,b.of=h)}
n.Mg=function(a,b){var c=this.l,d=c.lineWidth;y(c.strokeStyle)&&y(d)&&(Ri(this.ba,a.i()),gm(this),am(this,a,E(b)),this.t.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.e,fm(this,c,0,c.length,a.r),this.t.push([12]),cm(this,a,b))};
n.Ng=function(a,b){var c=this.l,d=c.lineWidth;if(y(c.strokeStyle)&&y(d)){Ri(this.ba,a.i());gm(this);am(this,a,E(b));this.t.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var c=a.Va,d=a.e,e=a.r,f=0,g,h;g=0;for(h=c.length;g<h;++g)f=fm(this,d,f,c[g],e);this.t.push([12]);cm(this,a,b)}};n.finish=function(){this.l.Hj!=this.coordinates.length&&this.instructions.push([12]);bm(this);this.l=null};
n.hc=function(a,b){var c=b.fb;this.l.strokeStyle=vk(null===c?El:c);c=b.Pf;this.l.lineCap=y(c)?c:"round";c=b.getLineDash();this.l.lineDash=null===c?Dl:c;c=b.Qf;this.l.lineJoin=y(c)?c:"round";c=b.xb();this.l.lineWidth=y(c)?c:1;c=b.Uf;this.l.miterLimit=y(c)?c:10;this.ad=Math.max(this.ad,this.l.lineWidth)};
function hm(a,b,c){Zl.call(this,a,b,c);this.l={rl:void 0,pf:void 0,kf:void 0,lf:null,mf:void 0,nf:void 0,of:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}G(hm,Zl);
function im(a,b,c,d,e){var f=a.l,g=[1];a.instructions.push(g);a.t.push(g);var h,g=0;for(h=d.length;g<h;++g){var l=d[g],m=a.coordinates.length;c=$l(a,b,c,l,e,!0);c=[8,m,c];m=[3];a.instructions.push(c,m);a.t.push(c,m);c=l}b=[7];a.t.push(b);y(f.fillStyle)&&a.instructions.push(b);y(f.strokeStyle)&&(f=[12],a.instructions.push(f),a.t.push(f));return c}n=hm.prototype;
n.Lg=function(a,b){var c=this.l,d=c.strokeStyle;if(y(c.fillStyle)||y(d)){Ri(this.ba,a.i());jm(this);am(this,a,E(b));this.t.push([9,vk(Cl)]);y(c.strokeStyle)&&this.t.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);d=a.e;$l(this,d,0,d.length,a.r,!1);var d=[1],e=[2];this.instructions.push(d,e);this.t.push(d,e);cm(this,a,b);d=[7];this.t.push(d);y(c.fillStyle)&&this.instructions.push(d);y(c.strokeStyle)&&(c=[12],this.instructions.push(c),this.t.push(c))}};
n.tf=function(a,b){var c=this.l,d=c.strokeStyle;if(y(c.fillStyle)||y(d))Ri(this.ba,a.i()),jm(this),am(this,a,E(b)),this.t.push([9,vk(Cl)]),y(c.strokeStyle)&&this.t.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.Va,d=qj(a),im(this,d,0,c,a.r),cm(this,a,b)};
n.Pg=function(a,b){var c=this.l,d=c.strokeStyle;if(y(c.fillStyle)||y(d)){Ri(this.ba,a.i());jm(this);am(this,a,E(b));this.t.push([9,vk(Cl)]);y(c.strokeStyle)&&this.t.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var c=a.Lo(),d=qj(a),e=a.r,f=0,g,h;g=0;for(h=c.length;g<h;++g)f=im(this,d,f,c[g],e);cm(this,a,b)}};n.finish=function(){bm(this);this.l=null;var a=this.er;if(0!==a){var b=this.coordinates,c,d;c=0;for(d=b.length;c<d;++c)b[c]=a*Math.round(b[c]/a)}};
n.gj=function(){var a=this.Mj;this.ad&&(a=Mi(a,this.resolution*(this.ad+1)/2));return a};
n.hc=function(a,b){var c=this.l;if(null===a)c.fillStyle=void 0;else{var d=a.fb;c.fillStyle=vk(null===d?Cl:d)}null===b?(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0):(d=b.fb,c.strokeStyle=vk(null===d?El:d),d=b.Pf,c.lineCap=y(d)?d:"round",d=b.getLineDash(),c.lineDash=null===d?Dl:d.slice(),d=b.Qf,c.lineJoin=y(d)?d:"round",d=b.xb(),c.lineWidth=y(d)?d:1,d=b.Uf,c.miterLimit=y(d)?d:10,this.ad=Math.max(this.ad,c.lineWidth))};
function jm(a){var b=a.l,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;y(c)&&b.rl!=c&&(a.instructions.push([9,c]),b.rl=b.fillStyle);!y(d)||b.pf==d&&b.kf==e&&b.lf==f&&b.mf==g&&b.nf==h&&b.of==l||(a.instructions.push([10,d,h,e,g,l,f]),b.pf=d,b.kf=e,b.lf=f,b.mf=g,b.nf=h,b.of=l)}function km(a,b,c){Zl.call(this,a,b,c);this.kn=this.jn=this.hn=null;this.C="";this.qd=this.ee=this.kg=this.jg=0;this.Kc=this.Qa=this.Pa=null}G(km,Zl);
km.prototype.Rc=function(a,b,c,d,e,f){if(""!==this.C&&null!==this.Kc&&(null!==this.Pa||null!==this.Qa)){Si(this.ba,a,b,c,d);if(null!==this.Pa){var g=this.Pa,h=this.hn;if(null===h||h.fillStyle!=g.fillStyle){var l=[9,g.fillStyle];this.instructions.push(l);this.t.push(l);null===h?this.hn={fillStyle:g.fillStyle}:h.fillStyle=g.fillStyle}}null!==this.Qa&&(g=this.Qa,h=this.jn,null===h||h.lineCap!=g.lineCap||h.lineDash!=g.lineDash||h.lineJoin!=g.lineJoin||h.lineWidth!=g.lineWidth||h.miterLimit!=g.miterLimit||
h.strokeStyle!=g.strokeStyle)&&(l=[10,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash],this.instructions.push(l),this.t.push(l),null===h?this.jn={lineCap:g.lineCap,lineDash:g.lineDash,lineJoin:g.lineJoin,lineWidth:g.lineWidth,miterLimit:g.miterLimit,strokeStyle:g.strokeStyle}:(h.lineCap=g.lineCap,h.lineDash=g.lineDash,h.lineJoin=g.lineJoin,h.lineWidth=g.lineWidth,h.miterLimit=g.miterLimit,h.strokeStyle=g.strokeStyle));g=this.Kc;h=this.kn;if(null===h||h.font!=g.font||h.textAlign!=
g.textAlign||h.textBaseline!=g.textBaseline)l=[11,g.font,g.textAlign,g.textBaseline],this.instructions.push(l),this.t.push(l),null===h?this.kn={font:g.font,textAlign:g.textAlign,textBaseline:g.textBaseline}:(h.font=g.font,h.textAlign=g.textAlign,h.textBaseline=g.textBaseline);am(this,e,E(f));g=this.coordinates.length;a=$l(this,a,b,c,d,!1);a=[5,g,a,this.C,this.jg,this.kg,this.ee,this.qd,null!==this.Pa,null!==this.Qa];this.instructions.push(a);this.t.push(a);cm(this,e,f)}};
km.prototype.Jb=function(a){if(null===a)this.C="";else{var b=a.ub;null===b?this.Pa=null:(b=b.fb,b=vk(null===b?Cl:b),null===this.Pa?this.Pa={fillStyle:b}:this.Pa.fillStyle=b);var c=a.Ia;if(null===c)this.Qa=null;else{var b=c.fb,d=c.Pf,e=c.getLineDash(),f=c.Qf,g=c.xb(),c=c.Uf,d=y(d)?d:"round",e=null!=e?e.slice():Dl,f=y(f)?f:"round",g=y(g)?g:1,c=y(c)?c:10,b=vk(null===b?El:b);if(null===this.Qa)this.Qa={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b};else{var h=this.Qa;h.lineCap=
d;h.lineDash=e;h.lineJoin=f;h.lineWidth=g;h.miterLimit=c;h.strokeStyle=b}}var l=a.Oo(),b=a.Po(),d=a.Qo(),e=a.$b(),g=a.Hb,c=a.C,f=a.Ro(),h=a.So();a=y(l)?l:"10px sans-serif";f=y(f)?f:"center";h=y(h)?h:"middle";null===this.Kc?this.Kc={font:a,textAlign:f,textBaseline:h}:(l=this.Kc,l.font=a,l.textAlign=f,l.textBaseline=h);this.C=y(c)?c:"";this.jg=y(b)?b:0;this.kg=y(d)?d:0;this.ee=y(e)?e:0;this.qd=y(g)?g:1}};
function lm(a,b,c){this.fr=a;this.Am=b;this.ag=c;this.ae={};a=S("CANVAS");a.width=1;a.height=1;this.ds=a.getContext("2d");this.es=Ig()}lm.prototype.gk=function(a,b,c,d,e,f){var g=Ha(Pb(this.ae),Number);Qa(g);return this.hk(g,a,b,c,d,e,f)};
lm.prototype.hk=function(a,b,c,d,e,f,g){var h=this.Am,l=h[0],m=h[1],p=h[2],h=h[3],l=cj([l,m,l,h,p,h,p,m],2,e);b.save();b.beginPath();b.moveTo(l[0],l[1]);b.lineTo(l[2],l[3]);b.lineTo(l[4],l[5]);b.lineTo(l[6],l[7]);b.closePath();b.clip();for(var q,r,l=0,m=a.length;l<m;++l)for(q=this.ae[a[l].toString()],p=0,h=Yl.length;p<h;++p)if(r=q[Yl[p]],y(r)&&Yi(c,r.i())&&(r=r.gk(b,d,e,f,g)))return r;b.restore()};lm.prototype.finish=function(){for(var a in this.ae){var b=this.ae[a],c;for(c in b)b[c].finish()}};
function mm(a,b,c){var d=y(b)?b.toString():"0";b=a.ae[d];y(b)||(b={},a.ae[d]=b);d=b[c];y(d)||(d=new nm[c](a.fr,a.Am,a.ag),b[c]=d);return d}lm.prototype.isEmpty=function(){return Qb(this.ae)};var nm={Image:dm,LineString:em,Polygon:hm,Text:km};function om(a,b){dj.call(this);this.cj=null;this.Qp=this.Rp=this.Fl=-1;this.Ba(a,b)}G(om,dj);n=om.prototype;n.ua=function(){var a=new om(null);a.ic(this.Le,this.e.slice());return a};n.R=function(){return kj(this.e,0,this.e.length,this.r)};n.getLength=function(){var a=this.e,b=this.r,c=a[0],d=a[1],e=0,f;for(f=0+b;f<this.e.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e};
function Tl(a){if(a.Fl!=a.qa){var b;b=a.e;var c=a.e.length,d=a.r,e=a.cj,f=NaN,g=NaN,h=(c-0)/d;if(0!==h)if(1==h)f=b[0],g=b[1];else if(2==h)f=0.5*b[0]+0.5*b[0+d],g=0.5*b[1]+0.5*b[0+d+1];else{var g=b[0],h=b[1],l=0,f=[0],m;for(m=0+d;m<c;m+=d){var p=b[m],q=b[m+1],l=l+Math.sqrt((p-g)*(p-g)+(q-h)*(q-h));f.push(l);g=p;h=q}for(var c=0.5*l,r,g=Ra,h=0,l=f.length;h<l;)m=h+l>>1,p=g(c,f[m]),0<p?h=m+1:(l=m,r=!p);r=r?h:~h;0>r?(c=(c-f[-r-2])/(f[-r-1]-f[-r-2]),r=0+(-r-2)*d,f=b[r]+c*(b[r+d]-b[r]),g=b[r+1]+c*(b[r+d+
1]-b[r+1])):(f=b[0+r*d],g=b[r*d+1])}null!=e?(e.push(f,g),b=e):b=[f,g];a.cj=b;a.Fl=a.qa}return a.cj}
n.mj=function(a){var b=[];var c=this.e,d=this.e.length,e=this.r,f=0,g=0,h=(d-f)/e;if(3>h)for(;f<d;f+=e)b[g++]=c[f],b[g++]=c[f+1];else{var l=Array(h);l[0]=1;l[h-1]=1;for(var d=[f,d-e],m=0,p;0<d.length;){var q=d.pop(),r=d.pop(),s=0,v=c[r],u=c[r+1],w=c[q],z=c[q+1];for(p=r+e;p<q;p+=e){var x,A=c[p];x=c[p+1];var C=v,B=u,D=w-C,H=z-B;if(0!==D||0!==H){var R=((A-C)*D+(x-B)*H)/(D*D+H*H);1<R?(C=w,B=z):0<R&&(C+=D*R,B+=H*R)}A=C-A;x=B-x;x=A*A+x*x;x>s&&(m=p,s=x)}s>a&&(l[(m-f)/e]=1,r+e<m&&d.push(r,m),m+e<q&&d.push(m,
q))}for(p=0;p<h;++p)l[p]&&(b[g++]=c[f+p*e],b[g++]=c[f+p*e+1])}b.length=g;a=new om(null);a.ic("XY",b);return a};n.Ma=da("LineString");n.Ba=function(a,b){null===a?this.ic("XY",null):(hj(this,b,a,1),null===this.e&&(this.e=[]),this.e.length=jj(this.e,0,a,this.r),this.W())};n.ic=function(a,b){gj(this,a,b);this.W()};var pm={Point:function(a,b,c,d){var e=c.J();if(null!==e){var f=mm(a,c.getZIndex(),"Image");f.gg(e);f.Qg(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),a.Rc(b.R(),0,2,2,b,d))},LineString:function(a,b,c,d){var e=c.Ia;if(null!==e){var f=mm(a,c.getZIndex(),"LineString");f.hc(null,e);f.Mg(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),a.Rc(Tl(b),0,2,2,b,d))},Polygon:function(a,b,c,d){var e=c.ub,f=c.Ia;if(null!==e||null!==f){var g=mm(a,c.getZIndex(),"Polygon");g.hc(e,f);g.tf(b,d)}e=
c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),a.Rc(pj(b),0,2,2,b,d))},MultiPoint:function(a,b,c,d){var e=c.J();if(null!==e){var f=mm(a,c.getZIndex(),"Image");f.gg(e);f.Og(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),c=b.e,a.Rc(c,0,c.length,b.r,b,d))},MultiLineString:function(a,b,c,d){var e=c.Ia;if(null!==e){var f=mm(a,c.getZIndex(),"LineString");f.hc(null,e);f.Ng(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),c=b.No(),a.Rc(c,0,c.length,2,b,d))},MultiPolygon:function(a,
b,c,d){var e=c.ub,f=c.Ia;if(null!==f||null!==e){var g=mm(a,c.getZIndex(),"Polygon");g.hc(e,f);g.Pg(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),c=b.Mo(),a.Rc(c,0,c.length,2,b,d))},GeometryCollection:function(a,b,c,d){b=b.Ll();var e,f;e=0;for(f=b.length;e<f;++e)(0,pm[b[e].Ma()])(a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.ub,f=c.Ia;if(null!==e||null!==f){var g=mm(a,c.getZIndex(),"Polygon");g.hc(e,f);g.Lg(b,d)}e=c.C;null!==e&&(a=mm(a,c.getZIndex(),"Text"),a.Jb(e),a.Rc(b.getCenter(),
0,2,2,b,d))}};function qm(a,b,c,d){this.extent=a;this.height=b;this.children=c;this.value=d}function rm(a,b){return a.extent[0]-b.extent[0]}function sm(a,b){return a.extent[1]-b.extent[1]}function tm(a,b,c,d){a=a.children;for(d=Qi(d);b<c;++b)Ri(d,a[b].extent);return d}qm.prototype.remove=function(a,b,c){var d=this.children,e=d.length,f,g;if(1==this.height)for(g=0;g<e;++g){if(f=d[g],f.value===b)return Ea.splice.call(d,g,1),!0}else for(g=0;g<e;++g)if(f=d[g],Pi(f.extent,a)){c.push(f);if(f.remove(a,b,c))return!0;c.pop()}return!1};
function um(a){var b=Qi(a.extent);a=a.children;var c,d;c=0;for(d=a.length;c<d;++c)Ri(b,a[c].extent)}function vm(a){this.zm=Math.max(4,y(a)?a:9);this.Cm=Math.max(2,Math.ceil(0.4*this.zm));this.pb=new qm(Ii(),1,[],null);this.Ze={}}function wm(a,b,c){var d=b.children;a=a.Cm;var e=d.length;Qa(d,c);c=tm(b,0,a);var f=tm(b,e-a,e),g=Xi(c)+Vi(c)+(Xi(f)+Vi(f));for(b=a;b<e-a;++b)Ri(c,d[b].extent),g+=Xi(c)+Vi(c);for(b=e-a-1;b>=a;--b)Ri(f,d[b].extent),g+=Xi(f)+Vi(f);return g}n=vm.prototype;
n.clear=function(){var a=this.pb;a.extent=Qi(this.pb.extent);a.height=1;a.children.length=0;a.value=null;Rb(this.Ze)};n.forEach=function(a,b){return xm(this.pb,a,b)};function xm(a,b,c){for(var d=[a],e,f,g;0<d.length;)if(a=d.pop(),e=a.children,1==a.height)for(a=0,f=e.length;a<f;++a){if(g=b.call(c,e[a].value))return g}else d.push.apply(d,e)}function ym(a,b,c){zm(a,b,c,void 0)}
function zm(a,b,c,d){a=[a.pb];for(var e;0<a.length;)if(e=a.pop(),Yi(b,e.extent))if(null===e.children){if(e=c.call(d,e.value))break}else if(Pi(b,e.extent)){if(e=xm(e,c,d))break}else a.push.apply(a,e.children)}function Am(a,b){var c=[];zm(a,b,function(a){c.push(a)},void 0);return c}n.i=function(a){return Zi(this.pb.extent,a)};function Bm(a,b,c){var d=E(c).toString();a.Kf(b,c,a.pb.height-1);a.Ze[d]=Ni(b)}
n.Kf=function(a,b,c){for(var d=[this.pb],e=this.pb;null!==e.children&&d.length-1!=c;){var f=Infinity,g=Infinity,e=e.children,h=null,l,m;l=0;for(m=e.length;l<m;++l){var p=e[l],q=Xi(p.extent)*Vi(p.extent),r=p.extent,s=a,v=Math.min(r[0],s[0]),u=Math.min(r[1],s[1]),w=Math.max(r[2],s[2]),r=Math.max(r[3],s[3]),v=(w-v)*(r-u)-q;v<g?(g=v,f=Math.min(q,f),h=p):v==g&&q<f&&(f=q,h=p)}e=h;d.push(e)}c=e;c.children.push(new qm(a,0,null,b));Ri(c.extent,a);for(b=d.length-1;0<=b;--b)if(d[b].children.length>this.zm){f=
d;g=b;h=e=f[g];l=wm(this,h,rm);m=wm(this,h,sm);l<m&&Qa(h.children,rm);h=e;l=this.Cm;m=h.children.length;q=p=Infinity;v=Ii();u=Ii();w=0;r=void 0;for(r=l;r<=m-l;++r){var v=tm(h,0,r,v),u=tm(h,r,m,u),z=v,x=u,s=Math.max(z[0],x[0]),A=Math.max(z[1],x[1]),C=Math.min(z[2],x[2]),z=Math.min(z[3],x[3]),s=Math.max(0,C-s)*Math.max(0,z-A),A=Xi(v)*Vi(v)+Xi(u)*Vi(u);s<p?(p=s,q=Math.min(A,q),w=r):s==p&&A<q&&(q=A,w=r)}h=e.children.splice(w);h=new qm(Ii(),e.height,h,null);um(e);um(h);g?f[g-1].children.push(h):(f=e,g=
h,e=f.height+1,h=Ri(f.extent.slice(),g.extent),this.pb=new qm(h,e,[f,g],null))}else break;for(;0<=b;--b)Ri(d[b].extent,a);return c};n.isEmpty=function(){return 0===this.pb.children.length};n.remove=function(a){var b=E(a).toString(),c=this.Ze[b];delete this.Ze[b];return Cm(this,c,a)};function Cm(a,b,c){var d=a.pb,e=[d];if(b=d.remove(b,c,e))for(c=e.length-1;0<=c;--c)d=e[c],0===d.children.length?0<c?Ka(e[c-1].children,d):a.clear():um(d);return b}
n.update=function(a,b){var c=E(b).toString(),d=this.Ze[c];if(d[0]!=a[0]||d[2]!=a[2]||d[1]!=a[1]||d[3]!=a[3])Cm(this,d,b),this.Kf(a,b,this.pb.height-1),this.Ze[c]=Ni(a,d)};function Dm(a){a=y(a)?a:{};Kk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.K=new vm;this.ec={};this.aj={};if(y(a.features)){a=a.features;var b,c;b=0;for(c=a.length;b<c;++b)Em(this,a[b])}}G(Dm,Kk);n=Dm.prototype;n.vg=function(a){Em(this,a);this.W()};
function Em(a,b){var c=E(b).toString();a.aj[c]=[T(b,"change",a.Ef,!1,a),T(b,"propertychange",a.Ef,!1,a)];c=b.N();null===c?a.ec[E(b).toString()]=b:(c=c.i(),Bm(a.K,c,b));a.dispatchEvent(new Fm("addfeature",b))}n.clear=function(){this.K.forEach(this.ck,this);this.K.clear();Lb(this.ec,this.ck,this);Rb(this.ec);this.W()};n.i=function(){return this.K.i()};
n.Ef=function(a){a=a.target;var b=E(a).toString(),c=a.N();null===c?b in this.ec||(this.K.remove(a),this.ec[b]=a):(c=c.i(),b in this.ec?(delete this.ec[b],Bm(this.K,c,a)):this.K.update(c,a));this.W()};n.isEmpty=function(){return this.K.isEmpty()&&Qb(this.ec)};n.Rh=function(a){var b=E(a).toString();b in this.ec?delete this.ec[b]:this.K.remove(a);this.ck(a);this.W()};n.ck=function(a){var b=E(a).toString();I(this.aj[b],U);delete this.aj[b];this.dispatchEvent(new Fm("removefeature",a))};
function Fm(a,b){$d.call(this,a);this.feature=b}G(Fm,$d);function Gm(a,b){Ul.call(this,a,b);this.qf=!1;this.Hc=-1;this.fn=NaN;this.cn=Ii();this.Vh=this.en=null;this.G=S("CANVAS").getContext("2d")}G(Gm,Ul);
Gm.prototype.Fg=function(a,b,c){var d=this.Cf(a);this.Ka("precompose",c,a,d);var e=this.Vh;if(null!==e&&!e.isEmpty()){var f;this.$a.Vc("render")?(this.G.canvas.width=c.canvas.width,this.G.canvas.height=c.canvas.height,f=this.G):f=c;f.globalAlpha=b.opacity;e.gk(f,a.extent,a.pixelRatio,d,a.view2DState.rotation,a.skippedFeatureUids_);f!=c&&(this.Ka("render",f,a,d),c.drawImage(f.canvas,0,0))}this.Ka("postcompose",c,a,d)};Gm.prototype.ap=function(){jl(this)};
Gm.prototype.Fc=function(a){var b=this.$a,c=b.L;ll(a.attributions,c.yd);ml(a,c);if(this.qf||!a.viewHints[0]&&!a.viewHints[1]){var d=a.extent,e=a.view2DState.resolution,f=a.pixelRatio;a=b.qa;var g=b.get("renderOrder");y(g)||(g=function(a,b){return E(a)-E(b)});if(this.qf||this.fn!=e||this.Hc!=a||this.en!=g||!Pi(this.cn,d)){var h=this.cn,l=Xi(d)/4,m=Vi(d)/4;h[0]=d[0]-l;h[1]=d[1]-m;h[2]=d[2]+l;h[3]=d[3]+m;Zd(this.Vh);this.Vh=null;this.qf=!1;var p=b.pd;y(p)||(p=Il);var q=new lm(e/(2*f),h,e),b=function(a){var b=
p(a,e);if(null!=b){var c=e*e/(4*f*f),d,g;d=0;for(g=b.length;d<g;++d){var h=q,l=a,m=b[d],C=c,B=a,D=this.ap,H=void 0,H=m.J();null!==H&&H.rr(D,this);l=l.N();null!==l&&(l=fj(l,C),(0,pm[l.Ma()])(h,l,m,B))}}this.qf=this.qf||!1};y(g)?(c=Am(c.K,h),Qa(c,g),I(c,b,this)):zm(c.K,h,b,this);q.finish();this.fn=e;this.Hc=a;this.en=g;this.Vh=q}}};function Hm(a,b){vl.call(this,0,b);this.f=S("CANVAS");this.f.style.width="100%";this.f.style.height="100%";this.f.className="ol-unselectable";nc(a,this.f,0);this.B=!0;this.G=this.f.getContext("2d");this.sa=Ig()}G(Hm,vl);Hm.prototype.Gg=function(a){return a instanceof Al?new Wl(this,a):a instanceof Bl?new Xl(this,a):a instanceof Kl?new Gm(this,a):null};
Hm.prototype.Ka=function(a,b){var c=this.getMap(),d=this.G;if(c.Vc(a)){var e=b.view2DState,f=b.pixelRatio;sl(this.sa,this.f.width/2,this.f.height/2,f/e.resolution,-f/e.resolution,-e.rotation,-e.center[0],-e.center[1]);e=new Ll(d,f,b.extent,this.sa,e.rotation);c.dispatchEvent(new mk(a,c,e,b,d,null));e.flush()}};
Hm.prototype.Sh=function(a){if(null===a)this.B&&(Jd(this.f,!1),this.B=!1);else{var b=this.G,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.f.width!=c||this.f.height!=d?(this.f.width=c,this.f.height=d):b.clearRect(0,0,this.f.width,this.f.height);wl(a);this.Ka("precompose",a);var c=a.layerStates,d=a.layersArray,e=a.view2DState.resolution,f,g,h,l;f=0;for(g=d.length;f<g;++f)h=d[f],l=xl(this,h),h=c[E(h)],!h.visible||(1!=h.vk||e>=h.maxResolution||e<h.minResolution)||(l.Fc(a,h),l.Fg(a,h,b));this.Ka("postcompose",
a);this.B||(Jd(this.f,!0),this.B=!0);zl(this,a);yl(a)}};var Im=function(){var a;return function(){if(!y(a))if(t.getComputedStyle){var b=S("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=t.getComputedStyle(b).getPropertyValue(d[e]));oc(b);a=c&&"none"!==c}else a=!1;return a}}(),Jm=function(){var a;return function(){if(!y(a))if(t.getComputedStyle){var b=S("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=t.getComputedStyle(b).getPropertyValue(d[e]));oc(b);a=c&&"none"!==c}else a=!1;return a}}();function Km(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Lr=b;c.msTransform=b;c.transform=b;J&&!Ug&&(a.style.transformOrigin="0 0")}
function Lm(a,b){var c;if(Jm()){if(y(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=b[c].toFixed(6);c=d.join(",")}else c=b.join(",");Km(a,"matrix3d("+c+")")}else if(Im()){d=[b[0],b[1],b[4],b[5],b[12],b[13]];if(y(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Km(a,"matrix("+c+")")}else a.style.left=Math.round(b[12])+"px",a.style.top=Math.round(b[13])+"px"};function Mm(a,b,c){il.call(this,a,b);this.target=c}G(Mm,il);Mm.prototype.vb=k("target");function Nm(a,b){var c=S("DIV");c.style.position="absolute";Mm.call(this,a,b,c);this.h=null;this.sa=Kg()}G(Nm,Mm);
Nm.prototype.Fc=function(a){var b=a.view2DState,c=b.center,d=b.resolution,e=b.rotation,f=this.h,g=this.$a.L,h=a.viewHints;h[0]||h[1]||(b=g.J(a.extent,d,a.pixelRatio,b.projection),null!==b&&(h=b.wa(),0==h?(ve(b,"change",this.pj,!1,this),b.load()):2==h&&(f=b)));if(null!==f){var h=f.i(),l=f.o(),b=Ig();sl(b,a.size[0]/2,a.size[1]/2,l/d,l/d,e,(h[0]-c[0])/l,(c[1]-h[3])/l);f!=this.h&&(c=f.hj(this),c.style.maxWidth="none",c.style.position="absolute",lc(this.target),this.target.appendChild(c),this.h=f);tl(b,
this.sa)||(Lm(this.target,b),Lg(this.sa,b));ll(a.attributions,f.yd);ml(a,g)}};function Om(a,b){var c=S("DIV");c.style.position="absolute";Mm.call(this,a,b,c);this.B=!0;this.dn=1;this.Hc=0;this.Mb={}}G(Om,Mm);
Om.prototype.Fc=function(a,b){if(b.visible){var c=a.pixelRatio,d=a.view2DState,e=d.projection,f=this.$a,g=f.L,h=hl(g,e),l=g.dh(),m=zi(h.nd,d.resolution,0),p=h.o(m),q=d.center,r;p==d.resolution?(q=pl(q,p,a.size),r=Ui(q,p,d.rotation,a.size)):r=a.extent;var p=bl(h,r,p),s={};s[m]={};var v=F(g.bj,g,s,ol(function(a){return null!==a&&2==a.wa()},g,c,e)),u=f.hh();y(u)||(u=!0);var w=Ii(),z=new Jj(0,0,0,0),x,A,C,B;for(C=p.A;C<=p.Y;++C)for(B=p.I;B<=p.w;++B)x=g.getTile(m,C,B,c,e),A=x.wa(),2==A?s[m][x.p.toString()]=
x:4==A||3==A&&!u||(A=h.yf(x.p,v,null,z,w),A||(x=h.Bf(x.p,z,w),null===x||v(m+1,x)));var D;if(this.Hc!=g.qa){for(D in this.Mb)u=this.Mb[+D],oc(u.target);this.Mb={};this.Hc=g.qa}w=Ha(Pb(s),Number);Qa(w);var v={},H;C=0;for(B=w.length;C<B;++C){D=w[C];D in this.Mb?u=this.Mb[D]:(u=fl(h,q,D),u=new Pm(h,u),v[D]=!0,this.Mb[D]=u);D=s[D];for(H in D)Qm(u,D[H],l);Rm(u)}l=Ha(Pb(this.Mb),Number);Qa(l);C=Ig();H=0;for(w=l.length;H<w;++H)if(D=l[H],u=this.Mb[D],D in s)if(x=u.o(),B=u.Fe(),sl(C,a.size[0]/2,a.size[1]/2,
x/d.resolution,x/d.resolution,d.rotation,(B[0]-q[0])/x,(q[1]-B[1])/x),u.setTransform(C),D in v){for(D-=1;0<=D;--D)if(D in this.Mb){mc(u.target,this.Mb[D].target);break}0>D&&nc(this.target,u.target,0)}else a.viewHints[0]||a.viewHints[1]||Sm(u,r,z);else oc(u.target),delete this.Mb[D];b.opacity!=this.dn&&(Id(this.target,b.opacity),this.dn=b.opacity);b.visible&&!this.B&&(Jd(this.target,!0),this.B=!0);nl(a.usedTiles,g,m,p);ql(a,g,h,c,e,r,m,f.gh());kl(a,g);ml(a,g)}else this.B&&(Jd(this.target,!1),this.B=
!1)};function Pm(a,b){this.target=S("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.En=a;this.Bk=b;this.Kh=Wi($k(a,b));this.ag=a.o(b.z);this.og={};this.ze=null;this.sa=Kg()}
function Qm(a,b,c){var d=b.p,e=d.toString();if(!(e in a.og)){var f=el(a.En,d.z),g=b.J(a),h=Math.min(g.width,f),l=Math.min(g.height,f),m=g.style;m.maxWidth="none";var p,q;0<c?(p=S("DIV"),q=p.style,q.overflow="hidden",q.width=h+"px",q.height=l+"px",m.position="absolute",m.left=-c+"px",m.top=-c+"px",m.width=h+2*c+"px",m.height=l+2*c+"px",p.appendChild(g)):(m.width=h+"px",m.height=l+"px",p=g,q=m);q.position="absolute";q.left=(d.x-a.Bk.x)*f+"px";q.top=(a.Bk.y-d.y)*f+"px";null===a.ze&&(a.ze=document.createDocumentFragment());
a.ze.appendChild(p);a.og[e]=b}}function Rm(a){null!==a.ze&&(a.target.appendChild(a.ze),a.ze=null)}Pm.prototype.Fe=k("Kh");Pm.prototype.o=k("ag");function Sm(a,b,c){var d=al(a.En,b,a.Bk.z,c);b=[];for(var e in a.og)c=a.og[e],d.contains(c.p)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=c.p.toString(),oc(c.J(a)),delete a.og[e]}Pm.prototype.setTransform=function(a){tl(a,this.sa)||(Lm(this.target,a),Lg(this.sa,a))};function Tm(a,b){vl.call(this,0,b);this.Ke=S("DIV");this.Ke.className="ol-unselectable";var c=this.Ke.style;c.position="absolute";c.width="100%";c.height="100%";nc(a,this.Ke,0);this.B=!0}G(Tm,vl);Tm.prototype.Gg=function(a){if(a instanceof Al)a=new Nm(this,a);else if(a instanceof Bl)a=new Om(this,a);else return null;return a};
Tm.prototype.Sh=function(a){if(null===a)this.B&&(Jd(this.Ke,!1),this.B=!1);else{var b;b=function(a,b){nc(this.Ke,a,b)};var c=a.layerStates,d=a.layersArray,e,f,g,h;e=0;for(f=d.length;e<f;++e)g=d[e],h=xl(this,g),b.call(this,h.vb(),e),g=a.layerStates[E(g)],1==g.vk&&h.Fc(a,g);for(var l in this.Cb)l in c||(h=this.Cb[l],oc(h.vb()));this.B||(Jd(this.Ke,!0),this.B=!0);wl(a);zl(this,a);yl(a)}};function Um(){}n=Um.prototype;n.Xi=ba();n.Lg=ba();n.xl=ba();n.yl=ba();n.Qg=ba();n.Mg=ba();n.Ng=ba();n.Og=ba();n.Pg=ba();n.tf=ba();n.Rc=ba();n.hc=ba();n.gg=ba();n.Jb=ba();function Vm(){this.Eg=Ig();this.cl=void 0;this.bl=Ig();this.nl=void 0;this.ml=Ig();this.am=void 0;this.$l=Ig();this.qn=void 0;this.pn=Ig()}
function Wm(a,b,c,d,e){var f=!1;y(b)&&b!==a.cl&&(f=a.bl,Mg(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.cl=b,f=!0);if(y(c)&&c!==a.nl){f=a.ml;Mg(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-0.5*c+0.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.nl=c;f=!0}y(d)&&d!==a.am&&(f=Math.cos(d),g=Math.sin(d),Jg(a.$l,0.213+0.787*f-0.213*g,0.213-0.213*f+0.143*g,0.213-0.213*f-0.787*g,0,0.715-0.715*f-0.715*g,0.715+0.285*f+0.14*g,0.715-0.715*f+0.715*g,0,0.072-0.072*f+0.928*g,0.072-0.072*f-0.283*g,0.072+0.928*f+0.072*g,0,0,0,0,1),a.am=d,
f=!0);y(e)&&e!==a.qn&&(Jg(a.pn,0.213+0.787*e,0.213-0.213*e,0.213-0.213*e,0,0.715-0.715*e,0.715+0.285*e,0.715-0.715*e,0,0.072-0.072*e,0.072-0.072*e,0.072+0.928*e,0,0,0,0,1),a.qn=e,f=!0);f&&(f=a.Eg,Mg(f),y(c)&&Ng(f,a.ml,f),y(b)&&Ng(f,a.bl,f),y(e)&&Ng(f,a.pn,f),y(d)&&Ng(f,a.$l,f));return a.Eg};function Xm(a){this.L=a}function Ym(a){this.L=a}G(Ym,Xm);Ym.prototype.Ma=da(35632);function Zm(a){this.L=a}G(Zm,Xm);Zm.prototype.Ma=da(35633);function $m(){this.L="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}G($m,Ym);fa($m);function an(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(an,Zm);fa(an);
function bn(a,b){this.pr=a.getUniformLocation(b,"f");this.Pn=a.getUniformLocation(b,"g");this.Qn=a.getUniformLocation(b,"e");this.Rn=a.getUniformLocation(b,"d");this.pi=a.getUniformLocation(b,"h");this.ke=a.getAttribLocation(b,"b");this.le=a.getAttribLocation(b,"c")};function cn(){this.L="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}G(cn,Ym);fa(cn);function dn(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(dn,Zm);fa(dn);
function en(a,b){this.Pn=a.getUniformLocation(b,"f");this.Qn=a.getUniformLocation(b,"e");this.Rn=a.getUniformLocation(b,"d");this.pi=a.getUniformLocation(b,"g");this.ke=a.getAttribLocation(b,"b");this.le=a.getAttribLocation(b,"c")};function fn(a){this.ja=y(a)?a:[]}n=fn.prototype;n.addRange=function(a,b){if(a!=b){var c=this.ja,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);gn(this);return}c.push(a,b);gn(this)}};n.clear=function(){this.ja.length=0};function gn(a){a=a.ja;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}n.Gl=function(a,b){var c=this.ja,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};
n.getArray=k("ja");n.ga=function(){var a=this.ja,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};n.isEmpty=function(){return 0===this.ja.length};
n.removeRange=function(a,b){var c=this.ja,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}gn(this)};function hn(a,b,c){this.ja=y(a)?a:[];this.Ed=[];this.Ce=new fn;a=y(b)?b:this.ja.length;a<this.ja.length&&this.Ce.addRange(a,this.ja.length);this.hs=this.is=null;this.vr=y(c)?c:35044}n=hn.prototype;n.add=function(a){var b=a.length,c;a:{c=this.Ce.ja;var d=c.length,e=-1,f,g,h;for(g=0;g<d;g+=2){h=c[g+1]-c[g];if(h==b){c=c[g];break a}h>b&&(-1==e||h<f)&&(e=c[g],f=h)}c=e}this.Ce.removeRange(c,c+b);for(d=0;d<b;++d)this.ja[c+d]=a[d];jn(this,b,c);return c};
n.Gl=function(a,b){if(0!==this.ja.length){var c=this.ja.length,d=this.Ce.ja,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};n.getArray=k("ja");n.Wa=function(){return this.ja.length-this.Ce.ga()};function jn(a,b,c){var d,e;d=0;for(e=a.Ed.length;d<e;++d)a.Ed[d].addRange(c,c+b)}n.remove=function(a,b){var c,d;this.Ce.addRange(b,b+a);c=0;for(d=this.Ed.length;c<d;++c)this.Ed[c].removeRange(b,b+a)};
n.set=function(a,b){var c=this.ja,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];jn(this,d,b)};function kn(a,b){il.call(this,a,b);this.lo=new hn([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.Xg=this.qb=null;this.Yg=void 0;this.zk=Ig();this.Ym=Kg();this.Eg=new Vm;this.Ui=this.Ni=null}G(kn,il);
kn.prototype.bindFramebuffer=function(a,b){var c=this.Sd.pa;if(y(this.Yg)&&this.Yg==b)c.bindFramebuffer(36160,this.Xg);else{a.postRenderFunctions.push(sa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.Xg,this.qb));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.qb=d;this.Xg=e;this.Yg=b}};
kn.prototype.Fg=function(a,b,c){this.Ka("precompose",c,a);c.bindBuffer(34962,this.lo);var d=c.pa,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=$m.Zb(),g=an.Zb()):(f=cn.Zb(),g=dn.Zb());f=ln(c,f,g);e?null===this.Ni?this.Ni=g=new bn(d,f):g=this.Ni:null===this.Ui?this.Ui=g=new en(d,f):g=this.Ui;c.useProgram(f)&&(d.enableVertexAttribArray(g.ke),d.vertexAttribPointer(g.ke,2,5126,!1,16,0),d.enableVertexAttribArray(g.le),d.vertexAttribPointer(g.le,2,5126,!1,16,8),d.uniform1i(g.pi,0));d.uniformMatrix4fv(g.Rn,
!1,this.zk);d.uniformMatrix4fv(g.Qn,!1,this.Ym);e&&d.uniformMatrix4fv(g.pr,!1,Wm(this.Eg,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.Pn,b.opacity);d.bindTexture(3553,this.qb);d.drawArrays(5,0,4);this.Ka("postcompose",c,a)};kn.prototype.Ka=function(a,b,c){var d=this.$a;d.Vc(a)&&d.dispatchEvent(new mk(a,d,new Um,c,null,b))};kn.prototype.Od=function(){this.Xg=this.qb=null;this.Yg=void 0};function mn(a,b){kn.call(this,a,b);this.h=null}G(mn,kn);function nn(a,b){var c=b.hj(),d=a.Sd.pa,e=d.createTexture();d.bindTexture(3553,e);d.texImage2D(3553,0,6408,6408,5121,c);d.texParameteri(3553,10242,33071);d.texParameteri(3553,10243,33071);d.texParameteri(3553,10241,9729);d.texParameteri(3553,10240,9729);return e}
mn.prototype.Fc=function(a){var b=this.Sd.pa,c=a.view2DState,d=c.center,e=c.resolution,f=c.rotation,g=this.h,h=this.qb,l=this.$a.L,m=a.viewHints;m[0]||m[1]||(c=l.J(a.extent,e,a.pixelRatio,c.projection),null!==c&&(m=c.wa(),0==m?(ve(c,"change",this.pj,!1,this),c.load()):2==m&&(g=c,h=nn(this,c),null===this.qb||a.postRenderFunctions.push(sa(function(a,b){a.isContextLost()||a.deleteTexture(b)},b,this.qb)))));null!==g&&(b=on(this.Sd.getContext()),pn(this,b.width,b.height,d,e,f,g.i()),d=this.zk,Mg(d),Pg(d,
1,-1),Og(d,0,-1),this.h=g,this.qb=h,ll(a.attributions,g.yd),ml(a,l))};function pn(a,b,c,d,e,f,g){b*=e;c*=e;a=a.Ym;Mg(a);Pg(a,2/b,2/c);Qg(a,-f);Og(a,g[0]-d[0],g[1]-d[1]);Pg(a,(g[2]-g[0])/2,(g[3]-g[1])/2);Og(a,1,1)};function qn(){this.L="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}G(qn,Ym);fa(qn);function rn(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}G(rn,Zm);fa(rn);function sn(a,b){this.pi=a.getUniformLocation(b,"e");this.qr=a.getUniformLocation(b,"d");this.ke=a.getAttribLocation(b,"b");this.le=a.getAttribLocation(b,"c")};function tn(a,b){kn.call(this,a,b);this.Fo=qn.Zb();this.yr=rn.Zb();this.Bc=null;this.an=new hn([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.fk=this.Th=null;this.Hc=-1}G(tn,kn);tn.prototype.c=function(){this.Sd.getContext().deleteBuffer(this.an);tn.g.c.call(this)};tn.prototype.Od=function(){tn.g.Od.call(this);this.Bc=null};
tn.prototype.Fc=function(a){var b=this.Sd,c=b.getContext(),d=b.pa,e=a.view2DState,f=e.projection,g=this.$a,h=g.L,l=hl(h,f),m=zi(l.nd,e.resolution,0),p=l.o(m),q=el(hl(h,f),m),r=q/el(l,m),s=p/r,v=h.dh(),u=e.center,w;p==e.resolution?(u=pl(u,p,a.size),w=Ui(u,p,e.rotation,a.size)):w=a.extent;p=bl(l,w,p);if(null!==this.Th&&this.Th.equals(p)&&this.Hc==h.qa)s=this.fk;else{var z=p.ga(),z=Math.max(z[0]*q,z[1]*q),x=Math.pow(2,Math.ceil(Math.log(z)/Math.LN2)),z=s*x,A=l.Fe(m),C=A[0]+p.A*q*s,s=A[1]+p.I*q*s,s=[C,
s,C+z,s+z];this.bindFramebuffer(a,x);d.viewport(0,0,x,x);d.clearColor(0,0,0,0);d.clear(16384);d.disable(3042);x=ln(c,this.Fo,this.yr);c.useProgram(x);null===this.Bc&&(this.Bc=new sn(d,x));c.bindBuffer(34962,this.an);d.enableVertexAttribArray(this.Bc.ke);d.vertexAttribPointer(this.Bc.ke,2,5126,!1,16,0);d.enableVertexAttribArray(this.Bc.le);d.vertexAttribPointer(this.Bc.le,2,5126,!1,16,8);d.uniform1i(this.Bc.pi,0);c={};c[m]={};var B=F(h.bj,h,c,ol(function(a){return null!==a&&2==a.wa()&&b.Ra.Fa(a.getKey())},
h,r,f)),D=g.hh();y(D)||(D=!0);var x=!0,C=Ii(),H=new Jj(0,0,0,0),R,aa,Y;for(aa=p.A;aa<=p.Y;++aa)for(Y=p.I;Y<=p.w;++Y){A=h.getTile(m,aa,Y,r,f);R=A.wa();if(2==R){if(b.Ra.Fa(A.getKey())){c[m][A.p.toString()]=A;continue}}else if(4==R||3==R&&!D)continue;x=!1;R=l.yf(A.p,B,null,H,C);R||(A=l.Bf(A.p,H,C),null===A||B(m+1,A))}B=Ha(Pb(c),Number);Qa(B);var D=new Float32Array(4),M,O,N,lb,H=0;for(aa=B.length;H<aa;++H)for(O in N=c[B[H]],N)A=N[O],M=$k(l,A.p,C),Y=2*(M[2]-M[0])/z,R=2*(M[3]-M[1])/z,lb=2*(M[0]-s[0])/z-
1,M=2*(M[1]-s[1])/z-1,Hg(D,Y,R,lb,M),d.uniform4fv(this.Bc.qr,D),un(b,A,q,v*r),d.drawArrays(5,0,4);x?(this.Th=p,this.fk=s,this.Hc=h.qa):(this.fk=this.Th=null,this.Hc=-1,a.animate=!0)}nl(a.usedTiles,h,m,p);var Oa=b.mg;ql(a,h,l,r,f,w,m,g.gh(),function(a){var c;(c=2!=a.wa())||(c=b.Ra.Fa(a.getKey()))||(c=a.getKey()in Oa.Te);c||ri(Oa,[a,dl(l,a.p),l.o(a.p.z),q,v*r])},this);kl(a,h);ml(a,h);d=this.zk;Mg(d);Og(d,(u[0]-s[0])/(s[2]-s[0]),(u[1]-s[1])/(s[3]-s[1]));0!==e.rotation&&Qg(d,e.rotation);Pg(d,a.size[0]*
e.resolution/(s[2]-s[0]),a.size[1]*e.resolution/(s[3]-s[1]));Og(d,-0.5,-0.5)};function vn(){this.j=0;this.vf={};this.mb=this.nb=null}n=vn.prototype;n.clear=function(){this.j=0;this.vf={};this.mb=this.nb=null};n.Fa=function(a){return this.vf.hasOwnProperty(a)};n.forEach=function(a,b){for(var c=this.nb;null!==c;)a.call(b,c.$e,c.xh,this),c=c.Eb};n.get=function(a){a=this.vf[a];if(a===this.mb)return a.$e;a===this.nb?(this.nb=this.nb.Eb,this.nb.fd=null):(a.Eb.fd=a.fd,a.fd.Eb=a.Eb);a.Eb=null;a.fd=this.mb;this.mb=this.mb.Eb=a;return a.$e};n.Wa=k("j");
n.uc=function(){var a=Array(this.j),b=0,c;for(c=this.mb;null!==c;c=c.fd)a[b++]=c.xh;return a};n.wb=function(){var a=Array(this.j),b=0,c;for(c=this.mb;null!==c;c=c.fd)a[b++]=c.$e;return a};n.Vj=function(){return this.nb.$e};n.pop=function(){var a=this.nb;delete this.vf[a.xh];null!==a.Eb&&(a.Eb.fd=null);this.nb=a.Eb;null===this.nb&&(this.mb=null);--this.j;return a.$e};n.set=function(a,b){var c={xh:a,Eb:null,fd:this.mb,$e:b};null===this.mb?this.nb=c:this.mb.Eb=c;this.mb=c;this.vf[a]=c;++this.j};function wn(a,b){this.f=a;this.pa=b;this.Oc={};this.hg={};this.Zf={};this.Pi=null;T(this.f,"webglcontextlost",this.Od,!1,this);T(this.f,"webglcontextrestored",this.sj,!1,this)}n=wn.prototype;
n.bindBuffer=function(a,b){var c=this.pa,d=b.getArray(),e=E(b);if(e in this.Oc)e=this.Oc[e],c.bindBuffer(a,e.buffer),e.Jg.Gl(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.Jg.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.vr);var g=new fn;b.Ed.push(g);this.Oc[e]={dl:b,buffer:f,Jg:g}}};
n.deleteBuffer=function(a){var b=this.pa;a=E(a);var c=this.Oc[a];Ka(c.dl.Ed,c.Jg);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.Oc[a]};n.c=function(){Lb(this.Oc,function(a){Ka(a.dl.Ed,a.Jg)});var a=this.pa;a.isContextLost()||(Lb(this.Oc,function(b){a.deleteBuffer(b.buffer)}),Lb(this.Zf,function(b){a.deleteProgram(b)}),Lb(this.hg,function(b){a.deleteShader(b)}))};function on(a){return a.f}
function xn(a,b){var c=E(b);if(c in a.hg)return a.hg[c];var d=a.pa,e=d.createShader(b.Ma());d.shaderSource(e,b.L);d.compileShader(e);return a.hg[c]=e}function ln(a,b,c){var d=E(b)+"/"+E(c);if(d in a.Zf)return a.Zf[d];var e=a.pa,f=e.createProgram();e.attachShader(f,xn(a,b));e.attachShader(f,xn(a,c));e.linkProgram(f);return a.Zf[d]=f}n.Od=function(){Rb(this.Oc);Rb(this.hg);Rb(this.Zf);this.Pi=null};n.sj=ba();n.useProgram=function(a){if(a==this.Pi)return!1;this.pa.useProgram(a);this.Pi=a;return!0};function yn(a,b){vl.call(this,0,b);this.f=S("CANVAS");this.f.style.width="100%";this.f.style.height="100%";this.f.className="ol-unselectable";nc(a,this.f,0);this.hl=S("CANVAS");this.gl=0;this.qo=this.hl.getContext("2d");this.B=!0;this.pa=Sg(this.f,{antialias:!0,depth:!1,Do:!0,preserveDrawingBuffer:!1,stencil:!0});this.G=new wn(this.f,this.pa);T(this.f,"webglcontextlost",this.Od,!1,this);T(this.f,"webglcontextrestored",this.sj,!1,this);this.Ra=new vn;this.Ld=null;this.mg=new oi(F(function(a){var b=
a[1];a=a[2];var e=b[0]-this.Ld[0],b=b[1]-this.Ld[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Kp=F(function(){if(!this.mg.isEmpty()){ti(this.mg);var a=pi(this.mg);un(this,a[0],a[3],a[4])}},this);this.lg=0;zn(this)}G(yn,vl);
function un(a,b,c,d){var e=a.pa,f=b.getKey();if(a.Ra.Fa(f))a=a.Ra.get(f),e.bindTexture(3553,a.qb),9729!=a.wm&&(e.texParameteri(3553,10240,9729),a.wm=9729),9729!=a.Dm&&(e.texParameteri(3553,10240,9729),a.Dm=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.hl,l=a.qo;a.gl!=c?(h.width=c,h.height=c,a.gl=c):l.clearRect(0,0,c,c);l.drawImage(b.J(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.J());e.texParameteri(3553,10240,9729);
e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.Ra.set(f,{qb:g,wm:9729,Dm:9729})}}n=yn.prototype;n.Gg=function(a){return a instanceof Al?new mn(this,a):a instanceof Bl?new tn(this,a):null};n.Ka=function(a,b){var c=this.getMap();if(c.Vc(a)){var d=this.getContext();c.dispatchEvent(new mk(a,c,new Um,b,null,d))}};n.c=function(){var a=this.pa;a.isContextLost()||this.Ra.forEach(function(b){null===b||a.deleteTexture(b.qb)});Zd(this.G);yn.g.c.call(this)};
n.Co=function(a,b){for(var c=this.pa,d;1024<this.Ra.Wa()-this.lg;){d=this.Ra.Vj();if(null===d)if(+this.Ra.nb.xh==b.index)break;else--this.lg;else c.deleteTexture(d.qb);this.Ra.pop()}};n.getContext=k("G");n.Od=function(a){a.preventDefault();this.Ra.clear();this.lg=0;Lb(this.Cb,function(a){a.Od()})};n.sj=function(){zn(this);this.getMap().render()};function zn(a){a=a.pa;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
n.Sh=function(a){var b=this.getContext(),c=this.pa;if(c.isContextLost())return!1;if(null===a)return this.B&&(Jd(this.f,!1),this.B=!1),!1;this.Ld=a.focus;this.Ra.set((-a.index).toString(),null);++this.lg;var d=[],e=a.layersArray,f=a.view2DState.resolution,g,h,l,m;g=0;for(h=e.length;g<h;++g)l=e[g],m=a.layerStates[E(l)],m.visible&&(1==m.vk&&f<m.maxResolution&&f>=m.minResolution)&&d.push(l);g=0;for(h=d.length;g<h;++g)l=d[g],e=xl(this,l),m=a.layerStates[E(l)],e.Fc(a,m);g=a.size[0]*a.pixelRatio;h=a.size[1]*
a.pixelRatio;if(this.f.width!=g||this.f.height!=h)this.f.width=g,this.f.height=h;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.f.width,this.f.height);this.Ka("precompose",a);g=0;for(h=d.length;g<h;++g)l=d[g],m=a.layerStates[E(l)],e=xl(this,l),e.Fg(a,m,b);this.B||(Jd(this.f,!0),this.B=!0);wl(a);1024<this.Ra.Wa()-this.lg&&a.postRenderFunctions.push(F(this.Co,this));this.mg.isEmpty()||(a.postRenderFunctions.push(this.Kp),a.animate=!0);this.Ka("postcompose",
a);zl(this,a);yl(a)};var An=["webgl","canvas","dom"];
function Z(a){eh.call(this);var b=Bn(a);this.Zd=y(a.pixelRatio)?a.pixelRatio:Vg;this.mq=b.ol3Logo;this.Fi=new Ff(this.Fq,void 0,this);Yd(this,this.Fi);this.ro=Ig();this.tq=Ig();this.Go=0;this.Of=this.vi=this.sc=null;this.na=gc("DIV","ol-viewport");this.na.style.position="relative";this.na.style.overflow="hidden";this.na.style.width="100%";this.na.style.height="100%";this.na.style.msTouchAction="none";Yg&&(this.na.className="ol-touch");this.Sm=gc("DIV","ol-overlaycontainer");this.na.appendChild(this.Sm);
this.Lh=gc("DIV","ol-overlaycontainer-stopevent");T(this.Lh,"click dblclick mousedown touchstart MSPointerDown pointerdown".split(" "),ae);this.na.appendChild(this.Lh);a=new Zh(this);T(a,Ob(ii),this.Ya,!1,this);Yd(this,a);this.mm=b.keyboardEventTarget;this.ac=new jf;T(this.ac,"key",this.Rl,!1,this);Yd(this,this.ac);a=new Bg(this.na);T(a,"mousewheel",this.Rl,!1,this);Yd(this,a);this.Oi=b.controls;this.xo=b.deviceOptions;this.Je=b.interactions;this.Sj=b.overlays;this.Ca=new b.Gq(this.na,this);Yd(this,
this.Ca);this.Ar=new Ag;T(this.Ar,"resize",this.qi,!1,this);this.Ld=null;this.Qh=[];this.Vm=[];this.Fn=new ui(F(this.To,this),F(this.zp,this));this.uk=new mh;T(this.uk,["add","remove"],this.vp,!1,this);Yd(this,this.uk);this.skippedFeatureUids_={};T(this,ih("layergroup"),this.hp,!1,this);T(this,ih("view"),this.Ap,!1,this);T(this,ih("size"),this.up,!1,this);T(this,ih("target"),this.xp,!1,this);this.setValues(b.xr);this.Oi.forEach(function(a){a.setMap(this)},this);T(this.Oi,"add",function(a){a.element.setMap(this)},
!1,this);T(this.Oi,"remove",function(a){a.element.setMap(null)},!1,this);this.Je.forEach(function(a){a.setMap(this)},this);T(this.Je,"add",function(a){a.element.setMap(this)},!1,this);T(this.Je,"remove",function(a){a.element.setMap(null)},!1,this);this.Sj.forEach(function(a){a.setMap(this)},this);T(this.Sj,"add",function(a){a.element.setMap(this)},!1,this);T(this.Sj,"remove",function(a){a.element.setMap(null)},!1,this)}G(Z,eh);function Cn(a,b){a.Nd().Xa().push(b)}
Z.prototype.Nc=function(a){this.render();Array.prototype.push.apply(this.Qh,arguments)};Z.prototype.c=function(){oc(this.na);Z.g.c.call(this)};function Xh(a,b){if(y(b.changedTouches)){var c=b.changedTouches.item(0),d=Ed(a.na);return[c.clientX-d.x,c.clientY-d.y]}d=a.na;c=Ed(b);d=Ed(d);c=new L(c.x-d.x,c.y-d.y);return[c.x,c.y]}Z.prototype.vb=function(){return this.get("target")};Z.prototype.getTarget=Z.prototype.vb;
Z.prototype.Xb=function(a){var b=this.sc;if(null===b)return null;a=a.slice();return ul(b.pixelToCoordinateMatrix,a,a)};Z.prototype.Nd=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.Nd;Z.prototype.Xa=function(){var a=this.Nd();if(y(a))return a.Xa()};function kk(a,b){var c=a.sc;if(null===c)return null;var d=b.slice(0,2);return ul(c.coordinateToPixelMatrix,d,d)}Z.prototype.ga=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.ga;Z.prototype.k=function(){return this.get("view")};
Z.prototype.getView=Z.prototype.k;n=Z.prototype;n.To=function(a,b,c,d){var e=this.sc;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][a.p.toString()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};n.Rl=function(a,b){var c=new Wh(b||a.type,this,a);this.Ya(c)};n.Ya=function(a){if(null!==this.sc){this.Ld=a.coordinate;a.frameState=this.sc;var b=this.Je.getArray(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c&&b[c].Ya(a);c--);}};
n.sp=function(){var a=this.sc,b=this.Fn;if(!b.isEmpty()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.xo;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=Nb(a.wantedTiles)}c*=e;d*=e;if(b.ng<c){ti(b);c=Math.min(c-b.ng,d,b.Wa());for(d=0;d<c;++d)e=pi(b)[0],ve(e,"change",b.yp,!1,b),e.load();b.ng+=c}}b=this.Vm;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};n.up=function(){this.render()};
n.vp=function(){this.skippedFeatureUids_={};this.uk.forEach(function(a){this.skippedFeatureUids_[E(a).toString()]=!0},this);this.render()};n.xp=function(){var a=this.vb(),a=y(a)?Q(a):null;this.ac.detach();null===a?oc(this.na):(a.appendChild(this.na),kf(this.ac,null===this.mm?a:this.mm));this.qi()};n.zp=function(){this.render()};n.Bp=function(){this.render()};n.Ap=function(){null!==this.vi&&(U(this.vi),this.vi=null);var a=this.k();null!=a&&(this.vi=T(a,"propertychange",this.Bp,!1,this));this.render()};
n.ip=function(){this.render()};n.jp=function(){this.render()};n.hp=function(){if(null!==this.Of){for(var a=this.Of.length,b=0;b<a;++b)U(this.Of[b]);this.Of=null}a=this.Nd();null!=a&&(this.Of=[T(a,"propertychange",this.jp,!1,this),T(a,"change",this.ip,!1,this)]);this.render()};n.sh=function(){if(!pc(document,this.na)||"none"==this.na.style.display)return!1;var a=this.ga();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.k();return y(a)&&a.sh()?!0:!1};n.render=function(){this.Fi.Mf()||this.Fi.start()};
function Dn(a,b){a.Nd().Xa().remove(b)}
n.Fq=function(a){var b,c,d,e=this.ga();b=this.k();var f=y(b)?this.k().H():void 0,g=null;if(y(e)&&0<e[0]&&0<e[1]&&y(f)&&f.sh()){g=Ma(b.kh);b=this.Nd().jj();var h=b.layers;d=b.layerStates;var l={},m;b=0;for(c=h.length;b<c;++b)m=h[b],l[E(m)]=d[b];d=Hj(f);g={animate:!1,attributions:{},coordinateToPixelMatrix:this.ro,extent:null,focus:null===this.Ld?d.center:this.Ld,index:this.Go++,layersArray:h,layerStates:l,logos:{},pixelRatio:this.Zd,pixelToCoordinateMatrix:this.tq,postRenderFunctions:[],size:e,skippedFeatureUids_:this.skippedFeatureUids_,
tileQueue:this.Fn,time:a,usedTiles:{},view2DState:d,viewHints:g,wantedTiles:{}};this.mq&&(g.logos["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://ol3js.org/")}a=this.Qh;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;null!==g&&(g.extent=Ui(d.center,d.resolution,d.rotation,g.size));this.sc=g;this.Ca.Sh(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Vm,g.postRenderFunctions),0!==this.Qh.length||(g.animate||g.viewHints[0]||g.viewHints[1])||this.dispatchEvent(new oh("moveend",this)));this.dispatchEvent(new oh("postrender",this,g));c=b=this.sp;this&&(c=F(b,this));ma(t.setImmediate)?t.setImmediate(c):
(xg||(xg=yg()),xg(c))};n.tn=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.tn;Z.prototype.rk=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.rk;Z.prototype.sk=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.sk;Z.prototype.Wq=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.Wq;
Z.prototype.qi=function(){var a=this.vb(),a=y(a)?Q(a):null;if(null===a)this.rk(void 0);else{var b=Zb(a),c=J&&a.currentStyle;c&&tc(Xb(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=Md(a,c.width,"width","pixelWidth"),a=Md(a,c.height,"height","pixelHeight"),a=new Kb(b,a)):(c=new Kb(a.offsetWidth,a.offsetHeight),b=Od(a),a=Rd(a),a=new Kb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.rk([a.width,a.height])}};
function Bn(a){var b=null;y(a.keyboardEventTarget)&&(b=ka(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d=y(a.ol3Logo)?a.ol3Logo:!0,e=a.layers instanceof Mk?a.layers:new Mk({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=y(a.view)?a.view:new W;var e=vl,f;y(a.renderer)?ia(a.renderer)?f=a.renderer:ka(a.renderer)&&(f=[a.renderer]):f=An;var g,h;g=0;for(h=f.length;g<h;++g){var l=f[g];if("canvas"==l){if(Xg){e=Hm;break}}else if("dom"==l){e=
Tm;break}else if("webgl"==l&&ah){e=yn;break}}y(a.controls)?f=ia(a.controls)?new mh(Ma(a.controls)):a.controls:(f=y(void 0)?void 0:{},g=new mh,(y(f.zoom)?f.zoom:1)&&g.push(new Vj(y(f.zoomOptions)?f.zoomOptions:void 0)),(y(f.attribution)?f.attribution:1)&&g.push(new Nj(y(f.attributionOptions)?f.attributionOptions:void 0)),(y(f.logo)?f.logo:1)&&g.push(new Oj(y(f.logoOptions)?f.logoOptions:void 0)),f=g);g=y(a.deviceOptions)?a.deviceOptions:{};h=y(a.interactions)?ia(a.interactions)?new mh(Ma(a.interactions)):
a.interactions:Jk();a=y(a.overlays)?ia(a.overlays)?new mh(Ma(a.overlays)):a.overlays:new mh;return{controls:f,deviceOptions:g,interactions:h,keyboardEventTarget:b,ol3Logo:d,overlays:a,Gq:e,xr:c}}vj(Qk);vj(Vk);I(Vk,function(a){I(Qk,function(b){xj(a,b,Rk);xj(b,a,Sk)})});function $(a){eh.call(this);this.Fp=y(a.insertFirst)?a.insertFirst:!0;this.Zq=y(a.stopEvent)?a.stopEvent:!0;this.kq=y(a.offsetX)?a.offsetX:0;this.lq=y(a.offsetY)?a.offsetY:0;this.a=S("DIV");this.a.style.position="absolute";this.ka={Ag:"",Ah:"",Wh:"",mi:"",visible:!0};this.Eh=null;T(this,ih("element"),this.Wo,!1,this);T(this,ih("map"),this.np,!1,this);T(this,ih("position"),this.qp,!1,this);T(this,ih("positioning"),this.rp,!1,this);y(a.element)&&this.sn(a.element);y(a.position)&&this.setPosition(a.position);
y(a.positioning)&&this.vn(a.positioning)}G($,eh);$.prototype.Yb=function(){return this.get("element")};$.prototype.getElement=$.prototype.Yb;$.prototype.getMap=function(){return this.get("map")};$.prototype.getMap=$.prototype.getMap;$.prototype.getPosition=function(){return this.get("position")};$.prototype.getPosition=$.prototype.getPosition;$.prototype.Pl=function(){return this.get("positioning")};$.prototype.getPositioning=$.prototype.Pl;n=$.prototype;
n.Wo=function(){lc(this.a);var a=this.Yb();null!=a&&kc(this.a,a)};n.np=function(){null!==this.Eh&&(oc(this.a),U(this.Eh),this.Eh=null);var a=this.getMap();null!=a&&(this.Eh=T(a,"postrender",this.Ge,!1,this),En(this),a=this.Zq?a.Lh:a.Sm,this.Fp?nc(a,this.a,0):kc(a,this.a))};n.Ge=function(){En(this)};n.qp=function(){En(this)};n.rp=function(){En(this)};n.sn=function(a){this.set("element",a)};$.prototype.setElement=$.prototype.sn;$.prototype.setMap=function(a){this.set("map",a)};$.prototype.setMap=$.prototype.setMap;
$.prototype.setPosition=function(a){this.set("position",a)};$.prototype.setPosition=$.prototype.setPosition;$.prototype.vn=function(a){this.set("positioning",a)};$.prototype.setPositioning=$.prototype.vn;
function En(a){var b=a.getMap(),c=a.getPosition();if(y(b)&&null!==b.sc&&y(c)){var c=kk(b,c),d=b.ga(),b=a.a.style,e=a.Pl();if("bottom-right"==e||"center-right"==e||"top-right"==e){""!==a.ka.Ah&&(a.ka.Ah=b.left="");var f=Math.round(d[0]-c[0])+"px";a.ka.Wh!=f&&(a.ka.Wh=b.right=f)}else{""!==a.ka.Wh&&(a.ka.Wh=b.right="");f=-a.kq;if("bottom-center"==e||"center-center"==e||"top-center"==e)f+=Gd(a.a).width/2;f=Math.round(c[0]-f)+"px";a.ka.Ah!=f&&(a.ka.Ah=b.left=f)}if("bottom-left"==e||"bottom-center"==e||
"bottom-right"==e)""!==a.ka.mi&&(a.ka.mi=b.top=""),c=Math.round(d[1]-c[1])+"px",a.ka.Ag!=c&&(a.ka.Ag=b.bottom=c);else{""!==a.ka.Ag&&(a.ka.Ag=b.bottom="");d=-a.lq;if("center-left"==e||"center-center"==e||"center-right"==e)d+=Gd(a.a).height/2;c=Math.round(c[1]-d)+"px";a.ka.mi!=c&&(a.ka.mi=b.top=c)}a.ka.visible||(Jd(a.a,!0),a.ka.visible=!0)}else a.ka.visible&&(Jd(a.a,!1),a.ka.visible=!1)};function Fn(a,b,c,d){this.Jh=!1;this.Ih=null;this.Um=b;this.sl={};this.longitude=this.latitude="";this.dc=this.Ub=null;this.lb=void 0;this.Li=!1;this.Zi=gc("DIV",Gn);this.uf=gc("DIV",Hn);this.Sc=gc("DIV",In,this.Zi,this.uf);$.call(this,{position:[c,d],positioning:"top-left",element:this.Sc});this.setMap(a);b?Jn(this,b):Cb(this.a,Kn);this.wl=new gg(this.a,this.uf);T(this.wl,"drag",this.Un,!1,this);T(this.wl,"start",function(){this.Ih=new L(this.a.offsetLeft,this.a.offsetTop)},!1,this);T(this.uf,"mousedown",
function(a){a.stopPropagation()},!1,this);T(this.uf,"mouseup",function(){this.Li&&(this.dispatchEvent(Ln),this.Li=!1)},!1,this);T(this.Sc,"click",function(a){var b=new L(this.a.offsetLeft,this.a.offsetTop),c;if(c=this.Ih){var d=this.Ih;c=b.x-d.x;b=b.y-d.y;c=Math.sqrt(c*c+b*b)}c||this.dispatchEvent(Mn);this.Ih=null;a.stopPropagation()},!1,this);T(this.Sc,"mouseover",function(){this.dispatchEvent({type:Nn,state:!0})},!1,this);T(this.Sc,"mouseout",function(){this.dispatchEvent({type:Nn,state:!1})},!1,
this)}G(Fn,$);n=Fn.prototype;n.Un=function(){var a=new L(this.a.offsetLeft,this.a.offsetTop);this.setPosition(this.getMap().Xb([a.x,a.y]));this.Li=!0;this.dispatchEvent(On)};n.open=function(a){this.rf||(this.Jh=a,this.Sc.className=this.Jh?Pn:In)};n.Yb=k("Sc");n.Rd=k("Jh");function Jn(a,b){a.Um=b;a.Zi.innerHTML=b;1E6<=b&&Cb(a.a,Qn);Fb(a.a,Kn,null===b)}n.tc=k("Um");function Rn(a,b){a.Jh||(a.Sc.className=b?Sn:In)}n.c=function(){this.setMap(void 0);delete this.Sc;delete this.Zi;delete this.uf;Fn.g.c.call(this)};
var Mn="toggle",On="change",Ln="commit",Nn="hover",Tn={ho:Mn,$n:On,ao:Ln,bo:Nn},In="point",Kn="pointNew",Pn="pointOpen",Sn="pointHover",Gn="pointId",Hn="pointDragger",Qn="pointAdjust";function Un(a,b){this.zd=a;this.a=Q(b);this.ql=Q("loupeCross").cloneNode(!0);this.b=new Z({renderer:["canvas","dom"],interactions:new mh([new Vn(this,{kinetic:new Wj(-1,1,100)})]),target:this.a,view:new W,controls:[]});this.Lc=this.b.k().H();this.xg=this.zd.k().H();this.Ne=this.Ta=this.Id=null;this.xg.bindTo("rotation",this.Lc);var c=ih("resolution");T(this.xg,c,function(){this.Lc.ce(this.xg.o()/4)},!1,this);c=ih("layergroup");T(this.zd,c,function(){this.ie()},!1,this);T(this.zd.Nd(),ih("layers"),
function(){this.ie()},!1,this);this.Lc.ce(this.xg.o()/4);this.ie();T(this.a,"click",function(a){a.stopPropagation()},!1,this)}Un.prototype.ie=function(){var a=this.zd.Xa();a&&(a=a.getAt(0))&&(a=a.L)&&this.b.tn(new Mk({layers:new mh([new Bl({source:a})])}))};
Un.prototype.bindTo=function(a){this.Ne&&U(this.Ne);this.Lc.unbindAll();oc(this.a);oc(this.ql);this.Ta&&(this.Ta.open(!1),this.Ta=null);this.Id&&(oc(this.Id.Yb()),this.Id.gb(),this.Id=null);var b=this.zd.vb();Fb(y(b)?Q(b):null,"loupeVisible",null!=a);a&&(ia(a)&&(this.Id=new Fn(this.zd,null,a[0],a[1]),this.Id.open(!0),a=this.Id),this.Ne=T(this.b,di,function(){a.dispatchEvent({type:Ln})},!1,this),this.Lc.bindTo("center",a,"position"),nc(a.Yb(),this.a,0),nc(a.Yb(),this.ql,1));return this.Ta=a};
function Vn(a,b){jk.call(this,b);this.cc=a}G(Vn,jk);Vn.prototype.zb=function(a){var b=this.cc.Ta;b&&b.dispatchEvent(Ln);return Vn.g.zb.call(this,a)};
Vn.prototype.jb=function(a){var b=ik(this.Da);if(null!==this.Ac){var c=this.Ac[0]-b[0],d=b[1]-this.Ac[1],b=this.cc.zd,e=b.k().H(),f=Hj(e),c=[c/4,d/4];vg(c,f.resolution);ug(c,f.rotation);pg(c,f.center);c=e.we.center(c);b.render();e.setCenter(c);(c=this.cc.Ta)&&c.Un()}Vn.g.jb.call(this,a);ve(document,"mouseup",function(b){var c=di;b=new ph(c,b);b.pointerId=a.jd.pointerId;this.Ya(new Yh(c,a.map,b))},!1,this)};function Wn(a,b){V.call(this);this.map=a;this.oa=[];this.jf=this.Oa=this.aa=null;this.Pb=[];this.qh=[];this.Db=null;this.ne=!1;this.Bi=b||null;T(this.map,bi,function(a){a=a.coordinate;null!=this.Oa?this.Oa!=this.aa?Xn(this,this.Oa,!1,!0):(Yn(this,this.ne),this.ne&&Zn(this,a[0],a[1])):null!=this.Db.Ta?this.Db.bindTo(null):Zn(this,a[0],a[1])},!1,this);T(document,"keydown",function(a){46==a.keyCode&&($n(this),a.preventDefault())},!1,this)}G(Wn,V);n=Wn.prototype;n.getMap=k("map");n.Ae=ca("ne");
function ao(a,b){var c=null===b?a.aa:a.oa[b];return c?a.fh(c):["",""]}
n.cf=function(a){var b=bo;null!=a.tc()&&(this.oa[a.tc()]=a);T(a,Tn.ho,function(){var b=!a.Rd();b&&this.Oa&&Xn(this,this.Oa,!1,!0);Xn(this,a,b,!0)},!1,this);T(a,Tn.bo,function(c){Rn(a,c.state);this.dispatchEvent({type:b.xi,id:a.tc(),state:c.state})},!1,this);T(a,Tn.$n,function(c){Rn(a,c.state);this.dispatchEvent({type:b.Rk,id:a.tc()})},!1,this);T(a,Tn.ao,function(c){Rn(a,c.state);this.dispatchEvent({type:b.wi,id:a.tc(),Oj:c.Oj})},!1,this)};
function co(a,b){null!=a.aa&&(Jn(a.aa,b),a.oa[b]=a.aa);a.aa=null}function eo(a,b){var c=a.oa[b];null!=c&&(Xn(a,c,!1),c.gb());delete a.oa[b]}function $n(a){if(a.aa)Yn(a);else if(a.Oa){var b=a.Oa.tc();eo(a,b);a.dispatchEvent({type:fo,id:b})}}
function Xn(a,b,c,d){b=null===b?a.Oa:la(b)?a.oa[b]:b;b!==a.aa&&Yn(a);if(b==a.aa&&!c)Yn(a);else if(null!=b){if(c){null!=a.Oa&&a.Oa.open(!1);a.Oa=b;var e=a.map.k().H(),f=Fj(e,a.map.ga()),g=b.getPosition();g&&!Oi(f,g)&&e.setCenter(g);go(a,b);a.Db&&!a.ne&&a.Db.bindTo(b)}else a.Oa=null,a.he(),a.Db&&!a.ne&&a.Db.bindTo(null);b.open(c);d&&a.dispatchEvent({type:ho,id:b.tc(),state:c})}}function io(a,b,c,d){(la(b)?a.oa[b]:b).sl[c]=d}n.eh=function(a){return(la(a)?this.oa[a]:a).sl};
function Yn(a,b){null!=a.aa&&(a.aa==a.Oa&&(a.Oa=null,a.Db.bindTo(null),a.he()),a.aa.gb(),a.aa=null,!0!==b&&a.dispatchEvent({type:jo}))}function Zn(a,b,c){Yn(a);a.aa=a.Hg(null,b,c);a.cf(a.aa);b=a.map.Xa().getAt(0).L;io(a,a.aa,"map","");c=a.map.k().H().o();b=zi(b.tileGrid.nd,c,0);io(a,a.aa,"zoom",b);a.Bi&&(io(a,a.aa,"address",a.Bi.value),a.Bi.value="");Xn(a,a.aa,!0);a.ne?(a.aa.open(!1),a.he()):go(a,a.aa);a.dispatchEvent({type:ko})}
function go(a,b){a.he();var c=F(function(){var a=this.fh(b);I(this.Pb,function(b,c){b.ci(a[c])})},a);a.qh.push(T(b,[On,Ln],c));c();I(a.Pb,function(a,c){var f=F(function(){lo(this,b,c,a.vc());var f=b.tc();null===f||this.dispatchEvent({type:mo,id:f})},this);this.qh.push.apply(this.qh,no(a,f));a.show(!0)},a);a.jf&&Db(a.jf,"hidden")}n.he=function(){this.jf?Cb(this.jf,"hidden"):I(this.Pb,function(a){a.show(!1)});I(this.qh,function(a){U(a)})};
var ko="create",jo="create_cancel",ho="toggle",mo="change",fo="remove",bo={fo:"srs_change",Pk:ko,co:jo,xi:"hover",Tk:ho,Rk:mo,wi:"commit",Sk:fo};a:for(var oo=S("div"),po=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],qo=0;qo<po.length;qo++)if(y(oo.style[po[qo]]))break a;function ro(a,b){this.Tf=a||null;this.Ja=!!b;this.b=new xc;this.ha=new so("",void 0);this.ha.next=this.ha.bb=this.ha}function to(a,b){var c=a.b.get(b);c&&a.Ja&&(c.remove(),a.Kf(c));return c}n=ro.prototype;n.get=function(a,b){var c=to(this,a);return c?c.value:b};n.set=function(a,b){var c=to(this,a);c?c.value=b:(c=new so(a,b),this.b.set(a,c),this.Kf(c))};n.Vj=function(){return this.ha.bb.value};n.shift=function(){return uo(this,this.ha.next)};n.pop=function(){return uo(this,this.ha.bb)};
n.remove=function(a){return(a=this.b.get(a))?(this.removeNode(a),!0):!1};n.removeNode=function(a){a.remove();this.b.remove(a.key)};n.Wa=function(){return this.b.Wa()};n.isEmpty=function(){return this.b.isEmpty()};n.uc=function(){return this.map(function(a,b){return b})};n.wb=function(){return this.map(function(a){return a})};n.contains=function(a){return this.some(function(b){return b==a})};n.Fa=function(a){return this.b.Fa(a)};n.clear=function(){vo(this,0)};
n.forEach=function(a,b){for(var c=this.ha.next;c!=this.ha;c=c.next)a.call(b,c.value,c.key,this)};n.map=function(a,b){for(var c=[],d=this.ha.next;d!=this.ha;d=d.next)c.push(a.call(b,d.value,d.key,this));return c};n.some=function(a,b){for(var c=this.ha.next;c!=this.ha;c=c.next)if(a.call(b,c.value,c.key,this))return!0;return!1};n.Kf=function(a){this.Ja?(a.next=this.ha.next,a.bb=this.ha,this.ha.next=a,a.next.bb=a):(a.bb=this.ha.bb,a.next=this.ha,this.ha.bb=a,a.bb.next=a);null!=this.Tf&&vo(this,this.Tf)};
function vo(a,b){for(var c=a.b.Wa();c>b;c--)a.removeNode(a.Ja?a.ha.bb:a.ha.next)}function uo(a,b){a.ha!=b&&a.removeNode(b);return b.value}function so(a,b){this.key=a;this.value=b}so.prototype.remove=function(){this.bb.next=this.next;this.next.bb=this.bb;delete this.bb;delete this.next};function wo(a,b,c,d){this.width=a;this.height=b;this.Nb=c;this.ge=d;this.Bd=0};function xo(a,b,c,d,e,f,g){this.url=a;this.yn=null;this.width=b;this.height=c;this.Vd=d||0;this.gutter=e||0;this.F=f||256;this.M=g||this.F;this.minZoom=0;this.maxZoom=Number.MAX_VALUE;this.ma=[]};function yo(a){this.za=a;this.Ja=new ro(1024,!0)}function zo(a,b,c,d,e,f){var g=b+"_"+c+"_"+d,h=a.Ja.get(g);null!=h?f(h):(h=a.za.getTileUrl(b,c,d),e(h,F(function(a){a.z=b;a.x=c;a.y=d;this.Ja.set(g,a);f(a)},a),b,c,d))};function Ao(a,b,c,d,e){this.ui=a.createBuffer();this.ii=a.createBuffer();this.yj=a.createBuffer();d=d||1;e=e||d;for(var f=[],g=[],h=[],l=0;l<=e;++l)for(var m=0;m<=d;++m)f.push(b*m/d),f.push(c*l/e),g.push(m/d),g.push(l/e);for(l=b=0;l<e;++l){for(m=0;m<=d;++m)h.push(b),b+=d+1,h.push(b),b-=d,1==l%2&&(b-=2);b+=d;1==l%2&&(b+=2)}a.bindBuffer(a.ARRAY_BUFFER,this.ui);a.bufferData(a.ARRAY_BUFFER,new Float32Array(f),a.STATIC_DRAW);this.ui.Aj=2;a.bindBuffer(a.ARRAY_BUFFER,this.ii);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(g),a.STATIC_DRAW);this.ii.Aj=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.yj);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),a.STATIC_DRAW);this.Fm=h.length};function Bo(a,b,c,d){this.G=a;this.fa=b||null;this.ya=c||null;this.bf=d||0;this.fi=null;if(this.fa||this.ya||0<this.bf)this.Dg=gc("canvas"),this.el=this.Dg.getContext("2d");ro.call(this,256,!0)}G(Bo,ro);function Co(a,b,c,d){var e=new Image;e.crossOrigin="";e.onload=F(function(){this.fi=Do(this,e,e.width,e.height,0,0,c/e.width,!0);d&&d()},a);e.src=b}
function Do(a,b,c,d,e,f,g,h){var l=a.G,m=l.createTexture();m||(m=a.Wa()-1,a.Tf=m||null,null!=a.Tf&&vo(a,a.Tf),m=l.createTexture());l.bindTexture(l.TEXTURE_2D,m);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,c,d,0,l.RGBA,l.UNSIGNED_BYTE,null);if(a.el&&null!=e&&null!=f&&null!=g){e*=c;f*=d;var p=a.el;a.Dg.width=c;a.Dg.height=d;p.save();if(a.fa){var q=a.fa;p.moveTo(q[0][0]/g-e,q[0][1]/g-f);for(var r=q.length,s=1;s<r;s++)p.lineTo(q[s][0]/g-e,q[s][1]/g-f);p.closePath();p.clip()}p.drawImage(b,0,0);p.restore();if(0<
a.bf&&(p.strokeStyle="black",p.lineWidth=3,p.strokeRect(0,0,c,d),1<a.bf)){p.beginPath();for(s=p.lineWidth=1;s<a.bf;s++)q=r=s/a.bf,p.moveTo(r*c,0*d),p.lineTo(q*c,1*d),q=r,p.moveTo(0*c,r*d),p.lineTo(1*c,q*d);p.closePath();p.stroke()}if(a.ya)for(p.strokeStyle="#222",p.fillStyle="#6f2",p.lineWidth=4,r=a.ya.length,s=0;s<r;s++)c=a.ya[s][0]/g-e,d=a.ya[s][1]/g-f,p.beginPath(),p.arc(c,d,5,0,7,!1),p.closePath(),p.stroke(),p.fill();g=a.Dg}else g=b;l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,g);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);!0!==h&&a.set(b.src,m);return m}Bo.prototype.removeNode=function(a){this.G.deleteTexture(a.value);Bo.g.removeNode.call(this,a)};function Eo(a,b,c,d){this.z=b;this.x=c;this.y=d;this.ab=a.maxZoom-b;this.scale=Math.pow(2,this.ab);b=a.F*this.scale;var e=a.M*this.scale;this.S=c*b;this.O=d*e;this.Td=Math.min(this.S+b,a.width);this.bd=Math.min(this.O+e,a.height);c=Math.ceil((a.width-this.S)/this.scale);d=Math.ceil((a.height-this.O)/this.scale);this.F=Math.min(a.F,c)+2*a.gutter;this.M=Math.min(a.M,d)+2*a.gutter};function Fo(a,b,c,d){this.z=a;this.x=b;this.y=c;this.image=d;this.width=d.naturalWidth||d.width;this.height=d.naturalHeight||d.height};function Go(a,b){var c=b/180*Math.PI,d=Math.log(Math.tan(a/180*Math.PI/2+Math.PI/4));return[c*Ho,d*Ho]}var Ho=6378137;function Io(a,b,c,d,e,f,g,h,l){g=g?g:S("canvas");g.style.position="absolute";g.style.top="0";g.style.left="0";g.style.fs="none";this.canvas=g;g=Jo(this.canvas,{depth:!1,preserveDrawingBuffer:!0});if(null==g)throw"WebGL not supported";this.context=g;this.D=h||new yo(a);this.$j=Ko(b,this.D.za.F)-this.D.za.maxZoom;this.fa=c||null;this.fe=l||new Bo(g,this.fa,d,e);null===this.fe.fi&&Co(this.fe,this.D.za.yn,this.D.za.width,F(function(){this.ie()},this));this.Gk=b;this.vj=!0==f;this.Yl=null;a="precision lowp float;attribute vec2 aPos;attribute vec2 aTC;varying vec2 vTC;uniform vec2 uOffset;uniform vec2 uOff;uniform vec2 uPreScale;uniform vec2 uScale;//%additional_defs\nvoid main(){vec2 src\x3d(uOff+aPos)*uPreScale;vec2 dst;%transform%dst\x3d(dst-uOffset)*uScale;gl_Position\x3dvec4(dst.x-1.0,dst.y+1.0,.0,1.0);vTC\x3daTC;}".replace("%transform%",
this.Gk.oj());this.Gb=this.createProgram(a,this.vj?"precision lowp float;uniform sampler2D uTex;varying vec2 vTC;uniform vec2 uHSVFilter[3];vec3 rgb2hsv(vec3 RGB){float r\x3dRGB.x,g\x3dRGB.y,b\x3dRGB.z;float minCh\x3dmin(r,min(g,b)),maxCh\x3dmax(r,max(g,b));float h\x3d0.0,s\x3d0.0,v\x3dmaxCh,d\x3dmaxCh-minCh;if(d!\x3d0.0){s\x3dd/v;if(r\x3d\x3dv)h\x3d1.0+(g-b)/d;else if(g\x3d\x3dv)h\x3d3.0+(b-r)/d;else h\x3d5.0+(r-g)/d;}return vec3(h/6.0,s,v);}void main(){vec4 col\x3dtexture2D(uTex,vTC);if(uHSVFilter[0].x\x3e\x3d0.0\x26\x26col.a\x3e0.0){vec3 hsv\x3drgb2hsv(col.xyz);if(hsv.x\x3cuHSVFilter[0].x||hsv.x\x3euHSVFilter[0].y)discard;if(hsv.y\x3cuHSVFilter[1].x||hsv.y\x3euHSVFilter[1].y)discard;if(hsv.z\x3cuHSVFilter[2].x||hsv.z\x3euHSVFilter[2].y)discard;gl_FragColor\x3dvec4(0.0,0.0,0.0,1.0);}else{gl_FragColor\x3dcol;}}":
"precision lowp float;uniform sampler2D uTex;varying vec2 vTC;void main(){gl_FragColor\x3dtexture2D(uTex,vTC);}");g.useProgram(this.Gb);g.activeTexture(g.TEXTURE0);g.uniform1i(this.Gb.or,0);b=b.lj();this.hd=new Ao(g,this.D.za.F,this.D.za.M,b[0],b[1]);g.bindBuffer(g.ARRAY_BUFFER,this.hd.ui);g.vertexAttribPointer(this.Gb.Uk,this.hd.ui.Aj,g.FLOAT,!1,0,0);g.bindBuffer(g.ARRAY_BUFFER,this.hd.ii);g.vertexAttribPointer(this.Gb.Vk,this.hd.ii.Aj,g.FLOAT,!1,0,0);this.Pj=!0;this.Fj=[0,0];this.rm=this.yh=0;this.Dh=
[];this.b=null;this.source=new Lo("EPSG:3857");Al.call(this,{source:this.source})}G(Io,Al);function Jo(a,b){if(window.WebGLRenderingContext)for(var c=a||S("canvas"),d=["webgl","experimental-webgl"],e=0;e<d.length;e++)try{var f=c.getContext(d[e],b);if(f&&ma(f.getParameter))return f}catch(g){}return null}n=Io.prototype;n.Cf=k("Gk");
n.jk=function(){if(this.b){var a=this.b.ga(),b=a[0]+256,a=a[1]+256,c=this.canvas.height;if(this.canvas.width!==b||c!==a)this.canvas.width=b,this.canvas.height=a,this.canvas.style.width=b+"px",this.canvas.style.height=a+"px",this.Pj=!0,this.Jk()}};
n.Jk=function(){this.Pj&&(this.Pj=!1,this.context.viewport(0,0,this.canvas.width,this.canvas.height));var a=this.b;if(a){var b=a.sc,c=b.viewHints;if(!c[0]){var d=[-128,-128],a=kk(a,this.Fj);if(128<Math.max(Math.abs(d[0]-a[0]),Math.abs(d[1]-a[1]))||this.rm!=b.view2DState.resolution)this.ie(),c[1]=0}}};
function Mo(a,b){null!=b?(a.b=b,a.Dh.push(T(b,ih("size"),a.jk,!1,a)),window.onresize=F(a.jk,a),a.Dh.push(T(b,"precompose",a.Jk,!1,a)),a.jk(),a.Jk(),Cn(b,a)):(a.yh=Infinity,I(a.Dh,function(a){U(a)}),a.Dh=[],Dn(a.b,a),a.b=null)}
n.ie=function(){var a=this.b;if(a){var b=a.k().H(),c=a.ga()||[0,0],c=[c[0]+256,c[1]+256];if(c=Fj(b,c)){this.Fj=[c[0],c[3]];var d=Cj(b.getProjection()||null,Aj("EPSG:4326")),d=aj(c,d),e=new No(d[1],d[0]),f=new No(d[3],d[2]),d=b.getZoom(),g=Hb(d-this.$j,this.D.za.minZoom,this.D.za.maxZoom),d=Math.pow(2,d-this.$j-g),h=F(function(a){a=this.Gk.De(Oo(a));var b=this.D.za,c=b.ma[g];return[Math.floor(a.x/b.width*c.Nb),Math.floor(a.y/b.height*c.ge)]},this),l=h(e),m=h(f),p=h(new No(f.lat,e.lng)),e=h(new No(e.lat,
f.lng));if(f=this.D.za.ma[g]||new wo(0,0,0,0)){var q=Hb(Math.min(l[0],p[0])-1,0,f.Nb-1),r=Hb(Math.min(m[1],p[1])-1,0,f.ge-1),s=Hb(Math.max(m[0],e[0])+1,0,f.Nb-1),v=Hb(Math.max(l[1],e[1])+1,0,f.ge-1),u=this.context;u.clear(u.COLOR_BUFFER_BIT);this.rm=b.o();e=Ej(this.Fj,b.getProjection(),"EPSG:3857");u.uniform2fv(this.Gb.mr,new Float32Array(e));var e=1/(Ho*Math.PI),e=e*(1<<g+this.$j),e=e*d,w=this.D.za.F,z=this.D.za.M;u.uniform2fv(this.Gb.nr,new Float32Array([e*w/this.canvas.width,e*z/this.canvas.height]));
this.fe.fi&&(u.bindTexture(u.TEXTURE_2D,this.fe.fi),u.uniform2fv(this.Gb.Nn,new Float32Array([0,0])),u.uniform2fv(this.Gb.On,new Float32Array([this.D.za.width/w,this.D.za.height/z])),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.hd.yj),u.drawElements(u.TRIANGLE_STRIP,this.hd.Fm,u.UNSIGNED_SHORT,0));d=1<<this.D.za.maxZoom-g;u.uniform2fv(this.Gb.On,new Float32Array([d,d]));for(var x=!1,A=this.yh=ta(),C=F(function(b){if(A==this.yh){var c=this.fe.get(b.image.src)||Do(this.fe,b.image,w,z,b.x,b.y,1<<this.D.za.maxZoom-
b.z);u.bindTexture(u.TEXTURE_2D,c);u.uniform2fv(this.Gb.Nn,new Float32Array([w*b.x,z*b.y]));u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.hd.yj);u.drawElements(u.TRIANGLE_STRIP,this.hd.Fm,u.UNSIGNED_SHORT,0);x&&a.render()}},this),d=F(function(a,b){a>=q&&(a<=s&&b>=r&&b<=v)&&zo(this.D,g,a,b,F(this.so,this),C)},this),e=Math.floor((q+s)/2),l=Math.floor((r+v)/2),m=0;m<=Math.max(e-q,s-e);m++)for(p=0;p<=Math.max(l-r,v-l);p++)d(e+m,l-p),d(e+m,l+p),d(e-m,l-p),d(e-m,l+p);this.source.image=new Xk(c,b.o()||1,1,2,
[]);this.source.image.hj=F(k("canvas"),this);x=!0;a.render()}}}};n.so=function(a,b,c,d,e){var f=new Image;f.crossOrigin="anonymous";f.onload=F(function(){b(new Fo(c,d,e,f))},this);f.src=a};
n.createProgram=function(a,b){var c=this.context,d=c.createShader(c.VERTEX_SHADER),e=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,a);c.shaderSource(e,b);c.compileShader(d);c.compileShader(e);var f=c.getShaderInfoLog(d),g=c.getShaderInfoLog(e);g&&0<g.length&&window.console.log("VS info:",f,"FS info:",g);f=c.createProgram();c.attachShader(f,d);c.attachShader(f,e);c.bindAttribLocation(f,0,"aPos");c.linkProgram(f);c.useProgram(f);f.Uk=c.getAttribLocation(f,"aPos");c.enableVertexAttribArray(f.Uk);
f.Vk=c.getAttribLocation(f,"aTC");c.enableVertexAttribArray(f.Vk);f.or=c.getUniformLocation(f,"uTex");f.mr=c.getUniformLocation(f,"uOffset");f.Nn=c.getUniformLocation(f,"uOff");f.On=c.getUniformLocation(f,"uPreScale");f.nr=c.getUniformLocation(f,"uScale");this.vj&&(f.Mn=c.getUniformLocation(f,"uHSVFilter"),c.uniform2fv(f.Mn,new Float32Array([-1,0,0,0,0,0])));return f};function Po(a,b){a.Yl=b;a.vj&&a.context.uniform2fv(a.Gb.Mn,new Float32Array(b&&6==b.length?b:[-1,0,0,0,0,0]));a.ie()}
function Lo(a){Vl.call(this,{projection:a,resolutions:[1]});this.image=null}G(Lo,Vl);Lo.prototype.J=function(a){return this.image&&Yi(a,this.image.i())?this.image:null};function No(a,b){this.lat=Hb(a,-90,90);b=Ib(b,360);this.lng=180<b?b-360:b}function Qo(a,b){this.x=a;this.y=b}function Ro(a,b){this.x=a;this.y=b};function So(a,b,c,d,e){Vd.call(this);this.ea=a;this.d=b;this.P=c;a=this.d.getMap().k().H().getProjection();this.$g=Bj("EPSG:4326",a);this.$d=d;this.fa=e||null;this.T=null;this.Me=[];this.rg=new Dm;this.Nk=new Kl({source:this.rg,style:new Ck({stroke:new zk({color:"#000",width:1})})});this.Xc=1E6;this.yk=[];this.Ud=this.dd=null;this.Rf=[];this.zf=!1;this.Xl=this.wk=0;To(this)}G(So,Vd);
function Uo(a,b){var c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;if(a.T)c=a.T.canvas,d=a.T.D,e=a.T.fe,f=a.T.getOpacity(),g=a.T.Yl,Mo(a.T,null),a.T=null;else if(b)return;var h=Vo(a.ea);h&&(a.T=new Io(a.$d,h,a.fa,void 0,void 0,!0,c,d,e),a.T.setOpacity(f||0.75),Po(a.T,g||null),c=a.d.getMap(),Dn(c,a.Nk),Mo(a.T,c),Cn(c,a.Nk))}
function To(a){Uo(a);var b=F(function(){this.dd=null;this.Ud&&(this.rg.Rh(this.Ud),this.Ud=null);Wo(this)},a);Xo(a,!0);var c=bo;a.Rf.push(T(a.d,c.wi,function(a){if(a.id>=this.Xc){var b=this.T.Cf(),c=ao(this.d,a.id),b=b.dj(Oo(new No(parseFloat(c[1]),parseFloat(c[0]))));this.P.pk(a.id-this.Xc,b.x,b.y)}},!0,a),T(a.d,c.xi,function(a){this.Xl=a.state?a.id>=this.Xc?2:1:0;Wo(this)},!1,a),T(a.d,c.Tk,function(a){b();this.wk=a.state?a.id>=this.Xc?2:1:0;Wo(this)},!1,a),T(a.d,c.Pk,function(){if(this.dd){var a=
this.T.Cf(),c=this.dd,a=a.dj(Oo(new No(parseFloat(c[1]),parseFloat(c[0])))),c=this.ea.ed++;co(this.d,c);this.P.vd(c,a.x,a.y);this.ea.sd[c]=!0;this.ea.Be[c]=!0;Xn(this.d,c,!1);Xn(this.P,c,!1);this.ea.rd();b();Xo(this,!0)}else this.dd=ao(this.d,null),Wo(this)},!1,a),T(a.d,c.co,b),T(a.d,c.Sk,function(a){a=a.id-this.Xc;0<=a?(eo(this.d,a),this.d.dispatchEvent({type:fo,id:a})):Xo(this,!0);this.wk=0;b()},!1,a),T(a.d,c.Rk,function(a){if(null!==a.id){var b=ao(this.d,a.id),c=a.id>=this.Xc?a.id-this.Xc:a.id,
g=this.Me[c];if(g){var h=g.R();h[c==a.id?0:1]=this.$g([parseFloat(b[0]),parseFloat(b[1])]);g.Ba(h)}}},!0,a),T(a.d.getMap(),gi,function(a){this.dd&&(a=[this.$g([parseFloat(this.dd[0]),parseFloat(this.dd[1])]),a.coordinate],this.Ud?this.Ud.N().Ba(a):(this.Ud=new Gl({geometry:new om(a)}),this.rg.vg(this.Ud)))},!0,a),T(a.ea,Yo,function(){Uo(this,!0);Xo(this)},!1,a));Zo(a);$o(a);Xn(a.d,null,!1,!1);Xn(a.P,null,!1,!1);a.d.Ae(!0);a.P.Ae(!0);Wo(a)}
function Zo(a){var b=F(function(a,b){if(a.shiftKey||16==a.keyCode)this.zf!=b&&(this.zf=b,Wo(this)),a.preventDefault(),a.stopPropagation()},a);a.Rf.push(T(document,"keydown",function(a){b(a,!0)}),T(document,"keyup",function(a){b(a,!1)}))}
function $o(a){var b=Q("hsvOn"),c=Q("minH"),d=Q("maxH"),e=Q("minS"),f=Q("maxS"),g=Q("minV"),h=Q("maxV");if(b&&c&&d&&e&&f&&g&&h){var l=F(function(){var a=null;b.checked&&(a=[c.value,d.value,e.value,f.value,g.value,h.value]);this.T&&Po(this.T,a)},a);a.Rf.push(T(b,"change",l),T(c,"change",l),T(d,"change",l),T(e,"change",l),T(f,"change",l),T(g,"change",l),T(h,"change",l));l()}}
function Xo(a,b){b&&ap(a);var c=Vo(a.ea);I(a.ea.sd,function(a,e){if(!0===a&&!0===this.ea.Be[e]){var f=ao(this.P,e),g=ao(this.d,e),f=bp(c.Af(new Ro(parseFloat(f[0]),parseFloat(f[1])))),h=this.Xc+e,g=[this.$g([parseFloat(g[0]),parseFloat(g[1])]),this.$g([f.lng,f.lat])];b?(this.d.vd(h,f.lng,f.lat),this.yk.push(h),this.Me[e]=new om(g),this.rg.vg(new Gl({geometry:this.Me[e]}))):(this.d.pk(h,f.lng,f.lat),this.Me[e]&&this.Me[e].Ba(g))}},a)}
function ap(a){I(a.yk,function(a){eo(this.d,a)},a);a.yk=[];a.rg.clear();a.Me=[]}function Wo(a){var b=0.75,c=a.wk||a.Xl;a.dd||a.zf?b=0.2:0<c&&(b=1==c?0.2:0.9);a.T.setOpacity(b);if(b=a.d.getMap().vb())b=Q(b),Fb(b,"adjustHideGeo",!a.zf&&1!=c),Fb(b,"adjustHideScan",a.zf||1==c)}So.prototype.c=function(){this.T&&(Mo(this.T,null),this.T=null);Dn(this.d.getMap(),this.Nk);I(this.Rf,function(a){U(a)});this.Rf=[];ap(this);Xn(this.d,null,!1,!1);Xn(this.P,null,!1,!1);this.d.Ae(!1);this.P.Ae(!1)};function cp(a,b,c,d,e){function f(a,b){for(var c=[],d=0;d<a;d++)c[d]=Wa(b);return c}var g=(a+1)*(a+2)/2,h=b.length;if(h<g)return null;for(var l=f(h,g),m=f(g,g),p=Wa(g),p=b[0][e],q=b[0][e],r=0,s=0,m=0;m<h;m++){var v=b[m][e],u=b[m][c],w=b[m][d];v>q&&(q=v);v<p&&(p=v);Math.abs(u)>r&&(r=Math.abs(u));Math.abs(w)>s&&(s=Math.abs(w))}for(var q=1E-10>q-p?1:1/(q-p),v=-p*q,u=Array(h),w=Array(h),z=Array(h),m=0;m<h;m++)u[m]=q*b[m][e]+v,w[m]=b[m][c]/r,z[m]=b[m][d]/s;for(m=0;m<h;m++)l[m]=dp(a,w[m],z[m]);b=ep(l);
l=b.u;p=b.q;m=b.v;for(b=c=0;b<g;b++)p[b]>c&&(c=p[b]);c*=1E-9;for(b=0;b<g;b++)p[b]<c&&(p[b]=0);l=fp(l,p,m,u);for(m=0;m<h;m++)u[m]=(u[m]-v)/q,w[m]*=r,z[m]*=s;p=dp(a,1/r,1/s);l[0]-=v;for(m=0;m<g;m++)l[m]*=p[m]/q;return l}function dp(a,b,c){for(var d=[1],e=1;e<=a;e++)for(var f=0;f<=e;f++){for(var g=1,h=0;h<e-f;h++)g*=b;for(;h<e;h++)g*=c;d.push(g)}return d}
function fp(a,b,c,d){for(var e=a.length,f=a[0].length,g=Array(f),h=Array(f),l=0;l<f;l++){var m=0;if(b[l]){for(var p=0;p<e;p++)m+=a[p][l]*d[p];m/=b[l]}g[l]=m}for(l=0;l<f;l++){for(a=m=0;a<f;a++)m+=c[l][a]*g[a];h[l]=m}return h}
function ep(a){function b(a,b){a=Math.abs(a);b=Math.abs(b);return a>b?a*Math.sqrt(1+b*b/a/a):0==b?a:b*Math.sqrt(1+a*a/b/b)}var c;c=2.220446049250313E-16;var d=1E-64/c,e=0,f=0,g=0,h=0,l=0,m=a.length,p=a[0].length;if(m<p)return null;for(var q=Array(p),r=Array(p),f=0;f<p;f++)q[f]=r[f]=0;var s;s=function(a,b,c){var d=a[c],e=Array(d);if(c===a.length-1){for(d-=2;0<=d;d-=2)e[d+1]=b,e[d]=b;-1===d&&(e[0]=b);return e}for(d-=1;0<=d;d--)e[d]=s(a,b,c+1);return e};for(var v=s([p,p],0,0),u=0,w=0,z=0,x=0,A=0,C=0,
B=0,f=0;f<p;f++){q[f]=w;B=0;l=f+1;for(g=f;g<m;g++)B+=a[g][f]*a[g][f];if(B<=d)w=0;else for(u=a[f][f],w=Math.sqrt(B),0<=u&&(w=-w),z=u*w-B,a[f][f]=u-w,g=l;g<p;g++){B=0;for(h=f;h<m;h++)B+=a[h][f]*a[h][g];u=B/z;for(h=f;h<m;h++)a[h][g]+=u*a[h][f]}r[f]=w;B=0;for(g=l;g<p;g++)B+=a[f][g]*a[f][g];if(B<=d)w=0;else{u=a[f][f+1];w=Math.sqrt(B);0<=u&&(w=-w);z=u*w-B;a[f][f+1]=u-w;for(g=l;g<p;g++)q[g]=a[f][g]/z;for(g=l;g<m;g++){B=0;for(h=l;h<p;h++)B+=a[g][h]*a[f][h];for(h=l;h<p;h++)a[g][h]+=B*q[h]}}A=Math.abs(r[f])+
Math.abs(q[f]);A>x&&(x=A)}for(f=p-1;-1!=f;f+=-1){if(0!=w){z=w*a[f][f+1];for(g=l;g<p;g++)v[g][f]=a[f][g]/z;for(g=l;g<p;g++){B=0;for(h=l;h<p;h++)B+=a[f][h]*v[h][g];for(h=l;h<p;h++)v[h][g]+=B*v[h][f]}}for(g=l;g<p;g++)v[f][g]=0,v[g][f]=0;v[f][f]=1;w=q[f];l=f}for(f=p-1;-1!=f;f+=-1){l=f+1;w=r[f];for(g=l;g<p;g++)a[f][g]=0;if(0!=w){z=a[f][f]*w;for(g=l;g<p;g++){B=0;for(h=l;h<m;h++)B+=a[h][f]*a[h][g];u=B/z;for(h=f;h<m;h++)a[h][g]+=u*a[h][f]}for(g=f;g<m;g++)a[g][f]/=w}else for(g=f;g<m;g++)a[g][f]=0;a[f][f]+=
1}c*=x;for(h=p-1;-1!=h;h+=-1)for(d=0;50>d;d++){f=!1;for(l=h;-1!=l;l+=-1){if(Math.abs(q[l])<=c){f=!0;break}if(Math.abs(r[l-1])<=c)break}if(!f)for(e=0,B=1,x=l-1,f=l;f<h+1;f++){u=B*q[f];q[f]*=e;if(Math.abs(u)<=c)break;w=r[f];z=b(u,w);r[f]=z;e=w/z;B=-u/z;for(g=0;g<m;g++)A=a[g][x],C=a[g][f],a[g][x]=A*e+C*B,a[g][f]=-A*B+C*e}C=r[h];if(l==h){if(0>C)for(r[h]=-C,g=0;g<p;g++)v[g][h]=-v[g][h];break}if(49<=d)return null;x=r[l];A=r[h-1];w=q[h-1];z=q[h];u=((A-C)*(A+C)+(w-z)*(w+z))/(2*z*A);w=b(u,1);u=0>u?((x-C)*
(x+C)+z*(A/(u-w)-z))/x:((x-C)*(x+C)+z*(A/(u+w)-z))/x;B=e=1;for(f=l+1;f<h+1;f++){w=q[f];A=r[f];z=B*w;w*=e;C=b(u,z);q[f-1]=C;e=u/C;B=z/C;u=x*e+w*B;w=-x*B+w*e;z=A*B;A*=e;for(g=0;g<p;g++)x=v[g][f-1],C=v[g][f],v[g][f-1]=x*e+C*B,v[g][f]=-x*B+C*e;C=b(u,z);r[f-1]=C;e=u/C;B=z/C;u=e*w+B*A;x=-B*w+e*A;for(g=0;g<m;g++)A=a[g][f-1],C=a[g][f],a[g][f-1]=A*e+C*B,a[g][f]=-A*B+C*e}q[l]=0;q[h]=u;r[h]=x}for(f=0;f<r.length;f++)r[f]<c&&(r[f]=0);for(f=0;f<p;f++)for(g=f-1;0<=g;g--)if(r[g]<r[f]){e=r[g];r[g]=r[f];r[f]=e;for(h=
0;h<a.length;h++)c=a[h][f],a[h][f]=a[h][g],a[h][g]=c;for(h=0;h<v.length;h++)c=v[h][f],v[h][f]=v[h][g],v[h][g]=c;f=g}return{u:a,q:r,v:v}}
function gp(a,b,c){function d(a){for(var b=[],c=0;c<a;c++)b[c]=Wa(2);return b}var e=a.length;if(2>e)return null;for(var f=d(e),g=d(2),h=Wa(2),h=a[0][c],l=a[0][c],m=0,g=0;g<e;g++){var p=a[g][c],q=a[g][b];p>l&&(l=p);p<h&&(h=p);Math.abs(q)>m&&(m=Math.abs(q))}for(var l=1E-10>l-h?1:1/(l-h),p=-h*l,q=Array(e),r=Array(e),g=0;g<e;g++)q[g]=l*a[g][c]+p,r[g]=a[g][b]/m;for(g=0;g<e;g++)f[g]=hp(r[g]);a=ep(f);f=a.u;h=a.q;g=a.v;for(a=b=0;2>a;a++)h[a]>b&&(b=h[a]);b*=1E-9;for(a=0;2>a;a++)h[a]<b&&(h[a]=0);f=fp(f,h,g,
q);for(g=0;g<e;g++)q[g]=(q[g]-p)/l,r[g]*=m;h=hp(1/m);f[0]-=p;for(g=0;2>g;g++)f[g]*=h[g]/l;return f}function hp(a){for(var b=[1],c=1,d=1;1>=d;d++)c*=a,b.push(c);return b};function ip(){this.te=null}ip.prototype.dj=function(a,b){var c=jp(this);null!=b||(b=0.5);b*=c;b*=b;for(var d=this.De(a),e=0;10>e;e++){var f=this.Af(d),g=f.x-a.x,f=f.y-a.y;if(g*g+f*f<b)break;d.x-=g/c;d.y-=-f/c}return d};function Oo(a){a=Go(a.lat,a.lng);return new Qo(a[0],a[1])}function bp(a){var b;b=a.x;a=a.y;b/=Ho;a/=Ho;b=[180*(2*Math.atan(Math.exp(a))-Math.PI/2)/Math.PI,180*b/Math.PI];return new No(b[0],b[1])}function jp(a){null==a.te&&(a.te=a.fj());return a.te}
ip.prototype.lj=function(){return[1,1]};function Ko(a,b){for(var c=jp(a),d=2*Math.PI*Ho/b,e=0;30>e;e++){if(c>d)return Math.max(e-1,0);d/=2}return 0};function kp(a,b,c,d,e,f){this.te=null;this.$h=b;this.ai=f;this.Yh=c;this.Zh=e;this.Wj=a;this.Xj=d}G(kp,ip);n=kp.prototype;n.De=function(a){var b=this.$h,c=this.Yh,d=this.Wj,e=this.Zh,f=this.ai,g=this.Xj,h=b*f-c*e;return new Ro((f*a.x-c*a.y+c*g-d*f)/h,(-e*a.x+b*a.y+d*e-b*g)/h)};n.dj=function(a){return this.De(a)};n.Af=function(a){return new Qo(this.$h*a.x+this.Yh*a.y+this.Wj,this.Zh*a.x+this.ai*a.y+this.Xj)};
n.oj=function(){function a(a){return a.toString(10)+(isFinite(a)&&0==a%1?".0":"")}var b=a(this.$h)+"*src.x+"+a(this.Yh)+"*src.y+"+a(this.Wj),c=a(this.Zh)+"*src.x+"+a(this.ai)+"*src.y+"+a(this.Xj);return"dst\x3dvec2("+b+","+c+");"};n.fj=function(){var a=this.$h+this.Yh,b=this.Zh+this.ai;return Math.sqrt(a*a+b*b)/Math.SQRT2};function lp(a,b){this.te=null;this.jc=a;this.Zg=b}G(lp,ip);n=lp.prototype;n.De=function(a){var b=this.Zg,c=a.x;a=a.y;var d=c*c,e=c*a,f=a*a;return new Ro(b[0]+b[1]*c+b[2]*a+b[3]*d+b[4]*e+b[5]*f,b[6]+b[7]*c+b[8]*a+b[9]*d+b[10]*e+b[11]*f)};n.Af=function(a){var b=this.jc,c=a.x;a=a.y;var d=c*c,e=c*a,f=a*a;return new Qo(b[0]+b[1]*c+b[2]*a+b[3]*d+b[4]*e+b[5]*f,b[6]+b[7]*c+b[8]*a+b[9]*d+b[10]*e+b[11]*f)};
n.oj=function(){function a(a){return a.toString(10)+(isFinite(a)&&0==a%1?".0":"")}var b=this.jc,c=a(b[0])+"+"+a(b[1])+"*src.x+"+a(b[2])+"*src.y+"+a(b[3])+"*src.x*src.x+"+a(b[4])+"*src.x*src.y+"+a(b[5])+"*src.y*src.y",b=a(b[6])+"+"+a(b[7])+"*src.x+"+a(b[8])+"*src.y+"+a(b[9])+"*src.x*src.x+"+a(b[10])+"*src.x*src.y+"+a(b[11])+"*src.y*src.y";return"dst\x3dvec2("+c+","+b+");"};n.fj=function(){var a=this.jc[1]+this.jc[2],b=this.jc[7]+this.jc[8];return Math.sqrt(a*a+b*b)/Math.SQRT2};
n.lj=function(){return[7,7]};function mp(a,b,c,d,e){this.mc=[];this.nc=[];var f=[[0,0,0],[0,0,0]],g=F(function(a,b,c,d){this.mc.push(a);this.nc.push(b);f[0].push(c);f[1].push(d)},this);I(a,function(a){g(a[b],a[c],a[d],a[e])});this.Fb=a.length;this.Sa=[];this.status=-1;if(!(3>this.Fb)){for(var h=this.mc[0],l=this.mc[0],m=this.nc[0],p=this.nc[0],q=a=0,r=0,s=0,v=0,u=0;u<this.Fb;u++){var w=this.mc[u],z=this.nc[u],l=Math.min(l,w),p=Math.min(p,z),h=Math.max(h,w),m=Math.max(m,z);a+=w;q+=z;r+=w*w;v+=w*z;s+=z*z}h-=l;m-=p;r-=a*a/this.Fb;
s-=q*q/this.Fb;a=v-a*q/this.Fb;if(!(h<1E-4*m||m<1E-4*h||0.999<Math.abs(a*a/(r*s)))){v=function(a,b){for(var c=[],d=0;d<a;d++)c[d]=Wa(b);return c};a=this.Fb+3;q=v(a,a);v=v(a,a);this.Sa[0]=Array(a);this.Sa[1]=Array(a);for(s=0;s<this.Fb;s++)q[0][s+3]=1,q[1][s+3]=this.mc[s],q[2][s+3]=this.nc[s],q[s+3][0]=1,q[s+3][1]=this.mc[s],q[s+3][2]=this.nc[s];for(r=0;r<this.Fb;r++)for(s=r;s<this.Fb;s++)q[r+3][s+3]=np(this.mc[r],this.nc[r],this.mc[s],this.nc[s]),r!=s&&(q[s+3][r+3]=q[r+3][s+3]);v=op(q);for(q=0;2>q;q++)for(r=
0;r<a;r++)for(s=this.Sa[q][r]=0;s<a;s++)this.Sa[q][r]+=v[r][s]*f[q][s];this.status=1}}}function np(a,b,c,d){if(a==c&&b==d)return 0;a=c-a;b=d-b;b=a*a+b*b;return b*Math.log(b)}function pp(a,b,c){var d=[0,0];if(0<a.status){for(var e=0;2>e;e++)d[e]=a.Sa[e][0]+a.Sa[e][1]*b+a.Sa[e][2]*c;for(var f=0;f<a.Fb;f++)for(var g=np(b,c,a.mc[f],a.nc[f]),e=0;2>e;e++)d[e]+=a.Sa[e][f+3]*g}return d}
mp.prototype.createShader=function(a,b,c){function d(a){return a.toString(10)+(isFinite(a)&&0==a%1?".0":"")}c=c||"";var e="";if(0<this.status){for(var f=["",""],g=0;2>g;g++)f[g]="v"+c+g+"\x3d"+d(this.Sa[g][0])+"+"+d(this.Sa[g][1])+"*"+a+"+"+d(this.Sa[g][2])+"*"+b;e+="float dx"+c+",dy"+c+",d"+c+","+f[0]+","+f[1]+";";for(f=0;f<this.Fb;f++){e+="dx"+c+"\x3d"+d(this.mc[f])+"-"+a+";";e+="dy"+c+"\x3d"+d(this.nc[f])+"-"+b+";";e+="d"+c+"\x3ddx"+c+"*dx"+c+"+dy"+c+"*dy"+c+";";e+="if(d"+c+"\x3e.0){";for(g=0;2>
g;g++)e+="v"+c+g+"+\x3d"+d(this.Sa[g][f+3])+"*d"+c+"*log(d"+c+");";e+="}"}e+="dst\x3dvec2(v"+c+"0,v"+c+"1);"}return e};
function op(a){var b=a.length,c=a[0].length;a=function(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=0;e<a[c].length;e++)d.push(a[c][e]);b.push(d)}return b}(a);for(var d,e=function(a){for(var b=[],c=0;c<a;c++){for(var d=[],e=0;e<a;e++)d.push(c==e?1:0);b.push(d)}return b}(b),f,g,h=0;h<c;++h){var l=-1;d=-1;for(var m=h;m!==b;++m)g=Math.abs(a[m][h]),g>d&&(l=m,d=g);d=a[l];a[l]=a[h];a[h]=d;f=e[l];e[l]=e[h];e[h]=f;l=d[h];for(g=h;g!==c;++g)d[g]/=l;for(g=c-1;-1!==g;--g)f[g]/=l;for(m=b-1;-1!==m;--m)if(m!==
h){var p=a[m],q=e[m],l=p[h];for(g=h+1;g!==c;++g)p[g]-=d[g]*l;for(g=c-1;0<g;--g)q[g]-=f[g]*l,--g,q[g]-=f[g]*l;0===g&&(q[0]-=f[0]*l)}}return e};function qp(a){this.te=null;this.oa=a;this.jc=new mp(a,2,3,0,1);this.Zg=new mp(a,0,1,2,3)}G(qp,ip);n=qp.prototype;n.De=function(a){a=pp(this.Zg,a.x,a.y);return new Ro(a[0],a[1])};n.Af=function(a){a=pp(this.jc,a.x,a.y);return new Qo(a[0],a[1])};n.oj=function(a){return this.jc.createShader("src.x","src.y",a)};n.fj=function(){var a=cp(1,this.oa,2,3,0),b=cp(1,this.oa,2,3,1),a=a[1]+a[2],b=b[1]+b[2];return Math.sqrt(a*a+b*b)/Math.SQRT2};n.lj=function(){return[15,15]};function rp(a,b){if(b==sp){if(2>a.length)return null;var c=a[0][2],d=a[0][3],e=a[1][0]-a[0][0],f=a[1][1]-a[0][1],g=a[1][2]-a[0][2],h=a[1][3]-a[0][3],l=Math.sqrt(e*e+f*f)/Math.sqrt(g*g+h*h),f=Math.atan2(f,e)-Math.atan2(-h,g),e=Math.cos(f),f=Math.sin(f),l=[e*l,f*l,-f*l,e*l,0,0];l[4]+=-c*l[0]+d*l[2];l[5]+=-c*l[1]+d*l[3];l[2]*=-1;l[3]*=-1;l[4]+=a[0][0];l[5]+=a[0][1];return new kp(l[4],l[0],l[2],l[5],l[1],l[3])}return b==tp||b==up?(e=b==tp?1:2,c=cp(e,a,0,1,2),d=cp(e,a,0,1,3),l=cp(e,a,2,3,0),e=cp(e,a,2,
3,1),b==tp?l&&e?new kp(l[0],l[1],l[2],e[0],e[1],e[2]):null:l&&e&&c&&d?new lp(La(l,e),La(c,d)):null):b==vp?(c=new qp(a),0>c.jc.status||0>c.Zg.status?null:c):null}var sp="affi2",tp="affi",up="poly",vp="tps";function wp(a,b){V.call(this);this.d=a;this.P=b;this.cb=null;this.Si=!0;this.sd=[];this.Be=[];this.ed=1;this.Ek=!1;this.ni=void 0;this.pe=null;xp(this)}G(wp,V);
function xp(a){var b=a.d,c=a.P,d=bo;a=F(function(a,c){T(a,d.xi,function(a){var b=c.oa[a.id];null!=b&&Rn(b,a.state)},!1,this);T(a,d.Tk,function(a){Xn(c,a.id,a.state)});T(a,d.Sk,function(a){this.sd[a.id]=!1;eo(c,a.id);this.rd()},!1,this);T(a,d.wi,function(a){null===a.id||!0===a.Oj||this.rd()},!1,this);T(a,d.fo,this.rd,!1,this);T(a,d.Pk,function(){var d=this.ed,h=!1;if(null!=a.aa&&null!=c.aa)co(this.d,d),co(this.P,d),h=!0;else if(null==this.pe){var l=Vo(this);l&&(h=ao(a,null),h=[parseFloat(h[0]),parseFloat(h[1])],
co(a,d),a==b?(h=new No(h[1],h[0]),l=l.De(Oo(h)),c.vd(d,l.x,l.y)):(l=bp(l.Af(new Ro(h[0],h[1]))),c.vd(d,l.lng,l.lat)),h=!0)}h&&(this.sd[d]=!0,this.Be[d]=!0,this.ed++,Xn(this.d,d,!0),Xn(this.P,d,!0),this.rd())},!1,this)},a);a(b,c);a(c,b)}wp.prototype.Ae=function(a,b){this.cb&&this.cb.setEditable(!a);this.pe&&(this.pe.gb(),this.pe=null);a&&(this.pe=new So(this,this.d,this.P,b,this.cb?yp(this.cb,null):null))};
wp.prototype.$k=function(){this.Si=!zp(this.cb);I(this.sd,function(a,b){if(this.Si)if(!0===a){var c=ao(this.P,b),d,e=this.cb;d=parseFloat(c[0]);var c=-parseFloat(c[1]),f=null;null===f&&(f=e.Mc);var e=e.rc.N(),g=e.R(),f=Xa(g[f+1]);d=mj(f,0,f.length,e.r,d,c);Fb(this.P.oa[b].a,"ghost",!d);Fb(this.d.oa[b].a,"ghost",!d);this.Be[b]=d}else this.Be[b]=!1;else Cb(this.P.oa[b].a,"ghost"),Cb(this.d.oa[b].a,"ghost")},this);this.rd()};
function Ap(a){var b=[];I(a.sd,function(a,d){if(!0===a&&!0===this.Be[d]){var e=ao(this.d,d),f=ao(this.P,d),e=Go(parseFloat(e[1]),parseFloat(e[0]));b.push([e[0],e[1],parseFloat(f[0]),parseFloat(f[1])])}},a);return b}wp.prototype.rd=function(){this.ni=void 0;this.dispatchEvent({type:Yo})};function Vo(a){if(y(a.ni))return a.ni;var b=Ap(a),c=null;a.Ek&&(c=rp(b,vp));c=(c=(c=c||rp(b,up))||rp(b,tp))||rp(b,sp);return a.ni=c}
function Bp(a){var b=Ap(a),c=b.length,d=0;if(2<=c){var e=gp(b,2,3),f=gp(b,3,2),g=0,h=0;I(b,function(a){var b=a[3]-(e[0]+e[1]*a[2]);g+=b*b;a=a[2]-(f[0]+f[1]*a[3]);h+=a*a});d=Math.sqrt(Math.min(g,h)/c)}var l=1,m=1;if(a.cb){var p=Hi(yp(a.cb,null,!1,!0)),p=[p[2]-p[0],p[3]-p[1]],d=d/Math.min(p[0],p[1]);if(0<c){var q=b[0][2],r=q,s=b[0][3],v=s;I(b,function(a){q=Math.min(q,a[2]);r=Math.max(r,a[2]);s=Math.min(s,a[3]);v=Math.max(v,a[3])});l=(r-q)/p[0];m=(v-s)/p[1]}}return[a.Si?1:0,c,d,l,m]}
function Cp(a,b){if(b){var c=[180,90,-180,-90];Dp(a.d,"EPSG:4326");var d=0,e=b.control_points;e&&I(e,function(a){var b=this.ed,e=parseFloat(a.latitude),f=parseFloat(a.longitude),p=parseFloat(a.pixel_x),q=parseFloat(a.pixel_y);isNaN(e)||(isNaN(f)||isNaN(p)||isNaN(q))||(this.d.vd(b,f,e),this.P.vd(b,p,q),this.sd[b]=!0,this.ed++,io(this.d,b,"zoom",a.map_zoom),io(this.d,b,"map",a.map),io(this.d,b,"address",a.address),io(this.P,b,"zoom",a.scan_zoom),d++,Ji(c,[f,e]))},a);2>d&&(c=(e=b.bbox)?[e[0],e[1],e[2],
e[3]]:null);if(c){var e=a.d.getMap(),f=e.Xa().getArray()[0].L.getProjection(),f=Bj("EPSG:4326",f),f=aj(c,f);$i(f,1.33);Ij(e.k().H(),f,e.ga())}if(a.P.Db){e=b.cutline;if(null==e||4>e.length)e=null;a.cb=new Ep(a.P.getMap(),a.P.Db,[e]);a.cb.setEditable(!0);T(a.cb,[Fp,Gp],a.$k,!1,a);a.$k()}}a.rd()}
wp.prototype.eh=function(){var a=[];I(this.sd,function(b,c){if(!0===b){var d=ao(this.d,c),e=ao(this.P,c),f=this.d.eh(c),g=this.P.eh(c),d={longitude:Math.round(1E9*d[0])/1E9,latitude:Math.round(1E9*d[1])/1E9,pixel_x:Math.round(e[0]),pixel_y:Math.round(e[1]),scan_zoom:g.zoom,map_zoom:f.zoom,map:f.map,address:f.address};a.push(d)}},this);return a};var Yo="transform_change";function Hp(a){a=y(a)?a:{};this.de=this.Ec=this.b=this.Tc=this.Vg=this.tb=null;this.pd=y(a.style)?Jl(a.style):void 0;y(a.features)?ia(a.features)?Ip(this,new mh(Ma(a.features))):Ip(this,a.features):Ip(this,new mh);y(a.map)&&this.setMap(a.map)}n=Hp.prototype;n.vg=function(a){this.tb.push(a)};n.Ef=function(){this.md()};n.Xo=function(a){a=a.element;this.Tc[E(a).toString()]=T(a,"change",this.Ef,!1,this);this.md()};n.Yo=function(a){a=E(a.element).toString();U(this.Tc[a]);delete this.Tc[a];this.md()};
n.qj=function(a){if(null!==this.tb){var b=this.pd;y(b)||(b=Il);var c=a.frameState.view2DState.resolution,d=a.vectorContext,e,f,g;this.tb.forEach(function(a){g=b(a,c);if(null!=g)for(f=g.length,e=0;e<f;++e)d.xl(a,g[e])},this)}};n.Rh=function(a){this.tb.remove(a)};n.md=function(){null===this.b||this.b.render()};
function Ip(a,b){null!==a.Vg&&(I(a.Vg,U),a.Vg=null);null!==a.Tc&&(I(Ob(a.Tc),U),a.Tc=null);a.tb=b;if(null!==b){a.Vg=[T(b,"add",a.Xo,!1,a),T(b,"remove",a.Yo,!1,a)];a.Tc={};var c=b.getArray(),d,e=c.length,f;for(d=0;d<e;++d)f=c[d],a.Tc[E(f).toString()]=T(f,"change",a.Ef,!1,a)}a.md()}n.setMap=function(a){null!==this.Ec&&(U(this.Ec),this.Ec=null);this.md();this.b=a;null!==a&&(this.Ec=T(a,"postcompose",this.qj,!1,this),a.render())};n.setStyle=function(a){this.de=a;this.pd=Jl(a);this.md()};function Jp(a){hk.call(this);this.Wn=this.rb=null;this.Oe=!1;this.pm=[0,0];this.K=null;this.Yf=y(a.pixelTolerance)?a.pixelTolerance:20;this.hb=null;this.T=new Hp({style:a.style});this.tb=a.features;T(this.tb,"add",this.jo,!1,this);T(this.tb,"remove",this.Dq,!1,this);this.yi={Point:this.Hr,LineString:this.Yn,LinearRing:this.Yn,Polygon:this.Ir,MultiPoint:this.Fr,MultiLineString:this.Er,MultiPolygon:this.Gr,GeometryCollection:this.Dr}}G(Jp,hk);n=Jp.prototype;
n.setMap=function(a){null===a?this.K=null:null===this.K&&(this.K=new vm);this.T.setMap(a);Jp.g.setMap.call(this,a)};n.jo=function(a){a=a.element;var b=a.N();y(this.yi[b.Ma()])&&this.yi[b.Ma()].call(this,a,b);this.Ff(this.pm,this.getMap())};n.Hr=function(a,b){var c=b.R(),c={feature:a,geometry:b,Aa:[c,c]};Bm(this.K,b.i(),c)};n.Fr=function(a,b){var c=b.R(),d,e,f;e=0;for(f=c.length;e<f;++e)d=c[e],d={feature:a,geometry:b,depth:[e],index:e,Aa:[d,d]},Bm(this.K,b.i(),d)};
n.Yn=function(a,b){var c=b.R(),d,e,f,g;d=0;for(e=c.length-1;d<e;++d)f=c.slice(d,d+2),g={feature:a,geometry:b,index:d,Aa:f},Bm(this.K,Hi(f),g)};n.Er=function(a,b){var c=b.R(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,Aa:l},Bm(this.K,Hi(l),m)};
n.Ir=function(a,b){var c=b.R(),d,e,f,g,h,l,m;g=0;for(h=c.length;g<h;++g)for(d=c[g],e=0,f=d.length-1;e<f;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,Aa:l},Bm(this.K,Hi(l),m)};n.Gr=function(a,b){var c=b.R(),d,e,f,g,h,l,m,p,q,r;l=0;for(m=c.length;l<m;++l)for(p=c[l],g=0,h=p.length;g<h;++g)for(d=p[g],e=0,f=d.length-1;e<f;++e)q=d.slice(e,e+2),r={feature:a,geometry:b,depth:[g,l],index:e,Aa:q},Bm(this.K,Hi(q),r)};
n.Dr=function(a,b){var c,d=b.Ll();for(c=0;c<d.length;++c)this.yi[d[c].Ma()].call(this,a,d[c])};n.Dq=function(a){var b=a.element;a=this.K;var c,d=[];ym(a,b.N().i(),function(a){b===a.feature&&d.push(a)});for(c=d.length-1;0<=c;--c)a.remove(d[c]);null!==this.rb&&0===this.tb.getLength()&&(this.T.Rh(this.rb),this.rb=null)};function Kp(a,b){var c=a.rb;null===c?(c=new Gl(new lj(b)),a.rb=c,a.T.vg(c)):c.N().Ba(b)}
n.yb=function(a){this.Ff(a.pixel,a.map);this.hb=[];var b=this.rb;if(null!==b){a=[];var b=b.N().R(),c=Hi([b]),d=[];zm(this.K,c,function(a){d.push(a)},void 0);for(var c={},e=0,f=d.length;e<f;++e){var g=d[e],h=g.Aa;E(g.feature)in c||(c[E(g.feature)]=!0);tg(h[0],b)?this.hb.push([g,0]):tg(h[1],b)?this.hb.push([g,1]):E(h)in this.Wn&&a.push([g,b])}for(e=a.length-1;0<=e;--e)this.Gp.apply(this,a[e])}return this.Oe};
n.jb=function(a){a=a.coordinate;for(var b=0,c=this.hb.length;b<c;++b){var d=this.hb[b],e=d[0],f=e.depth,g=e.geometry,h=g.R(),l=e.Aa,d=d[1];switch(g.Ma()){case "Point":h=a;l[0]=l[1]=a;break;case "MultiPoint":h[e.index]=a;l[0]=l[1]=a;break;case "LineString":h[e.index+d]=a;l[d]=a;break;case "MultiLineString":h[f[0]][e.index+d]=a;l[d]=a;break;case "Polygon":h[f[0]][e.index+d]=a;l[d]=a;break;case "MultiPolygon":h[f[1]][f[0]][e.index+d]=a,l[d]=a}g.Ba(h);Kp(this,a)}};
n.zb=function(){for(var a,b=this.hb.length-1;0<=b;--b)a=this.hb[b][0],this.K.update(Hi(a.Aa),a);return!1};n.Ya=function(a){var b=a.map.k();Ma(b.kh)[1]||a.type!=gi||this.rj(a);return Jp.g.Ya.call(this,a)&&!this.Oe};n.rj=function(a){this.pm=a.pixel;this.Ff(a.pixel,a.map)};
n.Ff=function(a,b){function c(a,b){return wg(d,qg(d,a.Aa))-wg(d,qg(d,b.Aa))}var d=b.Xb(a),e=b.Xb([a[0]-this.Yf,a[1]+this.Yf]),f=b.Xb([a[0]+this.Yf,a[1]-this.Yf]),e=Hi([e,f]);this.Oe=!1;e=Am(this.K,e);if(0<e.length){e.sort(c);var f=e[0].Aa,g=qg(d,f),h=kk(b,g);if(Math.sqrt(wg(a,h))<=this.Yf){var l=kk(b,f[0]),m=kk(b,f[1]),l=wg(h,l),h=wg(h,m);10>=Math.sqrt(Math.min(l,h))&&(g=l>h?f[1]:f[0]);Kp(this,g);g={};g[E(f)]=!0;m=1;for(l=e.length;m<l;++m)if(h=e[m].Aa,tg(f[0],h[0])&&tg(f[1],h[1])||tg(f[0],h[1])&&
tg(f[1],h[0]))g[E(h)]=!0;else break;this.Wn=g;this.Oe=!0;return}}null!==this.rb&&(this.T.Rh(this.rb),this.rb=null)};
n.Gp=function(a,b){var c=a.Aa,d=a.feature,e=a.geometry,f=a.depth,g=a.index,h;switch(e.Ma()){case "MultiLineString":h=e.R();h[f[0]].splice(g+1,0,b);break;case "Polygon":h=e.R();h[f[0]].splice(g+1,0,b);break;case "MultiPolygon":h=e.R();h[f[1]][f[0]].splice(g+1,0,b);break;case "LineString":h=e.R();h.splice(g+1,0,b);break;default:return}e.Ba(h);h=this.K;h.remove(a);var l=E(d),m=[];ym(this.K,e.i(),function(a){E(a.feature)===l&&m.push(a)});for(var p=0,q=m.length;p<q;++p){var r=m[p];r.geometry===e&&((!y(f)||
Ua(r.depth,f))&&r.index>g)&&++r.index}p={Aa:[c[0],b],feature:d,geometry:e,depth:f,index:g};Bm(h,Hi(p.Aa),p);this.hb.push([p,1]);c={Aa:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};Bm(h,Hi(c.Aa),c);this.hb.push([c,0])};function Ep(a,b,c){V.call(this);this.lm=null==c;this.b=a;a=this.b.Xa().getAt(0).L.getProjection();this.sb=a.i();var d=this.sb[2]-this.sb[0],e=this.sb[3]-this.sb[1];this.Cl=[[0,0],[d,0],[d,e],[0,e],[0,0]];c=c||[this.Cl];this.rc=new Gl({geometry:new oj([])});Lp(this,c);c=xk("#306f91");c[3]=0.7;var d=xk("#f26522"),e=xk("#0081c4"),f=new Ck({fill:new Ak({color:"rgba(255,255,255,0.7)"}),stroke:new zk({color:c,width:2})}),g=new Ck({stroke:new zk({color:d,width:3})}),h=new Ck({stroke:new zk({color:e,width:3})});
c=new Ck({image:new Fl({fill:new Ak({color:"rgba(255,255,255,0.5)"}),stroke:new zk({color:e,width:1.5}),radius:6})});this.Mc=0;this.cd=null;this.Qj=new Gl({geometry:new oj([])});var l=F(function(a,b,c){b&&(b=[Hb(b[0],this.sb[0],this.sb[2]),-Hb(-b[1],this.sb[1],this.sb[3])]);a=a&&b?[[a[0],a[1]],[a[0],b[1]],[b[0],b[1]],[b[0],a[1]],[a[0],a[1]]]:null;c&&(this.Qj.N().Ba(a?[a]:[]),null===a&&(this.cd=null));return a},this);this.uj=new Gl({geometry:new oj([])});var m=this;this.$a=new Kl({source:new Dm({projection:a,
features:[this.rc,this.uj,this.Qj]}),style:function(a){return a==m.Qj?[g]:a==m.uj?null===m.cd?[h]:[]:[f]}});Cn(this.b,this.$a);this.Jd=new mh;this.Lf=new Mp(b,this,{features:this.Jd,style:c});T(this.b,bi,function(a){if(null===this.cd){if(Np(this.Lf,a))return;var c=Op(this,a.coordinate[0],a.coordinate[1]);if(null===c)null==b.Ta&&Oi(this.sb,[a.coordinate[0],-a.coordinate[1]])&&(this.cd=a.coordinate);else if(c!=this.Mc)Pp(this,c);else return}else{var d=l(this.cd,a.coordinate,!1),c=this.Jd.pop(),e=c.N(),
f=e.R(),d=f.push(d)-2;e.Ba(f,"XY");this.Jd.push(c);Pp(this,d);l(null,null,!0)}(c=b.Ta)&&c.dispatchEvent(Mn);b.bindTo(null);a.stopPropagation();a.preventDefault()},!0,this);T(this.b,gi,function(a){this.cd&&(l(this.cd,a.coordinate,!0),a.stopPropagation(),a.preventDefault())},!0,this);var p=0;T(document,"keydown",function(a){!this.cd||46!=a.keyCode&&27!=a.keyCode?46==a.keyCode&&500<ta()-p&&Qp(this.Lf)&&(a.preventDefault(),p=ta()):(l(null,null,!0),a.preventDefault())},!1,this);T(document,"keyup",function(a){46==
a.keyCode&&(p=0)});T(this.rc,"change",function(){this.lm=!1},!1,this);Pp(this,this.Mc)}G(Ep,V);function Lp(a,b){var c=a.rc.N(),d=[];if(a.sb){var e=Ma(a.sb);$i(e,10);d.push([[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]],[e[0],e[1]]])}I(b,function(a){d.push(Rp(a))},a);c.Ba(d,"XY")}function Sp(a,b){var c=a.Jd.pop(),d=c.N(),e=d.R();e.splice(b+1,1);var f=2>e.length;f&&e.push(Rp(a.Cl));d.Ba(e,"XY");a.Jd.push(c);f&&a.dispatchEvent({type:Gp});Pp(a,0)}
function Pp(a,b){var c=a.rc.N().R()[b+1];c&&(a.uj.N().Ba([Ma(c)],"XY"),a.Mc!==b&&(a.Mc=b,a.dispatchEvent({type:Fp})))}function yp(a,b,c,d){if(!d&&a.lm)return null;null===b&&(b=a.Mc);a=a.rc.N().R()[b+1];a=Rp(a);c&&I(a,function(a){a[0]=Math.round(a[0]);a[1]=Math.round(a[1])});return a}function Op(a,b,c){a=a.rc.N();for(var d=a.R(),e=1;e<d.length;e++){var f=Xa(d[e]);if(mj(f,0,f.length,a.r,b,c))return e-1}return null}
function zp(a){var b=a.rc.N();a=b.R();for(var c=1;c<a.length;c++)for(var d=Xa(a[c]),e=1;e<a.length;e++)if(c!=e)for(var f=a[e],g=1;g<f.length;g++)if(mj(d,0,d.length,b.r,f[g][0],f[g][1]))return!0;for(c=1;c<a.length;c++)for(b=a[c],e=c+1;e<a.length;e++)for(f=a[e],g=1;g<b.length;g++)for(var h=b[g-1],l=b[g],d=h[0],h=h[1],m=l[0]-d,l=l[1]-h,p=d*l-h*m,q=1;q<f.length;q++){var r=f[q-1],s=f[q],v=r[0],r=r[1],u=s[0]-v,s=s[1]-r,w=m*s-l*u,z=-(p-(v*l-r*m))/w;if(0<z&&1>z&&(v=(d*s-h*u-(v*s-r*u))/-w,0<v&&1>v))return!0}return!1}
function Rp(a){return Ha(a,function(a){return[a[0],-a[1]]})}Ep.prototype.setEditable=function(a){var b;b=null!=this.Lf.getMap();a=null!=a?a:!b;b&&!a?(this.Jd.clear(),this.b.Je.remove(this.Lf)):!b&&a&&(this.b.Je.push(this.Lf),this.Jd.push(this.rc))};var Gp="changed",Fp="active_changed";function Mp(a,b,c){Jp.call(this,c);this.cc=a;this.fa=b;this.om=this.xk=null}G(Mp,Jp);
Mp.prototype.Ya=function(a){a instanceof Yh&&(this.om=a);if("mousewheel"==a.type)return!0;var b;b=!this.cc.Ta||a.type!=fi&&a.type!=hi&&a.type!=di?Mp.g.Ya.call(this,a):!0;a=Op(this.fa,a.coordinate[0],a.coordinate[1]);var c=this.getMap();if(c&&(c=c.vb())){var d=this.cc.Ta||b?"":"pointer";b&&a!=this.fa.Mc&&(d=null!==a||null!=this.cc.Ta?"default":"crosshair");Q(c).style.cursor=d}return b};
function Np(a,b){if(ha(a.getMap()))return!1;if(b.type==bi&&(a.Oe&&null!==a.rb&&a.yb(b),a.Oe&&null!==a.rb)){var c=a.cc.Ta;c&&c.dispatchEvent(Mn);var c=a.rb.N().R(),d=a.cc.bindTo(c);Cb(d.Yb().parentNode,"cutPoint");c=ih("position");T(d,c,function(){this.jb({coordinate:d.getPosition()})},!1,a);T(d,Ln,function(a){this.zb(a)},!1,a);a.xk=d;b.stopPropagation();return!0}return!1}Mp.prototype.Ff=function(a,b){ha(b.Xb([0,0]))||Mp.g.Ff.call(this,a,b)};
Mp.prototype.yb=function(a){(a=Mp.g.yb.call(this,a))&&this.hb&&Pp(this.fa,this.hb[0][0].depth[0]-1);return a};Mp.prototype.jb=function(a){Mp.g.jb.call(this,a);Pp(this.fa,this.fa.Mc);this.fa.dispatchEvent({type:Gp})};
function Qp(a){if(ha(a.getMap()))return!1;if(a.xk&&!a.xk.rf||a.Uc||a.yb(a.om)){a.Uc=a.zb(null);var b=null,c=null,d=null;a.cc.bindTo(null);I(a.hb,function(a){var e=a[0];a=a[1];0==a&&(b=e.index+a,c=e.geometry,d=e.depth[0])},a);if(null!=b&&null!=c&&null!=d&&0<d){var e=a.tb.pop(),f=c.R(),g=f[d];g.splice(b,1);0==b?g[g.length-1]=g[0]:b==g.length&&(g[0]=g[g.length-1]);c.Ba(f,"XY");a.tb.push(e);4>g.length?Sp(a.fa,d-1):(a.fa.dispatchEvent({type:Gp}),Pp(a.fa,d-1));return!0}}return!1};function Tp(a,b,c,d){V.call(this);this.Jf=Q(b);this.yo=Q(a);this.uh=new od("http://epsg.io/");this.Ca=new Xf(null,this);c&&(this.Ca.className+=" "+c);this.Na=new vf(null,null,!1);this.al=new He(this,this.Ca,this.Na);yf(this.Na);this.Na.U=this.al;this.Na.wg(this.Jf);this.Ca.pg=d||!1;this.Na.Kk=d||!1;T(this.al,"update",function(a){this.dispatchEvent({type:Up,row:a.row,code:a.row.code})},!1,this);T(this.Jf,"blur",function(){this.show(!1)},!1,this);T(this.Jf,"keydown",function(a){27==a.keyCode&&this.show(!1);
a.stopPropagation()},!1,this);this.show(!1)}G(Tp,V);Tp.prototype.show=function(a){Jd(this.yo,a);this.Ca.Rb();this.Jf.value="";this.Jf.focus()};Tp.prototype.ik=function(a,b,c){this.uh.send({format:"json",q:a},function(b){c(a,b.results)})};Tp.prototype.dk=function(a,b,c){c.innerHTML=a.data.name+"\x26nbsp;(EPSG:"+a.data.code+")"};var Up="selected";function Vp(a){this.Ab=a;this.Mk=this.Ab.value;this.show(!1)}Vp.prototype.vc=function(){return isNaN(parseFloat(this.Ab.value))?"":this.Ab.value};Vp.prototype.ci=function(a){la(a)&&(a=a.toString());null!=a||(a="?");this.Ab.value!=a&&(this.Ab.value=a,this.Mk=this.Ab.value)};Vp.prototype.show=function(a){Jd(this.Ab,a)};function no(a,b){var c=F(function(a){a.stopPropagation();a=this.Ab.value;a!=this.Mk&&(this.Mk=a,b())},a);return[T(a.Ab,"keydown",c),T(a.Ab,"input",c),T(a.Ab,"change",c)]};function Wp(a,b){Wn.call(this,a,b);this.$c=a.Xa().getArray()[0].L.getProjection();this.Ib=null;this.jf=Q("coordinputs");this.Pb.push(new Vp(Q("coordinput-lat")));this.Pb.push(new Vp(Q("coordinput-lng")));this.Pb.push(new Vp(Q("coordinput-eas")));this.Pb.push(new Vp(Q("coordinput-nor")));var c=Q("coordinput-scx"),d=Q("coordinput-scy");c&&d&&(c=new Vp(c),d=new Vp(d),this.Pb.push(c),this.Pb.push(d));(d=Q("coordinput-del"))&&T(d,"click",function(a){$n(this);a.preventDefault()},!1,this);(d=Q("coordinput-srs"))&&
T(d,"click",function(a){this.gi.show(!0);a.preventDefault()},!1,this);this.Nh=!1;this.Db=new Un(this.map,"geoLoupe");this.Qi=this.Ri=null;this.Bo=new od("http://epsg.io/trans");this.gi=new Tp("srsdialog","srsdialog-q","srs-ac",!0);T(this.gi,Up,function(a){Dp(this,a.code?"EPSG:"+a.code:null);this.gi.show(!1)},!1,this);this.he()}G(Wp,Wn);n=Wp.prototype;n.bi=function(a,b){this.Ri=a;this.Qi=b};function Xp(a,b,c){a.Nh=!0;b.dispatchEvent({type:Ln,Oj:c});a.Nh=!1}
function Yp(a,b){var c=a instanceof sj?a:ka(a)?tj[a]:null,d=b instanceof sj?b:ka(b)?tj[b]:null;return c&&d?(c=Cj(c,d),c!==Dj?c:null):null}function Zp(a,b,c,d,e,f){if(d&&e){var g=Yp(d,e);g?f.call(a,g([b,c]),!0):(d instanceof sj&&(d=d.Ad),e instanceof sj&&(e=e.Ad),0==d.indexOf("EPSG:")&&(d=d.substr(5)),0==e.indexOf("EPSG:")&&(e=e.substr(5)),a.Bo.send({x:b,y:c,s_srs:d,t_srs:e},F(function(a){f.call(this,[a.x,a.y])},a)))}}n.Hg=function(a,b,c){return new $p(this.map,a,b,c)};
n.pk=function(a,b,c){null!=a&&(a=this.oa[a])&&(b=Ej([b,c],"EPSG:4326",this.$c),a.setPosition([b[0],b[1]]))};n.vd=function(a,b,c,d,e){var f=Ej([b,c],"EPSG:4326",this.$c);a=this.Hg(a,f[0],f[1]);a.longitude=b.toString();a.latitude=c.toString();a.Ub=y(d)?d.toString():null;a.dc=y(d)?e.toString():null;a.lb=null!=d&&null!=e?aq:bq;this.cf(a)};
n.cf=function(a){Wp.g.cf.call(this,a);var b=F(function(b){var c=a.getPosition(),c=Ej([c[0],c[1]],this.$c,"EPSG:4326");a.longitude=c[0].toString();a.latitude=c[1].toString();b&&Xp(this,a)},this),c=F(function(b,c){if(this.Ib){if(!0!==c||Yp(this.$c,this.Ib)){var d=a.getPosition();Zp(this,d[0],d[1],this.$c,this.Ib,function(c,d){a.Ub=c[0].toString();a.dc=c[1].toString();b&&!d&&Xp(this,a,!0)})}}else a.Ub=null,a.dc=null,b&&Xp(this,a,!0)},this),d=cq;T(a,On,function(){a.lb=d.Qk;b(!1);a.Ub=null;a.dc=null;c(!1,
!0)},!1,this);T(a,Ln,function(){this.Nh||(a.lb=d.Qk,b(!1),c(!0))},!1,this);a.lb!=d.ug&&b(!0);a.lb!=d.tg&&c(!0)};n.fh=function(a){a=[a.longitude,a.latitude,a.Ub,a.dc];if(this.Qi){var b=this.Qi(a[0],a[1]);a.push(b[0].toString());a.push(b[1].toString())}return a};
function lo(a,b,c,d,e){if(!a.Nh&&null!=d){var f=cq;if(0==c)b.longitude=d,b.lb=f.ug;else if(1==c)b.latitude=d,b.lb=f.ug;else if(2==c&&a.Ib)b.Ub=d,b.lb=f.tg;else if(3==c&&a.Ib)b.dc=d,b.lb=f.tg;else{4!=c&&5!=c||!a.Ri||(e=a.fh(b),e[c]=d,e=a.Ri(parseFloat(e[4]),parseFloat(e[5])),lo(a,b,0,e[0].toString()),lo(a,b,1,e[1].toString()),a.Pb[c].ci(d));return}a.Ib&&(b.lb==f.ug?(Zp(a,parseFloat(b.longitude),parseFloat(b.latitude),"EPSG:4326",a.Ib,function(a,c){b.Ub=a[0].toString();b.dc=a[1].toString();c||Xp(this,
b,!0)}),(c=Ej([parseFloat(b.longitude),parseFloat(b.latitude)],"EPSG:4326",a.$c))&&b.setPosition(c)):b.lb==f.tg&&Zp(a,parseFloat(b.Ub),parseFloat(b.dc),a.Ib,a.$c,function(a,c){a&&b.setPosition(a);var d=Ej([a[0],a[1]],this.$c,"EPSG:4326");b.longitude=d[0].toString();b.latitude=d[1].toString();c||Xp(this,b)}));Xp(a,b,e)}}n.he=function(){Wp.g.he.call(this);this.gi.show(!1)};
function Dp(a,b){if(a.Ib!=b){a.Ib=b;var c=Q("coordinput-currentsrs");c&&qc(c,a.Ib||"");I(a.oa,function(a){a.Ub=null;a.dc=null;lo(this,a,0,a.longitude,!0)},a);a.dispatchEvent("srs_change")}}function $p(a,b,c,d){Fn.call(this,a,b,c,d);this.dc=this.Ub=this.latitude=this.longitude=null;this.lb=dq}G($p,Fn);var dq=-1,bq=0,aq=1,cq={Qk:dq,ug:bq,tg:aq};function eq(a,b){this.b=a;this.Lc=this.b.k().H();this.a=ka(b)?Q(b):b;this.Yi=$b(this.a);oc(this.Yi);this.Yd=!1;this.df=null;this.kk=!1;this.a.className=fq;var c=ih("rotation");T(this.Lc,c,function(){this.kk||(this.Yd=!0,this.a.className=gq);oc(this.Yi)},!1,this);T(this.a,"click",function(a){this.ih();a.preventDefault();a.stopPropagation()},!1,this)}var fq="ctrlRotate",gq="ctrlManual",ac="ctrlManualHelp";function hq(a,b){0>b&&(b+=2*Math.PI);a.kk=!0;a.Lc.qk(b);a.kk=!1}
eq.prototype.ih=function(){if(null===this.df)if(this.Yd)this.a.className=fq,this.Yd=!1,hq(this,0);else{var a=this.Lc.$b()||0;hq(this,a+Math.PI/2)}else this.Yd?(this.Yd=!1,null===this.df||hq(this,this.df),this.a.className="ctrlAuto"):(this.Yd=!0,hq(this,0),this.a.className=gq,mc(this.Yi,this.a))};function iq(a,b){Wn.call(this,a,b);this.Db=new Un(this.map,"scanLoupe")}G(iq,Wn);iq.prototype.Hg=function(a,b,c){return new Fn(this.map,a,b,c)};iq.prototype.pk=function(a,b,c){null!=a&&(a=this.oa[a])&&a.setPosition([b,-c])};iq.prototype.vd=function(a,b,c){b=[b,-c];a=this.Hg(a,b[0],b[1]);this.cf(a)};iq.prototype.fh=function(a){a=a.getPosition();a=[a[0],-a[1]];return[a[0],a[1]]};function jq(a,b,c,d,e,f,g){xo.call(this,a,b,c,d,e,f,g);this.maxZoom=Math.max(Math.ceil(Math.log(this.width/this.F)/Math.LN2),Math.ceil(Math.log(this.height/this.M)/Math.LN2));0==this.Vd?(this.minZoom=0,this.Vd=this.maxZoom+1):this.minZoom=this.maxZoom-this.Vd+1;for(a=0;a<=this.maxZoom;a++)c=Math.pow(2,this.maxZoom-a),b=Math.ceil(this.width/c),c=Math.ceil(this.height/c),d=Math.ceil(b/this.F),e=Math.ceil(c/this.M),this.ma.push(new wo(b,c,d,e))}G(jq,xo);function kq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(kq,jq);kq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26res\x3d"+(a.ab+1)+"\x26viewwidth\x3d"+a.F+"\x26viewheight\x3d"+a.M+"\x26x\x3d"+a.S+"\x26y\x3d"+a.O)};function lq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(lq,jq);lq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26action\x3d2\x26DMSCALE\x3d"+100/a.scale+"\x26DMWIDTH\x3d"+a.F+"\x26DMHEIGHT\x3d"+a.M+"\x26DMX\x3d"+a.S/a.scale+"\x26DMY\x3d"+a.O/a.scale)};function mq(a,b,c,d,e,f,g,h){jq.call(this,a,b,c,d,e,f,g);this.cr=h||"jpg";this.Nj=Math.ceil(Math.log(Math.max(this.width,this.height))/Math.LN2)}G(mq,jq);mq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url.replace(".dzi","_files/").replace(".xml","_files/")+(this.Nj-a.ab)+"/"+b+"_"+c+"."+this.cr};function nq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(nq,jq);nq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26method\x3dR\x26l\x3d"+(this.Vd-a.ab)+"\x26r\x3d"+a.O+","+a.S+","+a.M+","+a.F)};function oq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(oq,jq);oq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("/"+a.S+","+a.O+","+(a.Td-a.S)+","+(a.bd-a.O)+"/pct:"+100/a.scale+"/0/native.jpg")};function pq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(pq,jq);pq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);b+=c*Math.ceil(this.width/(a.scale*this.F));return this.url+"\x26jtl\x3d"+(this.Vd-a.ab-1)+","+b};function qq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(qq,jq);qq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26cp\x3d"+(a.S+(a.Td-a.S)/2)/this.width+","+(a.O+(a.bd-a.O)/2)/this.height+"\x26lev\x3d"+a.ab+"\x26wid\x3d"+a.F+"\x26hei\x3d"+a.M)};function rq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(rq,jq);rq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26x\x3d"+(a.S+a.scale*this.F/2)+"\x26y\x3d"+(a.O+a.scale*this.M/2)+"\x26res\x3d"+a.ab+"\x26width\x3d"+a.F+"\x26height\x3d"+a.M+"\x26jpegLevel\x3d80")};function sq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(sq,jq);sq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26x\x3d"+(a.S+a.scale*a.F/2)+"\x26y\x3d"+(a.O+a.scale*a.M/2)+"\x26level\x3d"+a.ab+"\x26width\x3d"+a.F+"\x26height\x3d"+a.M)};function tq(a,b,c,d,e,f,g){xo.call(this,a,b,c,d,e,f,g);a=this.width;for(b=this.height;;){c=Math.ceil(a/this.F);d=Math.ceil(b/this.M);this.ma.push(new wo(a,b,c,d));if(a<=this.F&&b<=this.M)break;a=this.wc(a);b=this.wc(b)}this.ma.reverse();this.Vd=this.ma.length;this.minZoom=0;this.maxZoom=this.Vd-1;for(b=a=0;b<this.ma.length;b++)c=this.ma[b],c.Bd=a,a+=c.Nb*c.ge}G(tq,xo);function uq(a,b,c,d,e,f,g){tq.call(this,a,b,c,d,e,f,g)}G(uq,tq);uq.prototype.wc=function(a){return Math.floor(a/2)};uq.prototype.getTileUrl=function(a,b,c){c=new Eo(this,a,b,c);b=(c.bd-c.O)/this.M;a=Math.ceil(c.S/(b*this.F));c=Math.ceil(c.O/(b*this.M));b=Math.floor(this.maxZoom-Math.log(b)/Math.log(2));return this.url+"x"+a+"-y"+c+"-z"+b+"/tile.jpg"};function vq(a,b,c,d,e,f,g){tq.call(this,a,b,c,d,e,f,g)}G(vq,tq);vq.prototype.wc=function(a){return Math.round(a/2)};vq.prototype.getTileUrl=function(a,b,c){a=this.ma[a]||new wo(0,0,0,0);return this.url+"\x26"+(1+b+c*a.Nb+a.Bd)};function wq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(wq,jq);wq.prototype.getTileUrl=function(a,b,c){a=new Eo(this,a,b,c);return this.url+("\x26mapext\x3d"+a.S+"+"+-a.bd+"+"+a.Td+"+"+-a.O+"\x26mapsize\x3d"+a.F+"+"+a.M)};function xq(a,b,c,d,e,f,g){jq.call(this,a,b,c,d,e,f,g)}G(xq,jq);xq.prototype.getTileUrl=function(a,b,c){return this.url+"?cmd\x3dtile\x26x\x3d"+b+"\x26y\x3d"+c+"\x26z\x3d"+Math.pow(2,this.maxZoom-a)};function yq(a,b,c,d,e,f,g){tq.call(this,a,b,c,d,e,f,g)}G(yq,tq);yq.prototype.wc=function(a){return Math.floor(a/2)};yq.prototype.getTileUrl=function(a,b,c){var d=this.ma[a]||new wo(0,0,0,0);return this.url+("TileGroup"+Math.floor((b+c*d.Nb+d.Bd)/256)+"/"+a+"-"+b+"-"+c+".jpg")};var zq={Aware:kq,ContentDM:lq,DeepZoom:mq,Gallica:nq,Iiif:oq,IipImage:pq,Lizardtech:qq,Loc:rq,MrSid:sq,Picasa:uq,TopView:vq,WmsImage:wq,XLImage:xq,Zoomify:yq};function Aq(a){return 1===a.length?a[0]:function(b,c,d){if(null!==b){var e=Ib(b.hash(),a.length);return a[e].call(this,b,c,d)}}}function Bq(){}function Cq(a,b){var c=new ji(0,0,0);return function(d,e,f){return null===d?void 0:b.call(this,a.call(this,d,f,c),e,f)}};function Dq(a,b,c,d,e){ni.call(this,a,b);this.zn=c;this.h=new Image;null!==d&&(this.h.crossOrigin=d);this.nh={};this.Gf=null;this.dr=e}G(Dq,ni);n=Dq.prototype;n.J=function(a){if(y(a)){var b=E(a);if(b in this.nh)return this.nh[b];a=Qb(this.nh)?this.h:this.h.cloneNode(!1);return this.nh[b]=a}return this.h};n.getKey=k("zn");n.bp=function(){this.state=3;I(this.Gf,U);this.Gf=null;this.W()};
n.cp=function(){y(this.h.naturalWidth)||(this.h.naturalWidth=this.h.width,this.h.naturalHeight=this.h.height);this.state=this.h.naturalWidth&&this.h.naturalHeight?2:4;I(this.Gf,U);this.Gf=null;this.W()};n.load=function(){0==this.state&&(this.state=1,this.Gf=[ve(this.h,"error",this.bp,!1,this),ve(this.h,"load",this.cp,!1,this)],this.dr(this,this.zn))};function Eq(a){vn.call(this);this.Cp=y(a)?a:2048}G(Eq,vn);Eq.prototype.gf=function(){return this.Wa()>this.Cp};Eq.prototype.$i=function(a){for(var b,c;this.gf()&&!(b=this.Vj(),c=b.p.z.toString(),c in a&&a[c].contains(b.p));)this.pop()};function Fq(a){gl.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,tileGrid:a.tileGrid});this.tileUrlFunction=y(a.tileUrlFunction)?a.tileUrlFunction:Bq;this.crossOrigin=y(a.crossOrigin)?a.crossOrigin:null;this.D=new Eq;this.tileLoadFunction=y(a.tileLoadFunction)?a.tileLoadFunction:Gq;this.Ak=y(a.Ak)?a.Ak:Dq}G(Fq,gl);function Gq(a,b){a.J().src=b}Fq.prototype.gf=function(){return this.D.gf()};Fq.prototype.$i=function(a){this.D.$i(a)};
Fq.prototype.getTile=function(a,b,c,d,e){var f=this.ij(a,b,c);if(this.D.Fa(f))return this.D.get(f);a=new ji(a,b,c);d=this.tileUrlFunction(a,d,e);d=new this.Ak(a,y(d)?0:4,y(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.D.set(f,d);return d};Fq.prototype.Vn=function(a,b,c){a=this.ij(a,b,c);this.D.Fa(a)&&this.D.get(a)};function Hq(a){var b=Array(a.maxZoom+1),c,d=2*Pk/256;for(c=0;c<=a.maxZoom;++c)b[c]=d/Math.pow(2,c);Yk.call(this,{minZoom:a.minZoom,origin:[-Pk,Pk],resolutions:b,tileSize:a.tileSize})}G(Hq,Yk);
Hq.prototype.pl=function(a){a=y(a)?a:{};var b=this.minZoom,c=this.maxZoom,d=y(a.wrapX)?a.wrapX:!0,e=new ji(0,0,0),f=null;if(y(a.extent)){var f=Array(c+1),g;for(g=0;g<=c;++g)f[g]=g<b?null:al(this,a.extent,g)}return function(a,g,m){g=a.z;if(g<b||c<g)return null;var p=Math.pow(2,g),q=a.x;if(d)q=Ib(q,p);else if(0>q||p<=q)return null;a=a.y;return a<-p||-1<a||null!==f&&(e.z=g,e.x=q,e.y=a,!f[g].contains(e))?null:ki(g,q,-a-1,m)}};
Hq.prototype.Bf=function(a,b){return a.z<this.maxZoom?Kj(2*a.x,2*(a.x+1),2*a.y,2*(a.y+1),b):null};Hq.prototype.yf=function(a,b,c,d){d=Kj(0,a.x,0,a.y,d);for(a=a.z-1;a>=this.minZoom;--a)if(d.A=d.Y>>=1,d.I=d.w>>=1,b.call(c,a,d))return!0;return!1};function Iq(a){Fq.call(this,{crossOrigin:"anonymous",opaque:!0,projection:Aj("EPSG:3857"),state:0,tileLoadFunction:a.tileLoadFunction});this.to=y(a.culture)?a.culture:"en-us";var b=new Ec((Tg?"https:":"http:")+"//dev.virtualearth.net/REST/v1/Imagery/Metadata/"+a.imagerySet);(new od(b,"jsonp")).send({include:"ImageryProviders",key:a.key},F(this.dp,this))}G(Iq,Fq);var Jq=new Lj({html:'\x3ca class\x3d"ol-attribution-bing-tos" target\x3d"_blank" href\x3d"http://www.microsoft.com/maps/product/terms.html"\x3eTerms of Use\x3c/a\x3e'});
Iq.prototype.dp=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.l=2;else{var b=a.brandLogoUri,c=a.resourceSets[0].resources[0],d=new Hq({minZoom:c.zoomMin,maxZoom:c.zoomMax,tileSize:c.imageWidth});this.tileGrid=d;var e=this.to;this.tileUrlFunction=Cq(d.pl(),Aq(Ha(c.imageUrlSubdomains,function(a){var b=c.imageUrl.replace("{subdomain}",a).replace("{culture}",e);return function(a){return null===
a?void 0:b.replace("{quadkey}",mi(a))}})));if(c.imageryProviders){var f=Cj(Aj("EPSG:4326"),this.getProjection());a=Ha(c.imageryProviders,function(a){var b=a.attribution,c={};I(a.coverageAreas,function(a){var b=a.zoomMin,e=a.zoomMax;a=a.bbox;a=aj([a[1],a[0],a[3],a[2]],f);var g,h;for(g=b;g<=e;++g)h=g.toString(),b=al(d,a,g),h in c?c[h].push(b):c[h]=[b]});return new Lj({html:b,tileRanges:c})});a.push(Jq);this.yd=a}this.vm=b;this.l=1}this.W()};function Kq(a,b,c,d,e,f,g,h){Dq.call(this,a,b,c,d,e);this.fa=f&&0<f.length?f:null;this.Cd=this.J();T(this,"change",function(){if(this.fa){var a=this.J(void 0,!0);this.Cd=S("canvas");this.Cd.width=g;this.Cd.height=g;var b=this.Cd.getContext("2d"),c=this.p.x*g,d=(-this.p.y-1)*g,e=1<<h-this.p.z,f=this.fa;b.save();b.moveTo(f[0][0]/e-c,f[0][1]/e-d);for(var v=f.length,u=1;u<v;u++)b.lineTo(f[u][0]/e-c,f[u][1]/e-d);b.closePath();b.clip();b.drawImage(a,0,0);b.restore()}},!1,this);this.Ig={}}G(Kq,Dq);
Kq.prototype.J=function(a,b){if(null===this.fa||b)return Kq.g.J.call(this,a);if(y(a)){var c,d=E(a);if(d in this.Ig)return this.Ig[d];c=Qb(this.Ig)?this.Cd:this.Cd.cloneNode(!1);return this.Ig[d]=c}return this.Cd||this.J(void 0,!0)};function Lq(a){a=y(a)?a:{};var b;b=y(a.extent)?a.extent:y(a.size)?[0,0,a.size[0],a.size[1]]:[0,0,1,1];var c=E(this).toString();sj.call(this,{code:c,extent:b,global:a.global,units:y(a.units)?a.units:"pixels"})}G(Lq,sj);function Mq(a){Fq.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,projection:a.projection||new Lq({size:[a.width,a.height],global:!1,units:"pixels"})});this.ta=a.ta;this.Tg=a.Tg||"jpg";this.width=a.width;this.height=a.height;this.gutter=a.gutter||0;(this.ye=a.ye||null)&&3>this.ye.length&&(this.ye=null);this.tileSize=a.tileSize||256;this.maxZoom=this.minZoom=0;this.ma=[];this.tileUrlFunction=function(a){if(!(this.maxZoom<a.z)){var c=this.ma[a.z];if(c){var d=a.x,e=-a.y-1;return 0>d||
c.Nb<=d||0>e||c.ge<=e?void 0:this.getTileUrl(a.z,d,e)}}}}G(Mq,Fq);Mq.prototype.getTile=function(a,b,c,d,e){var f=li(a,b,c);if(this.D.Fa(f))return this.D.get(f);a=new ji(a,b,c);d=this.tileUrlFunction(a,d,e);d=new Kq(a,y(d)?0:4,y(d)?d:"",this.crossOrigin,this.tileLoadFunction,this.ye,this.tileSize,this.maxZoom);this.D.set(f,d);return d};Mq.prototype.getTileUrl=ba();Mq.prototype.dh=k("gutter");function Nq(a,b,c,d){this.width=a;this.height=b;this.Nb=c;this.ge=d;this.Bd=0}
function Oq(a,b,c,d){this.z=b;this.x=c;this.y=d;this.ab=a.maxZoom-b;this.scale=Math.pow(2,this.ab);b=a.tileSize*this.scale;this.S=c*b;this.O=d*b;this.Td=Math.min(this.S+b,a.width);this.bd=Math.min(this.O+b,a.height);c=Math.ceil((a.width-this.S)/this.scale);d=Math.ceil((a.height-this.O)/this.scale);this.F=Math.min(a.tileSize,c);this.M=Math.min(a.tileSize,d)};function Pq(a){for(var b=Array(a.maxZoom+1),c=a.projection.i(),d=(c[2]-c[0])/(a.tileSize||256),c=(c[3]-c[1])/(a.tileSize||256),e=0;e<=a.maxZoom;++e){var f=Math.max(d,c)/Math.pow(2,e);for(b[e]=1;b[e]<f;)b[e]*=2}a.resolutions=b;a.origin=a.origin||[0,0];Yk.call(this,a)}G(Pq,Yk);
Pq.prototype.pl=function(a){a=y(a)?a:{};var b=this.minZoom,c=this.maxZoom,d=y(a.wrapX)?a.wrapX:!0,e=new ji(0,0,0),f=null;if(y(a.extent)){var f=Array(c+1),g;for(g=0;g<c;++g)f[g]=g<b?null:al(this,a.extent,g)}return function(a,g,m){g=a.z;if(g<b||c<g)return null;var p=Math.pow(2,g),q=a.x;if(d)q=Ib(q,p);else if(0>q||p<=q)return null;a=a.y;return a<-p||-1<a||null!==f&&(e.z=g,e.x=q,e.y=a,!f[g].contains(e))?null:y(m)?(m.z=g,m.x=q,m.y=-a-1,m):new ji(g,q,-a-1)}};
Pq.prototype.Bf=function(a,b){return a.z<this.maxZoom?Kj(2*a.x,2*(a.x+1),2*a.y,2*(a.y+1),b):null};Pq.prototype.yf=function(a,b,c,d){d=Kj(0,a.x,0,a.y,d);for(a=a.z-1;a>=this.minZoom;--a)if(d.A=d.Y>>=1,d.I=d.w>>=1,b.call(c,a,d))return!0;return!1};function Qq(a){Mq.call(this,a);this.maxZoom=Math.max(Math.ceil(Math.log(this.width/this.tileSize)/Math.LN2),Math.ceil(Math.log(this.height/this.tileSize)/Math.LN2));for(a=0;a<=this.maxZoom;a++){var b=Math.pow(2,this.maxZoom-a),c=Math.ceil(this.width/b),b=Math.ceil(this.height/b),d=Math.ceil(c/this.tileSize),e=Math.ceil(b/this.tileSize);this.ma.push(new Nq(c,b,d,e))}this.tileGrid=new Pq({maxZoom:this.maxZoom,tileSize:this.tileSize,projection:this.getProjection()})}G(Qq,Mq);function Rq(a){Qq.call(this,a)}G(Rq,Qq);Rq.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("\x26res\x3d"+(a.ab+1)+"\x26viewwidth\x3d"+a.F+"\x26viewheight\x3d"+a.M+"\x26x\x3d"+a.S+"\x26y\x3d"+a.O)};function Sq(a){Qq.call(this,a)}G(Sq,Qq);Sq.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("\x26action\x3d2\x26DMSCALE\x3d"+100/a.scale+"\x26DMWIDTH\x3d"+a.F+"\x26DMHEIGHT\x3d"+a.M+"\x26DMX\x3d"+a.S/a.scale+"\x26DMY\x3d"+a.O/a.scale)};function Tq(a){a.ta=a.ta.replace(".dzi","_files/").replace(".xml","_files/");Qq.call(this,a);this.Nj=Math.ceil(Math.log(Math.max(this.width,this.height))/Math.LN2)}G(Tq,Qq);Tq.prototype.getTileUrl=function(a,b,c){return this.ta+(this.Nj-this.maxZoom+a)+"/"+b+"_"+c+"."+this.Tg};function Uq(a){Qq.call(this,a)}G(Uq,Qq);Uq.prototype.getTileUrl=function(a,b,c){b=new Oq(this,a,b,c);return this.ta+("\x26method\x3dR\x26l\x3d"+(a+1)+"\x26r\x3d"+b.O+","+b.S+","+b.M+","+b.F)};function Vq(a){Qq.call(this,a)}G(Vq,Qq);Vq.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("/"+a.S+","+a.O+","+(a.Td-a.S)+","+(a.bd-a.O)+"/pct:"+100/a.scale+"/0/native.jpg")};function Wq(a){Qq.call(this,a)}G(Wq,Qq);Wq.prototype.getTileUrl=function(a,b,c){var d=new Oq(this,a,b,c);b+=c*Math.ceil(this.width/(d.scale*this.tileSize));return this.ta+"\x26jtl\x3d"+a+","+b};function Xq(a){Qq.call(this,a)}G(Xq,Qq);Xq.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("\x26cp\x3d"+(a.S+(a.Td-a.S)/2)/this.width+","+(a.O+(a.bd-a.O)/2)/this.height+"\x26lev\x3d"+a.ab+"\x26wid\x3d"+a.F+"\x26hei\x3d"+a.M)};function Yq(a){Qq.call(this,a)}G(Yq,Qq);Yq.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("\x26x\x3d"+(a.S+a.scale*this.tileSize/2)+"\x26y\x3d"+(a.O+a.scale*this.tileSize/2)+"\x26res\x3d"+a.ab+"\x26width\x3d"+a.F+"\x26height\x3d"+a.M+"\x26jpegLevel\x3d80")};function Zq(a){Mq.call(this,a);a=this.width;for(var b=this.height;;){var c=Math.ceil(a/this.tileSize),d=Math.ceil(b/this.tileSize);this.ma.push(new Nq(a,b,c,d));if(a<=this.tileSize&&b<=this.tileSize)break;a=this.wc(a);b=this.wc(b)}this.ma.reverse();this.minZoom=0;this.maxZoom=this.ma.length-1;for(b=a=0;b<this.ma.length;b++)c=this.ma[b],c.Bd=a,a+=c.Nb*c.ge;this.tileGrid=new Pq({maxZoom:this.maxZoom,tileSize:this.tileSize,projection:this.getProjection()})}G(Zq,Mq);function $q(a){Zq.call(this,a)}G($q,Zq);$q.prototype.wc=function(a){return Math.round(a/2)};$q.prototype.getTileUrl=function(a,b,c){return(a=this.ma[a])?this.ta+"\x26"+(1+b+c*a.Nb+a.Bd):void 0};function ar(a){Qq.call(this,a)}G(ar,Qq);ar.prototype.getTileUrl=function(a,b,c){a=new Oq(this,a,b,c);return this.ta+("\x26mapext\x3d"+a.S+"+"+-a.bd+"+"+a.Td+"+"+-a.O+"\x26mapsize\x3d"+a.F+"+"+a.M)};function br(a){Qq.call(this,a)}G(br,Qq);br.prototype.getTileUrl=function(a,b,c){return this.ta+"?cmd\x3dtile\x26x\x3d"+b+"\x26y\x3d"+c+"\x26z\x3d"+Math.pow(2,this.maxZoom-a)};function cr(a){Zq.call(this,a)}G(cr,Zq);cr.prototype.wc=function(a){return Math.floor(a/2)};cr.prototype.getTileUrl=function(a,b,c){return this.ta+a+"/"+b+"/"+c+"."+this.Tg};function dr(a){Zq.call(this,a)}G(dr,Zq);dr.prototype.wc=function(a){return Math.floor(a/2)};dr.prototype.getTileUrl=function(a,b,c){var d=this.ma[a];return d?this.ta+("TileGroup"+Math.floor((b+c*d.Nb+d.Bd)/256)+"/"+a+"-"+b+"-"+c+"."+this.Tg):void 0};var er={Aware:Rq,ContentDM:Sq,DeepZoom:Tq,Gallica:Uq,IipImage:Wq,Iiif:Vq,Lizardtech:Xq,Loc:Yq,TopView:$q,WmsImage:ar,XLImage:br,Zoomify:dr,ZXY:cr};function fr(){function a(a,b,c){if(a){var g=a.k().H(),h=g.o();a.Nc(Uj({resolution:h,duration:250,easing:Pj}));g.ce(g.constrainResolution(h,b));c.preventDefault()}}this.Io=Q("geo");this.Jq=Q("scan");this.rh={altShiftDragRotate:!1,doubleClickZoom:!0,gr:!1,ls:!0,keyboard:!1,mouseWheelZoom:!0,shiftDragZoom:!1};gr(this);this.rh.altShiftDragRotate=!0;this.rh.gr=!0;Ld(document.body,!0);I(bc("input",void 0,void 0),function(a){Ld(a,!1)});var b=Q("scan-plus"),c=Q("scan-minus");b&&c&&(T(b,"click",function(b){a(this.Ve,
1,b)},!1,this),T(c,"click",function(b){a(this.Ve,-1,b)},!1,this));b=Q("geo-plus");c=Q("geo-minus");b&&c&&(T(b,"click",function(b){a(this.Md,1,b)},!1,this),T(c,"click",function(b){a(this.Md,-1,b)},!1,this));this.$d=null;(this.oe=Q("adjustModeBtn"))&&(null!=Jo()?T(this.oe,"click",this.Jn,!1,this):Jd(this.oe,!1));(this.Ci=Q("allowTPS"))&&T(this.Ci,["change","click"],function(a){if(this.ea){var b=this.ea,c=this.Ci.checked;b.Ek!=c&&(b.Ek=c,b.rd())}a.stopPropagation()},!1,this);this.If=Q("infobox")}
function gr(a){function b(a,b){var c=a.Xa().getAt(0).L.getProjection(),c=Bj("EPSG:4326",c),c=aj(b,c);$i(c,1.33);Ij(a.k().H(),c,a.ga())}a.Md=new Z({layers:[new Bl({preload:Infinity,source:new Iq({key:"AgY4DxYEAwAUkN-N8sOlqGKrDp1RjWZKP8z05FtgJZh5Z3sJZ1EoQE36_L-07SZy",imagerySet:"AerialWithLabels"})})],renderer:["canvas","dom"],target:a.Io,view:new W({center:[0,0],zoom:2}),interactions:Jk(a.rh),controls:[]});a.Ee=Q("geocoder");a.Ee.focus();var c=new fg(a.Ee);T(c,"update",function(a){b(this.Md,a.row.bounds||
a.row.viewport)},!1,a);var d=F(function(a){be(a);c.search(this.Ee.value,1,F(function(a,c){b(this.Md,c[0].bounds||c[0].viewport)},this))},a),e=rc(a.Ee);T(e,"submit",d);T(a.Ee,["webkitspeechchange","speechchange"],d)}
function hr(a,b){var c=b.width,d=b.height,e;e={ta:b.url,width:c,height:d,ye:[[0,0],[c,0],[c,d],[0,d]]};var f=er[b.format];e=f?new f(e):null;e=new Bl({source:e});var g=b.format,f=b.url,h=b.width,l=b.height;f=g&&f&&h&&l?(g=zq[g])?new g(f,h,l,b.n_tiers,b.gutter,b.tile_width,b.tile_height,b.tile_extension):null:null;a.$d=f;a.$d.yn=a.Pm.thumbnail_url;f=e.L;a.Ve=new Z({layers:[e],renderer:["canvas","dom"],target:a.Jq,view:new W({center:[0,0],zoom:3,projection:f.getProjection(),extent:[0,-d,c,0]}),interactions:Jk(a.rh),
controls:[]});c=f.i();c=[c[0],-c[3],c[2],-c[1]];Ij(a.Ve.k().H(),c,a.Ve.ga())}n=fr.prototype;n.bi=function(a,b){this.d?this.d.bi(a,b):(this.In=a,this.Il=b)};
function ir(a){a.d=new Wp(a.Md,a.Ee);a.P=new iq(a.Ve);a.bi(a.In,a.Il);a.ea=new wp(a.d,a.P);var b=Q("scanRotationControl");if(b){var c=new eq(a.Ve,b);T(a.ea,Yo,function(){var a;var b=Ap(this.ea);if(2<b.length)a=cp(1,b,0,1,2),b=cp(1,b,0,1,3),a=Math.atan2(b[1],a[1]);else if(2==b.length){a=[b[1][0]-b[0][0],b[1][1]-b[0][1]];var b=[b[1][2]-b[0][2],-(b[1][3]-b[0][3])],f=Math.acos((a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1])));a=0>a[0]*b[1]-a[1]*b[0]?f:-f}else a=null;
a=null!=a?-a:null;c.Yd||(null!=a?(hq(c,a),c.a.className="ctrlAuto"):null!==c.df&&null===a&&(hq(c,0),c.a.className=fq));c.df=a;a=Bp(this.ea);this.If&&this.$d&&(Fb(this.If,"warnCutlineOverlap",1!=a[0]),Fb(this.If,"warnPointCount",5>a[1]),Fb(this.If,"warnCollinearity",0.1>a[2]),b=Math.min(a[3],a[4]),Fb(this.If,"warnCoverage",0.5>b));a=1==a[0]&&3<=a[1];!a&&null!=this.ea.pe&&this.Jn();Fb(this.oe,"disabled",!a)},!1,a)}}
n.Jn=function(){if(this.$d&&!Ja(Bb(this.oe),"disabled")){var a=Gb();Fb(this.oe,"close",a);this.Md.qi();ve(document.body,de,function(){this.Md.qi()},!1,this);this.ea.Ae(a,this.$d)}};n.In=null;n.Il=null;n.yc=function(a){ka(a)?(new od(a)).send(null,F(function(a){this.yc(a)},this)):(this.Pm=a,hr(this,a.pyramid),ir(this),Cp(this.ea,a))};n.Eo=function(){var a=this.ea.eh(),b=Ub(this.Pm);b.control_points=a;(a=this.ea.cb?yp(this.ea.cb,0,!0):null)?b.cutline=a:delete b.cutline;return b};ua("Georeference",fr);
ua("Georeference.prototype.setCustomTransform",fr.prototype.bi);ua("Georeference.prototype.init",fr.prototype.yc);ua("Georeference.prototype.finalize",fr.prototype.Eo);