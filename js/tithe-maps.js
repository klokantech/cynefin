(function() {var h,aa=aa||{},l=this;function s(a){return void 0!==a}function da(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&s(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ea(){}function fa(a){a.hb=function(){return a.fi?a.fi:a.fi=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"array"==ga(a)}function ia(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==ga(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function B(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function pa(a,b,c){return a.call.apply(a.bind,arguments)}function qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:qa;return C.apply(null,arguments)}
function sa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.g=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.pn=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ua(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ua);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(ua,Error);ua.prototype.name="CustomError";var va;function wa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ya(a){if(!za.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(Aa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Ba,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ca,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Da,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ea,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Fa,"\x26#0;"));return a}var Aa=/&/g,Ba=/</g,Ca=/>/g,Da=/"/g,Ea=/'/g,Fa=/\x00/g,za=/[\x00&<>"']/;
function Ga(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ha(a,b){return a<b?-1:a>b?1:0}function Ia(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ja(a){var b=w(void 0)?Ga(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Ka=Array.prototype,La=Ka.indexOf?function(a,b,c){return Ka.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=Ka.forEach?function(a,b,c){Ka.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Ka.filter?function(a,b,c){return Ka.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=w(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Na=Ka.map?function(a,b,c){return Ka.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Oa=Ka.some?function(a,b,c){return Ka.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Pa=Ka.every?function(a,b,c){return Ka.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a,b){var c;a:{c=a.length;for(var d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:w(a)?a.charAt(c):a[c]}function Ra(a,b){var c=La(a,b),d;(d=0<=c)&&Ka.splice.call(a,c,1);return d}function Sa(a){return Ka.concat.apply(Ka,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b,c,d){Ka.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?Ka.slice.call(a,b):Ka.slice.call(a,b,c)}function Wa(a,b){if(!ia(a)||!ia(b)||a.length!=b.length)return!1;for(var c=a.length,d=Xa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ya(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){return a===b};function Za(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function $a(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function ab(a){var b=0,c;for(c in a)b++;return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function cb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function db(a){for(var b in a)return!1;return!0}function eb(a){for(var b in a)delete a[b]}function fb(a,b){b in a&&delete a[b]}function I(a,b,c){return b in a?a[b]:c}
function gb(a){var b={},c;for(c in a)b[c]=a[c];return b}var hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ib(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function jb(a){if("function"==typeof a.Ta)return a.Ta();if(w(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return bb(a)}function kb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||w(a))F(a,b,c);else{var d;if("function"==typeof a.Sa)d=a.Sa();else if("function"!=typeof a.Ta)if(ia(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=cb(a);else d=void 0;for(var e=jb(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function lb(a){return function(){return a}}var mb=lb(!1),nb=lb(!0);function ob(a){return a}function pb(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function qb(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function rb(a,b,c){return Math.min(Math.max(a,b),c)}function sb(a,b){var c=a%b;return 0>c*b?c+b:c};function tb(a,b){this.b={};this.p=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof tb?(c=a.Sa(),d=a.Ta()):(c=cb(a),d=bb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=tb.prototype;h.gb=function(){return this.i};h.Ta=function(){ub(this);for(var a=[],b=0;b<this.p.length;b++)a.push(this.b[this.p[b]]);return a};h.Sa=function(){ub(this);return this.p.concat()};
h.fa=function(a){return vb(this.b,a)};h.yh=function(a,b){if(this===a)return!0;if(this.i!=a.gb())return!1;var c=b||wb;ub(this);for(var d,e=0;d=this.p[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function wb(a,b){return a===b}h.lb=function(){return 0==this.i};h.clear=function(){this.b={};this.i=this.p.length=0};h.remove=function(a){return vb(this.b,a)?(delete this.b[a],this.i--,this.p.length>2*this.i&&ub(this),!0):!1};
function ub(a){if(a.i!=a.p.length){for(var b=0,c=0;b<a.p.length;){var d=a.p[b];vb(a.b,d)&&(a.p[c++]=d);b++}a.p.length=c}if(a.i!=a.p.length){for(var e={},c=b=0;b<a.p.length;)d=a.p[b],vb(e,d)||(a.p[c++]=d,e[d]=1),b++;a.p.length=c}}h.get=function(a,b){return vb(this.b,a)?this.b[a]:b};h.set=function(a,b){vb(this.b,a)||(this.i++,this.p.push(a));this.b[a]=b};h.forEach=function(a,b){for(var c=this.Sa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new tb(this)};
function vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var xb;a:{var yb=l.navigator;if(yb){var zb=yb.userAgent;if(zb){xb=zb;break a}}xb=""}function Ab(a){return-1!=xb.indexOf(a)};var Bb,Cb,Db;function Eb(){return l.navigator||null}var Fb=Ab("Opera")||Ab("OPR"),L=Ab("Trident")||Ab("MSIE"),Gb=Ab("Gecko")&&-1==xb.toLowerCase().indexOf("webkit")&&!(Ab("Trident")||Ab("MSIE")),M=-1!=xb.toLowerCase().indexOf("webkit"),Hb,Ib=Eb();Hb=Ib&&Ib.platform||"";Bb=-1!=Hb.indexOf("Mac");Cb=-1!=Hb.indexOf("Win");Db=-1!=Hb.indexOf("Linux");var Jb=!!Eb()&&-1!=(Eb().appVersion||"").indexOf("X11");function Kb(){var a=l.document;return a?a.documentMode:void 0}
var Lb=function(){var a="",b;if(Fb&&l.opera)return a=l.opera.version,ka(a)?a():a;Gb?b=/rv\:([^\);]+)(\)|;)/:L?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(xb))?a[1]:"");return L&&(b=Kb(),b>parseFloat(a))?String(b):a}(),Mb={};
function N(a){var b;if(!(b=Mb[a])){b=0;for(var c=wa(String(Lb)).split("."),d=wa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],r=n.exec(k)||["","",""];if(0==p[0].length&&0==r[0].length)break;b=Ha(0==p[1].length?0:parseInt(p[1],10),0==r[1].length?0:parseInt(r[1],10))||Ha(0==p[2].length,0==r[2].length)||Ha(p[2],r[2])}while(0==b)}b=Mb[a]=0<=b}return b}
var Nb=l.document,Ob=Nb&&L?Kb()||("CSS1Compat"==Nb.compatMode?parseInt(Lb,10):5):void 0;var Pb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Qb(a){if(Rb){Rb=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Qb(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Rb=!0,Error();}}return a.match(Pb)}var Rb=M;function Tb(a,b){var c;if(a instanceof Tb)this.ta=s(b)?b:a.ta,Ub(this,a.Eb),c=a.ic,Vb(this),this.ic=c,c=a.fb,Vb(this),this.fb=c,Wb(this,a.Hc),c=a.Ea,Vb(this),this.Ea=c,Xb(this,a.Va.clone()),c=a.Pb,Vb(this),this.Pb=c;else if(a&&(c=Qb(String(a)))){this.ta=!!b;Ub(this,c[1]||"",!0);var d=c[2]||"";Vb(this);this.ic=Yb(d);d=c[3]||"";Vb(this);this.fb=Yb(d,!0);Wb(this,c[4]);d=c[5]||"";Vb(this);this.Ea=Yb(d,!0);Xb(this,c[6]||"",!0);c=c[7]||"";Vb(this);this.Pb=Yb(c)}else this.ta=!!b,this.Va=new Zb(null,0,this.ta)}
h=Tb.prototype;h.Eb="";h.ic="";h.fb="";h.Hc=null;h.Ea="";h.Pb="";h.el=!1;h.ta=!1;h.toString=function(){var a=[],b=this.Eb;b&&a.push($b(b,ac,!0),":");if(b=this.fb){a.push("//");var c=this.ic;c&&a.push($b(c,ac,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Hc;null!=b&&a.push(":",String(b))}if(b=this.Ea)this.fb&&"/"!=b.charAt(0)&&a.push("/"),a.push($b(b,"/"==b.charAt(0)?bc:cc,!0));(b=this.Va.toString())&&a.push("?",b);(b=this.Pb)&&a.push("#",$b(b,dc));return a.join("")};
h.resolve=function(a){var b=this.clone(),c=!!a.Eb;c?Ub(b,a.Eb):c=!!a.ic;if(c){var d=a.ic;Vb(b);b.ic=d}else c=!!a.fb;c?(d=a.fb,Vb(b),b.fb=d):c=null!=a.Hc;d=a.Ea;if(c)Wb(b,a.Hc);else if(c=!!a.Ea){if("/"!=d.charAt(0))if(this.fb&&!this.Ea)d="/"+d;else{var e=b.Ea.lastIndexOf("/");-1!=e&&(d=b.Ea.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Vb(b),b.Ea=d):c=""!==a.Va.toString();c?Xb(b,Yb(a.Va.toString())):c=!!a.Pb;c&&(a=a.Pb,Vb(b),b.Pb=a);return b};h.clone=function(){return new Tb(this)};function Ub(a,b,c){Vb(a);a.Eb=c?Yb(b,!0):b;a.Eb&&(a.Eb=a.Eb.replace(/:$/,""))}function Wb(a,b){Vb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Hc=b}else a.Hc=null}function ec(a){return a.Ea}
function Xb(a,b,c){Vb(a);b instanceof Zb?(a.Va=b,a.Va.Dg(a.ta)):(c||(b=$b(b,fc)),a.Va=new Zb(b,0,a.ta))}function gc(a,b,c){Vb(a);ha(c)||(c=[String(c)]);hc(a.Va,b,c)}function Vb(a){if(a.el)throw Error("Tried to modify a read-only Uri");}h.Dg=function(a){this.ta=a;this.Va&&this.Va.Dg(a);return this};function Yb(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function $b(a,b,c){return w(a)?(a=encodeURI(a).replace(b,ic),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function ic(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ac=/[#\/\?@]/g,cc=/[\#\?:]/g,bc=/[\#\?]/g,fc=/[\#\?@]/g,dc=/#/g;function Zb(a,b,c){this.ma=a||null;this.ta=!!c}
function jc(a){if(!a.F&&(a.F=new tb,a.i=0,a.ma))for(var b=a.ma.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=kc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}h=Zb.prototype;h.F=null;h.i=null;h.gb=function(){jc(this);return this.i};h.add=function(a,b){jc(this);this.ma=null;a=kc(this,a);var c=this.F.get(a);c||this.F.set(a,c=[]);c.push(b);this.i++;return this};
h.remove=function(a){jc(this);a=kc(this,a);return this.F.fa(a)?(this.ma=null,this.i-=this.F.get(a).length,this.F.remove(a)):!1};h.clear=function(){this.F=this.ma=null;this.i=0};h.lb=function(){jc(this);return 0==this.i};h.fa=function(a){jc(this);a=kc(this,a);return this.F.fa(a)};h.Sa=function(){jc(this);for(var a=this.F.Ta(),b=this.F.Sa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.Ta=function(a){jc(this);var b=[];if(w(a))this.fa(a)&&(b=Sa(b,this.F.get(kc(this,a))));else{a=this.F.Ta();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};h.set=function(a,b){jc(this);this.ma=null;a=kc(this,a);this.fa(a)&&(this.i-=this.F.get(a).length);this.F.set(a,[b]);this.i++;return this};h.get=function(a,b){var c=a?this.Ta(a):[];return 0<c.length?String(c[0]):b};function hc(a,b,c){a.remove(b);0<c.length&&(a.ma=null,a.F.set(kc(a,b),Ta(c)),a.i+=c.length)}
h.toString=function(){if(this.ma)return this.ma;if(!this.F)return"";for(var a=[],b=this.F.Sa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ta(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.ma=a.join("\x26")};h.clone=function(){var a=new Zb;a.ma=this.ma;this.F&&(a.F=this.F.clone(),a.i=this.i);return a};function kc(a,b){var c=String(b);a.ta&&(c=c.toLowerCase());return c}
h.Dg=function(a){a&&!this.ta&&(jc(this),this.ma=null,this.F.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),hc(this,d,a))},this));this.ta=a};h.extend=function(a){for(var b=0;b<arguments.length;b++)kb(arguments[b],function(a,b){this.add(b,a)},this)};var lc=!L||L&&9<=Ob,mc=!L||L&&9<=Ob,nc=L&&!N("9");!M||N("528");Gb&&N("1.9b")||L&&N("8")||Fb&&N("9.5")||M&&N("528");Gb&&!N("8")||L&&N("9");function oc(){0!=pc&&(qc[B(this)]=this);this.Yc=this.Yc;this.Zb=this.Zb}var pc=0,qc={};oc.prototype.Yc=!1;oc.prototype.eb=function(){if(!this.Yc&&(this.Yc=!0,this.c(),0!=pc)){var a=B(this);delete qc[a]}};function rc(a,b){var c=sa(sc,b);a.Zb||(a.Zb=[]);a.Zb.push(s(void 0)?C(c,void 0):c)}oc.prototype.c=function(){if(this.Zb)for(;this.Zb.length;)this.Zb.shift()()};function sc(a){a&&"function"==typeof a.eb&&a.eb()};function tc(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.cc=!1;this.dj=!0}tc.prototype.c=function(){};tc.prototype.eb=function(){};tc.prototype.stopPropagation=function(){this.cc=!0};tc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.dj=!1};function uc(a){a.stopPropagation()};var vc=Gb?"DOMMouseScroll":"mousewheel",wc=L?"focusout":"DOMFocusOut";function xc(a){xc[" "](a);return a}xc[" "]=ea;function yc(a,b){tc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Qe=!1;this.l=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Gb){var e;a:{try{xc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Qe=Bb?a.metaKey:a.ctrlKey;this.state=a.state;this.l=a;a.defaultPrevented&&this.preventDefault()}}D(yc,tc);var zc=[1,4,2];function Ac(a){return(lc?0==a.l.button:"click"==a.type?!0:!!(a.l.button&zc[0]))&&!(M&&Bb&&a.ctrlKey)}yc.prototype.stopPropagation=function(){yc.g.stopPropagation.call(this);this.l.stopPropagation?this.l.stopPropagation():this.l.cancelBubble=!0};
yc.prototype.preventDefault=function(){yc.g.preventDefault.call(this);var a=this.l;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};yc.prototype.nk=function(){return this.l};yc.prototype.c=function(){};var Bc="closure_listenable_"+(1E6*Math.random()|0);function Cc(a){return!(!a||!a[Bc])}var Dc=0;function Ec(a,b,c,d,e){this.Xb=a;this.Ue=null;this.src=b;this.type=c;this.Tc=!!d;this.qe=e;this.key=++Dc;this.Lc=this.Td=!1}function Fc(a){a.Lc=!0;a.Xb=null;a.Ue=null;a.src=null;a.qe=null};function Gc(a){this.src=a;this.V={};this.Pd=0}h=Gc.prototype;h.add=function(a,b,c,d,e){var f=a.toString();a=this.V[f];a||(a=this.V[f]=[],this.Pd++);var g=Hc(a,b,d,e);-1<g?(b=a[g],c||(b.Td=!1)):(b=new Ec(b,this.src,f,!!d,e),b.Td=c,a.push(b));return b};h.remove=function(a,b,c,d){a=a.toString();if(!(a in this.V))return!1;var e=this.V[a];b=Hc(e,b,c,d);return-1<b?(Fc(e[b]),Ka.splice.call(e,b,1),0==e.length&&(delete this.V[a],this.Pd--),!0):!1};
function Ic(a,b){var c=b.type;if(!(c in a.V))return!1;var d=Ra(a.V[c],b);d&&(Fc(b),0==a.V[c].length&&(delete a.V[c],a.Pd--));return d}h.Ve=function(a){a=a&&a.toString();var b=0,c;for(c in this.V)if(!a||c==a){for(var d=this.V[c],e=0;e<d.length;e++)++b,Fc(d[e]);delete this.V[c];this.Pd--}return b};h.jd=function(a,b,c,d){a=this.V[a.toString()];var e=-1;a&&(e=Hc(a,b,c,d));return-1<e?a[e]:null};
h.yb=function(a,b){var c=s(a),d=c?a.toString():"",e=s(b);return $a(this.V,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Tc!=b))return!0;return!1})};function Hc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Lc&&f.Xb==b&&f.Tc==!!c&&f.qe==d)return e}return-1};var Jc="closure_lm_"+(1E6*Math.random()|0),Kc={},Lc=0;function P(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)P(a,b[f],c,d,e);return null}c=Mc(c);return Cc(a)?a.pa(b,c,d,e):Nc(a,b,c,!1,d,e)}function Nc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Oc(a);k||(a[Jc]=k=new Gc(a));c=k.add(b,c,d,e,f);if(c.Ue)return c;d=Pc();c.Ue=d;d.src=a;d.Xb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Qc(b.toString()),d);Lc++;return c}
function Pc(){var a=Rc,b=mc?function(c){return a.call(b.src,b.Xb,c)}:function(c){c=a.call(b.src,b.Xb,c);if(!c)return c};return b}function Sc(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)Sc(a,b[f],c,d,e);return null}c=Mc(c);return Cc(a)?a.og(b,c,d,e):Nc(a,b,c,!0,d,e)}function Tc(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)Tc(a,b[f],c,d,e);else c=Mc(c),Cc(a)?a.Ya(b,c,d,e):a&&(a=Oc(a))&&(b=a.jd(b,c,!!d,e))&&Q(b)}
function Q(a){if(ja(a)||!a||a.Lc)return!1;var b=a.src;if(Cc(b))return Ic(b.Ra,a);var c=a.type,d=a.Ue;b.removeEventListener?b.removeEventListener(c,d,a.Tc):b.detachEvent&&b.detachEvent(Qc(c),d);Lc--;(c=Oc(b))?(Ic(c,a),0==c.Pd&&(c.src=null,b[Jc]=null)):Fc(a);return!0}function Qc(a){return a in Kc?Kc[a]:Kc[a]="on"+a}function Uc(a,b,c,d){var e=1;if(a=Oc(a))if(b=a.V[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Tc==c&&!f.Lc&&(e&=!1!==Vc(f,d))}return Boolean(e)}
function Vc(a,b){var c=a.Xb,d=a.qe||a.src;a.Td&&Q(a);return c.call(d,b)}
function Rc(a,b){if(a.Lc)return!0;if(!mc){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new yc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.cc&&0<=k;k--)c.currentTarget=e[k],d&=Uc(e[k],f,!0,c);for(k=0;!c.cc&&k<e.length;k++)c.currentTarget=
e[k],d&=Uc(e[k],f,!1,c)}return d}return Vc(a,new yc(b,this))}function Oc(a){a=a[Jc];return a instanceof Gc?a:null}var Wc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Mc(a){if(ka(a))return a;a[Wc]||(a[Wc]=function(b){return a.handleEvent(b)});return a[Wc]};function Xc(){}Xc.prototype.$g=null;function Yc(a){return a.$g||(a.$g=a.gi())};var Zc;function $c(){}D($c,Xc);$c.prototype.If=function(){var a=ad(this);return a?new ActiveXObject(a):new XMLHttpRequest};$c.prototype.gi=function(){var a={};ad(this)&&(a[0]=!0,a[1]=!0);return a};
function ad(a){if(!a.Yh&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Yh=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Yh}Zc=new $c;function bd(){}D(bd,Xc);bd.prototype.If=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new cd;throw Error("Unsupported browser");};bd.prototype.gi=function(){return{}};
function cd(){this.Ja=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Ja.onload=C(this.Zf,this);this.Ja.onerror=C(this.pe,this);this.Ja.onprogress=C(this.Nk,this);this.Ja.ontimeout=C(this.Uk,this)}h=cd.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Ja.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.Ja.send(a);else throw Error("Only string data is supported");else this.Ja.send()};h.abort=function(){this.Ja.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Ja.contentType:""};h.Zf=function(){this.status=200;this.responseText=this.Ja.responseText;dd(this,4)};h.pe=function(){this.status=500;this.responseText=null;dd(this,4)};h.Uk=function(){this.pe()};
h.Nk=function(){this.status=200;dd(this,1)};function dd(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return"content-type: "+this.Ja.contentType};function ed(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function fd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function gd(a){l.setTimeout(function(){throw a;},0)}function hd(a,b){var c=a;b&&(c=C(a,b));c=id(c);!ka(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(jd||(jd=kd()),jd(c)):l.setImmediate(c)}var jd;
function kd(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Ab("Trident")&&!Ab("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.ah;c.ah=null;a()};return function(a){d.next={ah:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var id=ob;function ld(a,b){md||nd();od||(md(),od=!0);pd.push(new qd(a,b))}var md;function nd(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();md=function(){a.then(rd)}}else md=function(){hd(rd)}}var od=!1,pd=[];function rd(){for(;pd.length;){var a=pd;pd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.ik.call(c.scope)}catch(d){gd(d)}}}od=!1}function qd(a,b){this.ik=a;this.scope=b};function sd(a,b){this.j=td;this.pb=void 0;this.sa=this.aa=null;this.oe=this.Tf=!1;try{var c=this;a.call(b,function(a){vd(c,wd,a)},function(a){vd(c,xd,a)})}catch(d){vd(this,xd,d)}}var td=0,wd=2,xd=3;sd.prototype.then=function(a,b,c){return yd(this,ka(a)?a:null,ka(b)?b:null,c)};ed(sd);sd.prototype.cancel=function(a){this.j==td&&ld(function(){var b=new zd(a);Ad(this,b)},this)};
function Ad(a,b){if(a.j==td)if(a.aa){var c=a.aa;if(c.sa){for(var d=0,e=-1,f=0,g;g=c.sa[f];f++)if(g=g.Vd)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.j==td&&1==d?Ad(c,b):(d=c.sa.splice(e,1)[0],Bd(c,d,xd,b)))}}else vd(a,xd,b)}function Cd(a,b){a.sa&&a.sa.length||a.j!=wd&&a.j!=xd||Dd(a);a.sa||(a.sa=[]);a.sa.push(b)}
function yd(a,b,c,d){var e={Vd:null,Ei:null,Li:null};e.Vd=new sd(function(a,g){e.Ei=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Li=c?function(b){try{var e=c.call(d,b);!s(e)&&b instanceof zd?g(b):a(e)}catch(n){g(n)}}:g});e.Vd.aa=a;Cd(a,e);return e.Vd}sd.prototype.Hj=function(a){this.j=td;vd(this,wd,a)};sd.prototype.Ij=function(a){this.j=td;vd(this,xd,a)};
function vd(a,b,c){if(a.j==td){if(a==c)b=xd,c=new TypeError("Promise cannot resolve to itself");else{if(fd(c)){a.j=1;c.then(a.Hj,a.Ij,a);return}if(la(c))try{var d=c.then;if(ka(d)){Ed(a,c,d);return}}catch(e){b=xd,c=e}}a.pb=c;a.j=b;Dd(a);b!=xd||c instanceof zd||Fd(a,c)}}function Ed(a,b,c){function d(b){f||(f=!0,a.Ij(b))}function e(b){f||(f=!0,a.Hj(b))}a.j=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Dd(a){a.Tf||(a.Tf=!0,ld(a.fk,a))}
sd.prototype.fk=function(){for(;this.sa&&this.sa.length;){var a=this.sa;this.sa=[];for(var b=0;b<a.length;b++)Bd(this,a[b],this.j,this.pb)}this.Tf=!1};function Bd(a,b,c,d){if(c==wd)b.Ei(d);else{for(;a&&a.oe;a=a.aa)a.oe=!1;b.Li(d)}}function Fd(a,b){a.oe=!0;ld(function(){a.oe&&Gd.call(null,b)})}var Gd=gd;function zd(a){ua.call(this,a)}D(zd,ua);zd.prototype.name="cancel";function S(){oc.call(this);this.Ra=new Gc(this);this.Rj=this;this.sg=null}D(S,oc);S.prototype[Bc]=!0;h=S.prototype;h.addEventListener=function(a,b,c,d){P(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Tc(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.sg;if(c)for(b=[];c;c=c.sg)b.push(c);var c=this.Rj,d=a.type||a;if(w(a))a=new tc(a,c);else if(a instanceof tc)a.target=a.target||c;else{var e=a;a=new tc(d,c);ib(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.cc&&0<=g;g--)f=a.currentTarget=b[g],e=Hd(f,d,!0,a)&&e;a.cc||(f=a.currentTarget=c,e=Hd(f,d,!0,a)&&e,a.cc||(e=Hd(f,d,!1,a)&&e));if(b)for(g=0;!a.cc&&g<b.length;g++)f=a.currentTarget=b[g],e=Hd(f,d,!1,a)&&e;return e};
h.c=function(){S.g.c.call(this);this.Ra&&this.Ra.Ve(void 0);this.sg=null};h.pa=function(a,b,c,d){return this.Ra.add(String(a),b,!1,c,d)};h.og=function(a,b,c,d){return this.Ra.add(String(a),b,!0,c,d)};h.Ya=function(a,b,c,d){return this.Ra.remove(String(a),b,c,d)};function Hd(a,b,c,d){b=a.Ra.V[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Lc&&g.Tc==c){var k=g.Xb,m=g.qe||g.src;g.Td&&Ic(a.Ra,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.dj}
h.jd=function(a,b,c,d){return this.Ra.jd(String(a),b,c,d)};h.yb=function(a,b){return this.Ra.yb(s(a)?String(a):void 0,b)};function Id(a,b){S.call(this);this.Vb=a||1;this.Pc=b||l;this.Af=C(this.Gm,this);this.ng=ta()}D(Id,S);h=Id.prototype;h.enabled=!1;h.r=null;h.setInterval=function(a){this.Vb=a;this.r&&this.enabled?(this.stop(),this.start()):this.r&&this.stop()};h.Gm=function(){if(this.enabled){var a=ta()-this.ng;0<a&&a<.8*this.Vb?this.r=this.Pc.setTimeout(this.Af,this.Vb-a):(this.r&&(this.Pc.clearTimeout(this.r),this.r=null),this.dispatchEvent(Jd),this.enabled&&(this.r=this.Pc.setTimeout(this.Af,this.Vb),this.ng=ta()))}};
h.start=function(){this.enabled=!0;this.r||(this.r=this.Pc.setTimeout(this.Af,this.Vb),this.ng=ta())};h.stop=function(){this.enabled=!1;this.r&&(this.Pc.clearTimeout(this.r),this.r=null)};h.c=function(){Id.g.c.call(this);this.stop();delete this.Pc};var Jd="tick";function Kd(a,b,c){if(ka(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Ld(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Md(a){S.call(this);this.headers=new tb;this.qf=a||null;this.xa=!1;this.pf=this.e=null;this.Be=this.lg="";this.Ub=this.eg=this.ve=this.Sf=!1;this.ef=0;this.Gb=null;this.bj=Nd;this.Pg=this.an=!1}D(Md,S);var Nd="",Od=/^https?$/i,Pd=["POST","PUT"];h=Md.prototype;
h.send=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.lg+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.lg=a;this.Be="";this.Sf=!1;this.xa=!0;this.e=this.qf?this.qf.If():Zc.If();this.pf=this.qf?Yc(this.qf):Yc(Zc);this.e.onreadystatechange=C(this.Ki,this);try{this.eg=!0,this.e.open(b,String(a),!0),this.eg=!1}catch(e){this.ce(5,e);return}a=c||"";var f=this.headers.clone();d&&kb(d,function(a,b){f.set(b,a)});d=Qa(f.Sa(),Qd);c=l.FormData&&a instanceof
l.FormData;!(0<=La(Pd,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.e.setRequestHeader(b,a)},this);this.bj&&(this.e.responseType=this.bj);"withCredentials"in this.e&&(this.e.withCredentials=this.an);try{Rd(this),0<this.ef&&((this.Pg=Sd(this.e))?(this.e.timeout=this.ef,this.e.ontimeout=C(this.hc,this)):this.Gb=Kd(this.hc,this.ef,this)),this.ve=!0,this.e.send(a),this.ve=!1}catch(g){this.ce(5,g)}};
function Sd(a){return L&&N(9)&&ja(a.timeout)&&s(a.ontimeout)}function Qd(a){return"content-type"==a.toLowerCase()}h.hc=function(){"undefined"!=typeof aa&&this.e&&(this.Be="Timed out after "+this.ef+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};h.ce=function(a,b){this.xa=!1;this.e&&(this.Ub=!0,this.e.abort(),this.Ub=!1);this.Be=b;Td(this);Ud(this)};function Td(a){a.Sf||(a.Sf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(){this.e&&this.xa&&(this.xa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ud(this))};h.c=function(){this.e&&(this.xa&&(this.xa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1),Ud(this,!0));Md.g.c.call(this)};h.Ki=function(){this.Yc||(this.eg||this.ve||this.Ub?Vd(this):this.Ml())};h.Ml=function(){Vd(this)};
function Vd(a){if(a.xa&&"undefined"!=typeof aa&&(!a.pf[1]||4!=Wd(a)||2!=Xd(a)))if(a.ve&&4==Wd(a))Kd(a.Ki,0,a);else if(a.dispatchEvent("readystatechange"),4==Wd(a)){a.xa=!1;try{if(Yd(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<Wd(a)?a.e.statusText:""}catch(c){b=""}a.Be=b+" ["+Xd(a)+"]";Td(a)}}finally{Ud(a)}}}function Ud(a,b){if(a.e){Rd(a);var c=a.e,d=a.pf[0]?ea:null;a.e=null;a.pf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Rd(a){a.e&&a.Pg&&(a.e.ontimeout=null);ja(a.Gb)&&(l.clearTimeout(a.Gb),a.Gb=null)}h.Ac=function(){return!!this.e};function Yd(a){var b=Xd(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Qb(String(a.lg))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Od.test(a?a.toLowerCase():"");c=b}return c}function Wd(a){return a.e?a.e.readyState:0}
function Xd(a){try{return 2<Wd(a)?a.e.status:-1}catch(b){return-1}}function Zd(a){if(a.e)return Ld(a.e.responseText)}h.getResponseHeader=function(a){return this.e&&4==Wd(this)?this.e.getResponseHeader(a):void 0};h.getAllResponseHeaders=function(){return this.e&&4==Wd(this)?this.e.getAllResponseHeaders():""};function $d(a){return a.title+"|"+ec(new Tb(a.transcription_url||""))+"|"+ec(new Tb(a.georeference_url||""))+"|"+ec(new Tb(a.visualize_url||""))+"||"+ec(new Tb(a.object_url||""))}function ae(a,b,c,d,e){d="http://cynefin.georeferencer.com/collection/"+c+d;var f=new Md(new bd);P(f,"complete",function(){if(Yd(f)){var d=Zd(f),d=e?b+"|"+ec(new Tb(d.transcription_url||""))+"|||||"+c:$d(d)+"|"+c;null!=a?window.location=a+"#"+d:(window.location.hash=d,window.location.reload())}});f.send(d)};var be=!L||L&&9<=Ob;!Gb&&!L||L&&L&&9<=Ob||Gb&&N("1.9.1");var ce=L&&!N("9");function U(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}h=U.prototype;h.clone=function(){return new U(this.x,this.y)};function de(a,b){return new U(a.x-b.x,a.y-b.y)}h.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};h.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};h.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
h.translate=function(a,b){a instanceof U?(this.x+=a.x,this.y+=a.y):(this.x+=a,ja(b)&&(this.y+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.x*=a;this.y*=c;return this};function ee(a,b){this.width=a;this.height=b}function fe(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}h=ee.prototype;h.clone=function(){return new ee(this.width,this.height)};h.lb=function(){return!(this.width*this.height)};h.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.scale=function(a,b){var c=ja(b)?b:a;this.width*=a;this.height*=c;return this};function ge(a){return a?new he(ie(a)):va||(va=new he)}function V(a){return w(a)?document.getElementById(a):a}function je(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function ke(a,b){Za(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in le?a.setAttribute(le[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function me(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new ee(a.clientWidth,a.clientHeight)}function ne(a){return M||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function oe(a){return a.parentWindow||a.defaultView}function pe(a,b,c){return qe(document,arguments)}
function qe(a,b){var c=b[0],d=b[1];if(!be&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',ya(d.name),'"');if(d.type){c.push(' type\x3d"',ya(d.type),'"');var e={};ib(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:ha(d)?c.className=d.join(" "):ke(c,d));2<b.length&&re(a,c,b,2);return c}
function re(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ia(f)||la(f)&&0<f.nodeType?e(f):F(se(f)?Ta(f):f,e)}}function te(a){return document.createElement(a)}function ue(a,b){re(ie(a),a,arguments,1)}function ve(a){for(var b;b=a.firstChild;)a.removeChild(b)}function we(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function xe(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function ye(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ze(a){return la(a)&&1==a.nodeType}function Ae(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function ie(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Be(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else ve(a),a.appendChild(ie(a).createTextNode(String(b)))}var Ce={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},De={IMG:" ",BR:"\n"};
function Ee(a){if(ce&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Fe(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");ce||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Fe(a,b,c){if(!(a.nodeName in Ce))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in De)b.push(De[a.nodeName]);else for(a=a.firstChild;a;)Fe(a,b,c),a=a.nextSibling}function se(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function Ge(a){return He(a,function(a){return"FORM"==a.nodeName&&!0})}
function He(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function he(a){this.ga=a||l.document||document}h=he.prototype;h.fd=function(a){return w(a)?this.ga.getElementById(a):a};h.Dd=ke;h.mh=function(a,b,c){return qe(this.ga,arguments)};h.createElement=function(a){return this.ga.createElement(a)};h.createTextNode=function(a){return this.ga.createTextNode(String(a))};function Ie(a){return"CSS1Compat"==a.ga.compatMode}
function Je(a){var b=a.ga;a=ne(b);b=oe(b);return L&&N("10")&&b.pageYOffset!=a.scrollTop?new U(a.scrollLeft,a.scrollTop):new U(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}h.appendChild=function(a,b){a.appendChild(b)};h.append=ue;h.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
h.dm=ve;h.removeNode=ye;h.contains=Ae;function Ke(a){if(a.classList)return a.classList;a=a.className;return w(a)&&a.match(/\S+/g)||[]}function Le(a,b){var c;a.classList?c=a.classList.contains(b):(c=Ke(a),c=0<=La(c,b));return c}function Me(a,b){a.classList?a.classList.add(b):Le(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Ne(a,b){if(a.classList)F(b,function(b){Me(a,b)});else{var c={};F(Ke(a),function(a){c[a]=!0});F(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Oe(a,b){a.classList?a.classList.remove(b):Le(a,b)&&(a.className=Ma(Ke(a),function(a){return a!=b}).join(" "))}function Pe(a,b){a.classList?F(b,function(b){Oe(a,b)}):a.className=Ma(Ke(a),function(a){return!(0<=La(b,a))}).join(" ")}function Qe(a,b,c){c?Me(a,b):Oe(a,b)};function Re(){S.call(this);this.lh=V("counties-list");this.Vg=V("application-panel");this.$j=V("county-detail-name");this.Zj=V("county-detail-hide");P(this.Zj,"click",function(a){this.ea&&Oe(this.ea.qd,"active");this.ea=null;Me(this.Vg,"no-county-detail");a.preventDefault()},!1,this);this.ml=V("map-list");this.ii="";var a=V("item-template");a&&(this.ii=a.innerHTML,ye(a));this.Ge=V("map-filter");this.ll=V("map-filter-clear");P(this.Ge,"input",function(){Te(this,this.Ge.value)},!1,this);P(this.ll,"click",
function(){Te(this,"")},!1,this);this.he=V("georeference-random");P(this.he,"click",function(a){Le(this.he,"disabled")||this.ea&&ae(this.he.href,this.ea.name,this.ea.id,"/random/public/georeference/json",void 0);a.preventDefault()},!1,this);this.hf=V("transcribe-random");P(this.hf,"click",function(a){Le(this.hf,"disabled")||this.ea&&ae(this.hf.href,this.ea.name,this.ea.id,"/supplement/random/public/transcription/json",!0);a.preventDefault()},!1,this);this.ya=[];this.bg=this.ea=null;this.sd=[];Ue(this);
this.gc="all";a=C(function(a){P(V("map-filter-"+a),"click",function(){Te(this,"");Ve(this,a)},!1,this)},this);a("all");a("scanned");a("notgeorefed");a("nottransed");a("notfin");this.$l={Ag:V("progress-maps-reviewed-bar"),Rf:V("progress-maps-edited-bar"),cj:V("progress-maps-rest-bar"),zg:V("progress-maps-reviewed"),Qf:V("progress-maps-edited"),total:V("progress-maps-total")};this.am={Ag:V("progress-sheets-reviewed-bar"),Rf:V("progress-sheets-edited-bar"),cj:V("progress-sheets-rest-bar"),zg:V("progress-sheets-reviewed"),
Qf:V("progress-sheets-edited"),total:V("progress-sheets-total")};this.sj=V("stats-gcp-count");this.tj=V("stats-label-count")}D(Re,S);
function Ue(a){if(a.lh){var b=je("LI",a.lh);F(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=je("A",a)[0],f=Ee(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),k=null;w(g)&&(g=g.split(","),k=[parseFloat(g[1]),parseFloat(g[0])]);this.ya.push({name:f,id:b,center:k,anchor:e,qd:a});P(e,"click",function(a){We(this,f);a.preventDefault()},!1,this)}}},a)}}
function Xe(a,b){a.bg&&Oe(a.bg.qd,"highlighted");if(b){var c=Qa(a.ya,function(a){return a.name==b});c&&(Me(c.qd,"highlighted"),a.bg=c)}}
function We(a,b,c){if(a.ea&&a.ea.name==b)c&&c();else{var d=Qa(a.ya,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new Md(new bd);P(f,"complete",function(){if(Yd(f)){var a=Zd(f);Ye(this,a);c&&c()}},!1,a);f.send(e);Be(a.sj,"...");Be(a.tj,"...");var e="http://cynefin.georeferencer.com/collection/"+d.id+"/stats.json",g=new Md(new bd);P(g,"complete",function(){if(Yd(g)){var a=Zd(g).map,b=a.supplement,c=(b.products||{}).transcription||{};
Ze(this,!0,(c["impossible-reviewed"]||0)+(c["finished-reviewed"]||0),c.touched||0,b.objects||0);b=a.components.label+b.components.label;Be(this.sj,a.components.gcp.toString());Be(this.tj,b.toString())}},!1,a);g.send(e);Be(a.$j,b);Oe(a.Vg,"no-county-detail");Ze(a,!1,0,0,0);Ze(a,!0,0,0,0);a.ea&&Oe(a.ea.qd,"active");Me(d.qd,"active");a.ea=d;a.dispatchEvent({type:"opened",qn:b,center:d.center})}}}
function $e(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",$d(b));null===b.thumbnail_url&&c("no_thumbnail","\x26nbsp;");return a}
function Ye(a,b){function c(a,b){Be(V("map-count-"+a),b)}F(a.sd,function(a){F(a.keys,Q);ye(a.node)});a.sd=[];Te(a,"");Ve(a,"all");var d=0,e=0,f=0,g=0,k=0,m=0,n=0,p=!1,r=!1;F(b,function(a){var b;var c=$e(this.ii,a),q=document;b=q.createElement("div");L?(b.innerHTML="\x3cbr\x3e"+c,b.removeChild(b.firstChild)):b.innerHTML=c;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(c=q.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b=c}b=b.firstElementChild;this.ml.appendChild(b);
var x=a.georeference_status,c=null!=a.thumbnail_url,q=null!=a.visualize_url,u;if(u=x)u=x.length-9,u=0<=u&&x.indexOf("-reviewed",u)==u;var z=c&&!q,x=null===x||"fresh"==x;p=p||null!=a.georeference_url;r=r||null!=a.transcription_url;d++;c&&e++;q&&f++;u&&g++;z&&k++;m++;x&&n++;this.sd.push({title:af(a.title),Pl:a.identifier,node:b,keys:[],km:c,Jl:z,Kl:!0,Il:x})},a);c("all",d);c("scanned",e);c("notgeorefed",k);c("nottransed",m);c("notfin",n);W(V("map-filter-scanned-block"),d!=e);Qe(a.he,"disabled",!p);
Qe(a.hf,"disabled",!r);Ze(a,!1,g,f,d)}function Ze(a,b,c,d,e){a=b?a.am:a.$l;Be(a.zg,c);Be(a.Qf,d);Be(a.total,e);b=100*c/e||0;e=100*d/e||0;a.Ag.style.width=b+"%";a.Rf.style.width=e-b+"%";a.cj.style.width=100-e+"%";e=0<c;c=!e||d>c;W(a.zg,e);W(a.Ag,e);W(a.Qf,c);W(a.Rf,c)}function Te(a,b){a.Ge.value=b;bf(a)}function Ve(a,b){Oe(V("map-filter-"+a.gc),"active");Me(V("map-filter-"+b),"active");a.gc=b;bf(a)}
function bf(a){var b=af(a.Ge.value).split(" or ");F(a.sd,function(a){var d=!("all"==this.gc||"scanned"==this.gc&&a.km||"notgeorefed"==this.gc&&a.Jl||"nottransed"==this.gc&&a.Kl||"notfin"==this.gc&&a.Il)||Pa(b,function(b){return-1==a.title.indexOf(b)});Qe(a.node,"filtered",d)},a)}function cf(a,b){var c="";F(a.sd,function(a){0<=La(a.Pl.split("|"),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);Te(a,c)}
function af(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function df(a,b,c){S.call(this);this.Cb=a;this.Ad=c;this.ja=b;P(b,[ef,ff,gf,hf],this.handleEvent,!1,this);this.Ia=null;this.I=[];this.zb=-1;this.Z=0;this.Mb=this.C=null;this.ei={}}D(df,S);h=df.prototype;h.rl=10;h.Uj=!0;h.Ug=!1;h.Pj=!1;h.Cj=!1;var ef="hilite",ff="select",hf="dismiss",gf="canceldismiss";h=df.prototype;
h.handleEvent=function(a){var b=this.Cb;if(a.target==this.ja)switch(a.type){case ef:this.kb(a.Wa);break;case ff:var c=!1;if(ja(a.Wa)){a=a.Wa;var d=this.I[jf(this,a)],c=!!d&&b.gg&&b.gg(d);d&&!c&&this.zb!=a&&this.kb(a)}c||kf(this);break;case gf:lf(this);break;case hf:mf(this)}};h.Hg=function(a){this.Ia!=a&&(this.Ia=a,nf(this.Cb,this.Ia,this.rl,C(this.nl,this)),lf(this))};h.ub=function(){return this.C};h.Gg=function(a){this.C=a};
function of(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>=a.Z&&c<b)c++;else if(-1==c)c=a.Z;else if(a.Ug&&c==b){a.kb(-1);break}else if(a.Pj&&c==b)c=a.Z;else break;if(a.kb(c))break}}function pf(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>a.Z)c--;else if(a.Ug&&c==a.Z){a.kb(-1);break}else if(!a.Pj||-1!=c&&c!=a.Z)break;else c=b;if(a.kb(c))break}}h.kb=function(a){var b=jf(this,a),c=this.I[b];return c&&this.Cb.gg&&this.Cb.gg(c)?!1:(this.zb=a,this.ja.kb(a),-1!=b)};
function kf(a){var b=jf(a,a.zb);if(-1!=b){var c=a.I[b],d=a.Ad;if(d.h){var e=c.toString();if(s(void 0)?0:d.Dc){var f=qf(d,d.h.value,rf(d.h)),g=sf(d,d.h.value);d.lm.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.ak);d.Ym&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.h;(Gb||L&&N("9"))&&e.blur();e.value=g.join("");for(var k=0,m=0;m<=f;m++)k+=g[m].length;e.focus();f=k;g=d.h;e=f;tf(g)?g.selectionStart=e:L&&(k=uf(g),m=k[0],m.inRange(k[1])&&(e=vf(g,e),m.collapse(!0),
m.move("character",e),m.select()));g=d.h;tf(g)?g.selectionEnd=f:L&&(k=uf(g),e=k[1],k[0].inRange(e)&&(f=vf(g,f),g=vf(g,rf(g)),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.h.value=e;d.Cg=!0}a.Cj?(a.Ia=null,mf(a)):a.Na();a.dispatchEvent({type:"update",Wa:c,index:b});a.Cj&&a.Ad.update(!0);return!0}a.Na();a.dispatchEvent({type:"update",Wa:null,index:null});return!1}
h.Na=function(){this.zb=-1;this.Ia=null;this.Z+=this.I.length;this.I=[];window.clearTimeout(this.Mb);this.Mb=null;this.ja.Na();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(hf)};function mf(a){a.Mb||(a.Mb=window.setTimeout(C(a.Na,a),100))}h.di=function(){return this.Mb?(window.clearTimeout(this.Mb),this.Mb=null,!0):!1};function lf(a){a.di()||window.setTimeout(C(a.di,a),10)}h.c=function(){df.g.c.call(this);delete this.ei;this.ja.eb();this.Ad.eb();this.Cb=null};
h.nl=function(a,b,c){this.Ia==a&&this.wg(b,c)};h.wg=function(a,b){var c="object"==ga(b)&&b,d=(c?c.An():b)?jf(this,this.zb):-1;this.Z+=this.I.length;this.I=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.Z+f,data:a[f]});f=null;this.C&&(f=this.ei[B(this.C)]||this.C);this.ja.Sj=f;this.ja.wg(e,this.Ia,this.C);f=this.Uj;c&&void 0!==c.mk()&&(f=c.mk());this.zb=-1;(f||0<=d)&&0!=e.length&&this.Ia&&(0<=d?this.kb(this.Z+d):of(this));this.dispatchEvent("suggestionsupdate")};
function jf(a,b){var c=b-a.Z;return 0>c||c>=a.I.length?-1:c}h.xf=function(a){var b=this.Ad;b.xf.apply(b,arguments)};h.update=function(a){this.Ad.update(a)};var wf;function xf(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function yf(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(wf||(wf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=wf,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function zf(a,b){var c="";b&&(c=b.id);yf(a,"activedescendant",c)};function rf(a){var b;a:{var c=0,d=0;if(tf(a))c=a.selectionStart,d=-1;else if(L){var e=uf(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function uf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function vf(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function tf(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Af(a){oc.call(this);this.xb=a;this.p={}}D(Af,oc);var Bf=[];h=Af.prototype;h.pa=function(a,b,c,d){ha(b)||(b&&(Bf[0]=b.toString()),b=Bf);for(var e=0;e<b.length;e++){var f=P(a,b[e],c||this.handleEvent,d||!1,this.xb||this);if(!f)break;this.p[f.key]=f}return this};h.og=function(a,b,c,d){return Cf(this,a,b,c,d)};function Cf(a,b,c,d,e,f){if(ha(c))for(var g=0;g<c.length;g++)Cf(a,b,c[g],d,e,f);else{b=Sc(b,c,d||a.handleEvent,e,f||a.xb||a);if(!b)return a;a.p[b.key]=b}return a}
h.Ya=function(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)this.Ya(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.xb||this,c=Mc(c),d=!!d,b=Cc(a)?a.jd(b,c,d,e):a?(a=Oc(a))?a.jd(b,c,d,e):null:null,b&&(Q(b),delete this.p[b.key]);return this};h.Ve=function(){Za(this.p,Q);this.p={}};h.c=function(){Af.g.c.call(this);this.Ve()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Df(a,b,c,d,e){if(!(L||M&&N("525")))return!0;if(Bb&&e)return Ef(a);if(e&&!d)return!1;ja(b)&&(b=Ff(b));if(!c&&(17==b||18==b||Bb&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(L&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!M}return Ef(a)}
function Ef(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Ff(a){if(Gb)a=Gf(a);else if(Bb&&M)a:switch(a){case 93:a=91;break a}return a}
function Gf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Hf(a,b){S.call(this);a&&If(this,a,b)}D(Hf,S);h=Hf.prototype;h.a=null;h.xe=null;h.hg=null;h.ye=null;h.oa=-1;h.Ab=-1;h.uf=!1;
var Jf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Kf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Lf=L||M&&N("525"),Mf=Bb&&Gb;h=Hf.prototype;
h.uk=function(a){M&&(17==this.oa&&!a.ctrlKey||18==this.oa&&!a.altKey||Bb&&91==this.oa&&!a.metaKey)&&(this.Ab=this.oa=-1);-1==this.oa&&(a.ctrlKey&&17!=a.keyCode?this.oa=17:a.altKey&&18!=a.keyCode?this.oa=18:a.metaKey&&91!=a.keyCode&&(this.oa=91));Lf&&!Df(a.keyCode,this.oa,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ab=Ff(a.keyCode),Mf&&(this.uf=a.altKey))};h.wk=function(a){this.Ab=this.oa=-1;this.uf=a.altKey};
h.handleEvent=function(a){var b=a.l,c,d,e=b.altKey;L&&"keypress"==a.type?(c=this.Ab,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Ab,d=0<=b.charCode&&63232>b.charCode&&Ef(c)?b.charCode:0):Fb?(c=this.Ab,d=Ef(c)?b.keyCode:0):(c=b.keyCode||this.Ab,d=b.charCode||0,Mf&&(e=this.uf),Bb&&63==d&&224==c&&(c=191));var f=c=Ff(c),g=b.keyIdentifier;c?63232<=c&&c in Jf?f=Jf[c]:25==c&&a.shiftKey&&(f=9):g&&g in Kf&&(f=Kf[g]);a=f==this.oa;this.oa=f;b=new Nf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
h.fd=function(){return this.a};function If(a,b,c){a.ye&&a.detach();a.a=b;a.xe=P(a.a,"keypress",a,c);a.hg=P(a.a,"keydown",a.uk,c,a);a.ye=P(a.a,"keyup",a.wk,c,a)}h.detach=function(){this.xe&&(Q(this.xe),Q(this.hg),Q(this.ye),this.ye=this.hg=this.xe=null);this.a=null;this.Ab=this.oa=-1};h.c=function(){Hf.g.c.call(this);this.detach()};function Nf(a,b,c,d){yc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(Nf,yc);var Of,Pf;Pf=Of=!1;var Qf=xb;Qf&&(-1!=Qf.indexOf("Firefox")||-1!=Qf.indexOf("Camino")||(-1!=Qf.indexOf("iPhone")||-1!=Qf.indexOf("iPod")?Of=!0:-1!=Qf.indexOf("iPad")&&(Pf=!0)));var Rf=Of,Sf=Pf;function Tf(a,b,c,d){oc.call(this);d=d||150;this.Dc=null!=c?c:!0;this.Bd=a||",;";this.ak=this.Bd.substring(0,1);a=this.Dc?"[\\s"+this.Bd+"]+":"[\\s]+";this.Dj=new RegExp("^"+a+"|"+a+"$","g");this.lm=new RegExp("\\s*["+this.Bd+"]$");this.ti=b||"";this.Zl=!1;this.Yl=this.Dc;this.r=0<d?new Id(d):null;this.R=new Af(this);this.sf=new Af(this);this.Ua=new Hf;this.mi=-1}D(Tf,oc);var Uf=(Rf||Sf)&&!N("533.17.9");h=Tf.prototype;h.Ym=!0;h.lk=!0;h.Mj=!1;h.nm=!0;h.mm=!0;h.tf=null;h.h=null;h.mg="";h.Hb=!1;
h.Cg=!1;h.Kj=!0;h.xf=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];ze(c)&&yf(c,"haspopup",!0);this.R.pa(c,"focus",this.Rh);this.R.pa(c,"blur",this.qk);if(!this.h&&(this.sf.pa(c,"keydown",this.Ll),ze(c))){var d;a:{var e=ie(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&Vf(this,c)}}};h.c=function(){Tf.g.c.call(this);null!=this.tf&&window.clearTimeout(this.tf);this.R.eb();delete this.R;this.sf.eb();this.Ua.eb();sc(this.r)};
function Wf(a){a.r?a.r.setInterval(300):a.r=new Id(300)}
function Xf(a,b){switch(b.keyCode){case 40:if(a.w.ja.Za){a.Mj?pf(a.w):of(a.w);b.preventDefault();return}if(!a.Dc){a.update(!0);b.preventDefault();return}break;case 38:if(a.w.ja.Za){a.Mj?of(a.w):pf(a.w);b.preventDefault();return}break;case 9:if(!a.w.ja.Za||b.shiftKey||a.Zl)a.w.Na();else if(a.update(),kf(a.w)&&a.Yl){b.preventDefault();return}break;case 13:if(a.w.ja.Za){if(a.update(),kf(a.w)){b.preventDefault();b.stopPropagation();return}}else a.w.Na();break;case 27:if(a.w.ja.Za){a.w.Na();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.Hb){a.Hb||(a.R.pa(a.h,"keyup",a.Hi),a.R.pa(a.h,"keypress",a.Gi),a.Hb=!0);return}break;default:a.r&&!a.Kj&&(a.r.stop(),a.r.start())}Yf(a,b)}function Yf(a,b){var c=a.Dc&&b.charCode&&-1!=a.Bd.indexOf(String.fromCharCode(b.charCode));a.nm&&c&&a.update();a.mm&&c&&kf(a.w)&&b.preventDefault()}h.vk=function(){return!1};h.Rh=function(a){Vf(this,a.target||null)};
function Vf(a,b){a.sf.Ve();a.w&&lf(a.w);b!=a.h&&(a.h=b,a.r&&(a.r.start(),a.R.pa(a.r,Jd,a.Mi)),a.mg=a.h.value,If(a.Ua,a.h),a.R.pa(a.Ua,"key",a.Ii),a.R.pa(a.h,"mousedown",a.Ji),L&&a.R.pa(a.h,"keypress",a.Fi))}h.qk=function(){Uf?this.tf=window.setTimeout(C(this.Ti,this),0):this.Ti()};
h.Ti=function(){this.h&&(this.R.Ya(this.Ua,"key",this.Ii),this.Ua.detach(),this.R.Ya(this.h,"keyup",this.vk),this.R.Ya(this.h,"mousedown",this.Ji),L&&this.R.Ya(this.h,"keypress",this.Fi),this.Hb&&Zf(this),this.h=null,this.r&&(this.r.stop(),this.R.Ya(this.r,Jd,this.Mi)),this.w&&mf(this.w))};h.Mi=function(){this.update()};h.Ll=function(a){this.Rh(a)};h.Ii=function(a){this.mi=a.keyCode;this.w&&Xf(this,a)};h.Gi=function(){this.Hb&&229!=this.mi&&Zf(this)};
h.Hi=function(a){this.Hb&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Zf(this)};h.Ji=function(){};function Zf(a){a.Hb&&(a.Hb=!1,a.R.Ya(a.h,"keypress",a.Gi),a.R.Ya(a.h,"keyup",a.Hi))}h.Fi=function(a){Yf(this,a)};h.update=function(a){if(this.h&&(a||this.h.value!=this.mg)){if(a||!this.Cg){a=rf(this.h);var b=this.h.value;a=sf(this,b)[qf(this,b,a)];a=this.Dj?String(a).replace(this.Dj,""):a;this.w&&(this.w.Gg(this.h),this.w.Hg(a,this.h.value))}this.mg=this.h.value}this.Cg=!1};
function qf(a,b,c){a=sf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}function sf(a,b){if(!a.Dc)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.ti&&-1!=a.ti.indexOf(c[f])?(a.lk&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.Bd.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function $f(){S.call(this);this.j=ag;this.endTime=this.startTime=null}D($f,S);var ag=0;$f.prototype.Yb=function(){this.Oa("begin")};$f.prototype.Ec=function(){this.Oa("end")};$f.prototype.Oa=function(a){this.dispatchEvent(a)};function bg(a,b,c){oc.call(this);this.rd=a;this.xb=c;this.$a=b||window;this.Sc=C(this.Nf,this)}D(bg,oc);h=bg.prototype;h.u=null;h.Qg=!1;h.start=function(){this.stop();this.Qg=!1;var a=cg(this),b=dg(this);a&&!b&&this.$a.mozRequestAnimationFrame?(this.u=P(this.$a,"MozBeforePaint",this.Sc),this.$a.mozRequestAnimationFrame(null),this.Qg=!0):this.u=a&&b?a.call(this.$a,this.Sc):this.$a.setTimeout(pb(this.Sc),20)};
h.stop=function(){if(this.Ac()){var a=cg(this),b=dg(this);a&&!b&&this.$a.mozRequestAnimationFrame?Q(this.u):a&&b?b.call(this.$a,this.u):this.$a.clearTimeout(this.u)}this.u=null};h.Ac=function(){return null!=this.u};h.Nf=function(){this.Qg&&this.u&&Q(this.u);this.u=null;this.rd.call(this.xb,ta())};h.c=function(){this.stop();bg.g.c.call(this)};
function cg(a){a=a.$a;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function dg(a){a=a.$a;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function eg(a,b,c){oc.call(this);this.rd=a;this.Vb=b||0;this.xb=c;this.Sc=C(this.Nf,this)}D(eg,oc);h=eg.prototype;h.u=0;h.c=function(){eg.g.c.call(this);this.stop();delete this.rd;delete this.xb};h.start=function(a){this.stop();this.u=Kd(this.Sc,s(a)?a:this.Vb)};h.stop=function(){this.Ac()&&l.clearTimeout(this.u);this.u=0};h.Ac=function(){return 0!=this.u};h.Nf=function(){this.u=0;this.rd&&this.rd.call(this.xb)};var fg={},gg=null;function hg(a){a=B(a);delete fg[a];db(fg)&&gg&&gg.stop()}function ig(){gg||(gg=new eg(function(){jg()},20));var a=gg;a.Ac()||a.start()}function jg(){var a=ta();Za(fg,function(b){kg(b,a)});db(fg)||ig()};function lg(a,b,c,d){$f.call(this);if(!ha(a)||!ha(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Gd=a;this.ek=b;this.duration=c;this.Rg=d;this.coords=[]}D(lg,$f);h=lg.prototype;h.wa=0;
h.play=function(a){if(a||this.j==ag)this.wa=0,this.coords=this.Gd;else if(1==this.j)return!1;hg(this);this.startTime=a=ta();-1==this.j&&(this.startTime-=this.duration*this.wa);this.endTime=this.startTime+this.duration;this.wa||this.Yb();this.Oa("play");-1==this.j&&this.Oa("resume");this.j=1;var b=B(this);b in fg||(fg[b]=this);ig();kg(this,a);return!0};h.stop=function(a){hg(this);this.j=ag;a&&(this.wa=1);mg(this,this.wa);this.Oa("stop");this.Ec()};
h.pause=function(){1==this.j&&(hg(this),this.j=-1,this.Oa("pause"))};h.c=function(){this.j==ag||this.stop(!1);this.Oa("destroy");lg.g.c.call(this)};function kg(a,b){a.wa=(b-a.startTime)/(a.endTime-a.startTime);1<=a.wa&&(a.wa=1);mg(a,a.wa);1==a.wa?(a.j=ag,hg(a),a.Oa("finish"),a.Ec()):1==a.j&&a.rg()}function mg(a,b){ka(a.Rg)&&(b=a.Rg(b));a.coords=Array(a.Gd.length);for(var c=0;c<a.Gd.length;c++)a.coords[c]=(a.ek[c]-a.Gd[c])*b+a.Gd[c]}h.rg=function(){this.Oa("animate")};
h.Oa=function(a){this.dispatchEvent(new ng(a,this))};function ng(a,b){tc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.wa=b.wa;this.state=b.j}D(ng,tc);function og(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}h=og.prototype;h.vb=function(){return this.right-this.left};h.ie=function(){return this.bottom-this.top};h.clone=function(){return new og(this.top,this.right,this.bottom,this.left)};h.contains=function(a){return this&&a?a instanceof og?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
h.expand=function(a,b,c,d){la(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};h.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};h.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
h.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};h.translate=function(a,b){a instanceof U?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ja(b)&&(this.top+=b,this.bottom+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function pg(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}h=pg.prototype;h.clone=function(){return new pg(this.left,this.top,this.width,this.height)};h.hi=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
h.contains=function(a){return a instanceof pg?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function qg(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}h.distance=function(a){return Math.sqrt(qg(this,a))};h.T=function(){return new ee(this.width,this.height)};
h.na=function(){return new U(this.left+this.width/2,this.top+this.height/2)};h.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.translate=function(a,b){a instanceof U?(this.left+=a.x,this.top+=a.y):(this.left+=a,ja(b)&&(this.top+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function rg(a,b){var c=ie(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function sg(a,b){return rg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function tg(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}L&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ug(a){if(L&&!(L&&8<=Ob))return a.offsetParent;var b=ie(a),c=sg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=sg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function vg(a){for(var b=new og(0,Infinity,Infinity,0),c=ge(a),d=c.ga.body,e=c.ga.documentElement,f=ne(c.ga);a=ug(a);)if(!(L&&0==a.clientWidth||M&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=sg(a,"overflow")){var g=wg(a),k;k=a;if(Gb&&!N("1.9")){var m=parseFloat(rg(k,"borderLeftWidth"));if(xg(k))var n=k.offsetWidth-k.clientWidth-m-parseFloat(rg(k,"borderRightWidth")),m=m+n;k=new U(m,parseFloat(rg(k,"borderTopWidth")))}else k=new U(k.clientLeft,k.clientTop);g.x+=k.x;g.y+=k.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=me(oe(c.ga)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function wg(a){var b,c=ie(a),d=sg(a,"position"),e=Gb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new U(0,0),g;b=c?ie(c):document;g=!L||L&&9<=Ob||Ie(ge(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=tg(a),a=Je(ge(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(M&&"fixed"==sg(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Fb||M&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=ug(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,Fb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function yg(a){var b;if(a.getBoundingClientRect)b=tg(a),b=new U(b.left,b.top);else{b=Je(ge(a));var c=wg(a);b=new U(c.x-b.x,c.y-b.y)}if(Gb&&!N(12)){b:{c=Ia();if(void 0===a.style[c]&&(c=(M?"Webkit":Gb?"Moz":L?"ms":Fb?"O":null)+Ja(c),void 0!==a.style[c])){c=(M?"-webkit":Gb?"-moz":L?"-ms":Fb?"-o":null)+"-transform";break b}c="transform"}a=(a=sg(a,c)||sg(a,"transform"))?(a=a.match(zg))?new U(parseFloat(a[1]),parseFloat(a[2])):new U(0,0):new U(0,0);a=new U(b.x+a.x,b.y+a.y)}else a=b;return a}
function Ag(a){if(1==a.nodeType)return yg(a);var b=ka(a.nk),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.l.targetTouches&&a.l.targetTouches.length&&(c=a.l.targetTouches[0]);return new U(c.clientX,c.clientY)}function Bg(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Cg(a){var b=Dg;if("none"!=sg(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function Dg(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;return s(b)&&!d||!a.getBoundingClientRect?new ee(b,c):(a=tg(a),new ee(a.right-a.left,a.bottom-a.top))}function W(a,b){a.style.display=b?"":"none"}function xg(a){return"rtl"==sg(a,"direction")}
var Eg=Gb?"MozUserSelect":M?"WebkitUserSelect":null;function Fg(a){var b=a.getElementsByTagName("*");if(Eg){var c="none";a.style[Eg]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[Eg]=c}}else if(L||Fb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function Gg(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function Hg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Gg(a,c,"left","pixelLeft"):0}function Ig(a){if(L){var b=Hg(a,"paddingLeft"),c=Hg(a,"paddingRight"),d=Hg(a,"paddingTop");a=Hg(a,"paddingBottom");return new og(d,c,a,b)}b=rg(a,"paddingLeft");c=rg(a,"paddingRight");d=rg(a,"paddingTop");a=rg(a,"paddingBottom");return new og(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Jg={thin:2,medium:4,thick:6};
function Kg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Jg?Jg[c]:Gg(a,c,"left","pixelLeft")}
function Lg(a){if(L&&!(L&&9<=Ob)){var b=Kg(a,"borderLeft"),c=Kg(a,"borderRight"),d=Kg(a,"borderTop");a=Kg(a,"borderBottom");return new og(d,c,a,b)}b=rg(a,"borderLeftWidth");c=rg(a,"borderRightWidth");d=rg(a,"borderTopWidth");a=rg(a,"borderBottomWidth");return new og(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var zg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Mg(a,b,c,d,e){lg.call(this,b,c,d,e);this.element=a}D(Mg,lg);Mg.prototype.mf=ea;Mg.prototype.rg=function(){this.mf();Mg.g.rg.call(this)};Mg.prototype.Ec=function(){this.mf();Mg.g.Ec.call(this)};Mg.prototype.Yb=function(){this.mf();Mg.g.Yb.call(this)};function Ng(a,b,c,d,e){ja(b)&&(b=[b]);ja(c)&&(c=[c]);Mg.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(Ng,Mg);
Ng.prototype.mf=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};Ng.prototype.show=function(){this.element.style.display=""};function Og(a,b,c){Ng.call(this,a,1,0,b,c)}D(Og,Ng);Og.prototype.Yb=function(){this.show();Og.g.Yb.call(this)};Og.prototype.Ec=function(){this.element.style.display="none";Og.g.Ec.call(this)};function Pg(a,b,c){Ng.call(this,a,0,1,b,c)}D(Pg,Ng);
Pg.prototype.Yb=function(){this.show();Pg.g.Yb.call(this)};function Qg(a,b){return(b&4&&xg(a)?b^2:b)&-5};function Rg(){}fa(Rg);Rg.prototype.Ai=0;function Sg(a,b,c,d){S.call(this);this.aa=a||document.body;this.Pa=ge(this.aa);this.im=!a;this.a=null;this.Ia="";this.I=[];this.ec=[];this.rj=this.se=-1;this.Za=!1;this.className="ac-renderer";this.Bg="ac-row";this.oi="active";this.Sg="ac-active";this.Yk="ac-highlighted";this.pc=b||null;this.Um=null!=d?d:!0;this.ol=!0;this.re=!1;this.jm=!!c;this.ff=!1;this.Ke=0;this.qj=!1}D(Sg,S);h=Sg.prototype;h.fd=function(){return this.a};
h.wg=function(a,b,c){this.Ia=b;this.I=a;this.se=-1;this.rj=ta();this.C=c;this.ec=[];Tg(this)};h.Na=function(){this.C&&zf(this.C,null);this.Za&&(this.Za=!1,this.C&&yf(this.C,"haspopup",!1),0<this.Ke?(sc(this.nc),this.nc=new Og(this.a,this.Ke),this.nc.play()):W(this.a,!1))};h.show=function(){this.Za||(this.Za=!0,this.C&&(xf(this.C,"combobox"),yf(this.C,"autocomplete","list"),yf(this.C,"haspopup",!0)),0<this.Ke?(sc(this.nc),this.nc=new Pg(this.a,this.Ke),this.nc.play()):W(this.a,!0))};
function Ug(a,b){var c=0<=b&&b<a.I.length?a.I[b]:void 0,d=0<=b&&b<a.ec.length?a.ec[b]:void 0;if(a.dispatchEvent({type:"rowhilite",En:d,Wa:c?c.data:null})&&(0<=a.se&&Pe(a.ec[a.se],[a.Sg,a.oi]),a.se=b,d)){Ne(d,[a.Sg,a.oi]);a.C&&zf(a.C,d);var c=a.a,e=wg(d),f=wg(c),g=Lg(c),k=e.x-f.x-g.left,e=e.y-f.y-g.top,f=c.clientHeight-d.offsetHeight,g=c.scrollLeft,m=c.scrollTop,g=g+Math.min(k,Math.max(k-(c.clientWidth-d.offsetWidth),0)),m=m+Math.min(e,Math.max(e-f,0)),d=new U(g,m);c.scrollLeft=d.x;c.scrollTop=d.y}}
h.kb=function(a){if(-1==a)Ug(this,-1);else for(var b=0;b<this.I.length;b++)if(this.I[b].id==a){Ug(this,b);break}};function Vg(a){if(!a.a){var b=a.Pa.mh("div",{style:"display:none"});a.qj&&(b.style.overflowY="auto");a.a=b;Ne(b,wa(a.className).split(" "));xf(b,"listbox");b.id=":"+(Rg.hb().Ai++).toString(36);a.Pa.appendChild(a.aa,b);P(b,"click",a.ib,!1,a);P(b,"mousedown",a.Th,!1,a);P(b,"mouseover",a.Uh,!1,a)}}
function Tg(a){Vg(a);a.ff&&(a.a.style.visibility="hidden");a.Zm&&(a.a.style.minWidth=a.Zm.clientWidth+"px");a.ec.length=0;a.Pa.dm(a.a);if(a.pc&&a.pc.render)a.pc.render();else{var b=null;F(a.I,function(a){var d=this.Ia,e=this.Pa.mh("div",{className:this.Bg,id:":"+(Rg.hb().Ai++).toString(36)});xf(e,"option");this.pc&&this.pc.Wi?this.pc.Wi(a,d,e):Be(e,a.data.toString());d&&this.Um&&(this.Oj=!1,Wg(this,e,d));Me(e,this.Bg);this.ec.push(e);a=e;this.ff?this.a.insertBefore(a,b):this.Pa.appendChild(this.a,
a);b=a},a)}0==a.I.length?a.Na():(a.show(),Xg(a),Fg(a.a))}
function Xg(a){if(a.C&&a.im){var b=a.Sj||a.C,c,d=a.jm?3:1;a.ff&&(d^=1);c=d;var e=65;a.qj&&(a.a.style.height="",e|=32);var d=a.a,f=c^1,g,k;if(g=d.offsetParent){var m="HTML"==g.tagName||"BODY"==g.tagName;m&&"static"==sg(g,"position")||(k=wg(g),m||(m=(m=xg(g))&&Gb?-g.scrollLeft:!m||L&&N("8")||"visible"==sg(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,k=de(k,new U(m,g.scrollTop))))}g=k||new U;k=wg(b);m=Cg(b);k=new pg(k.x,k.y,m.width,m.height);if(m=vg(b)){var n=new pg(m.left,m.top,
m.right-m.left,m.bottom-m.top),m=Math.max(k.left,n.left),p=Math.min(k.left+k.width,n.left+n.width);if(m<=p){var r=Math.max(k.top,n.top),n=Math.min(k.top+k.height,n.top+n.height);r<=n&&(k.left=m,k.top=r,k.width=p-m,k.height=n-r)}}m=ge(b);r=ge(d);if(m.ga!=r.ga){var p=m.ga.body,r=oe(r.ga),n=new U(0,0),t;t=(t=ie(p))?oe(t):window;var y=p;do{var v=t==r?wg(y):yg(y);n.x+=v.x;n.y+=v.y}while(t&&t!=r&&(y=t.frameElement)&&(t=t.parent));p=de(n,wg(p));!L||L&&9<=Ob||Ie(m)||(p=de(p,Je(m)));k.left+=p.x;k.top+=p.y}var b=
Qg(b,c),b=new U(b&2?k.left+k.width:k.left,b&1?k.top+k.height:k.top),b=de(b,g),q;e&&(q=vg(d))&&(q.top-=g.y,q.right-=g.x,q.bottom-=g.y,q.left-=g.x);b=b.clone();g=Qg(d,f);f=Cg(d);c=f.clone();b=b.clone();c=c.clone();k=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(q?(g=b,k=c,m=0,65==(e&65)&&(g.x<q.left||g.x>=q.right)&&(e&=-2),132==(e&132)&&(g.y<q.top||g.y>=q.bottom)&&(e&=-5),g.x<q.left&&e&1&&(g.x=q.left,m|=1),g.x<q.left&&g.x+k.width>q.right&&e&16&&(k.width=Math.max(k.width-(g.x+k.width-q.right),
0),m|=4),g.x+k.width>q.right&&e&1&&(g.x=Math.max(q.right-k.width,q.left),m|=1),e&2&&(m=m|(g.x<q.left?16:0)|(g.x+k.width>q.right?32:0)),g.y<q.top&&e&4&&(g.y=q.top,m|=2),g.y<=q.top&&g.y+k.height<q.bottom&&e&32&&(k.height=Math.max(k.height-(q.top-g.y),0),g.y=q.top,m|=8),g.y>=q.top&&g.y+k.height>q.bottom&&e&32&&(k.height=Math.max(k.height-(g.y+k.height-q.bottom),0),m|=8),g.y+k.height>q.bottom&&e&4&&(g.y=Math.max(q.bottom-k.height,q.top),m|=2),e&8&&(m=m|(g.y<q.top?64:0)|(g.y+k.height>q.bottom?128:0)),
e=m):e=256,k=e);e=new pg(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;k&496||(c=new U(e.left,e.top),b=Gb&&(Bb||Jb)&&N("1.9"),c instanceof U?(q=c.x,c=c.y):(q=c,c=void 0),d.style.left=Bg(q,b),d.style.top=Bg(c,b),c=e.T(),fe(f,c)||(e=c,q=Ie(ge(ie(d))),!L||N("10")||q&&N("8")?(d=d.style,Gb?d.MozBoxSizing="border-box":M?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,q?(q=Ig(d),d=Lg(d),f.pixelWidth=
e.width-d.left-q.left-q.right-d.right,f.pixelHeight=e.height-d.top-q.top-q.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.ff&&(a.a.style.visibility="visible")}}h.ub=function(){return this.C};h.c=function(){this.a&&(Tc(this.a,"click",this.ib,!1,this),Tc(this.a,"mousedown",this.Th,!1,this),Tc(this.a,"mouseover",this.Uh,!1,this),this.Pa.removeNode(this.a),this.a=null,this.Za=!1);sc(this.nc);this.aa=null;Sg.g.c.call(this)};
function Wg(a,b,c){if(a.re||!a.Oj)if(3==b.nodeType){var d=null;ha(c)&&1<c.length&&!a.re&&(d=Va(c,1));c=Yg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.ol?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,k=f.exec(e),m=0;k;)m++,c.push(e.substring(g,k.index)),c.push(e.substring(k.index,f.lastIndex)),g=f.lastIndex,k=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.re?m:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.Pa.createElement("b"),g.className=a.Yk,a.Pa.appendChild(g,a.Pa.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.Pa.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Va(c,2*d).join("");a.Oj=!0}else d&&Wg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Wg(a,b,c),b=d}
function Yg(a,b){var c="";if(!b)return c;ha(b)&&(b=Ma(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.re?ha(b)?c=Na(b,Ga).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ga(c),c=c.replace(/ /g,"|")):ha(b)?c=0<b.length?Ga(b[0]):"":/^\W/.test(b)||(c=Ga(b));return c}function Zg(a,b){for(;b&&b!=a.a&&!Le(b,a.Bg);)b=b.parentNode;return b?La(a.ec,b):-1}h.ib=function(a){var b=Zg(this,a.target);0<=b&&this.dispatchEvent({type:ff,Wa:this.I[b].id});a.stopPropagation()};
h.Th=function(a){a.stopPropagation();a.preventDefault()};h.Uh=function(a){a=Zg(this,a.target);0<=a&&!(300>ta()-this.rj)&&this.dispatchEvent({type:ef,Wa:this.I[a].id})};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function $g(a,b){this.af=[];this.Di=a;this.nh=b||null;this.kd=this.rc=!1;this.pb=void 0;this.Ig=this.Vj=this.zf=!1;this.lf=0;this.aa=null;this.Bf=0}$g.prototype.cancel=function(a){if(this.rc)this.pb instanceof $g&&this.pb.cancel();else{if(this.aa){var b=this.aa;delete this.aa;a?b.cancel(a):(b.Bf--,0>=b.Bf&&b.cancel())}this.Di?this.Di.call(this.nh,this):this.Ig=!0;this.rc||(a=new ah,bh(this),ch(this,!1,a))}};$g.prototype.ih=function(a,b){this.zf=!1;ch(this,a,b)};
function ch(a,b,c){a.rc=!0;a.pb=c;a.kd=!b;dh(a)}function bh(a){if(a.rc){if(!a.Ig)throw new eh;a.Ig=!1}}function fh(a,b,c,d){a.af.push([b,c,d]);a.rc&&dh(a)}$g.prototype.then=function(a,b,c){var d,e,f=new sd(function(a,b){d=a;e=b});fh(this,d,function(a){a instanceof ah?f.cancel():e(a)});return f.then(a,b,c)};ed($g);function gh(a){return Oa(a.af,function(a){return ka(a[1])})}
function dh(a){if(a.lf&&a.rc&&gh(a)){var b=a.lf,c=hh[b];c&&(l.clearTimeout(c.u),delete hh[b]);a.lf=0}a.aa&&(a.aa.Bf--,delete a.aa);for(var b=a.pb,d=c=!1;a.af.length&&!a.zf;){var e=a.af.shift(),f=e[0],g=e[1],e=e[2];if(f=a.kd?g:f)try{var k=f.call(e||a.nh,b);s(k)&&(a.kd=a.kd&&(k==b||k instanceof Error),a.pb=b=k);fd(b)&&(d=!0,a.zf=!0)}catch(m){b=m,a.kd=!0,gh(a)||(c=!0)}}a.pb=b;d&&(k=C(a.ih,a,!0),d=C(a.ih,a,!1),b instanceof $g?(fh(b,k,d),b.Vj=!0):b.then(k,d));c&&(b=new ih(b),hh[b.u]=b,a.lf=b.u)}
function eh(){ua.call(this)}D(eh,ua);eh.prototype.message="Deferred has already fired";eh.prototype.name="AlreadyCalledError";function ah(){ua.call(this)}D(ah,ua);ah.prototype.message="Deferred was canceled";ah.prototype.name="CanceledError";function ih(a){this.u=l.setTimeout(C(this.Fm,this),0);this.ce=a}ih.prototype.Fm=function(){delete hh[this.u];throw this.ce;};var hh={};function jh(a,b){var c=b||{},d=c.document||document,e=te("SCRIPT"),f={hj:e,hc:void 0},g=new $g(kh,f),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){lh(e,!0);var b=new nh(oh,"Timeout reached for loading script "+a);bh(g);ch(g,!1,b)},m),f.hc=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(lh(e,c.Xj||!1,k),bh(g),ch(g,!0,null))};e.onerror=function(){lh(e,!0,k);var b=new nh(ph,"Error while loading script "+a);bh(g);
ch(g,!1,b)};ke(e,{type:"text/javascript",charset:"UTF-8",src:a});qh(d).appendChild(e);return g}function qh(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function kh(){if(this&&this.hj){var a=this.hj;a&&"SCRIPT"==a.tagName&&lh(a,!0,this.hc)}}function lh(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){ye(a)},0)}var ph=0,oh=1;
function nh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);ua.call(this,c);this.code=a}D(nh,ua);function rh(a,b){this.Rm=new Tb(a);this.Wj=b?b:"callback";this.hc=5E3}var sh=0;rh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(sh++).toString(36)+ta().toString(36);l._callbacks_||(l._callbacks_={});var e=this.Rm.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||gc(e,f,a[f]);b&&(l._callbacks_[d]=th(d,b),gc(e,this.Wj,"_callbacks_."+d));b=jh(e.toString(),{timeout:this.hc,Xj:!0});fh(b,null,uh(d,a,c),void 0);return{u:d,ph:b}};
rh.prototype.cancel=function(a){a&&(a.ph&&a.ph.cancel(),a.u&&vh(a.u,!1))};function uh(a,b,c){return function(){vh(a,!1);c&&c(b)}}function th(a,b){return function(c){vh(a,!0);b.apply(void 0,arguments)}}function vh(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ea)};function wh(a,b,c){this.Sm=a||"http://open.mapquestapi.com/nominatim/v1/search";this.ac=b||{};if(this.kc=c||null)this.ac.viewboxlbrt=this.kc.join(","),this.ac.bounded=1;this.ji=new rh(this.Sm,"json_callback")}
function nf(a,b,c,d){a.ac.q=b;a.ac.format="json";a.ac.addressdetails=1;a.ac.limit=c;b&&1!=b.length?(null!==a.Zi&&a.ji.cancel(a.Zi),a.Zi=a.ji.send(a.ac,C(function(a){var c=Ma(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),g=Ma(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]}),k=C(function(a){var b=[];F(a,function(a){var c=a.boundingbox,c=c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:
null;this.kc&&c&&(this.kc[0]>c[2]||this.kc[1]>c[3]||this.kc[2]<c[0]||this.kc[3]<c[1])||b.push({formatted_address:a.display_name,type:a.type,bounds:c,lat:parseFloat(a.lat),lon:parseFloat(a.lon),viewport:null})},this);return b},this);0<c.length?(F(c,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;
if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,k(Sa(c,g)))):d(b,k(a))},a))):d(b,[])};function xh(a,b,c,d){var e=new Sg(null,{Wi:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.Cb=new wh(b,c,d);b=new Tf(null,null,!1);Wf(b);b.Kj=!1;b.w=this;b.xf(a);df.call(this,this.Cb,e,b);this.pa("update",function(b){b.Wa&&(a.value=b.Wa.formatted_address)})}D(xh,df);xh.prototype.search=function(a,b,c){nf(this.Cb,a,b,c)};xh.prototype.Hg=function(a,b){this.Na();xh.g.Hg.call(this,a,b)};function yh(){this.Ui=ta()}new yh;yh.prototype.set=function(a){this.Ui=a};yh.prototype.reset=function(){this.set(ta())};yh.prototype.get=function(){return this.Ui};function zh(a){S.call(this);this.Qd=a||window;this.De=P(this.Qd,"resize",this.Ok,!1,this);this.Oc=me(this.Qd||window)}D(zh,S);h=zh.prototype;h.De=null;h.Qd=null;h.Oc=null;h.T=function(){return this.Oc?this.Oc.clone():null};h.c=function(){zh.g.c.call(this);this.De&&(Q(this.De),this.De=null);this.Oc=this.Qd=null};h.Ok=function(){var a=me(this.Qd||window);fe(a,this.Oc)||(this.Oc=a,this.dispatchEvent("resize"))};function Ah(a,b){S.call(this);this.a=a;var c=ze(this.a)?this.a:this.a?this.a.body:null;this.fl=!!c&&xg(c);this.si=P(this.a,vc,this,b)}D(Ah,S);
Ah.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.l;if("mousewheel"==a.type){c=1;if(L||M&&(Cb||N("532.0")))c=40;d=Bh(-a.wheelDelta,c);s(a.wheelDeltaX)?(b=Bh(-a.wheelDeltaX,c),c=Bh(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),s(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.wi)&&(b=rb(b,-this.wi,this.wi));ja(this.xi)&&(c=rb(c,-this.xi,this.xi));this.fl&&(b=-b);b=new Ch(d,a,b,c);this.dispatchEvent(b)};function Bh(a,b){return M&&(Bb||Db)&&0!=a%b?a:a/b}
Ah.prototype.c=function(){Ah.g.c.call(this);Q(this.si);this.si=null};function Ch(a,b,c,d){yc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}D(Ch,yc);function Dh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Dh.prototype.BYTES_PER_ELEMENT=4;Dh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Dh.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Dh.BYTES_PER_ELEMENT=4,Dh.prototype.BYTES_PER_ELEMENT=Dh.prototype.BYTES_PER_ELEMENT,Dh.prototype.set=Dh.prototype.set,Dh.prototype.toString=Dh.prototype.toString,da("Float32Array",Dh));function Eh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Eh.prototype.BYTES_PER_ELEMENT=8;Eh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Eh.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Eh.BYTES_PER_ELEMENT=8}catch(Fh){}Eh.prototype.BYTES_PER_ELEMENT=Eh.prototype.BYTES_PER_ELEMENT;Eh.prototype.set=Eh.prototype.set;Eh.prototype.toString=Eh.prototype.toString;da("Float64Array",Eh)};function Gh(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Hh(){var a=Array(16);Ih(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Jh(){var a=Array(16);Ih(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Ih(a,b,c,d,e,f,g,k,m,n,p,r,t,y,v,q,x){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=k;a[7]=m;a[8]=n;a[9]=p;a[10]=r;a[11]=t;a[12]=y;a[13]=v;a[14]=q;a[15]=x}function Kh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Lh(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],k=a[4],m=a[5],n=a[6],p=a[7],r=a[8],t=a[9],y=a[10],v=a[11],q=a[12],x=a[13],u=a[14];a=a[15];var z=b[0],A=b[1],G=b[2],E=b[3],J=b[4],ba=b[5],K=b[6],ca=b[7],T=b[8],H=b[9],R=b[10],O=b[11],xa=b[12],oa=b[13],ra=b[14];b=b[15];c[0]=d*z+k*A+r*G+q*E;c[1]=e*z+m*A+t*G+x*E;c[2]=f*z+n*A+y*G+u*E;c[3]=g*z+p*A+v*G+a*E;c[4]=d*J+k*ba+r*K+q*ca;c[5]=e*J+m*ba+t*K+x*ca;c[6]=f*J+n*ba+y*K+u*ca;c[7]=g*J+p*ba+v*K+a*ca;c[8]=d*T+k*H+r*R+q*O;c[9]=e*T+m*H+t*R+x*O;c[10]=f*T+n*H+y*
R+u*O;c[11]=g*T+p*H+v*R+a*O;c[12]=d*xa+k*oa+r*ra+q*b;c[13]=e*xa+m*oa+t*ra+x*b;c[14]=f*xa+n*oa+y*ra+u*b;c[15]=g*xa+p*oa+v*ra+a*b}function Mh(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Nh(a,b,c){Ih(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Oh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],m=a[6],n=a[7],p=Math.cos(b),r=Math.sin(b);a[0]=c*p+g*r;a[1]=d*p+k*r;a[2]=e*p+m*r;a[3]=f*p+n*r;a[4]=c*-r+g*p;a[5]=d*-r+k*p;a[6]=e*-r+m*p;a[7]=f*-r+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function Ph(){S.call(this);this.Fa=0}D(Ph,S);Ph.prototype.X=function(){++this.Fa;this.dispatchEvent("change")};function Qh(a,b,c,d){P(a,b,c,!1,d)}function Rh(a,b,c){Sc(a,"postrender",b,!1,c)};function Sh(a,b){tc.call(this,a);this.key=b}D(Sh,tc);function Th(a){Ph.call(this);B(this);this.Qc={};this.rf={};s(a)&&this.Dd(a)}D(Th,Ph);var Uh={},Vh={},Wh={};function Xh(a){return Uh.hasOwnProperty(a)?Uh[a]:Uh[a]="change:"+a}Th.prototype.get=function(a){var b,c=this.rf;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Dm,d=Vh.hasOwnProperty(c)?Vh[c]:Vh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=I(b,d);b=s(d)?d.call(b):b.get(c);b=a.Fn(b)}else this.Qc.hasOwnProperty(a)&&(b=this.Qc[a]);return b};
Th.prototype.Sa=function(){var a=this.rf,b;if(db(this.Qc)){if(db(a))return[];b=a}else if(db(a))b=this.Qc;else{b={};for(var c in this.Qc)b[c]=!0;for(c in a)b[c]=!0}return cb(b)};
Th.prototype.set=function(a,b){this.dispatchEvent(new Sh("beforepropertychange",a));var c=this.rf;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.Dm;b=d.rn(b);d=Wh.hasOwnProperty(e)?Wh[e]:Wh[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=I(c,d);s(d)?d.call(c,b):c.set(e,b)}else this.Qc[a]=b,c=Xh(a),this.dispatchEvent(c),this.dispatchEvent(new Sh("propertychange",a))};Th.prototype.Dd=function(a){for(var b in a)this.set(b,a[b])};function Yh(a,b,c){tc.call(this,a,c);this.element=b}D(Yh,tc);function Zh(a){Th.call(this);this.bb=a||[];$h(this)}D(Zh,Th);h=Zh.prototype;h.clear=function(){for(;0<this.get("length");)this.pop()};h.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};h.forEach=function(a,b){F(this.bb,a,b)};h.dd=function(){return this.bb};h.item=function(a){return this.bb[a]};h.pop=function(){return ai(this,this.get("length")-1)};
h.push=function(a){var b=this.bb.length;Ua(this.bb,b,0,a);$h(this);this.dispatchEvent(new Yh("add",a,this));return b};h.remove=function(a){var b=this.bb,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return ai(this,c)};function ai(a,b){var c=a.bb[b];Ka.splice.call(a.bb,b,1);$h(a);a.dispatchEvent(new Yh("remove",c,a));return c}function $h(a){a.set("length",a.bb.length)};var bi=L&&!N("9.0")&&""!==Lb;function ci(a,b){a[0]+=b[0];a[1]+=b[1]}function di(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function ei(a,b,c){tc.call(this,a);this.map=b;this.frameState=s(c)?c:null}D(ei,tc);function fi(a,b,c){tc.call(this,a);this.Q=b;a=s(c)?c:{};this.buttons=gi(a);this.pressure=hi(a,this.buttons);this.bubbles=I(a,"bubbles",!1);this.cancelable=I(a,"cancelable",!1);this.view=I(a,"view",null);this.detail=I(a,"detail",null);this.screenX=I(a,"screenX",0);this.screenY=I(a,"screenY",0);this.clientX=I(a,"clientX",0);this.clientY=I(a,"clientY",0);this.ctrlKey=I(a,"ctrlKey",!1);this.altKey=I(a,"altKey",!1);this.shiftKey=I(a,"shiftKey",!1);this.metaKey=I(a,"metaKey",!1);this.button=I(a,"button",
0);this.relatedTarget=I(a,"relatedTarget",null);this.pointerId=I(a,"pointerId",0);this.width=I(a,"width",0);this.height=I(a,"height",0);this.tiltX=I(a,"tiltX",0);this.tiltY=I(a,"tiltY",0);this.pointerType=I(a,"pointerType","");this.hwTimestamp=I(a,"hwTimestamp",0);this.isPrimary=I(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}D(fi,tc);
function gi(a){if(a.buttons||ii)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function hi(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var ii=!1;try{ii=1===(new MouseEvent("click",{buttons:1})).buttons}catch(ji){};function ki(a,b){var c=te("CANVAS");s(a)&&(c.width=a);s(b)&&(c.height=b);return c.getContext("2d")}
var li=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=te("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ye(b);a=c&&"none"!==c}else a=!1;return a}}(),mi=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=te("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ye(b);a=c&&"none"!==c}else a=!1;return a}}();function ni(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.dn=b;c.msTransform=b;c.transform=b;L&&!bi&&(a.style.transformOrigin="0 0")};var oi=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function pi(a,b){var c,d,e=oi.length;for(d=0;d<e;++d)try{if(c=a.getContext(oi[d],b),null!==c)return c}catch(f){}return null};var qi=l.devicePixelRatio||1,ri=!1,si=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=ki();if(null===a)return!1;s(a.setLineDash)&&(ri=!0);return!0}catch(b){return!1}}(),ti="ontouchstart"in l,ui="PointerEvent"in l,vi=!!l.navigator.msPointerEnabled,wi=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=te("CANVAS");return null!==pi(a,{hk:!0})}catch(b){return!1}}();function xi(a,b){this.f=a;this.Je=b};function yi(a){xi.call(this,a,{mousedown:this.ul,mousemove:this.vl,mouseup:this.yl,mouseover:this.xl,mouseout:this.wl});this.H=a.H;this.ni=[]}D(yi,xi);function zi(a,b){for(var c=a.ni,d=b.clientX,e=b.clientY,f=0,g=c.length,k;f<g&&(k=c[f]);f++){var m=Math.abs(e-k[1]);if(25>=Math.abs(d-k[0])&&25>=m)return!0}return!1}function Ai(a){var b=Bi(a,a.l),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}h=yi.prototype;
h.ul=function(a){if(!zi(this,a)){(1).toString()in this.H&&this.cancel(a);var b=Ai(a);this.H[(1).toString()]=a;this.f.fireEvent(Ci,b,a)}};h.vl=function(a){if(!zi(this,a)){var b=Ai(a);this.f.move(b,a)}};h.yl=function(a){if(!zi(this,a)){var b=I(this.H,(1).toString());b&&b.button===a.button&&(b=Ai(a),this.f.fireEvent(Di,b,a),fb(this.H,(1).toString()))}};h.xl=function(a){if(!zi(this,a)){var b=Ai(a);Ei(this.f,b,a)}};h.wl=function(a){if(!zi(this,a)){var b=Ai(a);Fi(this.f,b,a)}};
h.cancel=function(a){var b=Ai(a);this.f.cancel(b,a);fb(this.H,(1).toString())};function Gi(a){xi.call(this,a,{MSPointerDown:this.Dl,MSPointerMove:this.El,MSPointerUp:this.Hl,MSPointerOut:this.Fl,MSPointerOver:this.Gl,MSPointerCancel:this.Cl,MSGotPointerCapture:this.Al,MSLostPointerCapture:this.Bl});this.H=a.H;this.Qj=["","unavailable","touch","pen","mouse"]}D(Gi,xi);function Hi(a,b){var c=b;ja(b.l.pointerType)&&(c=Bi(b,b.l),c.pointerType=a.Qj[b.l.pointerType]);return c}h=Gi.prototype;h.Dl=function(a){this.H[a.l.pointerId]=a;var b=Hi(this,a);this.f.fireEvent(Ci,b,a)};
h.El=function(a){var b=Hi(this,a);this.f.move(b,a)};h.Hl=function(a){var b=Hi(this,a);this.f.fireEvent(Di,b,a);fb(this.H,a.l.pointerId)};h.Fl=function(a){var b=Hi(this,a);Fi(this.f,b,a)};h.Gl=function(a){var b=Hi(this,a);Ei(this.f,b,a)};h.Cl=function(a){var b=Hi(this,a);this.f.cancel(b,a);fb(this.H,a.l.pointerId)};h.Bl=function(a){this.f.dispatchEvent(new fi("lostpointercapture",a,a.l))};h.Al=function(a){this.f.dispatchEvent(new fi("gotpointercapture",a,a.l))};function Ii(a){xi.call(this,a,{pointerdown:this.Tl,pointermove:this.Ul,pointerup:this.Xl,pointerout:this.Vl,pointerover:this.Wl,pointercancel:this.Sl,gotpointercapture:this.pk,lostpointercapture:this.kl})}D(Ii,xi);h=Ii.prototype;h.Tl=function(a){Ji(this.f,a)};h.Ul=function(a){Ji(this.f,a)};h.Xl=function(a){Ji(this.f,a)};h.Vl=function(a){Ji(this.f,a)};h.Wl=function(a){Ji(this.f,a)};h.Sl=function(a){Ji(this.f,a)};h.kl=function(a){Ji(this.f,a)};h.pk=function(a){Ji(this.f,a)};function Ki(a,b){xi.call(this,a,{touchstart:this.Nm,touchmove:this.Mm,touchend:this.Lm,touchcancel:this.Km});this.H=a.H;this.tl=b;this.cd=void 0;this.Ef=0;this.xd=void 0}D(Ki,xi);h=Ki.prototype;h.$i=function(){this.Ef=0;this.xd=void 0};
function Li(a,b,c){b=Bi(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Ef;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.cd===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Mi(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.l.changedTouches),f=e.length,g,k;for(g=0;g<f;++g)k=Li(a,b,e[g]),k.preventDefault=d,c.call(a,b,k)}
h.Nm=function(a){var b=a.l.touches,c=cb(this.H),d=c.length;if(d>=b.length){var e=[],f,g,k;for(f=0;f<d;++f){g=c[f];k=this.H[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(k.$b)}for(f=0;f<e.length;++f)this.Cf(a,e[f])}b=ab(this.H);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.H;c=b}c&&(this.cd=a.l.changedTouches[0].identifier,s(this.xd)&&l.clearTimeout(this.xd));Ni(this,a);this.Ef++;Mi(this,a,this.Ol)};
h.Ol=function(a,b){this.H[b.pointerId]={target:b.target,$b:b,Pi:b.target};var c=this.f;b.bubbles=!0;c.fireEvent(Oi,b,a);c=this.f;b.bubbles=!1;c.fireEvent(Pi,b,a);this.f.fireEvent(Ci,b,a)};h.Mm=function(a){a.preventDefault();Mi(this,a,this.zl)};
h.zl=function(a,b){var c=I(this.H,b.pointerId);if(c){var d=c.$b,e=c.Pi;this.f.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Fi(this.f,d,a),Ei(this.f,b,a)):(b.target=e,b.relatedTarget=null,this.Cf(a,b)));c.$b=b;c.Pi=b.target}};h.Lm=function(a){Ni(this,a);Mi(this,a,this.Qm)};
h.Qm=function(a,b){this.f.fireEvent(Di,b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Qi,b,a);fb(this.H,b.pointerId);b.isPrimary&&(this.cd=void 0,this.xd=l.setTimeout(C(this.$i,this),200))};h.Km=function(a){Mi(this,a,this.Cf)};h.Cf=function(a,b){this.f.cancel(b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Qi,b,a);fb(this.H,b.pointerId);b.isPrimary&&(this.cd=void 0,this.xd=l.setTimeout(C(this.$i,this),200))};
function Ni(a,b){var c=a.tl.ni,d=b.l.changedTouches[0];if(a.cd===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ra(c,e)},2500)}};function Ri(a){S.call(this);this.a=a;this.H={};this.Ah={};this.ad=[];ui?Si(this,new Ii(this)):vi?Si(this,new Gi(this)):(a=new yi(this),Si(this,a),ti&&Si(this,new Ki(this,a)));a=this.ad.length;for(var b,c=0;c<a;c++)b=this.ad[c],Ti(this,cb(b.Je))}D(Ri,S);function Si(a,b){var c=cb(b.Je);c&&(F(c,function(a){var c=b.Je[a];c&&(this.Ah[a]=C(c,b))},a),a.ad.push(b))}h=Ri.prototype;h.zh=function(a){var b=this.Ah[a.type];b&&b(a)};function Ti(a,b){F(b,function(a){P(this.a,a,this.zh,!1,this)},a)}
function Ui(a,b){F(b,function(a){Tc(this.a,a,this.zh,!1,this)},a)}function Bi(a,b){for(var c={},d,e=0,f=Vi.length;e<f;e++)d=Vi[e][0],c[d]=a[d]||b[d]||Vi[e][1];return c}h.move=function(a,b){this.fireEvent(Wi,a,b)};h.$b=function(a,b){a.bubbles=!0;this.fireEvent(Xi,a,b)};h.cancel=function(a,b){this.fireEvent(Yi,a,b)};function Fi(a,b,c){a.$b(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Qi,b,c))}
function Ei(a,b,c){b.bubbles=!0;a.fireEvent(Oi,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Pi,b,c))}h.fireEvent=function(a,b,c){this.dispatchEvent(new fi(a,c,b))};function Ji(a,b){a.dispatchEvent(new fi(b.type,b,b.l))}h.c=function(){for(var a=this.ad.length,b,c=0;c<a;c++)b=this.ad[c],Ui(this,cb(b.Je));Ri.g.c.call(this)};
var Wi="pointermove",Ci="pointerdown",Di="pointerup",Oi="pointerover",Xi="pointerout",Pi="pointerenter",Qi="pointerleave",Yi="pointercancel",Vi=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Zi(a,b,c,d){ei.call(this,a,b,d);this.Q=c;this.originalEvent=c.l;c=this.originalEvent;s(c.changedTouches)?(a=c.changedTouches[0],c=Ag(b.M),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.M,c=Ag(c),a=Ag(a),a=new U(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.ed(this.pixel)}D(Zi,ei);Zi.prototype.preventDefault=function(){Zi.g.preventDefault.call(this);this.Q.preventDefault()};Zi.prototype.stopPropagation=function(){Zi.g.stopPropagation.call(this);this.Q.stopPropagation()};
function $i(a,b,c,d){Zi.call(this,a,b,c.Q,d);this.bc=c}D($i,Zi);function aj(a){S.call(this);this.b=a;this.Uc=0;this.Of=!1;this.ae=this.Re=this.Nb=null;a=this.b.M;this.Tg=0;this.Ng={};this.Gc=new Ri(a);this.sb=null;this.Re=P(this.Gc,Ci,this.Ik,!1,this);this.vg=P(this.Gc,Wi,this.cm,!1,this)}D(aj,S);
function bj(a,b){var c;c=new $i(cj,a.b,b);a.dispatchEvent(c);0!==a.Uc?(l.clearTimeout(a.Uc),a.Uc=0,c=new $i(dj,a.b,b),a.dispatchEvent(c)):a.Uc=l.setTimeout(C(function(){this.Uc=0;var a=new $i(ej,this.b,b);this.dispatchEvent(a)},a),250)}function fj(a,b){b.type==gj||b.type==hj?delete a.Ng[b.pointerId]:b.type==ij&&(a.Ng[b.pointerId]=!0);a.Tg=ab(a.Ng)}h=aj.prototype;
h.jb=function(a){fj(this,a);var b=new $i(gj,this.b,a);this.dispatchEvent(b);0===this.Tg&&(F(this.Nb,Q),this.Nb=null,sc(this.sb),this.sb=null);!this.Of&&0===a.button&&bj(this,this.ae)};h.Ik=function(a){fj(this,a);var b=new $i(ij,this.b,a);this.dispatchEvent(b);this.ae=a;this.Of=!1;null===this.Nb&&(this.sb=new Ri(document),this.Nb=[P(this.sb,jj,this.Jk,!1,this),P(this.sb,gj,this.jb,!1,this),P(this.Gc,hj,this.jb,!1,this)]);a.preventDefault()};
h.Jk=function(a){if(a.clientX!=this.ae.clientX||a.clientY!=this.ae.clientY){this.Of=!0;var b=new $i(kj,this.b,a);this.dispatchEvent(b)}a.preventDefault()};h.cm=function(a){this.dispatchEvent(new $i(a.type,this.b,a))};h.c=function(){null!==this.vg&&(Q(this.vg),this.vg=null);null!==this.Re&&(Q(this.Re),this.Re=null);null!==this.Nb&&(F(this.Nb,Q),this.Nb=null);null!==this.sb&&(sc(this.sb),this.sb=null);null!==this.Gc&&(sc(this.Gc),this.Gc=null);aj.g.c.call(this)};
var ej="singleclick",cj="click",dj="dblclick",kj="pointerdrag",jj="pointermove",ij="pointerdown",gj="pointerup",hj="pointercancel",lj={on:ej,bn:cj,cn:dj,gn:kj,kn:jj,fn:ij,nn:gj,mn:"pointerover",ln:"pointerout",hn:"pointerenter",jn:"pointerleave",en:hj};function mj(a,b,c,d){return s(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function nj(a,b,c){return a+"/"+b+"/"+c}function oj(a){return nj(a[0],a[1],a[2])};function pj(a,b,c,d){this.n=a;this.G=b;this.t=c;this.s=d}function qj(a,b,c,d,e){return s(e)?(e.n=a,e.G=b,e.t=c,e.s=d,e):new pj(a,b,c,d)}h=pj.prototype;h.contains=function(a){return this.Xc(a[1],a[2])};function rj(a,b){return a.n<=b.n&&b.G<=a.G&&a.t<=b.t&&b.s<=a.s}h.Xc=function(a,b){return this.n<=a&&a<=this.G&&this.t<=b&&b<=this.s};h.yh=function(a){return this.n==a.n&&this.t==a.t&&this.G==a.G&&this.s==a.s};
h.extend=function(a){a.n<this.n&&(this.n=a.n);a.G>this.G&&(this.G=a.G);a.t<this.t&&(this.t=a.t);a.s>this.s&&(this.s=a.s)};h.ie=function(){return this.s-this.t+1};h.T=function(){return[this.vb(),this.ie()]};h.vb=function(){return this.G-this.n+1};h.hi=function(a){return this.n<=a.G&&this.G>=a.n&&this.t<=a.s&&this.s>=a.t};function sj(a){this.Vh=a.html;this.df=s(a.tileRanges)?a.tileRanges:null};function tj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return uj(c,d,e,f,void 0)}function vj(a){return s(void 0)?void 0:a.slice()}function wj(){return[Infinity,Infinity,-Infinity,-Infinity]}function uj(a,b,c,d,e){return s(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function xj(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function yj(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=zj(a):"top-right"===b&&(c=[a[2],a[3]]);return c}function Aj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,k;for(f=0;4>f;++f)g=e[f],k=d[f],e[f]=a[0]+g*b-k*c,d[f]=a[1]+g*c+k*b;return tj(e,d)}
function Bj(a,b){var c=s(void 0)?void 0:wj();Cj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function zj(a){return[a[0],a[3]]}function Cj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Dj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function Ej(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return tj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Fj(a){this.radius=a}Fj.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Gj={};Gj.degrees=2*Math.PI*(new Fj(6370997)).radius/360;Gj.ft=.3048;Gj.m=1;function Hj(a){this.Vc=a.code;this.Jj=a.units;this.Y=s(a.extent)?a.extent:null;this.oh=null}Hj.prototype.S=function(){return this.Y};Hj.prototype.jj=function(a){this.Y=a};var Ij={},Jj={};function Kj(a){Lj(a);F(a,function(b){F(a,function(a){b!==a&&Mj(b,a,Nj)})})}function Oj(a){Ij[a.Vc]=a;Mj(a,a,Nj)}function Lj(a){var b=[];F(a,function(a){b.push(Oj(a))})}function Pj(a){return null!=a?w(a)?Qj(a):a:Qj("EPSG:3857")}
function Mj(a,b,c){a=a.Vc;b=b.Vc;a in Jj||(Jj[a]={});Jj[a][b]=c}function Qj(a){return a instanceof Hj?a:w(a)?Ij[a]:null}function Rj(a,b){var c=Qj(a),d=Qj(b);return Sj(c,d)}function Sj(a,b){var c=a.Vc,d=b.Vc,e;c in Jj&&d in Jj[c]&&(e=Jj[c][d]);s(e)||(e=Tj);return e}function Tj(a,b){if(s(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Nj(a,b){var c;if(s(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Uj(a){var b=Rj("EPSG:4326","EPSG:3857");return Ej(a,b)};function Vj(a){Ph.call(this);this.Jc=Qj(a.projection);this.yf=s(a.attributions)?a.attributions:null;this.il=a.logo;this.j=s(a.state)?a.state:"ready"}D(Vj,Ph);Vj.prototype.D=function(){return this.j};function X(a){Th.call(this);a=gb(a);a.brightness=s(a.brightness)?a.brightness:0;a.contrast=s(a.contrast)?a.contrast:1;a.hue=s(a.hue)?a.hue:0;a.opacity=s(a.opacity)?a.opacity:1;a.saturation=s(a.saturation)?a.saturation:1;a.visible=s(a.visible)?a.visible:!0;a.maxResolution=s(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=s(a.minResolution)?a.minResolution:0;this.Dd(a)}D(X,Th);X.prototype.Gh=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.Gh;
X.prototype.Hh=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.Hh;X.prototype.Ih=function(){return this.get("hue")};X.prototype.getHue=X.prototype.Ih;
function Wj(a){var b=a.Gh(),c=a.Hh(),d=a.Ih(),e=a.Mh(),f=a.Oh(),g=a.Ph(),k=a.Yf(),m=a.S(),n=a.Jh(),p=a.Kh();return{layer:a,brightness:s(b)?rb(b,-1,1):0,contrast:s(c)?Math.max(c,0):1,hue:s(d)?d:0,opacity:s(e)?rb(e,0,1):1,saturation:s(f)?Math.max(f,0):1,Jg:g,visible:s(k)?!!k:!0,extent:m,maxResolution:s(n)?n:Infinity,minResolution:s(p)?Math.max(p,0):0}}X.prototype.S=function(){return this.get("extent")};X.prototype.getExtent=X.prototype.S;X.prototype.Jh=function(){return this.get("maxResolution")};
X.prototype.getMaxResolution=X.prototype.Jh;X.prototype.Kh=function(){return this.get("minResolution")};X.prototype.getMinResolution=X.prototype.Kh;X.prototype.Mh=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.Mh;X.prototype.Oh=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.Oh;X.prototype.Yf=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.Yf;X.prototype.om=function(a){this.set("brightness",a)};
X.prototype.setBrightness=X.prototype.om;X.prototype.pm=function(a){this.set("contrast",a)};X.prototype.setContrast=X.prototype.pm;X.prototype.qm=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.qm;X.prototype.jj=function(a){this.set("extent",a)};X.prototype.setExtent=X.prototype.jj;X.prototype.sm=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.sm;X.prototype.tm=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.tm;
X.prototype.um=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.um;X.prototype.wm=function(a){this.set("saturation",a)};X.prototype.setSaturation=X.prototype.wm;X.prototype.zm=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.zm;function Xj(a){var b=gb(a);delete b.source;X.call(this,b);this.W=a.source;P(this.W,"change",this.Qk,!1,this)}D(Xj,X);Xj.prototype.Wf=function(a){a=s(a)?a:[];a.push(Wj(this));return a};Xj.prototype.Ph=function(){return this.W.D()};Xj.prototype.Qk=function(){this.X()};function Yj(a,b){S.call(this);this.o=a;this.state=b}D(Yj,S);Yj.prototype.X=function(){this.dispatchEvent("change")};Yj.prototype.getKey=function(){return B(this).toString()};Yj.prototype.D=function(){return this.state};function Zj(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function ak(a){this.minZoom=s(a.minZoom)?a.minZoom:0;this.Nc=a.resolutions;this.maxZoom=this.Nc.length-1;this.Me=s(a.origin)?a.origin:null;this.Oi=null;s(a.origins)&&(this.Oi=a.origins);this.Mg=null;s(a.tileSizes)&&(this.Mg=a.tileSizes);this.Aj=s(a.tileSize)?a.tileSize:null===this.Mg?256:void 0}var bk=[0,0,0];ak.prototype.de=function(a,b,c,d,e){e=ck(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,dk(this,e,a,d)))return!0;--a}return!1};
ak.prototype.tc=function(a){return null===this.Me?this.Oi[a]:this.Me};ak.prototype.k=function(a){return this.Nc[a]};ak.prototype.le=function(a,b,c){return a[0]<this.maxZoom?(c=ck(this,a,c),dk(this,c,a[0]+1,b)):null};function ek(a,b,c,d){fk(a,b[0],b[1],c,!1,bk);var e=bk[1],f=bk[2];fk(a,b[2],b[3],c,!0,bk);return qj(e,bk[1],f,bk[2],d)}function dk(a,b,c,d){c=a.k(c);return ek(a,b,c,d)}function gk(a,b){var c=a.tc(b[0]),d=a.k(b[0]),e=hk(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function ck(a,b,c){var d=a.tc(b[0]),e=a.k(b[0]);a=hk(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return uj(f,b,f+a*e,b+a*e,c)}function fk(a,b,c,d,e,f){var g=Zj(a.Nc,d,0),k=d/a.k(g),m=a.tc(g);a=hk(a,g);b=k*(b-m[0])/(d*a);c=k*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return mj(g,b,c,f)}function ik(a,b,c){c=a.k(c);return fk(a,b[0],b[1],c,!1,void 0)}function hk(a,b){return s(a.Aj)?a.Aj:a.Mg[b]}
function jk(a,b,c){b=s(b)?b:42;c=s(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function kk(a){a=Qj(a);var b=a.S();null===b&&(a=180*Gj.degrees/Gj[a.Jj],b=uj(-a,-a,a,a));return b};function lk(a){Vj.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.Nl=s(a.opaque)?a.opaque:!1;this.Jm=s(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=s(a.tileGrid)?a.tileGrid:null}D(lk,Vj);lk.prototype.Kb=mb;lk.prototype.Uf=function(a,b,c,d){var e=!0,f,g,k,m;for(k=d.n;k<=d.G;++k)for(m=d.t;m<=d.s;++m)g=this.gd(c,k,m),a[c]&&a[c][g]||(f=b(c,k,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};lk.prototype.gd=nj;
function mk(a,b){var c;if(null===a.tileGrid){if(c=b.oh,null===c){c=kk(b);var d=s(void 0)?void 0:256,e=s(void 0)?void 0:"bottom-left",f=jk(c,void 0,d);c=new ak({origin:yj(c,e),resolutions:f,tileSize:d});b.oh=c}}else c=a.tileGrid;return c}function nk(a,b,c){return hk(mk(a,c),b)*a.Jm}lk.prototype.Og=ea;function ok(a,b){oc.call(this);this.Ie=a;this.od=b}D(ok,oc);ok.prototype.ia=function(){return this.Ie.ia()};function pk(a,b){b.Kb()&&a.postRenderFunctions.push(sa(function(a,b,e){b=B(a).toString();a.bd(e.usedTiles[b])},b))}function qk(a,b){var c=b.il;s(c)&&(w(c)?a.logos[c]="":la(c)&&(a.logos[c.src]=c.href))}function rk(a,b,c,d){b=B(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function sk(a,b,c,d){return function(e,f,g){e=b.Rb(e,f,g,c,d);return a(e)?e:null}}function tk(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function uk(a,b,c,d,e,f,g,k,m,n){var p=B(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var r=a.wantedTiles[p];a=a.tileQueue;var t=c.minZoom,y,v,q,x,u,z;s(k)||(k=0);for(z=g;z>=t;--z)for(v=dk(c,f,z,v),q=c.k(z),x=v.n;x<=v.G;++x)for(u=v.t;u<=v.s;++u)g-z<=k?(y=b.Rb(z,x,u,d,e),0==y.D()&&(r[oj(y.o)]=!0,y.getKey()in a.Kc||vk(a,[y,p,gk(c,y.o),q])),s(m)&&m.call(n,y)):b.Og(z,x,u)};function wk(){this.Jb={};this.Sd=0;this.pl=32}fa(wk);wk.prototype.clear=function(){this.Jb={};this.Sd=0};wk.prototype.get=function(a,b){var c=b+":"+a;return c in this.Jb?this.Jb[c]:null};wk.prototype.set=function(a,b,c){this.Jb[b+":"+a]=c;++this.Sd};function xk(a,b,c,d,e,f,g,k){Kh(a);0===b&&0===c||Mh(a,b,c);1==d&&1==e||Nh(a,d,e);0!==f&&Oh(a,f);0===g&&0===k||Mh(a,g,k);return a}function yk(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function zk(a,b){oc.call(this);this.b=b;this.Ca={}}D(zk,oc);
function Ak(a){var b=a.viewState,c=a.coordinateToPixelMatrix;xk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],m=c[6],n=c[7],p=c[8],r=c[9],t=c[10],y=c[11],v=c[12],q=c[13],x=c[14],c=c[15],u=b*k-d*g,z=b*m-e*g,A=b*n-f*g,G=d*m-e*k,E=d*n-f*k,J=e*n-f*m,ba=p*q-r*v,K=p*x-t*v,ca=p*c-y*v,T=r*x-t*q,H=r*c-y*q,R=t*c-y*x,O=u*R-z*H+A*T+G*ca-E*K+J*ba;0!=O&&(O=1/O,a[0]=(k*R-m*H+n*T)*O,a[1]=(-d*
R+e*H-f*T)*O,a[2]=(q*J-x*E+c*G)*O,a[3]=(-r*J+t*E-y*G)*O,a[4]=(-g*R+m*ca-n*K)*O,a[5]=(b*R-e*ca+f*K)*O,a[6]=(-v*J+x*A-c*z)*O,a[7]=(p*J-t*A+y*z)*O,a[8]=(g*H-k*ca+n*ba)*O,a[9]=(-b*H+d*ca-f*ba)*O,a[10]=(v*E-q*A+c*u)*O,a[11]=(-p*E+r*A-y*u)*O,a[12]=(-g*T+k*K-m*ba)*O,a[13]=(b*T-d*K+e*ba)*O,a[14]=(-v*G+q*z-x*u)*O,a[15]=(p*G-r*z+t*u)*O)}h=zk.prototype;h.Zd=function(a){return new ok(this,a)};h.c=function(){Za(this.Ca,sc);zk.g.c.call(this)};
function Bk(){var a=wk.hb();if(a.Sd>a.pl){var b=0,c,d;for(c in a.Jb){d=a.Jb[c];var e;if(e=0===(b++&3))Cc(d)?d=d.yb(void 0,void 0):(d=Oc(d),d=!!d&&d.yb(void 0,void 0)),e=!d;e&&(delete a.Jb[c],--a.Sd)}}}function Ck(a,b){var c=B(b).toString();if(c in a.Ca)return a.Ca[c];var d=a.Zd(b);return a.Ca[c]=d}h.ia=function(){return this.b};h.We=ea;h.em=function(a,b){for(var c in this.Ca)if(!(null!==b&&c in b.layerStates)){var d=this.Ca[c];delete this.Ca[c];sc(d)}};
function Dk(a,b){for(var c in a.Ca)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.em,a));break}};function Ek(a,b){this.Si=a;this.ig=b;this.Qa=[];this.Ic=[];this.Kc={}}Ek.prototype.clear=function(){this.Qa.length=0;this.Ic.length=0;eb(this.Kc)};function Fk(a){var b=a.Qa,c=a.Ic,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Gk(a,0));b=a.ig(d);delete a.Kc[b];return d}function vk(a,b){var c=a.Si(b);Infinity!=c&&(a.Qa.push(b),a.Ic.push(c),a.Kc[a.ig(b)]=!0,Hk(a,0,a.Qa.length-1))}Ek.prototype.gb=function(){return this.Qa.length};Ek.prototype.lb=function(){return 0===this.Qa.length};
function Gk(a,b){for(var c=a.Qa,d=a.Ic,e=c.length,f=c[b],g=d[b],k=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Hk(a,k,b)}function Hk(a,b,c){var d=a.Qa;a=a.Ic;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Ik(a){var b=a.Si,c=a.Qa,d=a.Ic,e=0,f=c.length,g,k,m;for(k=0;k<f;++k)g=c[k],m=b(g),Infinity==m?delete a.Kc[a.ig(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.Qa.length>>1)-1;0<=b;b--)Gk(a,b)};function Jk(a,b){Ek.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Hm=b;this.Md=0}D(Jk,Ek);Jk.prototype.Sk=function(){--this.Md;this.Hm()};function Kk(a){return function(b){if(s(b))return[rb(b[0],a[0],a[2]),rb(b[1],a[1],a[3])]}}function Lk(a){return a};function Mk(a){return function(b,c,d){if(s(b))return b=Zj(a,b,d),b=rb(b+c,0,a.length-1),a[b]}}function Nk(a,b,c){return function(d,e,f){if(s(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),s(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Ok(a){if(s(a))return 0}function Pk(a,b){if(s(a))return a+b}function Qk(a){var b=2*Math.PI/a;return function(a,d){if(s(a))return a=Math.floor((a+d)/b+.5)*b}}function Rk(){var a=5*Math.PI/180;return function(b,c){if(s(b))return Math.abs(b+c)<=a?0:b+c}};function Sk(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Y(a){Th.call(this);a=s(a)?a:{};this.cg=[0,0];var b={};b.center=s(a.center)?a.center:null;this.Jc=Pj(a.projection);var c,d,e,f=s(a.minZoom)?a.minZoom:0;c=s(a.maxZoom)?a.maxZoom:28;var g=s(a.zoomFactor)?a.zoomFactor:2;if(s(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Mk(c);else{d=Pj(a.projection);e=d.S();var k=(null===e?360*Gj.degrees/Gj[d.Jj]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=k/Math.pow(2,28);d=a.maxResolution;s(d)?f=0:d=k/Math.pow(g,f);e=a.minResolution;s(e)||
(e=s(a.maxZoom)?s(a.maxResolution)?d/Math.pow(g,c):k/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=Nk(g,d,c-f)}this.pg=d;this.sl=e;this.qg=f;f=s(a.extent)?Kk(a.extent):Lk;(s(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=s(d)&&!0!==d?!1===d?Pk:ja(d)?Qk(d):Pk:Rk()):d=Ok;this.Wc=new Sk(f,c,d);s(a.resolution)?b.resolution=a.resolution:s(a.zoom)&&(b.resolution=this.constrainResolution(this.pg,a.zoom-this.qg));b.rotation=s(a.rotation)?a.rotation:0;this.Dd(b)}
D(Y,Th);Y.prototype.constrainResolution=function(a,b,c){return this.Wc.resolution(a,b||0,c||0)};Y.prototype.constrainRotation=function(a,b){return this.Wc.rotation(a,b||0)};Y.prototype.na=function(){return this.get("center")};Y.prototype.getCenter=Y.prototype.na;Y.prototype.k=function(){return this.get("resolution")};Y.prototype.getResolution=Y.prototype.k;Y.prototype.Qb=function(){return this.get("rotation")};Y.prototype.getRotation=Y.prototype.Qb;
Y.prototype.D=function(){var a=this.na(),b=this.Jc,c=this.k(),d=this.Qb();return{center:a.slice(),projection:s(b)?b:null,resolution:c,rotation:s(d)?d:0}};function Tk(a){var b,c=a.k();if(s(c)){var d,e=0;do{d=a.constrainResolution(a.pg,e);if(d==c){b=e;break}++e}while(d>a.sl)}return s(b)?a.qg+b:b}function Uk(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.Xa(xj(b)),b=Math.max((b[2]-b[0])/c[0],(b[3]-b[1])/c[1]),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.fc(c))}
Y.prototype.fg=function(){return null!=this.na()&&s(this.k())};Y.prototype.rotate=function(a,b){if(s(b)){var c,d=this.na();s(d)&&(c=[d[0]-b[0],d[1]-b[1]],di(c,a-this.Qb()),ci(c,b));this.Xa(c)}this.Eg(a)};Y.prototype.Xa=function(a){this.set("center",a)};Y.prototype.setCenter=Y.prototype.Xa;function Vk(a,b){a.cg[1]+=b}Y.prototype.fc=function(a){this.set("resolution",a)};Y.prototype.setResolution=Y.prototype.fc;Y.prototype.Eg=function(a){this.set("rotation",a)};Y.prototype.setRotation=Y.prototype.Eg;function Wk(a){Th.call(this);this.element=s(a.element)?a.element:null;this.C=s(a.target)?V(a.target):null;this.b=null;this.Ee=[]}D(Wk,Th);Wk.prototype.c=function(){ye(this.element);Wk.g.c.call(this)};Wk.prototype.ia=function(){return this.b};Wk.prototype.uc=ea;
Wk.prototype.setMap=function(a){null===this.b||ye(this.element);0!=this.Ee.length&&(F(this.Ee,Q),this.Ee.length=0);this.b=a;null!==this.b&&((null===this.C?a.Ne:this.C).appendChild(this.element),this.uc!==ea&&this.Ee.push(P(a,"postrender",this.uc,!1,this)),a.render())};function Xk(a){a=s(a)?a:{};this.kf=te("UL");this.Fe=te("LI");this.kf.appendChild(this.Fe);W(this.Fe,!1);this.oc=s(a.collapsed)?a.collapsed:!0;this.Wd=s(a.collapsible)?a.collapsible:!0;this.Wd||(this.oc=!1);var b=s(a.className)?a.className:"ol-attribution",c=pe("SPAN",{role:"tooltip"},s(a.tipLabel)?a.tipLabel:"Attributions");this.eh=s(a.collapseLabel)?a.collapseLabel:"\u00bb";this.Wb=s(a.label)?a.label:"i";this.li=pe("SPAN",{},this.Wd&&!this.oc?this.eh:this.Wb);var d=pe("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.li);d.appendChild(c);c=new Ri(d);rc(this,c);P(c,Di,this.jb,!1,this);P(d,"click",this.ib,!1,this);P(d,["mouseout",wc],function(){this.blur()},!1);b=pe("DIV",{"class":b+" ol-unselectable ol-control"+(this.oc&&this.Wd?" ol-collapsed":"")+(this.Wd?"":" ol-uncollapsible")},this.kf,d);Wk.call(this,{element:b,target:a.target});this.v=!0;this.Ib={};this.qb={};this.hl={}}D(Xk,Wk);
Xk.prototype.uc=function(a){a=a.frameState;if(null===a)this.v&&(W(this.element,!1),this.v=!1);else{var b,c,d,e,f,g,k,m,n,p=a.layerStatesArray,r=gb(a.attributions),t={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.W,n=B(d).toString(),m=d.yf,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],k=B(g).toString(),!(k in r)){f=a.usedTiles[n];var y;if(y=s(f))a:if(null===g.df)y=!0;else{var v=y=void 0,q=void 0,x=void 0;for(x in f)if(x in g.df)for(q=f[x],y=0,v=g.df[x].length;y<v;++y)if(g.df[x][y].hi(q)){y=!0;break a}y=
!1}y?(k in t&&delete t[k],r[k]=g):t[k]=g}b=[r,t];c=b[0];b=b[1];for(var u in this.Ib)u in c?(this.qb[u]||(W(this.Ib[u],!0),this.qb[u]=!0),delete c[u]):u in b?(this.qb[u]&&(W(this.Ib[u],!1),delete this.qb[u]),delete b[u]):(ye(this.Ib[u]),delete this.Ib[u],delete this.qb[u]);for(u in c)n=te("LI"),n.innerHTML=c[u].Vh,this.kf.appendChild(n),this.Ib[u]=n,this.qb[u]=!0;for(u in b)n=te("LI"),n.innerHTML=b[u].Vh,W(n,!1),this.kf.appendChild(n),this.Ib[u]=n;u=!db(this.qb)||!db(a.logos);this.v!=u&&(W(this.element,
u),this.v=u);u&&db(this.qb)?Me(this.element,"ol-logo-only"):Oe(this.element,"ol-logo-only");var z;a=a.logos;u=this.hl;for(z in u)z in a||(ye(u[z]),delete u[z]);for(var A in a)A in u||(z=new Image,z.src=A,c=a[A],""===c?c=z:(c=pe("A",{href:c}),c.appendChild(z)),this.Fe.appendChild(c),u[A]=c);W(this.Fe,!db(a))}};Xk.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||Yk(this)};Xk.prototype.jb=function(a){a.Q.preventDefault();Yk(this)};
function Yk(a){var b=a.element,c=!Le(b,"ol-collapsed");Qe(b,"ol-collapsed",c);Be(a.li,a.oc?a.eh:a.Wb);a.oc=!a.oc};function Zk(a){return 1-Math.pow(1-a,3)};function $k(a){return 3*a*a-2*a*a*a}function al(a){return a};function bl(a){var b=a.source,c=s(a.start)?a.start:ta(),d=b[0],e=b[1],f=s(a.duration)?a.duration:1E3,g=s(a.easing)?a.easing:$k;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],r=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*r;b.viewHints[0]+=1;return!0}return!1}}
function cl(a){var b=s(a.rotation)?a.rotation:0,c=s(a.start)?a.start:ta(),d=s(a.duration)?a.duration:1E3,e=s(a.easing)?a.easing:$k,f=s(a.anchor)?a.anchor:null;return function(a,k){if(k.time<c)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<c+d){var m=1-e((k.time-c)/d),m=(b-k.viewState.rotation)*m;k.animate=!0;k.viewState.rotation+=m;if(null!==f){var n=k.viewState.center;n[0]-=f[0];n[1]-=f[1];di(n,m);ci(n,f)}k.viewHints[0]+=1;return!0}return!1}}
function dl(a){var b=a.resolution,c=s(a.start)?a.start:ta(),d=s(a.duration)?a.duration:1E3,e=s(a.easing)?a.easing:$k;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var k=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=k*m;g.viewHints[0]+=1;return!0}return!1}};function el(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-rotate";this.Wb=pe("SPAN",{"class":"ol-compass"},s(a.label)?a.label:"\u21e7");var c=pe("SPAN",{role:"tooltip"},s(a.tipLabel)?a.tipLabel:"Reset rotation"),c=pe("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.Wb),d=new Ri(c);rc(this,d);P(d,Di,el.prototype.jb,!1,this);P(c,"click",el.prototype.ib,!1,this);P(c,["mouseout",wc],function(){this.blur()},!1);b=pe("DIV",b+" ol-unselectable ol-control",c);Wk.call(this,
{element:b,target:a.target});this.la=s(a.duration)?a.duration:250;this.Wg=s(a.autoHide)?a.autoHide:!0;this.ej=void 0;this.Wg&&Me(this.element,"ol-hidden")}D(el,Wk);el.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||fl(this)};el.prototype.jb=function(a){a.Q.preventDefault();fl(this)};function fl(a){var b=a.ia(),c=b.B();if(null!==c){for(var d=c.Qb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;s(d)&&(0<a.la&&b.Ka(cl({rotation:d,duration:a.la,easing:Zk})),c.Eg(0))}}
el.prototype.uc=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.ej){var b="rotate("+180*a/Math.PI+"deg)";this.Wg&&Qe(this.element,"ol-hidden",0===a);this.Wb.style.msTransform=b;this.Wb.style.webkitTransform=b;this.Wb.style.transform=b}this.ej=a}};function gl(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-zoom",c=s(a.delta)?a.delta:1,d=s(a.zoomInLabel)?a.zoomInLabel:"+",e=s(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=s(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=pe("SPAN",{role:"tooltip"},s(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=pe("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Ri(d);rc(this,g);P(g,Di,sa(gl.prototype.jb,c),!1,this);P(d,"click",sa(gl.prototype.ib,c),!1,this);P(d,["mouseout",wc],function(){this.blur()},
!1);f=pe("SPAN",{role:"tooltip"},f);e=pe("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Ri(e);rc(this,f);P(f,Di,sa(gl.prototype.jb,-c),!1,this);P(e,"click",sa(gl.prototype.ib,-c),!1,this);P(e,["mouseout",wc],function(){this.blur()},!1);b=pe("DIV",b+" ol-unselectable ol-control",d,e);Wk.call(this,{element:b,target:a.target});this.la=s(a.duration)?a.duration:250}D(gl,Wk);gl.prototype.ib=function(a,b){0!==b.screenX&&0!==b.screenY||hl(this,a)};
gl.prototype.jb=function(a,b){b.Q.preventDefault();hl(this,a)};function hl(a,b){var c=a.ia(),d=c.B();if(null!==d){var e=d.k();s(e)&&(0<a.la&&c.Ka(dl({resolution:e,duration:a.la,easing:Zk})),c=d.constrainResolution(e,b),d.fc(c))}};function il(a,b,c){this.Lf=a;this.Le=b;this.bk=c;this.va=[];this.zc=this.vf=0}il.prototype.update=function(a,b){this.va.push(a,b,ta())};il.prototype.end=function(){if(6>this.va.length)return!1;var a=ta()-this.bk,b=this.va.length-3;if(this.va[b+2]<a)return!1;for(var c=b-3;0<c&&this.va[c+2]>a;)c-=3;var a=this.va[b+2]-this.va[c+2],d=this.va[b]-this.va[c],b=this.va[b+1]-this.va[c+1];this.vf=Math.atan2(b,d);this.zc=Math.sqrt(d*d+b*b)/a;return this.zc>this.Le};
function jl(a,b){var c=a.Lf,d=a.zc,e=a.Le-d,f=kl(a);return bl({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function kl(a){return Math.log(a.Le/a.zc)/a.Lf};function ll(){Ph.call(this);this.b=null;this.xa=!0}D(ll,Ph);ll.prototype.ia=function(){return this.b};ll.prototype.setActive=function(a){this.xa=a};ll.prototype.setMap=function(a){this.b=a};function ml(a,b,c,d,e){if(null!=c){var f=b.Qb(),g=b.na();s(f)&&s(g)&&s(e)&&0<e&&(a.Ka(cl({rotation:f,duration:e,easing:Zk})),s(d)&&a.Ka(bl({source:g,duration:e,easing:Zk})));b.rotate(c,d)}}function nl(a,b,c,d,e){var f=b.k();c=b.constrainResolution(f,c,0);ol(a,b,c,d,e)}
function ol(a,b,c,d,e){if(null!=c){var f=b.k(),g=b.na();s(f)&&s(g)&&s(e)&&0<e&&(a.Ka(dl({resolution:f,duration:e,easing:Zk})),s(d)&&a.Ka(bl({source:g,duration:e,easing:Zk})));if(null!=d){var k;a=b.na();e=b.k();s(a)&&s(e)&&(k=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Xa(k)}b.fc(c)}};function pl(a){a=s(a)?a:{};this.Ma=s(a.delta)?a.delta:1;ll.call(this);this.la=s(a.duration)?a.duration:250}D(pl,ll);pl.prototype.wb=function(a){var b=!1,c=a.Q;if(a.type==dj){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Ma:this.Ma,e=b.B();nl(b,e,c,d,this.la);a.preventDefault();b=!0}return!b};function ql(a){a=a.Q;return a.altKey&&!a.Qe&&a.shiftKey}function rl(a){a=a.Q;return!a.altKey&&!a.Qe&&!a.shiftKey}function sl(a){a=a.Q;return!a.altKey&&!a.Qe&&a.shiftKey}function tl(a){a=a.Q.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function ul(){ll.call(this);this.yc=!1;this.Od={};this.ba=[]}D(ul,ll);function vl(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}h=ul.prototype;h.wc=ea;h.xc=mb;h.vc=mb;
h.wb=function(a){if(!(a instanceof $i))return!0;var b=!1,c=a.type;if(c===ij||c===kj||c===gj)c=a.bc,a.type==gj?delete this.Od[c.pointerId]:a.type==ij?this.Od[c.pointerId]=c:c.pointerId in this.Od&&(this.Od[c.pointerId]=c),this.ba=bb(this.Od);this.yc&&(a.type==kj?this.wc(a):a.type==gj&&(this.yc=this.xc(a)));a.type==ij&&(this.yc=a=this.vc(a),b=this.pj(a));return!b};h.pj=mb;function wl(a){ul.call(this);this.mb=(s(a)?a:{}).kinetic;this.Bc=this.md=null;this.cb=s(a.condition)?a.condition:rl;this.Bi=!1}D(wl,ul);wl.prototype.wc=function(a){var b=vl(this.ba);this.mb&&this.mb.update(b[0],b[1]);if(null!==this.Bc){var c=this.Bc[0]-b[0],d=b[1]-this.Bc[1];a=a.map;var e=a.B(),f=e.D(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;di(c,f.rotation);ci(c,f.center);c=e.Wc.center(c);a.render();e.Xa(c)}this.Bc=b};
wl.prototype.xc=function(a){a=a.map;var b=a.B();if(0===this.ba.length){if(!this.Bi&&this.mb&&this.mb.end()){var c;c=this.mb;c=(c.Le-c.zc)/c.Lf;var d=this.mb.vf,e=b.na();this.md=jl(this.mb,e);a.Ka(this.md);e=xl(a,e);c=a.ed([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.Wc.center(c);b.Xa(c)}Vk(b,-1);a.render();return!1}this.Bc=null;return!0};
wl.prototype.vc=function(a){if(0<this.ba.length&&this.cb(a)){var b=a.map,c=b.B();this.Bc=null;this.yc||Vk(c,1);b.render();null!==this.md&&Ra(b.Te,this.md)&&(c.Xa(a.frameState.viewState.center),this.md=null);this.mb&&(a=this.mb,a.va.length=0,a.vf=0,a.zc=0);this.Bi=1<this.ba.length;return!0}return!1};function yl(a){a=s(a)?a:{};ul.call(this);this.cb=s(a.condition)?a.condition:ql;this.nb=void 0}D(yl,ul);yl.prototype.wc=function(a){if(1==a.bc.pointerId){var b=a.map,c=b.T();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(s(this.nb)){a=c-this.nb;var d=b.B(),e=d.D();b.render();ml(b,d,e.rotation-a)}this.nb=c}};yl.prototype.xc=function(a){if(1!=a.bc.pointerId)return!0;a=a.map;var b=a.B();Vk(b,-1);var c=b.D().rotation,c=b.constrainRotation(c,0);ml(a,b,c,void 0,250);return!1};
yl.prototype.vc=function(a){return 1==a.bc.pointerId&&Ac(a.Q)&&this.cb(a)?(a=a.map,Vk(a.B(),1),a.render(),this.nb=void 0,!0):!1};function zl(){Ph.call(this);this.extent=void 0;this.Bh=-1}D(zl,Ph);zl.prototype.Xc=mb;zl.prototype.transform=function(a,b){var c=Rj(a,b);null!==this.N&&(c(this.N,this.N,this.O),this.X());return this};function Al(a,b,c,d,e,f){var g=e[0],k=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var r=s(f)?f:[],t=0;b<c;b+=d){var y=a[b],v=a[b+1];r[t++]=g*y+m*v+p;r[t++]=k*y+n*v+e}s(f)&&r.length!=t&&(r.length=t);return r};function Bl(){zl.call(this);this.pd="XY";this.O=2;this.N=null}D(Bl,zl);function Cl(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Bl.prototype.Xc=mb;
Bl.prototype.S=function(a){if(this.Bh!=this.Fa){for(var b=this.N,c=this.N.length,d=this.O,e=uj(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,k=b[f],m=b[f+1];g[0]=Math.min(g[0],k);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],k);g[3]=Math.max(g[3],m)}this.extent=e;this.Bh=this.Fa}b=this.extent;s(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function Dl(a,b,c,d,e,f){for(var g=!1,k=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-k)*(f-m)/(p-m)+k&&(g=!g);k=n;m=p}return g}function El(a,b,c,d,e){if(0===b.length||!Dl(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(Dl(a,b[f-1],b[f],c,d,e))return!1;return!0};function Fl(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var k=a[b],m=a[b+1],e=e+(k-f)*(m+g),f=k,g=m;return 0<e};function Gl(a,b){Bl.call(this);this.Aa=[];this.Dh=-1;this.Eh=null;this.Ni=-1;this.td=null;if(null===a){var c=this.Aa;this.O=Cl("XY");this.pd="XY";this.N=null;this.Aa=c}else{a:{var c=b,d=a;if(s(c))d=Cl(c);else{for(c=0;2>c;++c){if(0===d.length){this.pd="XY";this.O=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.pd=c;this.O=d}null===this.N&&(this.N=[]);var c=this.N,d=this.O,e=this.Aa,f=0,e=s(e)?e:[],g=0,k,m;k=0;for(m=a.length;k<m;++k){var n;n=c;for(var p=a[k],r=d,t=void 0,
y=void 0,t=0,y=p.length;t<y;++t){var v=p[t],q;for(q=0;q<r;++q)n[f++]=v[q]}n=f;f=e[g++]=n}e.length=g;this.N.length=0===e.length?0:e[e.length-1]}this.X()}D(Gl,Bl);Gl.prototype.clone=function(){var a=new Gl(null),b=this.pd,c=this.N.slice(),d=this.Aa.slice();a.O=Cl(b);a.pd=b;a.N=c;a.Aa=d;a.X();return a};Gl.prototype.Xc=function(a,b){return El(Hl(this),this.Aa,this.O,a,b)};
function Hl(a){if(a.Ni!=a.Fa){var b=a.N,c;a:{c=a.Aa;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=Fl(b,d,g,a.O);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.td=b;else{a.td=b.slice();c=b=a.td;e=a.Aa;f=a.O;for(var k=0,g=0,d=e.length;g<d;++g){var m=e[g],n=Fl(c,k,m,f);if(0===g?!n:n)for(var n=c,p=m,r=f;k<p-r;){var t;for(t=0;t<r;++t){var y=n[k+t];n[k+t]=n[p-r+t];n[p-r+t]=y}k+=r;p-=r}k=m}b.length=k}a.Ni=a.Fa}return a.td}Gl.prototype.Sb=function(){return"Polygon"};function Il(a,b,c,d,e,f,g){tc.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}D(Il,tc);function Jl(a){this.ge=this.be=this.Ga=this.Se=this.b=null;this.Cm=a}D(Jl,oc);function Kl(a){var b=a.Ga,c=a.be;a=Na([b,[b[0],c[1]],c,[c[0],b[1]]],a.b.ed,a.b);a[4]=a[0].slice();return new Gl([a])}Jl.prototype.c=function(){this.setMap(null)};Jl.prototype.Fk=function(a){var b=this.ge,c=this.Cm;a.vectorContext.qh(Infinity,function(a){a.kj(c.Ch,c.uj);a.oj(c.ca);a.Pf(b,null)})};Jl.prototype.Vf=function(){return this.ge};function Ll(a){null===a.b||null===a.Ga||null===a.be||a.b.render()}
Jl.prototype.setMap=function(a){null!==this.Se&&(Q(this.Se),this.Se=null,this.b.render(),this.b=null);this.b=a;null!==this.b&&(this.Se=P(a,"postcompose",this.Fk,!1,this),Ll(this))};function Ml(a,b){tc.call(this,a);this.coordinate=b}D(Ml,tc);function Nl(a){ul.call(this);a=s(a)?a:{};this.Rc=new Jl(s(a.style)?a.style:null);this.Ga=null;this.cb=s(a.condition)?a.condition:nb}D(Nl,ul);h=Nl.prototype;h.wc=function(a){if(1==a.bc.pointerId){var b=this.Rc;a=a.pixel;b.Ga=this.Ga;b.be=a;b.ge=Kl(b);Ll(b)}};h.Vf=function(){return this.Rc.Vf()};h.Ci=ea;
h.xc=function(a){if(1!=a.bc.pointerId)return!0;this.Rc.setMap(null);var b=a.pixel[0]-this.Ga[0],c=a.pixel[1]-this.Ga[1];64<=b*b+c*c&&(this.Ci(a),this.dispatchEvent(new Ml("boxend",a.coordinate)));return!1};h.vc=function(a){if(1==a.bc.pointerId&&Ac(a.Q)&&this.cb(a)){this.Ga=a.pixel;this.Rc.setMap(a.map);var b=this.Rc,c=this.Ga;b.Ga=this.Ga;b.be=c;b.ge=Kl(b);Ll(b);this.dispatchEvent(new Ml("boxstart",a.coordinate));return!0}return!1};h.pj=ob;function Ol(a){a=s(a)?a:{};this.Yd=s(a.color)?a.color:null;this.pi=a.lineCap;this.qi=s(a.lineDash)?a.lineDash:null;this.ri=a.lineJoin;this.zi=a.miterLimit;this.$m=a.width}Ol.prototype.getLineDash=function(){return this.qi};Ol.prototype.vb=function(){return this.$m};Ol.prototype.setLineDash=function(a){this.qi=a};function Pl(a){if(!w(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var Ql=[0,0,0,1],Rl=[],Sl=[0,0,0,1];function Tl(a){a=s(a)?a:{};this.Ch=s(a.fill)?a.fill:null;this.$=s(a.image)?a.image:null;this.uj=s(a.stroke)?a.stroke:null;this.ca=s(a.text)?a.text:null}Tl.prototype.Ba=function(){return this.$};function Ul(a){a=s(a)?a:{};Nl.call(this,{condition:s(a.condition)?a.condition:sl,style:s(a.style)?a.style:new Tl({stroke:new Ol({color:[0,0,255,1]})})})}D(Ul,Nl);Ul.prototype.Ci=function(){var a=this.ia(),b=a.B(),c=this.Vf().S(),d=xj(c),e=a.T(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);ol(a,b,c,d,200)};function Vl(a){ll.call(this);a=s(a)?a:{};this.cb=s(a.condition)?a.condition:qb(rl,tl);this.Ql=s(a.pixelDelta)?a.pixelDelta:128}D(Vl,ll);
Vl.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.keyCode;if(this.cb(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.B(),e=b.D(),f=e.resolution*this.Ql,g=0,k=0;40==c?k=-f:37==c?g=-f:39==c?g=f:k=f;c=[g,k];di(c,e.rotation);e=b.na();s(e)&&(s(100)&&d.Ka(bl({source:e,duration:100,easing:al})),d=b.Wc.center([e[0]+c[0],e[1]+c[1]]),b.Xa(d));a.preventDefault();b=!0}}return!b};function Wl(a){ll.call(this);a=s(a)?a:{};this.cb=s(a.condition)?a.condition:tl;this.Ma=s(a.delta)?a.delta:1;this.la=s(a.duration)?a.duration:100}D(Wl,ll);Wl.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.charCode;if(this.cb(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Ma:-this.Ma;b.render();var d=b.B();nl(b,d,c,void 0,this.la);a.preventDefault();b=!0}}return!b};function Xl(a){a=s(a)?a:{};ll.call(this);this.Ma=0;this.la=s(a.duration)?a.duration:250;this.jg=null;this.Gb=this.bf=void 0}D(Xl,ll);Xl.prototype.wb=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.Q;this.jg=a.coordinate;this.Ma+=c.deltaY;s(this.bf)||(this.bf=ta());c=Math.max(80-(ta()-this.bf),0);l.clearTimeout(this.Gb);this.Gb=l.setTimeout(C(this.dk,this,b),c);a.preventDefault();b=!0}return!b};
Xl.prototype.dk=function(a){var b=rb(this.Ma,-1,1),c=a.B();a.render();nl(a,c,-b,this.jg,this.la);this.Ma=0;this.jg=null;this.Gb=this.bf=void 0};function Yl(a){ul.call(this);a=s(a)?a:{};this.ab=null;this.nb=void 0;this.yd=!1;this.$e=0;this.Em=s(a.threshold)?a.threshold:.3}D(Yl,ul);Yl.prototype.wc=function(a){var b=0,c=this.ba[0],d=this.ba[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);s(this.nb)&&(b=c-this.nb,this.$e+=b,!this.yd&&Math.abs(this.$e)>this.Em&&(this.yd=!0));this.nb=c;a=a.map;c=Ag(a.M);d=vl(this.ba);d[0]-=c.x;d[1]-=c.y;this.ab=a.ed(d);this.yd&&(c=a.B(),d=c.D(),a.render(),ml(a,c,d.rotation+b,this.ab))};
Yl.prototype.xc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Vk(b,-1);if(this.yd){var c=b.D().rotation,d=this.ab,c=b.constrainRotation(c,0);ml(a,b,c,d,250)}return!1}return!0};Yl.prototype.vc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.nb=void 0,this.yd=!1,this.$e=0,this.yc||Vk(a.B(),1),a.render(),!0):!1};function Zl(a){a=s(a)?a:{};ul.call(this);this.ab=null;this.la=s(a.duration)?a.duration:400;this.Ae=void 0;this.kg=1}D(Zl,ul);Zl.prototype.wc=function(a){var b=1,c=this.ba[0],d=this.ba[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);s(this.Ae)&&(b=this.Ae/e);this.Ae=e;1!=b&&(this.kg=b);a=a.map;var e=a.B(),c=e.D(),d=Ag(a.M),f=vl(this.ba);f[0]-=d.x;f[1]-=d.y;this.ab=a.ed(f);a.render();ol(a,e,c.resolution*b,this.ab)};
Zl.prototype.xc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Vk(b,-1);var c=b.D().resolution,d=this.ab,e=this.la,c=b.constrainResolution(c,0,this.kg-1);ol(a,b,c,d,e);return!1}return!0};Zl.prototype.vc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.Ae=void 0,this.kg=1,this.yc||Vk(a.B(),1),a.render(),!0):!1};function $l(a){var b=s(a)?a:{};a=gb(b);delete a.layers;b=b.layers;X.call(this,a);this.Bb=null;P(this,Xh("layers"),this.Bk,!1,this);null!=b?ha(b)&&(b=new Zh(Ta(b))):b=new Zh;this.lj(b)}D($l,X);h=$l.prototype;h.Sh=function(){this.Yf()&&this.X()};
h.Bk=function(){null!==this.Bb&&(F(bb(this.Bb),Q),this.Bb=null);var a=this.hd();if(null!=a){this.Bb={add:P(a,"add",this.Ak,!1,this),remove:P(a,"remove",this.Ck,!1,this)};var a=a.dd(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Bb[B(d).toString()]=P(d,["propertychange","change"],this.Sh,!1,this)}this.X()};h.Ak=function(a){a=a.element;this.Bb[B(a).toString()]=P(a,["propertychange","change"],this.Sh,!1,this);this.X()};h.Ck=function(a){a=B(a.element).toString();Q(this.Bb[a]);delete this.Bb[a];this.X()};
h.hd=function(){return this.get("layers")};$l.prototype.getLayers=$l.prototype.hd;$l.prototype.lj=function(a){this.set("layers",a)};$l.prototype.setLayers=$l.prototype.lj;
$l.prototype.Wf=function(a){var b=s(a)?a:[],c=b.length;this.hd().forEach(function(a){a.Wf(b)});a=Wj(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=rb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),s(a.extent)&&s(e.extent)&&(e.extent=Bj(e.extent,a.extent));return b};
$l.prototype.Ph=function(){return"ready"};function am(a){Hj.call(this,{code:a,units:"m",extent:bm,global:!0,worldExtent:cm})}D(am,Hj);var dm=6378137*Math.PI,bm=[-dm,-dm,dm,dm],cm=[-180,-85,180,85],em=Na("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new am(a)});
function fm(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function gm(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function hm(a,b){Hj.call(this,{code:a,units:"degrees",extent:im,axisOrientation:b,global:!0,worldExtent:im})}D(hm,Hj);var im=[-180,-90,180,90],jm=[new hm("CRS:84"),new hm("EPSG:4326","neu"),new hm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new hm("urn:ogc:def:crs:OGC:1.3:CRS84"),new hm("urn:ogc:def:crs:OGC:2:84"),new hm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new hm("urn:x-ogc:def:crs:EPSG:4326","neu")];function km(a){Xj.call(this,a)}D(km,Xj);km.prototype.ke=function(){return this.get("preload")};km.prototype.getPreload=km.prototype.ke;km.prototype.vm=function(a){this.set("preload",a)};km.prototype.setPreload=km.prototype.vm;km.prototype.me=function(){return this.get("useInterimTilesOnError")};km.prototype.getUseInterimTilesOnError=km.prototype.me;km.prototype.xm=function(a){this.set("useInterimTilesOnError",a)};km.prototype.setUseInterimTilesOnError=km.prototype.xm;function lm(a,b,c,d,e){this.Ud={};this.A=a;this.Fc=b;this.Y=c;this.ra=d;this.Xm=e;this.$=this.P=this.ha=this.hh=this.gh=this.fh=null;this.$k=this.Zk=this.dg=this.ai=this.$h=this.Zh=0;this.al=!1;this.ue=this.bl=0;this.cl=!1;this.ci=0;this.ca="";this.Id=this.cf=this.xj=this.wj=0;this.Kg=this.Jd=this.Hd=null;this.Pe=[];this.Bj=Hh()}
function mm(a,b,c){if(null!==a.$){b=Al(b,0,c,2,a.ra,a.Pe);c=a.A;var d=a.Bj,e=c.globalAlpha;1!=a.dg&&(c.globalAlpha=e*a.dg);var f=a.bl;a.al&&(f+=a.Xm);var g,k;g=0;for(k=b.length;g<k;g+=2){var m=b[g]-a.Zh,n=b[g+1]-a.$h;a.cl&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.ue){var p=m+a.Zh,r=n+a.$h;xk(d,p,r,a.ue,a.ue,f,-p,-r);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.$,a.Zk,a.$k,a.ci,a.ai,m,n,a.ci,a.ai)}0===f&&1==a.ue||c.setTransform(1,0,0,1,0,0);1!=a.dg&&(c.globalAlpha=e)}}
function nm(a,b,c,d){var e=0;if(null!==a.Kg&&""!==a.ca){null===a.Hd||om(a,a.Hd);null===a.Jd||pm(a,a.Jd);var f=a.Kg,g=a.A,k=a.hh;null===k?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.hh={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(k.font!=f.font&&(k.font=g.font=f.font),k.textAlign!=f.textAlign&&(k.textAlign=g.textAlign=f.textAlign),k.textBaseline!=f.textBaseline&&(k.textBaseline=g.textBaseline=f.textBaseline));b=Al(b,e,c,d,a.ra,a.Pe);for(f=a.A;e<c;e+=
d){g=b[e]+a.wj;k=b[e+1]+a.xj;if(0!==a.cf||1!=a.Id){var m=xk(a.Bj,g,k,a.Id,a.Id,a.cf,-g,-k);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Jd||f.strokeText(a.ca,g,k);null===a.Hd||f.fillText(a.ca,g,k)}0===a.cf&&1==a.Id||f.setTransform(1,0,0,1,0,0)}}function qm(a,b,c,d,e,f){var g=a.A;a=Al(b,c,d,e,a.ra,a.Pe);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function rm(a,b,c,d,e){var f=a.A,g,k;g=0;for(k=d.length;g<k;++g)c=qm(a,b,c,d[g],e,!0),f.closePath();return c}h=lm.prototype;h.qh=function(a,b){var c=a.toString(),d=this.Ud[c];s(d)?d.push(b):this.Ud[c]=[b]};
h.rh=function(a){if(Cj(this.Y,a.S())){if(null!==this.ha||null!==this.P){null===this.ha||om(this,this.ha);null===this.P||pm(this,this.P);var b;b=a.N;b=null===b?null:Al(b,0,b.length,a.O,this.ra,this.Pe);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.A;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.ha||d.fill();null===this.P||d.stroke()}""!==this.ca&&nm(this,a.na(),2,2)}};h.sh=function(a,b){var c=a.xn(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];sm[f.Sb()].call(this,f,b)}};
h.xh=function(a){var b=a.N;a=a.O;null===this.$||mm(this,b,b.length);""!==this.ca&&nm(this,b,b.length,a)};h.vh=function(a){var b=a.N;a=a.O;null===this.$||mm(this,b,b.length);""!==this.ca&&nm(this,b,b.length,a)};h.th=function(a){if(Cj(this.Y,a.S())){if(null!==this.P){pm(this,this.P);var b=this.A,c=a.N;b.beginPath();qm(this,c,0,c.length,a.O,!1);b.stroke()}""!==this.ca&&(a=a.un(),nm(this,a,2,2))}};
h.uh=function(a){var b=a.S();if(Cj(this.Y,b)){if(null!==this.P){pm(this,this.P);var b=this.A,c=a.N,d=0,e=a.Aa,f=a.O;b.beginPath();var g,k;g=0;for(k=e.length;g<k;++g)d=qm(this,c,d,e[g],f,!1);b.stroke()}""!==this.ca&&(a=a.vn(),nm(this,a,a.length,2))}};
h.Pf=function(a){if(Cj(this.Y,a.S())){if(null!==this.P||null!==this.ha){null===this.ha||om(this,this.ha);null===this.P||pm(this,this.P);var b=this.A;b.beginPath();rm(this,Hl(a),0,a.Aa,a.O);null===this.ha||b.fill();null===this.P||b.stroke()}if(""!==this.ca){if(a.Dh!=a.Fa){b=xj(a.S());var c=Hl(a),d=a.Aa,e=a.O,f,g,k,m,n,p=b[1],r=[],t=d[0];k=c[t-e];n=c[t-e+1];for(f=0;f<t;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)k=(p-n)/(g-n)*(m-k)+k,r.push(k);k=m;n=g}t=NaN;n=-Infinity;r.sort();k=r[0];f=1;for(g=
r.length;f<g;++f){m=r[f];var y=Math.abs(m-k);y>n&&(k=(k+m)/2,El(c,d,e,k,p)&&(t=k,n=y));k=m}isNaN(t)&&(t=b[0]);s(void 0)?((void 0).push(t,p),b=void 0):b=[t,p];a.Eh=b;a.Dh=a.Fa}nm(this,a.Eh,2,2)}}};
h.wh=function(a){if(Cj(this.Y,a.S())){if(null!==this.P||null!==this.ha){null===this.ha||om(this,this.ha);null===this.P||pm(this,this.P);var b=this.A,c=Hl(a),d=0,e=a.sn(),f=a.O,g,k;g=0;for(k=e.length;g<k;++g){var m=e[g];b.beginPath();d=rm(this,c,d,m,f);null===this.ha||b.fill();null===this.P||b.stroke()}}""!==this.ca&&(a=a.tn(),nm(this,a,a.length,2))}};
h.flush=function(){var a=Na(cb(this.Ud),Number);a.sort(Ya);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Ud[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function om(a,b){var c=a.A,d=a.fh;null===d?(c.fillStyle=b.fillStyle,a.fh={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function pm(a,b){var c=a.A,d=a.gh;null===d?(c.lineCap=b.lineCap,ri&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.gh={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),ri&&!Wa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
h.kj=function(a,b){if(null===a)this.ha=null;else{var c=a.Yd;this.ha={fillStyle:Pl(null===c?Ql:c)}}if(null===b)this.P=null;else{var c=b.Yd,d=b.pi,e=b.getLineDash(),f=b.ri,g=b.vb(),k=b.zi;this.P={lineCap:s(d)?d:"round",lineDash:null!=e?e:Rl,lineJoin:s(f)?f:"round",lineWidth:this.Fc*(s(g)?g:1),miterLimit:s(k)?k:10,strokeStyle:Pl(null===c?Sl:c)}}};
h.oj=function(a){if(null===a)this.ca="";else{var b=a.Ch;null===b?this.Hd=null:(b=b.Yd,this.Hd={fillStyle:Pl(null===b?Ql:b)});var c=a.uj;if(null===c)this.Jd=null;else{var b=c.Yd,d=c.pi,e=c.getLineDash(),f=c.ri,g=c.vb(),c=c.zi;this.Jd={lineCap:s(d)?d:"round",lineDash:null!=e?e:Rl,lineJoin:s(f)?f:"round",lineWidth:s(g)?g:1,miterLimit:s(c)?c:10,strokeStyle:Pl(null===b?Sl:b)}}var b=a.wn(),d=a.yn(),e=a.zn(),f=a.Qb(),g=a.Bn(),c=a.ca,k=a.Cn();a=a.Dn();this.Kg={font:s(b)?b:"10px sans-serif",textAlign:s(k)?
k:"center",textBaseline:s(a)?a:"middle"};this.ca=s(c)?c:"";this.wj=s(d)?this.Fc*d:0;this.xj=s(e)?this.Fc*e:0;this.cf=s(f)?f:0;this.Id=this.Fc*(s(g)?g:1)}};var sm={Point:lm.prototype.xh,LineString:lm.prototype.th,Polygon:lm.prototype.Pf,MultiPoint:lm.prototype.vh,MultiLineString:lm.prototype.uh,MultiPolygon:lm.prototype.wh,GeometryCollection:lm.prototype.sh,Circle:lm.prototype.rh};var tm=["Polygon","LineString","Image","Text"];function um(a,b,c){this.ql=b;this.aj=c;this.wd={};ki(1,1);Hh()}um.prototype.Yi=function(a,b,c,d,e,f){var g=Na(cb(this.wd),Number);g.sort(Ya);return this.hm(g,a,b,c,d,e,f)};
um.prototype.hm=function(a,b,c,d,e,f,g){var k=this.ql,m=k[0],n=k[1],p=k[2],k=k[3],m=Al([m,n,m,k,p,k,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var r,t,m=0,n=a.length;m<n;++m)for(r=this.wd[a[m].toString()],p=0,k=tm.length;p<k;++p)if(t=r[tm[p]],s(t)&&Cj(c,t.S())&&(t=t.Yi(b,d,e,f,g)))return t;b.restore()};um.prototype.finish=function(){for(var a in this.wd){var b=this.wd[a],c;for(c in b)b[c].finish()}};
um.prototype.lb=function(){return db(this.wd)};function vm(a,b){ok.call(this,a,b);this.ra=Hh()}D(vm,ok);
vm.prototype.Gf=function(a,b,c){this.za("precompose",c,a,void 0);var d=this.Ba();if(null!==d){var e=this.bi,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],k=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(k))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.za("postcompose",c,a,void 0)};
vm.prototype.za=function(a,b,c,d){var e=this.od;if(e.yb(a)){if(!s(d)){d=c.viewState;var f=c.pixelRatio;d=xk(this.ra,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new lm(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new Il(a,e,d,0,c,b,null));d.flush()}};
var wm=function(){var a=null,b=null;return function(c){if(null===a){a=ki(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Wa(b.data,c.data));return e}}();function xm(a,b){vm.call(this,a,b);this.La=this.d=null;this.Df=!1;this.A=null;this.bi=Hh();this.xg=NaN;this.Ye=this.dc=null}D(xm,vm);xm.prototype.Ba=function(){return this.d};
xm.prototype.ud=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.od,g=f.W,k=mk(g,e),m=Zj(k.Nc,d.resolution,0),n=nk(g,m,e),p=n/hk(k,m),r=k.k(m),p=r/p,t=d.center,y;r==d.resolution?(t=tk(t,r,a.size),y=Aj(t,r,d.rotation,a.size)):y=a.extent;s(b.extent)&&(y=Bj(y,b.extent));if(y[2]<y[0]||y[3]<y[1])return!1;var v=ek(k,y,r),q=n*v.vb(),x=n*v.ie(),u,z;null===this.d?(z=ki(q,x),this.d=z.canvas,this.La=[q,x],this.A=z,this.Df=!wm(this.La)):(u=this.d,z=this.A,this.La[0]<q||this.La[1]<x||this.Df&&
(this.La[0]>q||this.La[1]>x)?(u.width=q,u.height=x,this.La=[q,x],this.Df=!wm(this.La),this.dc=null):(q=this.La[0],x=this.La[1],m==this.xg&&rj(this.dc,v)||(this.dc=null,m<this.xg&&this.A.clearRect(0,0,q,x))));var A,G;null===this.dc?(q/=n,x/=n,A=v.n-Math.floor((q-v.vb())/2),G=v.t-Math.floor((x-v.ie())/2),this.xg=m,this.dc=new pj(A,A+q-1,G,G+x-1),this.Ye=Array(q*x),x=this.dc):(x=this.dc,q=x.vb());u={};u[m]={};var E=[],J=C(g.Uf,g,u,sk(function(a){return null!==a&&2==a.D()},g,c,e)),ba=f.me();s(ba)||(ba=
!0);var K=wj(),ca=new pj(0,0,0,0),T,H,R;for(G=v.n;G<=v.G;++G)for(R=v.t;R<=v.s;++R)H=g.Rb(m,G,R,c,e),A=H.D(),2==A||4==A||3==A&&!ba?u[m][oj(H.o)]=H:(T=k.de(H.o,J,null,ca,K),T||(E.push(H),T=k.le(H.o,ca,K),null===T||J(m+1,T)));J=0;for(T=E.length;J<T;++J)H=E[J],G=n*(H.o[1]-x.n),R=n*(x.s-H.o[2]),z.clearRect(G,R,n,n);E=Na(cb(u),Number);E.sort(Ya);var O=g.Nl,xa=zj(ck(k,[m,x.n,x.s],K)),oa,ra,Se,ud,Sb,mh,J=0;for(T=E.length;J<T;++J)if(oa=E[J],n=nk(g,oa,e),ud=u[oa],oa==m)for(Se in ud)H=ud[Se],ra=(H.o[2]-x.t)*
q+(H.o[1]-x.n),this.Ye[ra]!=H&&(G=n*(H.o[1]-x.n),R=n*(x.s-H.o[2]),A=H.D(),4!=A&&(3!=A||ba)&&O||z.clearRect(G,R,n,n),2==A&&z.drawImage(H.Ba(),0,0,n,n,G,R,n,n),this.Ye[ra]=H);else for(Se in oa=k.k(oa)/r,ud)for(H=ud[Se],ra=ck(k,H.o,K),G=(ra[0]-xa[0])/p,R=(xa[1]-ra[3])/p,mh=oa*n,Sb=oa*n,A=H.D(),4!=A&&O||z.clearRect(G,R,mh,Sb),2==A&&z.drawImage(H.Ba(),0,0,n,n,G,R,mh,Sb),H=dk(k,ra,m,ca),A=Math.max(H.n,x.n),R=Math.min(H.G,x.G),G=Math.max(H.t,x.t),H=Math.min(H.s,x.s);A<=R;++A)for(Sb=G;Sb<=H;++Sb)ra=(Sb-x.t)*
q+(A-x.n),this.Ye[ra]=void 0;rk(a.usedTiles,g,m,v);uk(a,g,k,c,e,y,m,f.ke());pk(a,g);qk(a,g);xk(this.bi,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(xa[0]-t[0])/p,(t[1]-xa[1])/p);return!0};function ym(a,b){zk.call(this,0,b);this.A=ki();this.d=this.A.canvas;this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";xe(a,this.d,0);this.v=!0;this.ra=Hh()}D(ym,zk);ym.prototype.Zd=function(a){return a instanceof km?new xm(this,a):null};
ym.prototype.za=function(a,b){var c=this.ia(),d=this.A;if(c.yb(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,k=g.resolution,m=g.rotation;xk(this.ra,this.d.width/2,this.d.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new lm(d,f,e,this.ra,m);k=new um(0,e,k);c.dispatchEvent(new Il(a,c,g,0,b,d,null));k.finish();k.lb()||k.Yi(d,e,f,this.ra,m,{});g.flush()}};ym.prototype.Sb=function(){return"canvas"};
ym.prototype.We=function(a){if(null===a)this.v&&(W(this.d,!1),this.v=!1);else{var b=this.A,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.d.width!=c||this.d.height!=d?(this.d.width=c,this.d.height=d):b.clearRect(0,0,this.d.width,this.d.height);Ak(a);this.za("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,k;e=0;for(f=c.length;e<f;++e)k=c[e],g=k.layer,g=Ck(this,g),k.visible&&d>=k.minResolution&&d<k.maxResolution&&"ready"==k.Jg&&g.ud(a,k)&&g.Gf(a,k,b);this.za("postcompose",
a);this.v||(W(this.d,!0),this.v=!0);Dk(this,a);a.postRenderFunctions.push(Bk)}};function zm(a,b,c){ok.call(this,a,b);this.target=c}D(zm,ok);zm.prototype.ub=function(){return this.target};function Am(a,b){var c=te("DIV");c.style.position="absolute";zm.call(this,a,b,c);this.v=!0;this.Xi=1;this.Mc=0;this.Ha={}}D(Am,zm);
Am.prototype.ud=function(a,b){if(!b.visible)return this.v&&(W(this.target,!1),this.v=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.od,g=f.W,k=mk(g,e),m=Zj(k.Nc,d.resolution,0),n=k.k(m),p=d.center,r;n==d.resolution?(p=tk(p,n,a.size),r=Aj(p,n,d.rotation,a.size)):r=a.extent;s(b.extent)&&(r=Bj(r,b.extent));var n=ek(k,r,n),t={};t[m]={};var y=C(g.Uf,g,t,sk(function(a){return null!==a&&2==a.D()},g,c,e)),v=f.me();s(v)||(v=!0);var q=wj(),x=new pj(0,0,0,0),u,z,A,G;for(A=n.n;A<=n.G;++A)for(G=
n.t;G<=n.s;++G)u=g.Rb(m,A,G,c,e),z=u.D(),2==z?t[m][oj(u.o)]=u:4==z||3==z&&!v||(z=k.de(u.o,y,null,x,q),z||(u=k.le(u.o,x,q),null===u||y(m+1,u)));var E;if(this.Mc!=g.Fa){for(E in this.Ha)v=this.Ha[+E],ye(v.target);this.Ha={};this.Mc=g.Fa}q=Na(cb(t),Number);q.sort(Ya);var y={},J;A=0;for(G=q.length;A<G;++A){E=q[A];E in this.Ha?v=this.Ha[E]:(v=ik(k,p,E),v=new Bm(k,v),y[E]=!0,this.Ha[E]=v);E=t[E];for(J in E)Cm(v,E[J]);Dm(v)}J=Na(cb(this.Ha),Number);J.sort(Ya);G=Hh();q=0;for(A=J.length;q<A;++q)if(E=J[q],
v=this.Ha[E],E in t)if(z=v.k(),u=v.tc(),xk(G,a.size[0]/2,a.size[1]/2,z/d.resolution,z/d.resolution,d.rotation,(u[0]-p[0])/z,(p[1]-u[1])/z),v.setTransform(G),E in y){for(E-=1;0<=E;--E)if(E in this.Ha){we(v.target,this.Ha[E].target);break}0>E&&xe(this.target,v.target,0)}else a.viewHints[0]||a.viewHints[1]||Em(v,r,x);else ye(v.target),delete this.Ha[E];b.opacity!=this.Xi&&(this.Xi=this.target.style.opacity=b.opacity);b.visible&&!this.v&&(W(this.target,!0),this.v=!0);rk(a.usedTiles,g,m,n);uk(a,g,k,c,
e,r,m,f.ke());pk(a,g);qk(a,g);return!0};function Bm(a,b){this.target=te("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.yj=a;this.Lg=b;this.Me=zj(ck(a,b));this.aj=a.k(b[0]);this.Nd={};this.qc=null;this.ra=Jh()}
function Cm(a,b){var c=b.o,d=c[0],e=c[1],f=c[2],c=oj(c);if(!(c in a.Nd)){var d=hk(a.yj,d),g=b.Ba(a),k=g.style;k.maxWidth="none";k.width=d+"px";k.height=d+"px";k.position="absolute";k.left=(e-a.Lg[1])*d+"px";k.top=(a.Lg[2]-f)*d+"px";null===a.qc&&(a.qc=document.createDocumentFragment());a.qc.appendChild(g);a.Nd[c]=b}}function Dm(a){null!==a.qc&&(a.target.appendChild(a.qc),a.qc=null)}Bm.prototype.tc=function(){return this.Me};Bm.prototype.k=function(){return this.aj};
function Em(a,b,c){var d=dk(a.yj,b,a.Lg[0],c);b=[];for(var e in a.Nd)c=a.Nd[e],d.contains(c.o)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=oj(c.o),ye(c.Ba(a)),delete a.Nd[e]}
Bm.prototype.setTransform=function(a){var b=this.ra;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(mi()){if(s(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");ni(b,"matrix3d("+c+")")}else if(li()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(s(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");ni(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.ra;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function Fm(a,b){zk.call(this,0,b);this.Cc=te("DIV");this.Cc.className="ol-unselectable";var c=this.Cc.style;c.position="absolute";c.width="100%";c.height="100%";xe(a,this.Cc,0);this.v=!0}D(Fm,zk);Fm.prototype.Zd=function(a){if(a instanceof km)a=new Am(this,a);else return null;return a};Fm.prototype.Sb=function(){return"dom"};
Fm.prototype.We=function(a){if(null===a)this.v&&(W(this.Cc,!1),this.v=!1);else{var b;b=function(a,b){xe(this.Cc,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=Ck(this,f),b.call(this,f.ub(),d),"ready"==g.Jg&&f.ud(a,g);b=a.layerStates;for(var k in this.Ca)k in b||(f=this.Ca[k],ye(f.ub()));this.v||(W(this.Cc,!0),this.v=!0);Ak(a);Dk(this,a);a.postRenderFunctions.push(Bk)}};function Gm(){}h=Gm.prototype;h.qh=function(){};h.rh=function(){};h.sh=function(){};h.xh=function(){};h.th=function(){};h.uh=function(){};h.vh=function(){};h.wh=function(){};h.Pf=function(){};h.kj=function(){};h.oj=function(){};function Hm(){this.Xd=Hh();this.Yg=void 0;this.Xg=Hh();this.kh=void 0;this.jh=Hh();this.Xh=void 0;this.Wh=Hh();this.gj=void 0;this.fj=Hh()}
function Im(a,b,c,d,e){var f=!1;s(b)&&b!==a.Yg&&(f=a.Xg,Kh(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.Yg=b,f=!0);if(s(c)&&c!==a.kh){f=a.jh;Kh(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.kh=c;f=!0}s(d)&&d!==a.Xh&&(f=Math.cos(d),g=Math.sin(d),Ih(a.Wh,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.Xh=d,f=!0);s(e)&&e!==a.gj&&(Ih(a.fj,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.gj=e,f=!0);f&&(f=a.Xd,Kh(f),s(c)&&Lh(f,a.jh,f),s(b)&&Lh(f,a.Xg,f),s(e)&&Lh(f,a.fj,f),s(d)&&Lh(f,a.Wh,f));return a.Xd};function Jm(a){this.W=a}function Km(a){this.W=a}D(Km,Jm);Km.prototype.Sb=function(){return 35632};function Lm(a){this.W=a}D(Lm,Jm);Lm.prototype.Sb=function(){return 35633};function Mm(){this.W="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}D(Mm,Km);fa(Mm);function Nm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Nm,Lm);fa(Nm);
function Om(a,b){this.Om=a.getUniformLocation(b,"f");this.Ej=a.getUniformLocation(b,"g");this.Fj=a.getUniformLocation(b,"e");this.Gj=a.getUniformLocation(b,"d");this.jf=a.getUniformLocation(b,"h");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function Pm(){this.W="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}D(Pm,Km);fa(Pm);function Qm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Qm,Lm);fa(Qm);
function Rm(a,b){this.Ej=a.getUniformLocation(b,"f");this.Fj=a.getUniformLocation(b,"e");this.Gj=a.getUniformLocation(b,"d");this.jf=a.getUniformLocation(b,"g");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function Sm(a){this.K=s(a)?a:[]}h=Sm.prototype;h.addRange=function(a,b){if(a!=b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Tm(this);return}c.push(a,b);Tm(this)}};h.clear=function(){this.K.length=0};function Tm(a){a=a.K;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}h.Fh=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};h.dd=function(){return this.K};
h.T=function(){var a=this.K,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};h.lb=function(){return 0===this.K.length};
h.removeRange=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Tm(this)};function Um(a,b,c){this.K=s(a)?a:[];this.Lb=[];this.sc=new Sm;a=s(b)?b:this.K.length;a<this.K.length&&this.sc.addRange(a,this.K.length);this.Tm=s(c)?c:35044}h=Um.prototype;h.add=function(a){var b=a.length,c;a:{c=this.sc.K;var d=c.length,e=-1,f,g,k;for(g=0;g<d;g+=2){k=c[g+1]-c[g];if(k==b){c=c[g];break a}k>b&&(-1==e||k<f)&&(e=c[g],f=k)}c=e}this.sc.removeRange(c,c+b);for(d=0;d<b;++d)this.K[c+d]=a[d];Vm(this,b,c);return c};
h.Fh=function(a,b){if(0!==this.K.length){var c=this.K.length,d=this.sc.K,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};h.dd=function(){return this.K};h.gb=function(){return this.K.length-this.sc.T()};function Vm(a,b,c){var d,e;d=0;for(e=a.Lb.length;d<e;++d)a.Lb[d].addRange(c,c+b)}h.remove=function(a,b){var c,d;this.sc.addRange(b,b+a);c=0;for(d=this.Lb.length;c<d;++c)this.Lb[c].removeRange(b,b+a)};
h.set=function(a,b){var c=this.K,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Vm(this,d,b)};function Wm(a,b){ok.call(this,a,b);this.Tj=new Um([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.ee=this.Fb=null;this.fe=void 0;this.vj=Hh();this.bm=Jh();this.Xd=new Hm;this.Mf=this.Ff=null}D(Wm,ok);
Wm.prototype.bindFramebuffer=function(a,b){var c=this.Ie.U;if(s(this.fe)&&this.fe==b)c.bindFramebuffer(36160,this.ee);else{a.postRenderFunctions.push(sa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.ee,this.Fb));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.Fb=d;this.ee=e;this.fe=b}};
Wm.prototype.Gf=function(a,b,c){this.za("precompose",c,a);c.bindBuffer(34962,this.Tj);var d=c.U,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=Mm.hb(),g=Nm.hb()):(f=Pm.hb(),g=Qm.hb());f=Xm(c,f,g);e?null===this.Ff?this.Ff=g=new Om(d,f):g=this.Ff:null===this.Mf?this.Mf=g=new Rm(d,f):g=this.Mf;c.useProgram(f)&&(d.enableVertexAttribArray(g.lc),d.vertexAttribPointer(g.lc,2,5126,!1,16,0),d.enableVertexAttribArray(g.mc),d.vertexAttribPointer(g.mc,2,5126,!1,16,8),d.uniform1i(g.jf,0));d.uniformMatrix4fv(g.Gj,
!1,this.vj);d.uniformMatrix4fv(g.Fj,!1,this.bm);e&&d.uniformMatrix4fv(g.Om,!1,Im(this.Xd,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.Ej,b.opacity);d.bindTexture(3553,this.Fb);d.drawArrays(5,0,4);this.za("postcompose",c,a)};Wm.prototype.za=function(a,b,c){var d=this.od;d.yb(a)&&d.dispatchEvent(new Il(a,d,new Gm,0,c,null,b))};Wm.prototype.Tb=function(){this.ee=this.Fb=null;this.fe=void 0};function Ym(){this.W="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}D(Ym,Km);fa(Ym);function Zm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}D(Zm,Lm);fa(Zm);function $m(a,b){this.jf=a.getUniformLocation(b,"e");this.Pm=a.getUniformLocation(b,"d");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function an(a,b){Wm.call(this,a,b);this.jk=Ym.hb();this.Wm=Zm.hb();this.ob=null;this.Vi=new Um([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.yg=this.Xe=null;this.Mc=-1}D(an,Wm);an.prototype.c=function(){this.Ie.getContext().deleteBuffer(this.Vi);an.g.c.call(this)};an.prototype.Tb=function(){an.g.Tb.call(this);this.ob=null};
an.prototype.ud=function(a,b){var c=this.Ie,d=c.getContext(),e=c.U,f=a.viewState,g=f.projection,k=this.od,m=k.W,n=mk(m,g),p=Zj(n.Nc,f.resolution,0),r=n.k(p),t=nk(m,p,g),y=t/hk(n,p),v=r/y,q=f.center,x;r==f.resolution?(q=tk(q,r,a.size),x=Aj(q,r,f.rotation,a.size)):x=a.extent;r=ek(n,x,r);if(null!==this.Xe&&this.Xe.yh(r)&&this.Mc==m.Fa)v=this.yg;else{var u=r.T(),u=Math.max(u[0]*t,u[1]*t),z=Math.pow(2,Math.ceil(Math.log(u)/Math.LN2)),u=v*z,A=n.tc(p),G=A[0]+r.n*t*v,v=A[1]+r.t*t*v,v=[G,v,G+u,v+u];this.bindFramebuffer(a,
z);e.viewport(0,0,z,z);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);z=Xm(d,this.jk,this.Wm);d.useProgram(z);null===this.ob&&(this.ob=new $m(e,z));d.bindBuffer(34962,this.Vi);e.enableVertexAttribArray(this.ob.lc);e.vertexAttribPointer(this.ob.lc,2,5126,!1,16,0);e.enableVertexAttribArray(this.ob.mc);e.vertexAttribPointer(this.ob.mc,2,5126,!1,16,8);e.uniform1i(this.ob.jf,0);d={};d[p]={};var E=C(m.Uf,m,d,sk(function(a){return null!==a&&2==a.D()&&c.ka.fa(a.getKey())},m,y,g)),J=k.me();s(J)||(J=
!0);var z=!0,G=wj(),ba=new pj(0,0,0,0),K,ca,T;for(ca=r.n;ca<=r.G;++ca)for(T=r.t;T<=r.s;++T){A=m.Rb(p,ca,T,y,g);if(s(b.extent)&&(K=ck(n,A.o,G),!Cj(K,b.extent)))continue;K=A.D();if(2==K){if(c.ka.fa(A.getKey())){d[p][oj(A.o)]=A;continue}}else if(4==K||3==K&&!J)continue;z=!1;K=n.de(A.o,E,null,ba,G);K||(A=n.le(A.o,ba,G),null===A||E(p+1,A))}E=Na(cb(d),Number);E.sort(Ya);var J=new Float32Array(4),H,R,O,xa,ba=0;for(ca=E.length;ba<ca;++ba)for(R in O=d[E[ba]],O)A=O[R],K=ck(n,A.o,G),T=2*(K[2]-K[0])/u,H=2*(K[3]-
K[1])/u,xa=2*(K[0]-v[0])/u-1,K=2*(K[1]-v[1])/u-1,Gh(J,T,H,xa,K),e.uniform4fv(this.ob.Pm,J),bn(c,A,t,0*y),e.drawArrays(5,0,4);z?(this.Xe=r,this.yg=v,this.Mc=m.Fa):(this.yg=this.Xe=null,this.Mc=-1,a.animate=!0)}rk(a.usedTiles,m,p,r);var oa=c.Ld;uk(a,m,n,y,g,x,p,k.ke(),function(a){var b;(b=2!=a.D()||c.ka.fa(a.getKey()))||(b=a.getKey()in oa.Kc);b||vk(oa,[a,gk(n,a.o),n.k(a.o[0]),t,0*y])},this);pk(a,m);qk(a,m);e=this.vj;Kh(e);Mh(e,(q[0]-v[0])/(v[2]-v[0]),(q[1]-v[1])/(v[3]-v[1]));0!==f.rotation&&Oh(e,f.rotation);
Nh(e,a.size[0]*f.resolution/(v[2]-v[0]),a.size[1]*f.resolution/(v[3]-v[1]));Mh(e,-.5,-.5);return!0};function cn(){this.i=0;this.$c={};this.ua=this.qa=null}h=cn.prototype;h.clear=function(){this.i=0;this.$c={};this.ua=this.qa=null};h.fa=function(a){return this.$c.hasOwnProperty(a)};h.forEach=function(a,b){for(var c=this.qa;null!==c;)a.call(b,c.jc,c.ze,this),c=c.Da};h.get=function(a){a=this.$c[a];if(a===this.ua)return a.jc;a===this.qa?(this.qa=this.qa.Da,this.qa.Db=null):(a.Da.Db=a.Db,a.Db.Da=a.Da);a.Da=null;a.Db=this.ua;this.ua=this.ua.Da=a;return a.jc};h.gb=function(){return this.i};
h.Sa=function(){var a=Array(this.i),b=0,c;for(c=this.ua;null!==c;c=c.Db)a[b++]=c.ze;return a};h.Ta=function(){var a=Array(this.i),b=0,c;for(c=this.ua;null!==c;c=c.Db)a[b++]=c.jc;return a};h.pop=function(){var a=this.qa;delete this.$c[a.ze];null!==a.Da&&(a.Da.Db=null);this.qa=a.Da;null===this.qa&&(this.ua=null);--this.i;return a.jc};h.set=function(a,b){var c={ze:a,Da:null,Db:this.ua,jc:b};null===this.ua?this.qa=c:this.ua.Da=c;this.ua=c;this.$c[a]=c;++this.i};function dn(a,b){this.d=a;this.U=b;this.rb={};this.Ed={};this.vd={};this.Jf=null;P(this.d,"webglcontextlost",this.Tb,!1,this);P(this.d,"webglcontextrestored",this.ag,!1,this)}h=dn.prototype;
h.bindBuffer=function(a,b){var c=this.U,d=b.dd(),e=B(b);if(e in this.rb)e=this.rb[e],c.bindBuffer(a,e.buffer),e.$d.Fh(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.$d.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.Tm);var g=new Sm;b.Lb.push(g);this.rb[e]={Zg:b,buffer:f,$d:g}}};
h.deleteBuffer=function(a){var b=this.U;a=B(a);var c=this.rb[a];Ra(c.Zg.Lb,c.$d);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.rb[a]};h.c=function(){Za(this.rb,function(a){Ra(a.Zg.Lb,a.$d)});var a=this.U;a.isContextLost()||(Za(this.rb,function(b){a.deleteBuffer(b.buffer)}),Za(this.vd,function(b){a.deleteProgram(b)}),Za(this.Ed,function(b){a.deleteShader(b)}))};
function en(a,b){var c=B(b);if(c in a.Ed)return a.Ed[c];var d=a.U,e=d.createShader(b.Sb());d.shaderSource(e,b.W);d.compileShader(e);return a.Ed[c]=e}function Xm(a,b,c){var d=B(b)+"/"+B(c);if(d in a.vd)return a.vd[d];var e=a.U,f=e.createProgram();e.attachShader(f,en(a,b));e.attachShader(f,en(a,c));e.linkProgram(f);return a.vd[d]=f}h.Tb=function(){eb(this.rb);eb(this.Ed);eb(this.vd);this.Jf=null};h.ag=function(){};h.useProgram=function(a){if(a==this.Jf)return!1;this.U.useProgram(a);this.Jf=a;return!0};function fn(a,b){zk.call(this,0,b);this.d=te("CANVAS");this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";xe(a,this.d,0);this.bh=0;this.dh=ki();this.v=!0;this.U=pi(this.d,{antialias:!0,depth:!1,hk:!0,preserveDrawingBuffer:!1,stencil:!0});this.A=new dn(this.d,this.U);P(this.d,"webglcontextlost",this.Tb,!1,this);P(this.d,"webglcontextrestored",this.ag,!1,this);this.ka=new cn;this.Ob=null;this.Ld=new Ek(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.Ob[0],b=b[1]-
this.Ob[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.gl=C(function(){if(!this.Ld.lb()){Ik(this.Ld);var a=Fk(this.Ld);bn(this,a[0],a[3],a[4])}},this);this.Kd=0;gn(this)}D(fn,zk);
function bn(a,b,c,d){var e=a.U,f=b.getKey();if(a.ka.fa(f))a=a.ka.get(f),e.bindTexture(3553,a.Fb),9729!=a.ui&&(e.texParameteri(3553,10240,9729),a.ui=9729),9729!=a.yi&&(e.texParameteri(3553,10240,9729),a.yi=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var k=a.dh.canvas,m=a.dh;a.bh!=c?(k.width=c,k.height=c,a.bh=c):m.clearRect(0,0,c,c);m.drawImage(b.Ba(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,k)}else e.texImage2D(3553,0,6408,6408,5121,b.Ba());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.ka.set(f,{Fb:g,ui:9729,yi:9729})}}h=fn.prototype;h.Zd=function(a){return a instanceof km?new an(this,a):null};h.za=function(a,b){var c=this.ia();if(c.yb(a)){var d=this.getContext();c.dispatchEvent(new Il(a,c,new Gm,0,b,null,d))}};h.c=function(){var a=this.U;a.isContextLost()||this.ka.forEach(function(b){null===b||a.deleteTexture(b.Fb)});sc(this.A);fn.g.c.call(this)};
h.gk=function(a,b){for(var c=this.U,d;1024<this.ka.gb()-this.Kd;){d=this.ka.qa.jc;if(null===d)if(+this.ka.qa.ze==b.index)break;else--this.Kd;else c.deleteTexture(d.Fb);this.ka.pop()}};h.getContext=function(){return this.A};h.Sb=function(){return"webgl"};h.Tb=function(a){a.preventDefault();this.ka.clear();this.Kd=0;Za(this.Ca,function(a){a.Tb()})};h.ag=function(){gn(this);this.ia().render()};
function gn(a){a=a.U;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
h.We=function(a){var b=this.getContext(),c=this.U;if(c.isContextLost())return!1;if(null===a)return this.v&&(W(this.d,!1),this.v=!1),!1;this.Ob=a.focus;this.ka.set((-a.index).toString(),null);++this.Kd;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,k,m,n;g=0;for(k=e.length;g<k;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.Jg&&(m=Ck(this,n.layer),m.ud(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.d.width!=e||this.d.height!=f)this.d.width=
e,this.d.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.d.width,this.d.height);this.za("precompose",a);g=0;for(k=d.length;g<k;++g)n=d[g],m=Ck(this,n.layer),m.Gf(a,n,b);this.v||(W(this.d,!0),this.v=!0);Ak(a);1024<this.ka.gb()-this.Kd&&a.postRenderFunctions.push(C(this.gk,this));this.Ld.lb()||(a.postRenderFunctions.push(this.gl),a.animate=!0);this.za("postcompose",a);Dk(this,a);a.postRenderFunctions.push(Bk)};var hn=["canvas","webgl","dom"];
function Z(a){Th.call(this);var b=jn(a);this.Fc=s(a.pixelRatio)?a.pixelRatio:qi;this.jl=b.logos;this.wf=new bg(this.fm,void 0,this);rc(this,this.wf);this.Yj=Hh();this.Rl=Hh();this.kk=0;this.nd=this.of=this.ug=this.tb=null;this.M=pe("DIV","ol-viewport");this.M.style.position="relative";this.M.style.overflow="hidden";this.M.style.width="100%";this.M.style.height="100%";this.M.style.msTouchAction="none";ti&&(this.M.className="ol-touch");this.Qi=pe("DIV","ol-overlaycontainer");this.M.appendChild(this.Qi);
this.Ne=pe("DIV","ol-overlaycontainer-stopevent");P(this.Ne,["click","dblclick","mousedown","touchstart","MSPointerDown",ij,vc],uc);this.M.appendChild(this.Ne);a=new aj(this);P(a,bb(lj),this.wb,!1,this);rc(this,a);this.ki=b.keyboardEventTarget;this.Ua=new Hf;P(this.Ua,"key",this.Qh,!1,this);rc(this,this.Ua);a=new Ah(this.M);P(a,"mousewheel",this.Qh,!1,this);rc(this,a);this.Hf=b.controls;this.ck=b.deviceOptions;this.we=b.interactions;this.Oe=b.overlays;this.ja=new b.gm(this.M,this);rc(this,this.ja);
this.Nj=new zh;rc(this,this.Nj);P(this.Nj,"resize",this.Lj,!1,this);this.Ob=null;this.Te=[];this.Ri=[];this.zj=new Jk(C(this.ok,this),C(this.Tk,this));this.Am={};P(this,Xh("layergroup"),this.xk,!1,this);P(this,Xh("view"),this.Vk,!1,this);P(this,Xh("size"),this.Pk,!1,this);P(this,Xh("target"),this.Rk,!1,this);this.Dd(b.Vm);this.Hf.forEach(function(a){a.setMap(this)},this);P(this.Hf,"add",function(a){a.element.setMap(this)},!1,this);P(this.Hf,"remove",function(a){a.element.setMap(null)},!1,this);this.we.forEach(function(a){a.setMap(this)},
this);P(this.we,"add",function(a){a.element.setMap(this)},!1,this);P(this.we,"remove",function(a){a.element.setMap(null)},!1,this);this.Oe.forEach(function(a){a.setMap(this)},this);P(this.Oe,"add",function(a){a.element.setMap(this)},!1,this);P(this.Oe,"remove",function(a){a.element.setMap(null)},!1,this)}D(Z,Th);Z.prototype.Ka=function(a){this.render();Array.prototype.push.apply(this.Te,arguments)};Z.prototype.c=function(){ye(this.M);Z.g.c.call(this)};Z.prototype.ub=function(){return this.get("target")};
Z.prototype.getTarget=Z.prototype.ub;Z.prototype.ed=function(a){var b=this.tb;if(null===b)return null;a=a.slice();return yk(b.pixelToCoordinateMatrix,a,a)};Z.prototype.je=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.je;Z.prototype.hd=function(){return this.je().hd()};function xl(a,b){var c=a.tb;if(null===c)return null;var d=b.slice(0,2);return yk(c.coordinateToPixelMatrix,d,d)}Z.prototype.T=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.T;
Z.prototype.B=function(){return this.get("view")};Z.prototype.getView=Z.prototype.B;h=Z.prototype;h.ok=function(a,b,c,d){var e=this.tb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][oj(a.o)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};h.Qh=function(a,b){var c=new Zi(b||a.type,this,a);this.wb(c)};
h.wb=function(a){if(null!==this.tb){this.Ob=a.coordinate;a.frameState=this.tb;var b=this.we.dd(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.xa&&!d.wb(a))break}}};
h.Mk=function(){var a=this.tb,b=this.zj;if(!b.lb()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.ck;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=ab(a.wantedTiles)}c*=e;d*=e;if(b.Md<c){Ik(b);c=Math.min(c-b.Md,d,b.gb());for(d=0;d<c;++d)e=Fk(b)[0],Sc(e,"change",b.Sk,!1,b),e.load();b.Md+=c}}b=this.Ri;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};h.Pk=function(){this.render()};
h.Rk=function(){var a=this.ub(),a=s(a)?V(a):null;this.Ua.detach();null===a?ye(this.M):(a.appendChild(this.M),If(this.Ua,null===this.ki?a:this.ki));this.Lj()};h.Tk=function(){this.render()};h.Wk=function(){this.render()};h.Vk=function(){null!==this.of&&(Q(this.of),this.of=null);var a=this.B();null!==a&&(this.of=P(a,"propertychange",this.Wk,!1,this));this.render()};h.yk=function(){this.render()};h.zk=function(){this.render()};
h.xk=function(){if(null!==this.nd){for(var a=this.nd.length,b=0;b<a;++b)Q(this.nd[b]);this.nd=null}a=this.je();null!=a&&(this.nd=[P(a,"propertychange",this.zk,!1,this),P(a,"change",this.yk,!1,this)]);this.render()};h.fg=function(){if(!Ae(document,this.M)||"none"==this.M.style.display)return!1;var a=this.T();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.B();return null!==a&&a.fg()?!0:!1};h.render=function(){this.wf.Ac()||this.wf.start()};
h.fm=function(a){var b,c,d,e=this.T(),f=this.B(),g=null;if(s(e)&&0<e[0]&&0<e[1]&&null!==f&&f.fg()){var g=Ta(f.cg),k=this.je().Wf(),m={};b=0;for(c=k.length;b<c;++b)m[B(k[b].layer)]=k[b];d=f.D();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Yj,extent:null,focus:null===this.Ob?d.center:this.Ob,index:this.kk++,layerStates:m,layerStatesArray:k,logos:this.jl,pixelRatio:this.Fc,pixelToCoordinateMatrix:this.Rl,postRenderFunctions:[],size:e,skippedFeatureUids:this.Am,tileQueue:this.zj,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Te;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=Aj(d.center,d.resolution,d.rotation,g.size)}this.tb=g;this.ja.We(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Ri,g.postRenderFunctions),!(b=0!==this.Te.length||g.viewHints[0]||g.viewHints[1])&&(b=this.ug)&&(b=g.extent,c=this.ug,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new ei("moveend",this,
g)),this.ug=vj(g.extent)));this.dispatchEvent(new ei("postrender",this,g));hd(this.Mk,this)};h.rm=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.rm;Z.prototype.Fg=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.Fg;Z.prototype.Gg=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Gg;Z.prototype.ym=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.ym;
Z.prototype.Lj=function(){var a=this.ub(),a=s(a)?V(a):null;if(null===a)this.Fg(void 0);else{var b=ie(a),c=L&&a.currentStyle;c&&Ie(ge(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=Gg(a,c.width,"width","pixelWidth"),a=Gg(a,c.height,"height","pixelHeight"),a=new ee(b,a)):(c=new ee(a.offsetWidth,a.offsetHeight),b=Ig(a),a=Lg(a),a=new ee(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.Fg([a.width,a.height])}};
function jn(a){var b=null;s(a.keyboardEventTarget)&&(b=w(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!s(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;w(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.layers instanceof $l?a.layers:new $l({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=s(a.view)?a.view:new Y;var e=zk,f;s(a.renderer)?ha(a.renderer)?f=a.renderer:w(a.renderer)&&(f=[a.renderer]):f=hn;var g,k;g=0;for(k=f.length;g<k;++g){var m=f[g];if("canvas"==m){if(si){e=ym;break}}else if("dom"==m){e=Fm;break}else if("webgl"==m&&wi){e=fn;break}}s(a.controls)?f=ha(a.controls)?new Zh(Ta(a.controls)):a.controls:
(f=s(void 0)?void 0:{},g=new Zh,(s(f.zoom)?f.zoom:1)&&g.push(new gl(f.zoomOptions)),(s(f.rotate)?f.rotate:1)&&g.push(new el(f.rotateOptions)),(s(f.attribution)?f.attribution:1)&&g.push(new Xk(f.attributionOptions)),f=g);g=s(a.deviceOptions)?a.deviceOptions:{};if(s(a.interactions))k=ha(a.interactions)?new Zh(Ta(a.interactions)):a.interactions;else{k=s(void 0)?void 0:{};var m=new Zh,n=new il(-.005,.05,100);(s(k.altShiftDragRotate)?k.altShiftDragRotate:1)&&m.push(new yl);(s(k.doubleClickZoom)?k.doubleClickZoom:
1)&&m.push(new pl({delta:k.zoomDelta,duration:k.zoomDuration}));(s(k.dragPan)?k.dragPan:1)&&m.push(new wl({kinetic:n}));(s(k.pinchRotate)?k.pinchRotate:1)&&m.push(new Yl);(s(k.pinchZoom)?k.pinchZoom:1)&&m.push(new Zl({duration:k.zoomDuration}));if(s(k.keyboard)?k.keyboard:1)m.push(new Vl),m.push(new Wl({delta:k.zoomDelta,duration:k.zoomDuration}));(s(k.mouseWheelZoom)?k.mouseWheelZoom:1)&&m.push(new Xl({duration:k.zoomDuration}));(s(k.shiftDragZoom)?k.shiftDragZoom:1)&&m.push(new Ul);k=m}a=s(a.overlays)?
ha(a.overlays)?new Zh(Ta(a.overlays)):a.overlays:new Zh;return{controls:f,deviceOptions:g,interactions:k,keyboardEventTarget:b,logos:d,overlays:a,gm:e,Vm:c}}Kj(em);Kj(jm);F(jm,function(a){F(em,function(b){Mj(a,b,fm);Mj(b,a,gm)})});function $(a){Th.call(this);this.dl=s(a.insertFirst)?a.insertFirst:!0;this.Bm=s(a.stopEvent)?a.stopEvent:!0;this.a=te("DIV");this.a.style.position="absolute";this.L={Rd:"",Ce:"",Ze:"",gf:"",visible:!0};this.He=null;P(this,Xh("element"),this.rk,!1,this);P(this,Xh("map"),this.Dk,!1,this);P(this,Xh("offset"),this.Hk,!1,this);P(this,Xh("position"),this.Kk,!1,this);P(this,Xh("positioning"),this.Lk,!1,this);s(a.element)&&this.ij(a.element);this.mj(s(a.offset)?a.offset:[0,0]);this.nj(s(a.positioning)?a.positioning:
"top-left");s(a.position)&&this.Cd(a.position)}D($,Th);$.prototype.fd=function(){return this.get("element")};$.prototype.getElement=$.prototype.fd;$.prototype.ia=function(){return this.get("map")};$.prototype.getMap=$.prototype.ia;$.prototype.Lh=function(){return this.get("offset")};$.prototype.getOffset=$.prototype.Lh;$.prototype.Xf=function(){return this.get("position")};$.prototype.getPosition=$.prototype.Xf;$.prototype.Nh=function(){return this.get("positioning")};$.prototype.getPositioning=$.prototype.Nh;
h=$.prototype;h.rk=function(){ve(this.a);var a=this.fd();null!=a&&ue(this.a,a)};h.Dk=function(){null!==this.He&&(ye(this.a),Q(this.He),this.He=null);var a=this.ia();null!=a&&(this.He=P(a,"postrender",this.uc,!1,this),kn(this),a=this.Bm?a.Ne:a.Qi,this.dl?xe(a,this.a,0):ue(a,this.a))};h.uc=function(){kn(this)};h.Hk=function(){kn(this)};h.Kk=function(){kn(this)};h.Lk=function(){kn(this)};h.ij=function(a){this.set("element",a)};$.prototype.setElement=$.prototype.ij;
$.prototype.setMap=function(a){this.set("map",a)};$.prototype.setMap=$.prototype.setMap;$.prototype.mj=function(a){this.set("offset",a)};$.prototype.setOffset=$.prototype.mj;$.prototype.Cd=function(a){this.set("position",a)};$.prototype.setPosition=$.prototype.Cd;$.prototype.nj=function(a){this.set("positioning",a)};$.prototype.setPositioning=$.prototype.nj;
function kn(a){var b=a.ia(),c=a.Xf();if(s(b)&&null!==b.tb&&s(c)){var c=xl(b,c),d=b.T(),b=a.a.style,e=a.Lh(),f=a.Nh(),g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.L.Ce&&(a.L.Ce=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.L.Ze!=g&&(a.L.Ze=b.right=g);else{""!==a.L.Ze&&(a.L.Ze=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=Cg(a.a).width/2;g=Math.round(c[0]+g)+"px";a.L.Ce!=g&&(a.L.Ce=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.L.gf&&(a.L.gf=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.L.Rd!=c&&(a.L.Rd=b.bottom=c);else{""!==a.L.Rd&&(a.L.Rd=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=Cg(a.a).height/2;c=Math.round(c[1]+e)+"px";a.L.gf!=c&&(a.L.gf=b.top=c)}a.L.visible||(W(a.a,!0),a.L.visible=!0)}else a.L.visible&&(W(a.a,!1),a.L.visible=!1)};function ln(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function mn(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[sb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function nn(){}function on(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function pn(a,b,c,d,e){Yj.call(this,a,b);this.Fd=c;this.$=new Image;null!==d&&(this.$.crossOrigin=d);this.te={};this.ld=null;this.Im=e}D(pn,Yj);h=pn.prototype;h.Ba=function(a){if(s(a)){var b=B(a);if(b in this.te)return this.te[b];a=db(this.te)?this.$:this.$.cloneNode(!1);return this.te[b]=a}return this.$};h.getKey=function(){return this.Fd};h.sk=function(){this.state=3;F(this.ld,Q);this.ld=null;this.X()};
h.tk=function(){this.state=this.$.naturalWidth&&this.$.naturalHeight?2:4;F(this.ld,Q);this.ld=null;this.X()};h.load=function(){0==this.state&&(this.state=1,this.ld=[Sc(this.$,"error",this.sk,!1,this),Sc(this.$,"load",this.tk,!1,this)],this.Im(this,this.Fd))};function qn(a){cn.call(this);this.Xk=s(a)?a:2048}D(qn,cn);qn.prototype.Kb=function(){return this.gb()>this.Xk};qn.prototype.bd=function(a){for(var b,c;this.Kb()&&!(b=this.qa.jc,c=b.o[0].toString(),c in a&&a[c].contains(b.o));)this.pop().eb()};function rn(a){lk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:s(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=s(a.tileUrlFunction)?a.tileUrlFunction:nn;this.crossOrigin=s(a.crossOrigin)?a.crossOrigin:null;this.da=new qn;this.tileLoadFunction=s(a.tileLoadFunction)?a.tileLoadFunction:sn;this.tileClass=s(a.tileClass)?a.tileClass:pn}D(rn,lk);function sn(a,b){a.Ba().src=b}
rn.prototype.Kb=function(){return this.da.Kb()};rn.prototype.bd=function(a){this.da.bd(a)};rn.prototype.Rb=function(a,b,c,d,e){var f=this.gd(a,b,c);if(this.da.fa(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,s(d)?0:4,s(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.da.set(f,d);return d};rn.prototype.Og=function(a,b,c){a=this.gd(a,b,c);this.da.fa(a)&&this.da.get(a)};function tn(a){var b=s(a.extent)?a.extent:bm,c=jk(b,a.maxZoom,a.tileSize);ak.call(this,{minZoom:a.minZoom,origin:yj(b,"top-left"),resolutions:c,tileSize:a.tileSize})}D(tn,ak);
function un(a,b){var c=s(b)?b:{},d=a.minZoom,e=a.maxZoom,f=s(c.wrapX)?c.wrapX:!0,g=null;if(s(c.extent)){var g=Array(e+1),k;for(k=0;k<=e;++k)g[k]=k<d?null:dk(a,c.extent,k)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var k=Math.pow(2,b),t=a[1];if(f)t=sb(t,k);else if(0>t||k<=t)return null;a=a[2];return a<-k||-1<a||null!==g&&!g[b].Xc(t,a)?null:mj(b,t,-a-1,c)}}tn.prototype.le=function(a,b){return a[0]<this.maxZoom?qj(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
tn.prototype.de=function(a,b,c,d){d=qj(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.n=d.G>>=1,d.t=d.s>>=1,b.call(c,a,d))return!0;return!1};function vn(a){rn.call(this,{crossOrigin:a.crossOrigin,projection:Qj("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new rh(a.url)).send(void 0,C(this.$f,this))}D(vn,rn);
vn.prototype.$f=function(a){var b=Qj("EPSG:4326"),c=this.Jc,d;s(a.bounds)&&(d=Ej(a.bounds,Sj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new tn({extent:kk(c),maxZoom:f,minZoom:e});this.tileUrlFunction=on(un(c,{extent:d}),mn(Na(a.tiles,ln)));if(s(a.attribution)){b=s(d)?d:b.S();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[dk(c,b,e)];this.yf=[new sj({html:a.attribution,tileRanges:d})]}this.j="ready";this.X()};function wn(a){lk.call(this,{projection:Qj("EPSG:3857"),state:"loading"});this.tg=s(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=nn;this.da=new qn;(new rh(a.url)).send(void 0,C(this.$f,this))}D(wn,lk);h=wn.prototype;h.Kb=function(){return this.da.Kb()};h.bd=function(a){this.da.bd(a)};function xn(a,b,c,d,e){null!==a.tileGrid&&(c=fk(a.tileGrid,b[0],b[1],c,!1,void 0),yn(a.Rb(c[0],c[1],c[2],1,a.Jc),b,d,e))}
h.$f=function(a){var b=Qj("EPSG:4326"),c=this.Jc,d;s(a.bounds)&&(d=Ej(a.bounds,Sj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new tn({extent:kk(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=on(un(c,{extent:d}),mn(Na(g,ln)));if(s(a.attribution)){b=s(d)?d:b.S();for(d={};e<=f;++e)g=e.toString(),d[g]=[dk(c,b,e)];this.yf=[new sj({html:a.attribution,tileRanges:d})]}this.j="ready"}else this.j="error";this.X()};
h.Rb=function(a,b,c,d,e){var f=this.gd(a,b,c);if(this.da.fa(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new zn(a,s(d)?0:4,s(d)?d:"",ck(this.tileGrid,a),this.tg);this.da.set(f,d);return d};h.Og=function(a,b,c){a=this.gd(a,b,c);this.da.fa(a)&&this.da.get(a)};function zn(a,b,c,d,e){Yj.call(this,a,b);this.Fd=c;this.Y=d;this.tg=e;this.Kf=this.p=this.ne=null}D(zn,Yj);h=zn.prototype;h.Ba=function(){return null};
h.getData=function(a){if(null!==this.ne&&null!==this.p&&null!==this.Kf){var b=this.ne[Math.floor((1-(a[1]-this.Y[1])/(this.Y[3]-this.Y[1]))*this.ne.length)];if(w(b))return a=b.charCodeAt(Math.floor((a[0]-this.Y[0])/(this.Y[2]-this.Y[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.p[a-32],null!=a?this.Kf[a]:void 0}};function yn(a,b,c,d){0==a.state?(a.og("change",function(){c.call(d,this.getData(b))},!1,a),An(a)):c.call(d,a.getData(b))}h.getKey=function(){return this.Fd};h.pe=function(){this.state=3;this.X()};
h.Zf=function(a){this.ne=a.grid;this.p=a.keys;this.Kf=a.data;this.state=4;this.X()};function An(a){0==a.state&&(a.state=1,(new rh(a.Fd)).send(void 0,C(a.Zf,a),C(a.pe,a)))}h.load=function(){this.tg&&An(this)};function Bn(){var a=[-5.3642,51.3776,-2.6334,53.4369],b=Uj(a),c=vj(b);Dj(c,2);var d=vj(b);Dj(d,1.2);this.vi=V("map");this.nf=new wn({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.J=new Y({extent:c,zoom:7,minZoom:6,maxZoom:9});this.b=new Z({target:this.vi,controls:[],layers:[new km({source:new vn({url:"http://cynefin.tileserver.com/cynefin-counties.json"})}),new km({source:this.nf})],view:this.J});Qh(this.b,jj,function(a){var b=this.J.k()||1;xn(this.nf,a.coordinate,
b,this.Ek,this)},this);Qh(this.b,ej,function(a){var b=this.J.k()||1;xn(this.nf,a.coordinate,b,this.Gk,this)},this);Rh(this.b,function(){var a=this.b.T();a?Uk(this.J,d,a):Cn(this,[-3.9001,52.3118],!0)},this);var e=C(function(a,b){var c=this.J.k()||1;this.b.Ka(dl({resolution:c,duration:250,easing:Zk}));this.J.fc(this.J.constrainResolution(c,a));b.preventDefault()},this);P(V("map-zoom-in"),"click",function(a){e(1,a)});P(V("map-zoom-out"),"click",function(a){e(-1,a)});var f=V("nominatim-input");if(f){var g=
new xh(f,void 0,void 0,a),k=C(function(a){this.zd.Cd(void 0);if(a){var b=Rj("EPSG:4326",this.J.Jc),c=a.bounds||a.viewport,d=Dn(this);c&&d&&(c=Ej(c,b),Dj(c,1.33),Uk(this.J,c,d),Cn(this,this.J.na()),this.J.fc(this.J.constrainResolution(this.J.k())));if(a=[a.lon,a.lat],9<Tk(this.J)){var e=b(a),b=this.J.k()||1;xn(this.nf,e,b,function(a){if(a){var b=a.County,c=a.SHAPE_ID;b&&c&&(this.Zc=!0,We(this.ya,b,C(function(){cf(this.ya,c.toString())},this)),Cn(this,e),this.Zc=!1,this.zd.Cd(e))}},this)}}},this);P(g,
"update",function(a){k(a.Wa);a.preventDefault()});a=Ge(f);P(a,"submit",function(a){a.preventDefault();g.search(f.value,1,function(a,b){k(b[0])})})}this.zd=new $({element:pe("DIV",{"class":"search-marker"})});this.b.Oe.push(this.zd);Qh(this.J,"propertychange",function(){null!=this.zd.Xf()&&(this.zd.Cd(void 0),f.value="")},this);this.ya=new Re;this.Zc=!1;this.ya.pa("opened",function(a){if(!this.Zc){var b=Tk(this.J);if(10!=b){var c=this.J,d=c.constrainResolution(c.pg,10-c.qg,0);c.fc(d)}Cn(this,a.center,
!0,10==b)}},!1,this)}function En(){var a=V("application-panel");return a?Cg(a).width+30:0}function Dn(a){(a=a.b.T())&&(a=[a[0]-En(),a[1]]);return a}function Cn(a,b,c,d){if(b)if(c&&(c=b,b=Rj("EPSG:4326","EPSG:3857")(c)),c=a.J.na(),d&&c&&a.b.Ka(bl({duration:300,source:c})),d=a.b.T(),c=[(d[0]+En())/2,d[1]/2],d){a=a.J;var e=b,f=a.Qb();b=Math.cos(-f);var f=Math.sin(-f),g=e[0]*b-e[1]*f,e=e[1]*b+e[0]*f,k=a.k(),g=g+(d[0]/2-c[0])*k,e=e+(c[1]-d[1]/2)*k,f=-f;a.Xa([g*b-e*f,e*b+g*f])}else a.J.Xa(b)}
Bn.prototype.Ek=function(a){this.vi.style.cursor=a?"pointer":"";Xe(this.ya,a?a.County:null)};Bn.prototype.Gk=function(a){if(a){var b=a.County;if(w(b)){var c=9<Tk(this.J),d=C(function(){c?cf(this.ya,a.SHAPE_ID.toString()):Te(this.ya,"")},this);this.Zc=c;We(this.ya,b,d);this.Zc=!1}}};da("TitheMaps",Bn);})();
