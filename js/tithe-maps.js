var k,aa=aa||{},l=this;function r(a){return void 0!==a}function ba(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ca(){}function da(a){a.lb=function(){return a.ug?a.ug:a.ug=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return"array"==ea(a)}function ha(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function ia(a){return"number"==typeof a}function ja(a){return"function"==ea(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function A(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function oa(a,b,c){return a.call.apply(a.bind,arguments)}function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return C.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function G(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.xk=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}G(sa,Error);sa.prototype.name="CustomError";var ta;function va(a){if(!wa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(xa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ya,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(za,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Aa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ba,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ca,"\x26#0;"));return a}var xa=/&/g,ya=/</g,za=/>/g,Aa=/"/g,Ba=/'/g,Ca=/\x00/g,wa=/[\x00&<>"']/;function Da(a,b){return a<b?-1:a>b?1:0}
function Ea(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Fa(a){var b=y(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var H=Array.prototype,Ga=H.indexOf?function(a,b,c){return H.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(y(a))return y(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},K=H.forEach?function(a,b,c){H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ha=H.filter?function(a,b,c){return H.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=y(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ia=H.map?function(a,b,c){return H.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ja=H.some?function(a,b,c){return H.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ka=H.every?function(a,b,c){return H.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function La(a,b){var c;a:{c=a.length;for(var d=y(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:y(a)?a.charAt(c):a[c]}function Ma(a,b){var c=Ga(a,b),d;(d=0<=c)&&H.splice.call(a,c,1);return d}function Na(a){return H.concat.apply(H,arguments)}function Oa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Pa(a,b,c,d){H.splice.apply(a,Qa(arguments,1))}function Qa(a,b,c){return 2>=arguments.length?H.slice.call(a,b):H.slice.call(a,b,c)}function Ra(a,b){if(!ha(a)||!ha(b)||a.length!=b.length)return!1;for(var c=a.length,d=Sa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ta(a,b){return a>b?1:a<b?-1:0}function Sa(a,b){return a===b};var Ua;a:{var Va=l.navigator;if(Va){var Wa=Va.userAgent;if(Wa){Ua=Wa;break a}}Ua=""}function Xa(a){return-1!=Ua.indexOf(a)};function Ya(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Za(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function $a(a){var b=0,c;for(c in a)b++;return b}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function cb(a){for(var b in a)return!1;return!0}function db(a){for(var b in a)delete a[b]}function eb(a,b){b in a&&delete a[b]}function M(a,b,c){return b in a?a[b]:c}
function fb(a){var b={},c;for(c in a)b[c]=a[c];return b}var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gb.length;f++)c=gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ib,jb,kb=Xa("Opera")||Xa("OPR"),P=Xa("Trident")||Xa("MSIE"),lb=Xa("Gecko")&&-1==Ua.toLowerCase().indexOf("webkit")&&!(Xa("Trident")||Xa("MSIE")),Q=-1!=Ua.toLowerCase().indexOf("webkit"),mb,nb=l.navigator||null;mb=nb&&nb.platform||"";ib=-1!=mb.indexOf("Mac");jb=-1!=mb.indexOf("Win");var ob=-1!=mb.indexOf("Linux");function pb(){var a=l.document;return a?a.documentMode:void 0}
var qb=function(){var a="",b;if(kb&&l.opera)return a=l.opera.version,ja(a)?a():a;lb?b=/rv\:([^\);]+)(\)|;)/:P?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Q&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ua))?a[1]:"");return P&&(b=pb(),b>parseFloat(a))?String(b):a}(),rb={};
function sb(a){var b;if(!(b=rb[a])){b=0;for(var c=String(qb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=Da(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||Da(0==p[2].length,0==q[2].length)||
Da(p[2],q[2])}while(0==b)}b=rb[a]=0<=b}return b}var tb=l.document,ub=tb&&P?pb()||("CSS1Compat"==tb.compatMode?parseInt(qb,10):5):void 0;var vb=!P||P&&9<=ub;!lb&&!P||P&&P&&9<=ub||lb&&sb("1.9.1");var wb=P&&!sb("9");function xb(a,b,c){return Math.min(Math.max(a,b),c)}function yb(a,b){var c=a%b;return 0>c*b?c+b:c};function zb(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}k=zb.prototype;k.clone=function(){return new zb(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof zb?(this.x+=a.x,this.y+=a.y):(this.x+=a,ia(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=ia(b)?b:a;this.x*=a;this.y*=c;return this};function Ab(a,b){this.width=a;this.height=b}k=Ab.prototype;k.clone=function(){return new Ab(this.width,this.height)};k.Ia=function(){return!(this.width*this.height)};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(a,b){var c=ia(b)?b:a;this.width*=a;this.height*=c;return this};function Bb(a){return a?new Cb(Db(a)):ta||(ta=new Cb)}function Eb(a){var b=document;return y(a)?b.getElementById(a):a}function Fb(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function Gb(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Hb?a.setAttribute(Hb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Hb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Jb(a){a=a.document;a=Kb(a)?a.documentElement:a.body;return new Ab(a.clientWidth,a.clientHeight)}function Lb(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!vb&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',va(g.name),'"');if(g.type){f.push(' type\x3d"',va(g.type),'"');var h={};hb(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(y(g)?f.className=g:fa(g)?f.className=g.join(" "):Gb(f,g));2<d.length&&Mb(e,f,d,2);return f}
function Mb(a,b,c,d){function e(c){c&&b.appendChild(y(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ha(f)||la(f)&&0<f.nodeType?e(f):K(Nb(f)?Oa(f):f,e)}}function Ob(a){return document.createElement(a)}function Kb(a){return"CSS1Compat"==a.compatMode}function Pb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Qb(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Rb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Sb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Db(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Tb(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Db(a).createTextNode(String(b)))}}var Ub={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Vb={IMG:" ",BR:"\n"};
function Wb(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Xb(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Xb(a,b,c){if(!(a.nodeName in Ub))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Vb)b.push(Vb[a.nodeName]);else for(a=a.firstChild;a;)Xb(a,b,c),a=a.nextSibling}function Nb(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ja(a))return"function"==typeof a.item}return!1}function Cb(a){this.hc=a||l.document||document}k=Cb.prototype;k.Ec=Gb;k.createElement=function(a){return this.hc.createElement(a)};
k.createTextNode=function(a){return this.hc.createTextNode(String(a))};function Yb(a){var b=a.hc;a=!Q&&Kb(b)?b.documentElement:b.body||b.documentElement;b=b.parentWindow||b.defaultView;return P&&sb("10")&&b.pageYOffset!=a.scrollTop?new zb(a.scrollLeft,a.scrollTop):new zb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}k.appendChild=function(a,b){a.appendChild(b)};k.append=function(a,b){Mb(Db(a),a,arguments,1)};k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=Rb;k.contains=Sb;function Zb(a){if(a.classList)return a.classList;a=a.className;return y(a)&&a.match(/\S+/g)||[]}function $b(a,b){var c;a.classList?c=a.classList.contains(b):(c=Zb(a),c=0<=Ga(c,b));return c}function ac(a,b){a.classList?a.classList.add(b):$b(a,b)||(a.className+=0<a.className.length?" "+b:b)}function bc(a,b){a.classList?a.classList.remove(b):$b(a,b)&&(a.className=Ha(Zb(a),function(a){return a!=b}).join(" "))}function cc(a,b,c){c?ac(a,b):bc(a,b)};var dc=!P||P&&9<=ub,ec=!P||P&&9<=ub,fc=P&&!sb("9");!Q||sb("528");lb&&sb("1.9b")||P&&sb("8")||kb&&sb("9.5")||Q&&sb("528");lb&&!sb("8")||P&&sb("9");function gc(){0!=hc&&(ic[A(this)]=this);this.gc=this.gc;this.tb=this.tb}var hc=0,ic={};gc.prototype.gc=!1;gc.prototype.$c=function(){if(!this.gc&&(this.gc=!0,this.f(),0!=hc)){var a=A(this);delete ic[a]}};function jc(a,b){var c=qa(kc,b);a.tb||(a.tb=[]);a.tb.push(r(void 0)?C(c,void 0):c)}gc.prototype.f=function(){if(this.tb)for(;this.tb.length;)this.tb.shift()()};function kc(a){a&&"function"==typeof a.$c&&a.$c()};function R(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.wb=!1;this.fh=!0}R.prototype.f=function(){};R.prototype.$c=function(){};R.prototype.stopPropagation=function(){this.wb=!0};R.prototype.preventDefault=function(){this.defaultPrevented=!0;this.fh=!1};function lc(a){a.stopPropagation()};var mc=lb?"DOMMouseScroll":"mousewheel",nc=P?"focusout":"DOMFocusOut";function oc(a){oc[" "](a);return a}oc[" "]=ca;function pc(a,b){R.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Kd=!1;this.g=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(lb){var e;a:{try{oc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Q||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Q||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Kd=ib?a.metaKey:a.ctrlKey;this.state=a.state;this.g=a;a.defaultPrevented&&this.preventDefault()}}G(pc,R);var qc=[1,4,2];function rc(a){return(dc?0==a.g.button:"click"==a.type?!0:!!(a.g.button&qc[0]))&&!(Q&&ib&&a.ctrlKey)}pc.prototype.stopPropagation=function(){pc.F.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};
pc.prototype.preventDefault=function(){pc.F.preventDefault.call(this);var a=this.g;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};pc.prototype.Zh=function(){return this.g};pc.prototype.f=function(){};var sc="closure_listenable_"+(1E6*Math.random()|0);function tc(a){return!(!a||!a[sc])}var uc=0;function vc(a,b,c,d,e){this.sb=a;this.Od=null;this.src=b;this.type=c;this.bc=!!d;this.rd=e;this.key=++uc;this.Wb=this.Sc=!1}function wc(a){a.Wb=!0;a.sb=null;a.Od=null;a.src=null;a.rd=null};function xc(a){this.src=a;this.K={};this.Pc=0}xc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.K[f];a||(a=this.K[f]=[],this.Pc++);var g=yc(a,b,d,e);-1<g?(b=a[g],c||(b.Sc=!1)):(b=new vc(b,this.src,f,!!d,e),b.Sc=c,a.push(b));return b};xc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.K))return!1;var e=this.K[a];b=yc(e,b,c,d);return-1<b?(wc(e[b]),H.splice.call(e,b,1),0==e.length&&(delete this.K[a],this.Pc--),!0):!1};
function zc(a,b){var c=b.type;if(!(c in a.K))return!1;var d=Ma(a.K[c],b);d&&(wc(b),0==a.K[c].length&&(delete a.K[c],a.Pc--));return d}xc.prototype.De=function(a,b,c,d){a=this.K[a.toString()];var e=-1;a&&(e=yc(a,b,c,d));return-1<e?a[e]:null};xc.prototype.Ua=function(a,b){var c=r(a),d=c?a.toString():"",e=r(b);return Za(this.K,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].bc!=b))return!0;return!1})};
function yc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Wb&&f.sb==b&&f.bc==!!c&&f.rd==d)return e}return-1};var Ac="closure_lm_"+(1E6*Math.random()|0),Bc={},Cc=0;function S(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)S(a,b[f],c,d,e);return null}c=Dc(c);return tc(a)?Ec(a,b,c,d,e):Fc(a,b,c,!1,d,e)}function Fc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Gc(a);h||(a[Ac]=h=new xc(a));c=h.add(b,c,d,e,f);if(c.Od)return c;d=Hc();c.Od=d;d.src=a;d.sb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Ic(b.toString()),d);Cc++;return c}
function Hc(){var a=Jc,b=ec?function(c){return a.call(b.src,b.sb,c)}:function(c){c=a.call(b.src,b.sb,c);if(!c)return c};return b}function Kc(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)Kc(a,b[f],c,d,e);return null}c=Dc(c);return tc(a)?Lc(a,b,c,d,e):Fc(a,b,c,!0,d,e)}function Mc(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)Mc(a,b[f],c,d,e);else c=Dc(c),tc(a)?a.va.remove(String(b),c,d,e):a&&(a=Gc(a))&&(b=a.De(b,c,!!d,e))&&T(b)}
function T(a){if(ia(a)||!a||a.Wb)return!1;var b=a.src;if(tc(b))return zc(b.va,a);var c=a.type,d=a.Od;b.removeEventListener?b.removeEventListener(c,d,a.bc):b.detachEvent&&b.detachEvent(Ic(c),d);Cc--;(c=Gc(b))?(zc(c,a),0==c.Pc&&(c.src=null,b[Ac]=null)):wc(a);return!0}function Ic(a){return a in Bc?Bc[a]:Bc[a]="on"+a}function Nc(a,b,c,d){var e=1;if(a=Gc(a))if(b=a.K[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.bc==c&&!f.Wb&&(e&=!1!==Pc(f,d))}return Boolean(e)}
function Pc(a,b){var c=a.sb,d=a.rd||a.src;a.Sc&&T(a);return c.call(d,b)}
function Jc(a,b){if(a.Wb)return!0;if(!ec){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new pc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.wb&&0<=h;h--)c.currentTarget=e[h],d&=Nc(e[h],f,!0,c);for(h=0;!c.wb&&h<e.length;h++)c.currentTarget=
e[h],d&=Nc(e[h],f,!1,c)}return d}return Pc(a,new pc(b,this))}function Gc(a){a=a[Ac];return a instanceof xc?a:null}var Qc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Dc(a){if(ja(a))return a;a[Qc]||(a[Qc]=function(b){return a.handleEvent(b)});return a[Qc]};function U(){gc.call(this);this.va=new xc(this);this.Hh=this;this.We=null}G(U,gc);U.prototype[sc]=!0;k=U.prototype;k.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Mc(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.We;if(c)for(b=[];c;c=c.We)b.push(c);var c=this.Hh,d=a.type||a;if(y(a))a=new R(a,c);else if(a instanceof R)a.target=a.target||c;else{var e=a;a=new R(d,c);hb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.wb&&0<=g;g--)f=a.currentTarget=b[g],e=Rc(f,d,!0,a)&&e;a.wb||(f=a.currentTarget=c,e=Rc(f,d,!0,a)&&e,a.wb||(e=Rc(f,d,!1,a)&&e));if(b)for(g=0;!a.wb&&g<b.length;g++)f=a.currentTarget=b[g],e=Rc(f,d,!1,a)&&e;return e};
k.f=function(){U.F.f.call(this);if(this.va){var a=this.va,b=0,c;for(c in a.K){for(var d=a.K[c],e=0;e<d.length;e++)++b,wc(d[e]);delete a.K[c];a.Pc--}}this.We=null};function Ec(a,b,c,d,e){return a.va.add(String(b),c,!1,d,e)}function Lc(a,b,c,d,e){return a.va.add(String(b),c,!0,d,e)}function Rc(a,b,c,d){b=a.va.K[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Wb&&g.bc==c){var h=g.sb,m=g.rd||g.src;g.Sc&&zc(a.va,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.fh}
k.De=function(a,b,c,d){return this.va.De(String(a),b,c,d)};k.Ua=function(a,b){return this.va.Ua(r(a)?String(a):void 0,b)};function Sc(){}Sc.prototype.wf=null;function Tc(a){return a.wf||(a.wf=a.vg())};var Uc;function Vc(){}G(Vc,Sc);Vc.prototype.re=function(){var a=Wc(this);return a?new ActiveXObject(a):new XMLHttpRequest};Vc.prototype.vg=function(){var a={};Wc(this)&&(a[0]=!0,a[1]=!0);return a};
function Wc(a){if(!a.og&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.og=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.og}Uc=new Vc;function Xc(){}G(Xc,Sc);Xc.prototype.re=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Yc;throw Error("Unsupported browser");};Xc.prototype.vg=function(){return{}};
function Yc(){this.ra=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.ra.onload=C(this.Fe,this);this.ra.onerror=C(this.pd,this);this.ra.onprogress=C(this.ri,this);this.ra.ontimeout=C(this.yi,this)}k=Yc.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.ra.open(a,b)};
k.send=function(a){if(a)if("string"==typeof a)this.ra.send(a);else throw Error("Only string data is supported");else this.ra.send()};k.abort=function(){this.ra.abort()};k.setRequestHeader=function(){};k.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.ra.contentType:""};k.Fe=function(){this.status=200;this.responseText=this.ra.responseText;Zc(this,4)};k.pd=function(){this.status=500;this.responseText=null;Zc(this,4)};k.yi=function(){this.pd()};
k.ri=function(){this.status=200;Zc(this,1)};function Zc(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}k.getAllResponseHeaders=function(){return"content-type: "+this.ra.contentType};function $c(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function ad(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function bd(a){return function(){return a}}var cd=bd(!1),dd=bd(!0);function ed(a){return a}function fd(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function gd(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function hd(a){l.setTimeout(function(){throw a;},0)}function id(a,b){var c=a;b&&(c=C(a,b));c=jd(c);!ja(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(kd||(kd=ld()),kd(c)):l.setImmediate(c)}var kd;
function ld(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Xa("Trident")&&!Xa("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.xf;c.xf=null;a()};return function(a){d.next={xf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var jd=ed;function md(a,b){nd||od();pd||(nd(),pd=!0);qd.push(new rd(a,b))}var nd;function od(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();nd=function(){a.then(sd)}}else nd=function(){id(sd)}}var pd=!1,qd=[];function sd(){for(;qd.length;){var a=qd;qd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Wh.call(c.scope)}catch(d){hd(d)}}}pd=!1}function rd(a,b){this.Wh=a;this.scope=b};function td(a,b){this.H=ud;this.Ma=void 0;this.aa=this.ma=null;this.od=this.ze=!1;try{var c=this;a.call(b,function(a){vd(c,wd,a)},function(a){vd(c,xd,a)})}catch(d){vd(this,xd,d)}}var ud=0,wd=2,xd=3;td.prototype.then=function(a,b,c){return yd(this,ja(a)?a:null,ja(b)?b:null,c)};$c(td);td.prototype.cancel=function(a){this.H==ud&&md(function(){var b=new zd(a);Ad(this,b)},this)};
function Ad(a,b){if(a.H==ud)if(a.ma){var c=a.ma;if(c.aa){for(var d=0,e=-1,f=0,g;g=c.aa[f];f++)if(g=g.Uc)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.H==ud&&1==d?Ad(c,b):(d=c.aa.splice(e,1)[0],Bd(c,d,xd,b)))}}else vd(a,xd,b)}function Cd(a,b){a.aa&&a.aa.length||a.H!=wd&&a.H!=xd||Dd(a);a.aa||(a.aa=[]);a.aa.push(b)}
function yd(a,b,c,d){var e={Uc:null,Pg:null,Rg:null};e.Uc=new td(function(a,g){e.Pg=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Rg=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof zd?g(b):a(e)}catch(n){g(n)}}:g});e.Uc.ma=a;Cd(a,e);return e.Uc}td.prototype.Bh=function(a){this.H=ud;vd(this,wd,a)};td.prototype.Ch=function(a){this.H=ud;vd(this,xd,a)};
function vd(a,b,c){if(a.H==ud){if(a==c)b=xd,c=new TypeError("Promise cannot resolve to itself");else{if(ad(c)){a.H=1;c.then(a.Bh,a.Ch,a);return}if(la(c))try{var d=c.then;if(ja(d)){Ed(a,c,d);return}}catch(e){b=xd,c=e}}a.Ma=c;a.H=b;Dd(a);b!=xd||c instanceof zd||Fd(a,c)}}function Ed(a,b,c){function d(b){f||(f=!0,a.Ch(b))}function e(b){f||(f=!0,a.Bh(b))}a.H=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Dd(a){a.ze||(a.ze=!0,md(a.Th,a))}
td.prototype.Th=function(){for(;this.aa&&this.aa.length;){var a=this.aa;this.aa=[];for(var b=0;b<a.length;b++)Bd(this,a[b],this.H,this.Ma)}this.ze=!1};function Bd(a,b,c,d){if(c==wd)b.Pg(d);else{for(;a&&a.od;a=a.ma)a.od=!1;b.Rg(d)}}function Fd(a,b){a.od=!0;md(function(){a.od&&Gd.call(null,b)})}var Gd=hd;function zd(a){sa.call(this,a)}G(zd,sa);zd.prototype.name="cancel";function Hd(a,b,c){if(ja(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Id(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Jd(a){if("function"==typeof a.ya)return a.ya();if(y(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}function Kd(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ha(a)||y(a))K(a,b,c);else{var d;if("function"==typeof a.wa)d=a.wa();else if("function"!=typeof a.ya)if(ha(a)||y(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=bb(a);else d=void 0;for(var e=Jd(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Ld(a,b){this.a={};this.u=[];this.e=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ld?(c=a.wa(),d=a.ya()):(c=bb(a),d=ab(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Ld.prototype;k.Ga=function(){return this.e};k.ya=function(){Md(this);for(var a=[],b=0;b<this.u.length;b++)a.push(this.a[this.u[b]]);return a};k.wa=function(){Md(this);return this.u.concat()};
k.S=function(a){return Nd(this.a,a)};k.Uf=function(a,b){if(this===a)return!0;if(this.e!=a.Ga())return!1;var c=b||Od;Md(this);for(var d,e=0;d=this.u[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Od(a,b){return a===b}k.Ia=function(){return 0==this.e};k.clear=function(){this.a={};this.e=this.u.length=0};k.remove=function(a){return Nd(this.a,a)?(delete this.a[a],this.e--,this.u.length>2*this.e&&Md(this),!0):!1};
function Md(a){if(a.e!=a.u.length){for(var b=0,c=0;b<a.u.length;){var d=a.u[b];Nd(a.a,d)&&(a.u[c++]=d);b++}a.u.length=c}if(a.e!=a.u.length){for(var e={},c=b=0;b<a.u.length;)d=a.u[b],Nd(e,d)||(a.u[c++]=d,e[d]=1),b++;a.u.length=c}}k.get=function(a,b){return Nd(this.a,a)?this.a[a]:b};k.set=function(a,b){Nd(this.a,a)||(this.e++,this.u.push(a));this.a[a]=b};k.forEach=function(a,b){for(var c=this.wa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Ld(this)};
function Nd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Pd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Qd(a){if(Rd){Rd=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Qd(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Rd=!0,Error();}}return a.match(Pd)}var Rd=Q;function Sd(a){U.call(this);this.headers=new Ld;this.ce=a||null;this.fa=!1;this.be=this.c=null;this.Bd=this.Re="";this.qb=this.Ke=this.ud=this.ye=!1;this.Xd=0;this.$a=null;this.eh=Td;this.of=this.jk=!1}G(Sd,U);var Td="",Ud=/^https?$/i,Vd=["POST","PUT"];k=Sd.prototype;
k.send=function(a,b,c,d){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Re+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Re=a;this.Bd="";this.ye=!1;this.fa=!0;this.c=this.ce?this.ce.re():Uc.re();this.be=this.ce?Tc(this.ce):Tc(Uc);this.c.onreadystatechange=C(this.Qg,this);try{this.Ke=!0,this.c.open(b,String(a),!0),this.Ke=!1}catch(e){this.cd(5,e);return}a=c||"";var f=this.headers.clone();d&&Kd(d,function(a,b){f.set(b,a)});d=La(f.wa(),Wd);c=l.FormData&&a instanceof
l.FormData;!(0<=Ga(Vd,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.c.setRequestHeader(b,a)},this);this.eh&&(this.c.responseType=this.eh);"withCredentials"in this.c&&(this.c.withCredentials=this.jk);try{Xd(this),0<this.Xd&&((this.of=Yd(this.c))?(this.c.timeout=this.Xd,this.c.ontimeout=C(this.yb,this)):this.$a=Hd(this.yb,this.Xd,this)),this.ud=!0,this.c.send(a),this.ud=!1}catch(g){this.cd(5,g)}};
function Yd(a){return P&&sb(9)&&ia(a.timeout)&&r(a.ontimeout)}function Wd(a){return"content-type"==a.toLowerCase()}k.yb=function(){"undefined"!=typeof aa&&this.c&&(this.Bd="Timed out after "+this.Xd+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};k.cd=function(a,b){this.fa=!1;this.c&&(this.qb=!0,this.c.abort(),this.qb=!1);this.Bd=b;$d(this);ae(this)};function $d(a){a.ye||(a.ye=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(){this.c&&this.fa&&(this.fa=!1,this.qb=!0,this.c.abort(),this.qb=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ae(this))};k.f=function(){this.c&&(this.fa&&(this.fa=!1,this.qb=!0,this.c.abort(),this.qb=!1),ae(this,!0));Sd.F.f.call(this)};k.Qg=function(){this.gc||(this.Ke||this.ud||this.qb?be(this):this.jj())};k.jj=function(){be(this)};
function be(a){if(a.fa&&"undefined"!=typeof aa&&(!a.be[1]||4!=ce(a)||2!=de(a)))if(a.ud&&4==ce(a))Hd(a.Qg,0,a);else if(a.dispatchEvent("readystatechange"),4==ce(a)){a.fa=!1;try{if(ee(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<ce(a)?a.c.statusText:""}catch(c){b=""}a.Bd=b+" ["+de(a)+"]";$d(a)}}finally{ae(a)}}}function ae(a,b){if(a.c){Xd(a);var c=a.c,d=a.be[0]?ca:null;a.c=null;a.be=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Xd(a){a.c&&a.of&&(a.c.ontimeout=null);ia(a.$a)&&(l.clearTimeout(a.$a),a.$a=null)}k.Le=function(){return!!this.c};function ee(a){var b=de(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Qd(String(a.Re))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Ud.test(a?a.toLowerCase():"");c=b}return c}function ce(a){return a.c?a.c.readyState:0}
function de(a){try{return 2<ce(a)?a.c.status:-1}catch(b){return-1}}k.getResponseHeader=function(a){return this.c&&4==ce(this)?this.c.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.c&&4==ce(this)?this.c.getAllResponseHeaders():""};function fe(){U.call(this);this.Hf=Eb("counties-list");this.If=Eb("county-detail");this.Oh=Eb("county-detail-name");this.Nh=Eb("county-detail-hide");S(this.Nh,"click",function(a){this.Oa&&bc(this.Oa.Se,"active");this.Oa=null;ge(this.If,!1);a.preventDefault()},!1,this);this.Ri=Eb("map-list");this.wg="";var a=Eb("item-template");a&&(this.wg=a.innerHTML,Rb(a));this.Te=Eb("map-filter");this.Qi=Eb("map-filter-clear");S(this.Te,"input",function(){he(this,this.Te.value)},!1,this);S(this.Qi,"click",function(){he(this,
"")},!1,this);this.fb=[];this.Oa=null;this.wc=[];ie(this)}G(fe,U);function ie(a){if(a.Hf){var b=Fb("LI",a.Hf);K(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=Fb("A",a)[0],f=Wb(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),h=null;y(g)&&(g=g.split(","),h=[parseFloat(g[1]),parseFloat(g[0])]);this.fb.push({name:f,id:b,center:h,anchor:e,Se:a});S(e,"click",function(a){je(this,f);a.preventDefault()},!1,this)}}},a)}}function ke(a){return a.Oa?a.Oa.name:null}
function je(a,b,c){var d=La(a.fb,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new Sd(new Xc);S(f,"complete",function(){if(ee(f)){var a;a=f.c?Id(f.c.responseText):void 0;le(this,a);c&&c()}},!1,a);f.send(e);Tb(a.Oh,b);ge(a.If,!0);a.Oa&&bc(a.Oa.Se,"active");ac(d.Se,"active");a.Oa=d;a.dispatchEvent({type:"opened",yk:b,center:d.center})}}
function me(a,b){function c(b,c){function d(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");d("\\$"+b+"\\$",c);0<c.toString().length&&(d("\x3c!--"+b+" ",""),d(" "+b+"--\x3e",""))}var d=b.title;c("title",d);c("thumbnail_url",b.thumbnail_url);var e=b.transcription_url,f=b.georeference_url,g=b.visualize_url,h=b.object_url;c("transcription_url",e);c("georeference_url",f);c("visualize_url",g);c("object_url",h);d=d+"|"+ne(new oe(e||""))+"|"+ne(new oe(f||""))+"|"+ne(new oe(g||""))+"||"+ne(new oe(h||
""));c("link_hash",d);return a}
function le(a,b){K(a.wc,function(a){K(a.keys,T);Rb(a.node)});a.wc=[];he(a,"");K(b,function(a){var b;var e=me(this.wg,a),f=document;b=f.createElement("div");P?(b.innerHTML="\x3cbr\x3e"+e,b.removeChild(b.firstChild)):b.innerHTML=e;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(e=f.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);b=e}b=b.firstElementChild;this.Ri.appendChild(b);this.wc.push({title:pe(a.title),nj:a.identifier,node:b,keys:[]})},a)}
function he(a,b){a.Te.value=b;b=pe(b);var c=b.split(" or ");K(a.wc,function(a){cc(a.node,"hidden",Ka(c,function(b){return-1==a.title.indexOf(b)}))})}function qe(a,b){var c="";K(a.wc,function(a){0<=Ga(a.nj.split(","),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);he(a,c)}
function pe(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function oe(a,b){var c;if(a instanceof oe)this.ca=r(b)?b:a.ca,re(this,a.Ya),c=a.zb,se(this),this.zb=c,c=a.Fa,se(this),this.Fa=c,te(this,a.Tb),c=a.na,se(this),this.na=c,ue(this,a.za.clone()),c=a.jb,se(this),this.jb=c;else if(a&&(c=Qd(String(a)))){this.ca=!!b;re(this,c[1]||"",!0);var d=c[2]||"";se(this);this.zb=ve(d);d=c[3]||"";se(this);this.Fa=ve(d,!0);te(this,c[4]);d=c[5]||"";se(this);this.na=ve(d,!0);ue(this,c[6]||"",!0);c=c[7]||"";se(this);this.jb=ve(c)}else this.ca=!!b,this.za=new we(null,0,this.ca)}
k=oe.prototype;k.Ya="";k.zb="";k.Fa="";k.Tb=null;k.na="";k.jb="";k.Ii=!1;k.ca=!1;k.toString=function(){var a=[],b=this.Ya;b&&a.push(xe(b,ye,!0),":");if(b=this.Fa){a.push("//");var c=this.zb;c&&a.push(xe(c,ye,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Tb;null!=b&&a.push(":",String(b))}if(b=this.na)this.Fa&&"/"!=b.charAt(0)&&a.push("/"),a.push(xe(b,"/"==b.charAt(0)?ze:Ae,!0));(b=this.za.toString())&&a.push("?",b);(b=this.jb)&&a.push("#",xe(b,Be));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.Ya;c?re(b,a.Ya):c=!!a.zb;if(c){var d=a.zb;se(b);b.zb=d}else c=!!a.Fa;c?(d=a.Fa,se(b),b.Fa=d):c=null!=a.Tb;d=a.na;if(c)te(b,a.Tb);else if(c=!!a.na){if("/"!=d.charAt(0))if(this.Fa&&!this.na)d="/"+d;else{var e=b.na.lastIndexOf("/");-1!=e&&(d=b.na.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(se(b),b.na=d):c=""!==a.za.toString();c?ue(b,ve(a.za.toString())):c=!!a.jb;c&&(a=a.jb,se(b),b.jb=a);return b};k.clone=function(){return new oe(this)};function re(a,b,c){se(a);a.Ya=c?ve(b,!0):b;a.Ya&&(a.Ya=a.Ya.replace(/:$/,""))}function te(a,b){se(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Tb=b}else a.Tb=null}function ne(a){return a.na}
function ue(a,b,c){se(a);b instanceof we?(a.za=b,a.za.bf(a.ca)):(c||(b=xe(b,Ce)),a.za=new we(b,0,a.ca))}function De(a,b,c){se(a);fa(c)||(c=[String(c)]);Ee(a.za,b,c)}function se(a){if(a.Ii)throw Error("Tried to modify a read-only Uri");}k.bf=function(a){this.ca=a;this.za&&this.za.bf(a);return this};function ve(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function xe(a,b,c){return y(a)?(a=encodeURI(a).replace(b,Fe),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Fe(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ye=/[#\/\?@]/g,Ae=/[\#\?:]/g,ze=/[\#\?]/g,Ce=/[\#\?@]/g,Be=/#/g;function we(a,b,c){this.X=a||null;this.ca=!!c}
function Ge(a){if(!a.r&&(a.r=new Ld,a.e=0,a.X))for(var b=a.X.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=He(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}k=we.prototype;k.r=null;k.e=null;k.Ga=function(){Ge(this);return this.e};k.add=function(a,b){Ge(this);this.X=null;a=He(this,a);var c=this.r.get(a);c||this.r.set(a,c=[]);c.push(b);this.e++;return this};
k.remove=function(a){Ge(this);a=He(this,a);return this.r.S(a)?(this.X=null,this.e-=this.r.get(a).length,this.r.remove(a)):!1};k.clear=function(){this.r=this.X=null;this.e=0};k.Ia=function(){Ge(this);return 0==this.e};k.S=function(a){Ge(this);a=He(this,a);return this.r.S(a)};k.wa=function(){Ge(this);for(var a=this.r.ya(),b=this.r.wa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.ya=function(a){Ge(this);var b=[];if(y(a))this.S(a)&&(b=Na(b,this.r.get(He(this,a))));else{a=this.r.ya();for(var c=0;c<a.length;c++)b=Na(b,a[c])}return b};k.set=function(a,b){Ge(this);this.X=null;a=He(this,a);this.S(a)&&(this.e-=this.r.get(a).length);this.r.set(a,[b]);this.e++;return this};k.get=function(a,b){var c=a?this.ya(a):[];return 0<c.length?String(c[0]):b};function Ee(a,b,c){a.remove(b);0<c.length&&(a.X=null,a.r.set(He(a,b),Oa(c)),a.e+=c.length)}
k.toString=function(){if(this.X)return this.X;if(!this.r)return"";for(var a=[],b=this.r.wa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ya(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.X=a.join("\x26")};k.clone=function(){var a=new we;a.X=this.X;this.r&&(a.r=this.r.clone(),a.e=this.e);return a};function He(a,b){var c=String(b);a.ca&&(c=c.toLowerCase());return c}
k.bf=function(a){a&&!this.ca&&(Ge(this),this.X=null,this.r.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Ee(this,d,a))},this));this.ca=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)Kd(arguments[b],function(a,b){this.add(b,a)},this)};function Ie(a,b,c){gc.call(this);this.Ki=a;this.Bi=c;this.Aa=b||window;this.ke=C(this.Rh,this)}G(Ie,gc);k=Ie.prototype;k.B=null;k.pf=!1;k.start=function(){this.stop();this.pf=!1;var a=Je(this),b=Ke(this);a&&!b&&this.Aa.mozRequestAnimationFrame?(this.B=S(this.Aa,"MozBeforePaint",this.ke),this.Aa.mozRequestAnimationFrame(null),this.pf=!0):this.B=a&&b?a.call(this.Aa,this.ke):this.Aa.setTimeout(fd(this.ke),20)};
k.stop=function(){if(this.Le()){var a=Je(this),b=Ke(this);a&&!b&&this.Aa.mozRequestAnimationFrame?T(this.B):a&&b?b.call(this.Aa,this.B):this.Aa.clearTimeout(this.B)}this.B=null};k.Le=function(){return null!=this.B};k.Rh=function(){this.pf&&this.B&&T(this.B);this.B=null;this.Ki.call(this.Bi,ra())};k.f=function(){this.stop();Ie.F.f.call(this)};
function Je(a){a=a.Aa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Ke(a){a=a.Aa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Le(){this.Xg=ra()}new Le;Le.prototype.set=function(a){this.Xg=a};Le.prototype.reset=function(){this.set(ra())};Le.prototype.get=function(){return this.Xg};function Me(a){U.call(this);this.Qc=a||window;this.Cd=S(this.Qc,"resize",this.si,!1,this);this.Zb=Jb(this.Qc||window)}G(Me,U);k=Me.prototype;k.Cd=null;k.Qc=null;k.Zb=null;k.ba=function(){return this.Zb?this.Zb.clone():null};k.f=function(){Me.F.f.call(this);this.Cd&&(T(this.Cd),this.Cd=null);this.Zb=this.Qc=null};k.si=function(){var a=Jb(this.Qc||window),b=this.Zb;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.Zb=a,this.dispatchEvent("resize"))};function Ne(a,b,c,d,e){if(!(P||Q&&sb("525")))return!0;if(ib&&e)return Oe(a);if(e&&!d)return!1;ia(b)&&(b=Pe(b));if(!c&&(17==b||18==b||ib&&91==b))return!1;if(Q&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(P&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!Q}return Oe(a)}
function Oe(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||Q&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Pe(a){if(lb)a=Qe(a);else if(ib&&Q)a:switch(a){case 93:a=91;break a}return a}
function Qe(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Re(a,b){U.call(this);a&&Se(this,a,b)}G(Re,U);k=Re.prototype;k.T=null;k.xd=null;k.Ne=null;k.yd=null;k.Y=-1;k.Va=-1;k.ee=!1;
var Te={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ue={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ve=P||Q&&sb("525"),We=ib&&lb;k=Re.prototype;
k.di=function(a){Q&&(17==this.Y&&!a.ctrlKey||18==this.Y&&!a.altKey||ib&&91==this.Y&&!a.metaKey)&&(this.Va=this.Y=-1);-1==this.Y&&(a.ctrlKey&&17!=a.keyCode?this.Y=17:a.altKey&&18!=a.keyCode?this.Y=18:a.metaKey&&91!=a.keyCode&&(this.Y=91));Ve&&!Ne(a.keyCode,this.Y,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Va=Pe(a.keyCode),We&&(this.ee=a.altKey))};k.ei=function(a){this.Va=this.Y=-1;this.ee=a.altKey};
k.handleEvent=function(a){var b=a.g,c,d,e=b.altKey;P&&"keypress"==a.type?(c=this.Va,d=13!=c&&27!=c?b.keyCode:0):Q&&"keypress"==a.type?(c=this.Va,d=0<=b.charCode&&63232>b.charCode&&Oe(c)?b.charCode:0):kb?(c=this.Va,d=Oe(c)?b.keyCode:0):(c=b.keyCode||this.Va,d=b.charCode||0,We&&(e=this.ee),ib&&63==d&&224==c&&(c=191));var f=c=Pe(c),g=b.keyIdentifier;c?63232<=c&&c in Te?f=Te[c]:25==c&&a.shiftKey&&(f=9):g&&g in Ue&&(f=Ue[g]);a=f==this.Y;this.Y=f;b=new Xe(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function Se(a,b,c){a.yd&&a.detach();a.T=b;a.xd=S(a.T,"keypress",a,c);a.Ne=S(a.T,"keydown",a.di,c,a);a.yd=S(a.T,"keyup",a.ei,c,a)}k.detach=function(){this.xd&&(T(this.xd),T(this.Ne),T(this.yd),this.yd=this.Ne=this.xd=null);this.T=null;this.Va=this.Y=-1};k.f=function(){Re.F.f.call(this);this.detach()};function Xe(a,b,c,d){pc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}G(Xe,pc);function Ye(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=Ye.prototype;k.Sa=function(){return this.right-this.left};k.hd=function(){return this.bottom-this.top};k.clone=function(){return new Ye(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof Ye?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){la(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof zb?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ia(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=ia(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function Ze(a,b){var c=Db(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function $e(a,b){return Ze(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function af(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}P&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function bf(a){if(P&&!(P&&8<=ub))return a.offsetParent;var b=Db(a),c=$e(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=$e(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function cf(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=af(a),b=new zb(b.left,b.top);else{b=Yb(Bb(a));var c,d=Db(a),e=$e(a,"position"),f=lb&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new zb(0,0),h;c=d?Db(d):document;(h=!P||P&&9<=ub)||(h=Bb(c),h=Kb(h.hc));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=af(a),d=Yb(Bb(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(Q&&"fixed"==$e(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(kb||Q&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=bf(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,kb&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new zb(g.x-b.x,g.y-b.y)}if(lb&&!sb(12)){b:{g=Ea();if(void 0===a.style[g]&&(g=
(Q?"Webkit":lb?"Moz":P?"ms":kb?"O":null)+Fa(g),void 0!==a.style[g])){g=(Q?"-webkit":lb?"-moz":P?"-ms":kb?"-o":null)+"-transform";break b}g="transform"}a=(a=$e(a,g)||$e(a,"transform"))?(a=a.match(df))?new zb(parseFloat(a[1]),parseFloat(a[2])):new zb(0,0):new zb(0,0);a=new zb(b.x+a.x,b.y+a.y)}else a=b;return a}b=ja(a.Zh);g=a;a.targetTouches&&a.targetTouches.length?g=a.targetTouches[0]:b&&a.g.targetTouches&&a.g.targetTouches.length&&(g=a.g.targetTouches[0]);return new zb(g.clientX,g.clientY)}
function ef(a){var b=a.offsetWidth,c=a.offsetHeight,d=Q&&!b&&!c;return r(b)&&!d||!a.getBoundingClientRect?new Ab(b,c):(a=af(a),new Ab(a.right-a.left,a.bottom-a.top))}function ge(a,b){a.style.display=b?"":"none"}function ff(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function gf(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?ff(a,c,"left","pixelLeft"):0}var hf={thin:2,medium:4,thick:6};function jf(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in hf?hf[c]:ff(a,c,"left","pixelLeft")}var df=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function kf(a,b){U.call(this);var c=this.T=a,c=la(c)&&1==c.nodeType?this.T:this.T?this.T.body:null;this.Ji=!!c&&"rtl"==$e(c,"direction");this.Dg=S(this.T,mc,this,b)}G(kf,U);
kf.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.g;if("mousewheel"==a.type){c=1;if(P||Q&&(jb||sb("532.0")))c=40;d=lf(-a.wheelDelta,c);r(a.wheelDeltaX)?(b=lf(-a.wheelDeltaX,c),c=lf(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),r(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ia(this.Gg)&&(b=xb(b,-this.Gg,this.Gg));ia(this.Hg)&&(c=xb(c,-this.Hg,this.Hg));this.Ji&&(b=-b);b=new mf(d,a,b,c);this.dispatchEvent(b)};function lf(a,b){return Q&&(ib||ob)&&0!=a%b?a:a/b}
kf.prototype.f=function(){kf.F.f.call(this);T(this.Dg);this.Dg=null};function mf(a,b,c,d){pc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}G(mf,pc);function nf(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}nf.prototype.BYTES_PER_ELEMENT=4;nf.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};nf.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(nf.BYTES_PER_ELEMENT=4,nf.prototype.BYTES_PER_ELEMENT=nf.prototype.BYTES_PER_ELEMENT,nf.prototype.set=nf.prototype.set,nf.prototype.toString=nf.prototype.toString,ba("Float32Array",nf));function of(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}of.prototype.BYTES_PER_ELEMENT=8;of.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};of.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{of.BYTES_PER_ELEMENT=8}catch(pf){}of.prototype.BYTES_PER_ELEMENT=of.prototype.BYTES_PER_ELEMENT;of.prototype.set=of.prototype.set;of.prototype.toString=of.prototype.toString;ba("Float64Array",of)};function qf(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function rf(){var a=Array(16);sf(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function tf(){var a=Array(16);sf(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function sf(a,b,c,d,e,f,g,h,m,n,p,q,u,v,s,z,x){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=u;a[12]=v;a[13]=s;a[14]=z;a[15]=x}function uf(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function vf(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],m=a[5],n=a[6],p=a[7],q=a[8],u=a[9],v=a[10],s=a[11],z=a[12],x=a[13],B=a[14];a=a[15];var t=b[0],w=b[1],D=b[2],E=b[3],I=b[4],W=b[5],J=b[6],Y=b[7],O=b[8],F=b[9],N=b[10],L=b[11],ua=b[12],ga=b[13],ka=b[14];b=b[15];c[0]=d*t+h*w+q*D+z*E;c[1]=e*t+m*w+u*D+x*E;c[2]=f*t+n*w+v*D+B*E;c[3]=g*t+p*w+s*D+a*E;c[4]=d*I+h*W+q*J+z*Y;c[5]=e*I+m*W+u*J+x*Y;c[6]=f*I+n*W+v*J+B*Y;c[7]=g*I+p*W+s*J+a*Y;c[8]=d*O+h*F+q*N+z*L;c[9]=e*O+m*F+u*N+x*L;c[10]=f*O+n*F+v*N+B*L;c[11]=
g*O+p*F+s*N+a*L;c[12]=d*ua+h*ga+q*ka+z*b;c[13]=e*ua+m*ga+u*ka+x*b;c[14]=f*ua+n*ga+v*ka+B*b;c[15]=g*ua+p*ga+s*ka+a*b}function wf(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function xf(a,b,c){sf(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function yf(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],m=a[6],n=a[7],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+g*q;a[1]=d*p+h*q;a[2]=e*p+m*q;a[3]=f*p+n*q;a[4]=c*-q+g*p;a[5]=d*-q+h*p;a[6]=e*-q+m*p;a[7]=f*-q+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function zf(){U.call(this);this.oa=0}G(zf,U);zf.prototype.M=function(){++this.oa;this.dispatchEvent("change")};function Af(a,b,c,d){S(a,b,c,!1,d)}function Bf(a,b,c){Kc(a,"postrender",b,!1,c)};function Cf(a,b){R.call(this,a);this.key=b}G(Cf,R);function Df(a){zf.call(this);A(this);this.$b={};this.de={};r(a)&&this.Ec(a)}G(Df,zf);var Ef={},Ff={},Gf={};function Hf(a){return Ef.hasOwnProperty(a)?Ef[a]:Ef[a]="change:"+a}Df.prototype.get=function(a){var b,c=this.de;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Rj,d=Ff.hasOwnProperty(c)?Ff[c]:Ff[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=M(b,d);b=r(d)?d.call(b):b.get(c);b=a.Lk(b)}else this.$b.hasOwnProperty(a)&&(b=this.$b[a]);return b};
Df.prototype.wa=function(){var a=this.de,b;if(cb(this.$b)){if(cb(a))return[];b=a}else if(cb(a))b=this.$b;else{b={};for(var c in this.$b)b[c]=!0;for(c in a)b[c]=!0}return bb(b)};
Df.prototype.set=function(a,b){this.dispatchEvent(new Cf("beforepropertychange",a));var c=this.de;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.Rj;b=d.zk(b);d=Gf.hasOwnProperty(e)?Gf[e]:Gf[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=M(c,d);r(d)?d.call(c,b):c.set(e,b)}else this.$b[a]=b,c=Hf(a),this.dispatchEvent(c),this.dispatchEvent(new Cf("propertychange",a))};Df.prototype.Ec=function(a){for(var b in a)this.set(b,a[b])};function If(a,b,c){R.call(this,a,c);this.element=b}G(If,R);function Jf(a){Df.call(this);this.Ca=a||[];Kf(this)}G(Jf,Df);k=Jf.prototype;k.clear=function(){for(;0<this.get("length");)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){K(this.Ca,a,b)};k.mc=function(){return this.Ca};k.item=function(a){return this.Ca[a]};k.pop=function(){return Lf(this,this.get("length")-1)};
k.push=function(a){var b=this.Ca.length;Pa(this.Ca,b,0,a);Kf(this);this.dispatchEvent(new If("add",a,this));return b};k.remove=function(a){var b=this.Ca,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return Lf(this,c)};function Lf(a,b){var c=a.Ca[b];H.splice.call(a.Ca,b,1);Kf(a);a.dispatchEvent(new If("remove",c,a));return c}function Kf(a){a.set("length",a.Ca.length)};var Mf=P&&!sb("9.0")&&""!==qb;function Nf(a,b){a[0]+=b[0];a[1]+=b[1]}function Pf(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function Qf(a,b,c){R.call(this,a);this.map=b;this.frameState=r(c)?c:null}G(Qf,R);function Rf(a,b,c){R.call(this,a);this.G=b;a=r(c)?c:{};this.buttons=Sf(a);this.pressure=Tf(a,this.buttons);this.bubbles=M(a,"bubbles",!1);this.cancelable=M(a,"cancelable",!1);this.view=M(a,"view",null);this.detail=M(a,"detail",null);this.screenX=M(a,"screenX",0);this.screenY=M(a,"screenY",0);this.clientX=M(a,"clientX",0);this.clientY=M(a,"clientY",0);this.ctrlKey=M(a,"ctrlKey",!1);this.altKey=M(a,"altKey",!1);this.shiftKey=M(a,"shiftKey",!1);this.metaKey=M(a,"metaKey",!1);this.button=M(a,"button",
0);this.relatedTarget=M(a,"relatedTarget",null);this.pointerId=M(a,"pointerId",0);this.width=M(a,"width",0);this.height=M(a,"height",0);this.tiltX=M(a,"tiltX",0);this.tiltY=M(a,"tiltY",0);this.pointerType=M(a,"pointerType","");this.hwTimestamp=M(a,"hwTimestamp",0);this.isPrimary=M(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}G(Rf,R);
function Sf(a){if(a.buttons||Uf)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Tf(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var Uf=!1;try{Uf=1===(new MouseEvent("click",{buttons:1})).buttons}catch(Vf){};function Wf(a,b){var c=Ob("CANVAS");r(a)&&(c.width=a);r(b)&&(c.height=b);return c.getContext("2d")}
var Xf=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Ob("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Rb(b);a=c&&"none"!==c}else a=!1;return a}}(),Yf=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Ob("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Rb(b);a=c&&"none"!==c}else a=!1;return a}}();function Zf(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.mk=b;c.msTransform=b;c.transform=b;P&&!Mf&&(a.style.transformOrigin="0 0")};var $f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ag(a,b){var c,d,e=$f.length;for(d=0;d<e;++d)try{if(c=a.getContext($f[d],b),null!==c)return c}catch(f){}return null};var bg=l.devicePixelRatio||1,cg=!1,dg=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=Wf();if(null===a)return!1;r(a.setLineDash)&&(cg=!0);return!0}catch(b){return!1}}(),eg="ontouchstart"in l,fg="PointerEvent"in l,gg=!!l.navigator.msPointerEnabled,hg=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=Ob("CANVAS");return null!==ag(a,{Vh:!0})}catch(b){return!1}}();function ig(a,b){this.d=a;this.Gd=b};function jg(a){ig.call(this,a,{mousedown:this.Wi,mousemove:this.Xi,mouseup:this.$i,mouseover:this.Zi,mouseout:this.Yi});this.t=a.t;this.zg=[]}G(jg,ig);function kg(a,b){for(var c=a.zg,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}function lg(a){var b=mg(a,a.g),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=jg.prototype;
k.Wi=function(a){if(!kg(this,a)){(1).toString()in this.t&&this.cancel(a);var b=lg(a);this.t[(1).toString()]=a;this.d.fireEvent(ng,b,a)}};k.Xi=function(a){if(!kg(this,a)){var b=lg(a);this.d.move(b,a)}};k.$i=function(a){if(!kg(this,a)){var b=M(this.t,(1).toString());b&&b.button===a.button&&(b=lg(a),this.d.fireEvent(og,b,a),eb(this.t,(1).toString()))}};k.Zi=function(a){if(!kg(this,a)){var b=lg(a);pg(this.d,b,a)}};k.Yi=function(a){if(!kg(this,a)){var b=lg(a);qg(this.d,b,a)}};
k.cancel=function(a){var b=lg(a);this.d.cancel(b,a);eb(this.t,(1).toString())};function rg(a){ig.call(this,a,{MSPointerDown:this.ej,MSPointerMove:this.fj,MSPointerUp:this.ij,MSPointerOut:this.gj,MSPointerOver:this.hj,MSPointerCancel:this.dj,MSGotPointerCapture:this.bj,MSLostPointerCapture:this.cj});this.t=a.t;this.Gh=["","unavailable","touch","pen","mouse"]}G(rg,ig);function sg(a,b){var c=b;ia(b.g.pointerType)&&(c=mg(b,b.g),c.pointerType=a.Gh[b.g.pointerType]);return c}k=rg.prototype;k.ej=function(a){this.t[a.g.pointerId]=a;var b=sg(this,a);this.d.fireEvent(ng,b,a)};
k.fj=function(a){var b=sg(this,a);this.d.move(b,a)};k.ij=function(a){var b=sg(this,a);this.d.fireEvent(og,b,a);eb(this.t,a.g.pointerId)};k.gj=function(a){var b=sg(this,a);qg(this.d,b,a)};k.hj=function(a){var b=sg(this,a);pg(this.d,b,a)};k.dj=function(a){var b=sg(this,a);this.d.cancel(b,a);eb(this.t,a.g.pointerId)};k.cj=function(a){this.d.dispatchEvent(new Rf("lostpointercapture",a,a.g))};k.bj=function(a){this.d.dispatchEvent(new Rf("gotpointercapture",a,a.g))};function tg(a){ig.call(this,a,{pointerdown:this.rj,pointermove:this.sj,pointerup:this.vj,pointerout:this.tj,pointerover:this.uj,pointercancel:this.qj,gotpointercapture:this.ai,lostpointercapture:this.Pi})}G(tg,ig);k=tg.prototype;k.rj=function(a){ug(this.d,a)};k.sj=function(a){ug(this.d,a)};k.vj=function(a){ug(this.d,a)};k.tj=function(a){ug(this.d,a)};k.uj=function(a){ug(this.d,a)};k.qj=function(a){ug(this.d,a)};k.Pi=function(a){ug(this.d,a)};k.ai=function(a){ug(this.d,a)};function vg(a,b){ig.call(this,a,{touchstart:this.$j,touchmove:this.Zj,touchend:this.Yj,touchcancel:this.Xj});this.t=a.t;this.Vi=b;this.lc=void 0;this.ne=0;this.Cc=void 0}G(vg,ig);k=vg.prototype;k.bh=function(){this.ne=0;this.Cc=void 0};
function wg(a,b,c){b=mg(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.ne;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.lc===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function xg(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.g.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=wg(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.$j=function(a){var b=a.g.touches,c=bb(this.t),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.t[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.ub)}for(f=0;f<e.length;++f)this.le(a,e[f])}b=$a(this.t);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.t;c=b}c&&(this.lc=a.g.changedTouches[0].identifier,r(this.Cc)&&l.clearTimeout(this.Cc));yg(this,a);this.ne++;xg(this,a,this.lj)};
k.lj=function(a,b){this.t[b.pointerId]={target:b.target,ub:b,Ug:b.target};var c=this.d;b.bubbles=!0;c.fireEvent(zg,b,a);c=this.d;b.bubbles=!1;c.fireEvent(Ag,b,a);this.d.fireEvent(ng,b,a)};k.Zj=function(a){a.preventDefault();xg(this,a,this.aj)};
k.aj=function(a,b){var c=M(this.t,b.pointerId);if(c){var d=c.ub,e=c.Ug;this.d.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(qg(this.d,d,a),pg(this.d,b,a)):(b.target=e,b.relatedTarget=null,this.le(a,b)));c.ub=b;c.Ug=b.target}};k.Yj=function(a){yg(this,a);xg(this,a,this.ck)};
k.ck=function(a,b){this.d.fireEvent(og,b,a);this.d.ub(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(Bg,b,a);eb(this.t,b.pointerId);b.isPrimary&&(this.lc=void 0,this.Cc=l.setTimeout(C(this.bh,this),200))};k.Xj=function(a){xg(this,a,this.le)};k.le=function(a,b){this.d.cancel(b,a);this.d.ub(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(Bg,b,a);eb(this.t,b.pointerId);b.isPrimary&&(this.lc=void 0,this.Cc=l.setTimeout(C(this.bh,this),200))};
function yg(a,b){var c=a.Vi.zg,d=b.g.changedTouches[0];if(a.lc===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ma(c,e)},2500)}};function Cg(a){U.call(this);this.T=a;this.t={};this.Wf={};this.jc=[];fg?Dg(this,new tg(this)):gg?Dg(this,new rg(this)):(a=new jg(this),Dg(this,a),eg&&Dg(this,new vg(this,a)));a=this.jc.length;for(var b,c=0;c<a;c++)b=this.jc[c],Eg(this,bb(b.Gd))}G(Cg,U);function Dg(a,b){var c=bb(b.Gd);c&&(K(c,function(a){var c=b.Gd[a];c&&(this.Wf[a]=C(c,b))},a),a.jc.push(b))}k=Cg.prototype;k.Vf=function(a){var b=this.Wf[a.type];b&&b(a)};function Eg(a,b){K(b,function(a){S(this.T,a,this.Vf,!1,this)},a)}
function Fg(a,b){K(b,function(a){Mc(this.T,a,this.Vf,!1,this)},a)}function mg(a,b){for(var c={},d,e=0,f=Gg.length;e<f;e++)d=Gg[e][0],c[d]=a[d]||b[d]||Gg[e][1];return c}k.move=function(a,b){this.fireEvent(Hg,a,b)};k.ub=function(a,b){a.bubbles=!0;this.fireEvent(Ig,a,b)};k.cancel=function(a,b){this.fireEvent(Jg,a,b)};function qg(a,b,c){a.ub(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Bg,b,c))}
function pg(a,b,c){b.bubbles=!0;a.fireEvent(zg,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Ag,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new Rf(a,c,b))};function ug(a,b){a.dispatchEvent(new Rf(b.type,b,b.g))}k.f=function(){for(var a=this.jc.length,b,c=0;c<a;c++)b=this.jc[c],Fg(this,bb(b.Gd));Cg.F.f.call(this)};
var Hg="pointermove",ng="pointerdown",og="pointerup",zg="pointerover",Ig="pointerout",Ag="pointerenter",Bg="pointerleave",Jg="pointercancel",Gg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Kg(a,b,c,d){Qf.call(this,a,b,d);this.G=c;this.originalEvent=c.g;c=this.originalEvent;r(c.changedTouches)?(a=c.changedTouches[0],c=cf(b.w),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.w,c=cf(c),a=cf(a),a=new zb(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.nc(this.pixel)}G(Kg,Qf);Kg.prototype.preventDefault=function(){Kg.F.preventDefault.call(this);this.G.preventDefault()};Kg.prototype.stopPropagation=function(){Kg.F.stopPropagation.call(this);this.G.stopPropagation()};
function Lg(a,b,c,d){Kg.call(this,a,b,c.G,d);this.vb=c}G(Lg,Kg);function Mg(a){U.call(this);this.a=a;this.cc=0;this.we=!1;this.ad=this.Ld=this.hb=null;a=this.a.w;this.rf=0;this.mf={};this.Sb=new Cg(a);this.Ra=null;this.Ld=S(this.Sb,ng,this.oi,!1,this);this.Ze=S(this.Sb,Hg,this.xj,!1,this)}G(Mg,U);
function Ng(a,b){var c;c=new Lg(Og,a.a,b);a.dispatchEvent(c);0!==a.cc?(l.clearTimeout(a.cc),a.cc=0,c=new Lg(Pg,a.a,b),a.dispatchEvent(c)):a.cc=l.setTimeout(C(function(){this.cc=0;var a=new Lg(Qg,this.a,b);this.dispatchEvent(a)},a),250)}function Rg(a,b){b.type==Sg||b.type==Tg?delete a.mf[b.pointerId]:b.type==Ug&&(a.mf[b.pointerId]=!0);a.rf=$a(a.mf)}k=Mg.prototype;
k.Ha=function(a){Rg(this,a);var b=new Lg(Sg,this.a,a);this.dispatchEvent(b);0===this.rf&&(K(this.hb,T),this.hb=null,kc(this.Ra),this.Ra=null);!this.we&&0===a.button&&Ng(this,this.ad)};k.oi=function(a){Rg(this,a);var b=new Lg(Ug,this.a,a);this.dispatchEvent(b);this.ad=a;this.we=!1;null===this.hb&&(this.Ra=new Cg(document),this.hb=[S(this.Ra,Vg,this.pi,!1,this),S(this.Ra,Sg,this.Ha,!1,this),S(this.Sb,Tg,this.Ha,!1,this)]);a.preventDefault()};
k.pi=function(a){if(a.clientX!=this.ad.clientX||a.clientY!=this.ad.clientY){this.we=!0;var b=new Lg(Wg,this.a,a);this.dispatchEvent(b)}a.preventDefault()};k.xj=function(a){this.dispatchEvent(new Lg(a.type,this.a,a))};k.f=function(){null!==this.Ze&&(T(this.Ze),this.Ze=null);null!==this.Ld&&(T(this.Ld),this.Ld=null);null!==this.hb&&(K(this.hb,T),this.hb=null);null!==this.Ra&&(kc(this.Ra),this.Ra=null);null!==this.Sb&&(kc(this.Sb),this.Sb=null);Mg.F.f.call(this)};
var Qg="singleclick",Og="click",Pg="dblclick",Wg="pointerdrag",Vg="pointermove",Ug="pointerdown",Sg="pointerup",Tg="pointercancel",Xg={wk:Qg,kk:Og,lk:Pg,pk:Wg,sk:Vg,ok:Ug,vk:Sg,uk:"pointerover",tk:"pointerout",qk:"pointerenter",rk:"pointerleave",nk:Tg};function Yg(a,b,c,d){return r(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function Zg(a,b,c){return a+"/"+b+"/"+c}function $g(a){return Zg(a[0],a[1],a[2])};function ah(a,b,c,d){this.h=a;this.s=b;this.l=c;this.k=d}function bh(a,b,c,d,e){return r(e)?(e.h=a,e.s=b,e.l=c,e.k=d,e):new ah(a,b,c,d)}k=ah.prototype;k.contains=function(a){return this.fc(a[1],a[2])};function ch(a,b){return a.h<=b.h&&b.s<=a.s&&a.l<=b.l&&b.k<=a.k}k.fc=function(a,b){return this.h<=a&&a<=this.s&&this.l<=b&&b<=this.k};k.Uf=function(a){return this.h==a.h&&this.l==a.l&&this.s==a.s&&this.k==a.k};
k.extend=function(a){a.h<this.h&&(this.h=a.h);a.s>this.s&&(this.s=a.s);a.l<this.l&&(this.l=a.l);a.k>this.k&&(this.k=a.k)};k.hd=function(){return this.k-this.l+1};k.ba=function(){return[this.Sa(),this.hd()]};k.Sa=function(){return this.s-this.h+1};function dh(a){this.lg=a.html;this.Wd=r(a.tileRanges)?a.tileRanges:null};function eh(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return fh(c,d,e,f,void 0)}function gh(){return[Infinity,Infinity,-Infinity,-Infinity]}function fh(a,b,c,d,e){return r(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function hh(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function ih(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=jh(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function kh(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,h;for(f=0;4>f;++f)g=e[f],h=d[f],e[f]=a[0]+g*b-h*c,d[f]=a[1]+g*c+h*b;return eh(e,d)}function lh(a,b){var c=r(void 0)?void 0:gh();mh(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function jh(a){return[a[0],a[3]]}function mh(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}
function nh(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return eh([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function oh(a){this.radius=a}oh.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var ph={};ph.degrees=2*Math.PI*(new oh(6370997)).radius/360;ph.ft=.3048;ph.m=1;function qh(a){this.dc=a.code;this.Dh=a.units;this.N=r(a.extent)?a.extent:null;this.Kf=null}qh.prototype.I=function(){return this.N};qh.prototype.kh=function(a){this.N=a};var rh={},sh={};function th(a){uh(a);K(a,function(b){K(a,function(a){b!==a&&vh(b,a,wh)})})}function xh(a){rh[a.dc]=a;vh(a,a,wh)}function uh(a){var b=[];K(a,function(a){b.push(xh(a))})}function yh(a){return null!=a?y(a)?zh(a):a:zh("EPSG:3857")}
function vh(a,b,c){a=a.dc;b=b.dc;a in sh||(sh[a]={});sh[a][b]=c}function zh(a){return a instanceof qh?a:y(a)?rh[a]:null}function Ah(a,b){var c=zh(a),d=zh(b);return Bh(c,d)}function Bh(a,b){var c=a.dc,d=b.dc,e;c in sh&&d in sh[c]&&(e=sh[c][d]);r(e)||(e=Ch);return e}function Ch(a,b){if(r(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function wh(a,b){var c;if(r(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Dh(){var a=Ah("EPSG:4326","EPSG:3857");return nh([-8.2178,50.646,.1318,54.3742],a)};function Eh(a){zf.call(this);this.Ac=zh(a.projection);this.he=r(a.attributions)?a.attributions:null;this.Ni=a.logo;this.H=r(a.state)?a.state:"ready"}G(Eh,zf);Eh.prototype.q=function(){return this.H};function V(a){Df.call(this);a=fb(a);a.brightness=r(a.brightness)?a.brightness:0;a.contrast=r(a.contrast)?a.contrast:1;a.hue=r(a.hue)?a.hue:0;a.opacity=r(a.opacity)?a.opacity:1;a.saturation=r(a.saturation)?a.saturation:1;a.visible=r(a.visible)?a.visible:!0;a.maxResolution=r(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=r(a.minResolution)?a.minResolution:0;this.Ec(a)}G(V,Df);V.prototype.bg=function(){return this.get("brightness")};V.prototype.getBrightness=V.prototype.bg;
V.prototype.cg=function(){return this.get("contrast")};V.prototype.getContrast=V.prototype.cg;V.prototype.dg=function(){return this.get("hue")};V.prototype.getHue=V.prototype.dg;
function Fh(a){var b=a.bg(),c=a.cg(),d=a.dg(),e=a.gg(),f=a.hg(),g=a.ig(),h=a.Ee(),m=a.I(),n=a.eg(),p=a.fg();return{layer:a,brightness:r(b)?xb(b,-1,1):0,contrast:r(c)?Math.max(c,0):1,hue:r(d)?d:0,opacity:r(e)?xb(e,0,1):1,saturation:r(f)?Math.max(f,0):1,hf:g,visible:r(h)?!!h:!0,extent:m,maxResolution:r(n)?n:Infinity,minResolution:r(p)?Math.max(p,0):0}}V.prototype.I=function(){return this.get("extent")};V.prototype.getExtent=V.prototype.I;V.prototype.eg=function(){return this.get("maxResolution")};
V.prototype.getMaxResolution=V.prototype.eg;V.prototype.fg=function(){return this.get("minResolution")};V.prototype.getMinResolution=V.prototype.fg;V.prototype.gg=function(){return this.get("opacity")};V.prototype.getOpacity=V.prototype.gg;V.prototype.hg=function(){return this.get("saturation")};V.prototype.getSaturation=V.prototype.hg;V.prototype.Ee=function(){return this.get("visible")};V.prototype.getVisible=V.prototype.Ee;V.prototype.Cj=function(a){this.set("brightness",a)};
V.prototype.setBrightness=V.prototype.Cj;V.prototype.Dj=function(a){this.set("contrast",a)};V.prototype.setContrast=V.prototype.Dj;V.prototype.Ej=function(a){this.set("hue",a)};V.prototype.setHue=V.prototype.Ej;V.prototype.kh=function(a){this.set("extent",a)};V.prototype.setExtent=V.prototype.kh;V.prototype.Gj=function(a){this.set("maxResolution",a)};V.prototype.setMaxResolution=V.prototype.Gj;V.prototype.Hj=function(a){this.set("minResolution",a)};V.prototype.setMinResolution=V.prototype.Hj;
V.prototype.Ij=function(a){this.set("opacity",a)};V.prototype.setOpacity=V.prototype.Ij;V.prototype.Kj=function(a){this.set("saturation",a)};V.prototype.setSaturation=V.prototype.Kj;V.prototype.Oj=function(a){this.set("visible",a)};V.prototype.setVisible=V.prototype.Oj;function Gh(a){var b=fb(a);delete b.source;V.call(this,b);this.L=a.source;S(this.L,"change",this.ui,!1,this)}G(Gh,V);Gh.prototype.Ce=function(a){a=r(a)?a:[];a.push(Fh(this));return a};Gh.prototype.ig=function(){return this.L.q()};Gh.prototype.ui=function(){this.M()};function Hh(a,b){U.call(this);this.i=a;this.state=b}G(Hh,U);Hh.prototype.M=function(){this.dispatchEvent("change")};Hh.prototype.getKey=function(){return A(this).toString()};Hh.prototype.q=function(){return this.state};function Ih(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Jh(a){this.minZoom=r(a.minZoom)?a.minZoom:0;this.Yb=a.resolutions;this.maxZoom=this.Yb.length-1;this.Id=r(a.origin)?a.origin:null;this.Tg=null;r(a.origins)&&(this.Tg=a.origins);this.lf=null;r(a.tileSizes)&&(this.lf=a.tileSizes);this.wh=r(a.tileSize)?a.tileSize:null===this.lf?256:void 0}var Kh=[0,0,0];Jh.prototype.dd=function(a,b,c,d,e){e=Lh(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,Mh(this,e,a,d)))return!0;--a}return!1};
Jh.prototype.Hb=function(a){return null===this.Id?this.Tg[a]:this.Id};Jh.prototype.j=function(a){return this.Yb[a]};Jh.prototype.ld=function(a,b,c){return a[0]<this.maxZoom?(c=Lh(this,a,c),Mh(this,c,a[0]+1,b)):null};function Nh(a,b,c,d){Oh(a,b[0],b[1],c,!1,Kh);var e=Kh[1],f=Kh[2];Oh(a,b[2],b[3],c,!0,Kh);return bh(e,Kh[1],f,Kh[2],d)}function Mh(a,b,c,d){c=a.j(c);return Nh(a,b,c,d)}function Ph(a,b){var c=a.Hb(b[0]),d=a.j(b[0]),e=Qh(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function Lh(a,b,c){var d=a.Hb(b[0]),e=a.j(b[0]);a=Qh(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return fh(f,b,f+a*e,b+a*e,c)}function Oh(a,b,c,d,e,f){var g=Ih(a.Yb,d,0),h=d/a.j(g),m=a.Hb(g);a=Qh(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return Yg(g,b,c,f)}function Rh(a,b,c){c=a.j(c);return Oh(a,b[0],b[1],c,!1,void 0)}function Qh(a,b){return r(a.wh)?a.wh:a.lf[b]}
function Sh(a,b,c){b=r(b)?b:42;c=r(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function Th(a){a=zh(a);var b=a.I();null===b&&(a=180*ph.degrees/ph[a.Dh],b=fh(-a,-a,a,a));return b};function Uh(a){Eh.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.kj=r(a.opaque)?a.opaque:!1;this.Wj=r(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=r(a.tileGrid)?a.tileGrid:null}G(Uh,Eh);Uh.prototype.eb=cd;Uh.prototype.Ae=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.h;h<=d.s;++h)for(m=d.l;m<=d.k;++m)g=this.oc(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};Uh.prototype.oc=Zg;
function Vh(a,b){var c;if(null===a.tileGrid){if(c=b.Kf,null===c){c=Th(b);var d=r(void 0)?void 0:256,e=r(void 0)?void 0:"bottom-left",f=Sh(c,void 0,d);c=new Jh({origin:ih(c,e),resolutions:f,tileSize:d});b.Kf=c}}else c=a.tileGrid;return c}function Wh(a,b,c){return Qh(Vh(a,c),b)*a.Wj}Uh.prototype.nf=ca;function Xh(a,b){gc.call(this);this.Fd=a;this.uc=b}G(Xh,gc);Xh.prototype.xa=function(){return this.Fd.xa()};function Yh(a,b){b.eb()&&a.postRenderFunctions.push(qa(function(a,b,e){b=A(a).toString();a.kc(e.usedTiles[b])},b))}function Zh(a,b){var c=b.Ni;r(c)&&(y(c)?a.logos[c]="":la(c)&&(a.logos[c.src]=c.href))}function $h(a,b,c,d){b=A(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function ai(a,b,c,d){return function(e,f,g){e=b.nb(e,f,g,c,d);return a(e)?e:null}}function bi(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function ci(a,b,c,d,e,f,g,h,m,n){var p=A(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var q=a.wantedTiles[p];a=a.tileQueue;var u=c.minZoom,v,s,z,x,B,t;r(h)||(h=0);for(t=g;t>=u;--t)for(s=Mh(c,f,t,s),z=c.j(t),x=s.h;x<=s.s;++x)for(B=s.l;B<=s.k;++B)g-t<=h?(v=b.nb(t,x,B,d,e),0==v.q()&&(q[$g(v.i)]=!0,v.getKey()in a.Vb||di(a,[v,p,Ph(c,v.i),z])),r(m)&&m.call(n,v)):b.nf(t,x,B)};function ei(){this.cb={};this.Rc=0;this.Si=32}da(ei);ei.prototype.clear=function(){this.cb={};this.Rc=0};ei.prototype.get=function(a,b){var c=b+":"+a;return c in this.cb?this.cb[c]:null};ei.prototype.set=function(a,b,c){this.cb[b+":"+a]=c;++this.Rc};function fi(a,b,c,d,e,f,g,h){uf(a);0===b&&0===c||wf(a,b,c);1==d&&1==e||xf(a,d,e);0!==f&&yf(a,f);0===g&&0===h||wf(a,g,h);return a}function gi(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function hi(a,b){gc.call(this);this.a=b;this.ka={}}G(hi,gc);
function ii(a){var b=a.viewState,c=a.coordinateToPixelMatrix;fi(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],u=c[10],v=c[11],s=c[12],z=c[13],x=c[14],c=c[15],B=b*h-d*g,t=b*m-e*g,w=b*n-f*g,D=d*m-e*h,E=d*n-f*h,I=e*n-f*m,W=p*z-q*s,J=p*x-u*s,Y=p*c-v*s,O=q*x-u*z,F=q*c-v*z,N=u*c-v*x,L=B*N-t*F+w*O+D*Y-E*J+I*W;0!=L&&(L=1/L,a[0]=(h*N-m*F+n*O)*L,a[1]=(-d*N+
e*F-f*O)*L,a[2]=(z*I-x*E+c*D)*L,a[3]=(-q*I+u*E-v*D)*L,a[4]=(-g*N+m*Y-n*J)*L,a[5]=(b*N-e*Y+f*J)*L,a[6]=(-s*I+x*w-c*t)*L,a[7]=(p*I-u*w+v*t)*L,a[8]=(g*F-h*Y+n*W)*L,a[9]=(-b*F+d*Y-f*W)*L,a[10]=(s*E-z*w+c*B)*L,a[11]=(-p*E+q*w-v*B)*L,a[12]=(-g*O+h*J-m*W)*L,a[13]=(b*O-d*J+e*W)*L,a[14]=(-s*D+z*t-x*B)*L,a[15]=(p*D-q*t+u*B)*L)}k=hi.prototype;k.Yc=function(a){return new Xh(this,a)};k.f=function(){Ya(this.ka,kc);hi.F.f.call(this)};
function ji(){var a=ei.lb();if(a.Rc>a.Si){var b=0,c,d;for(c in a.cb){d=a.cb[c];var e;if(e=0===(b++&3))tc(d)?d=d.Ua(void 0,void 0):(d=Gc(d),d=!!d&&d.Ua(void 0,void 0)),e=!d;e&&(delete a.cb[c],--a.Rc)}}}function ki(a,b){var c=A(b).toString();if(c in a.ka)return a.ka[c];var d=a.Yc(b);return a.ka[c]=d}k.xa=function(){return this.a};k.Pd=ca;k.yj=function(a,b){for(var c in this.ka)if(!(null!==b&&c in b.layerStates)){var d=this.ka[c];delete this.ka[c];kc(d)}};
function li(a,b){for(var c in a.ka)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.yj,a));break}};function mi(a,b){this.Wg=a;this.Oe=b;this.ua=[];this.Ub=[];this.Vb={}}mi.prototype.clear=function(){this.ua.length=0;this.Ub.length=0;db(this.Vb)};function ni(a){var b=a.ua,c=a.Ub,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),oi(a,0));b=a.Oe(d);delete a.Vb[b];return d}function di(a,b){var c=a.Wg(b);Infinity!=c&&(a.ua.push(b),a.Ub.push(c),a.Vb[a.Oe(b)]=!0,pi(a,0,a.ua.length-1))}mi.prototype.Ga=function(){return this.ua.length};mi.prototype.Ia=function(){return 0===this.ua.length};
function oi(a,b){for(var c=a.ua,d=a.Ub,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;pi(a,h,b)}function pi(a,b,c){var d=a.ua;a=a.Ub;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function qi(a){var b=a.Wg,c=a.ua,d=a.Ub,e=0,f=c.length,g,h,m;for(h=0;h<f;++h)g=c[h],m=b(g),Infinity==m?delete a.Vb[a.Oe(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.ua.length>>1)-1;0<=b;b--)oi(a,b)};function ri(a,b){mi.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Uj=b;this.Mc=0}G(ri,mi);ri.prototype.wi=function(){--this.Mc;this.Uj()};function si(a){return function(b){if(r(b))return[xb(b[0],a[0],a[2]),xb(b[1],a[1],a[3])]}}function ti(a){return a};function ui(a){return function(b,c,d){if(r(b))return b=Ih(a,b,d),b=xb(b+c,0,a.length-1),a[b]}}function vi(a,b,c){return function(d,e,f){if(r(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),r(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function wi(a){if(r(a))return 0}function xi(a,b){if(r(a))return a+b}function yi(a){var b=2*Math.PI/a;return function(a,d){if(r(a))return a=Math.floor((a+d)/b+.5)*b}}function zi(){var a=5*Math.PI/180;return function(b,c){if(r(b))return Math.abs(b+c)<=a?0:b+c}};function Ai(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function X(a){Df.call(this);a=r(a)?a:{};this.Ie=[0,0];var b={};b.center=r(a.center)?a.center:null;this.Ac=yh(a.projection);var c,d,e,f=r(a.minZoom)?a.minZoom:0;c=r(a.maxZoom)?a.maxZoom:28;var g=r(a.zoomFactor)?a.zoomFactor:2;if(r(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=ui(c);else{d=yh(a.projection);e=d.I();var h=(null===e?360*ph.degrees/ph[d.Dh]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.maxResolution;r(d)?f=0:d=h/Math.pow(g,f);e=a.minResolution;r(e)||
(e=r(a.maxZoom)?r(a.maxResolution)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=vi(g,d,c-f)}this.Ig=d;this.Ui=e;this.Kg=f;f=r(a.extent)?si(a.extent):ti;(r(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=r(d)&&!0!==d?!1===d?xi:ia(d)?yi(d):xi:zi()):d=wi;this.ec=new Ai(f,c,d);r(a.resolution)?b.resolution=a.resolution:r(a.zoom)&&(b.resolution=this.constrainResolution(this.Ig,a.zoom-this.Kg));b.rotation=r(a.rotation)?a.rotation:0;this.Ec(b)}
G(X,Df);X.prototype.constrainResolution=function(a,b,c){return this.ec.resolution(a,b||0,c||0)};X.prototype.constrainRotation=function(a,b){return this.ec.rotation(a,b||0)};X.prototype.ia=function(){return this.get("center")};X.prototype.getCenter=X.prototype.ia;X.prototype.j=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.j;X.prototype.mb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.mb;
X.prototype.q=function(){var a=this.ia(),b=this.Ac,c=this.j(),d=this.mb();return{center:a.slice(),projection:r(b)?b:null,resolution:c,rotation:r(d)?d:0}};function Bi(a){var b,c=a.j();if(r(c)){var d,e=0;do{d=a.constrainResolution(a.Ig,e);if(d==c){b=e;break}++e}while(d>a.Ui)}return r(b)?a.Kg+b:b}X.prototype.Me=function(){return null!=this.ia()&&r(this.j())};X.prototype.rotate=function(a,b){if(r(b)){var c,d=this.ia();r(d)&&(c=[d[0]-b[0],d[1]-b[1]],Pf(c,a-this.mb()),Nf(c,b));this.Na(c)}this.df(a)};
X.prototype.Na=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.Na;function Ci(a,b){a.Ie[1]+=b}X.prototype.cf=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.cf;X.prototype.df=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.df;function Di(a){Df.call(this);this.element=r(a.element)?a.element:null;this.qh=r(a.target)?Eb(a.target):null;this.a=null;this.Dd=[]}G(Di,Df);Di.prototype.f=function(){Rb(this.element);Di.F.f.call(this)};Di.prototype.xa=function(){return this.a};Di.prototype.qd=ca;
Di.prototype.setMap=function(a){null===this.a||Rb(this.element);0!=this.Dd.length&&(K(this.Dd,T),this.Dd.length=0);this.a=a;null!==this.a&&((null===this.qh?a.Ue:this.qh).appendChild(this.element),this.qd!==ca&&this.Dd.push(S(a,"postrender",this.qd,!1,this)),Z(a))};function Ei(a){a=r(a)?a:{};this.Zd=Ob("UL");this.Ed=Ob("LI");this.Zd.appendChild(this.Ed);ge(this.Ed,!1);this.Db=r(a.collapsed)?a.collapsed:!0;this.Vc=r(a.collapsible)?a.collapsible:!0;this.Vc||(this.Db=!1);var b=r(a.className)?a.className:"ol-attribution",c=Lb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Attributions");this.Af=r(a.collapseLabel)?a.collapseLabel:"\u00bb";this.rb=r(a.label)?a.label:"i";this.yg=Lb("SPAN",{},this.Vc&&!this.Db?this.Af:this.rb);var d=Lb("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.yg);d.appendChild(c);c=new Cg(d);jc(this,c);S(c,og,this.Ha,!1,this);S(d,"click",this.Jb,!1,this);S(d,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",{"class":b+" ol-unselectable ol-control"+(this.Db&&this.Vc?" ol-collapsed":"")+(this.Vc?"":" ol-uncollapsible")},this.Zd,d);Di.call(this,{element:b,target:a.target});this.n=!0;this.bb={};this.Pa={};this.Mi={}}G(Ei,Di);
Ei.prototype.qd=function(a){a=a.frameState;if(null===a)this.n&&(ge(this.element,!1),this.n=!1);else{var b,c,d,e,f,g,h,m,n,p=a.layerStatesArray,q=fb(a.attributions),u={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.L,n=A(d).toString(),m=d.he,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],h=A(g).toString(),!(h in q)){f=a.usedTiles[n];var v;if(v=r(f))a:if(null===g.Wd)v=!0;else{var s=v=void 0,z=void 0,x=void 0;for(x in f)if(x in g.Wd)for(z=f[x],v=0,s=g.Wd[x].length;v<s;++v){var B=g.Wd[x][v];if(B.h<=z.s&&
B.s>=z.h&&B.l<=z.k&&B.k>=z.l){v=!0;break a}}v=!1}v?(h in u&&delete u[h],q[h]=g):u[h]=g}b=[q,u];c=b[0];b=b[1];for(var t in this.bb)t in c?(this.Pa[t]||(ge(this.bb[t],!0),this.Pa[t]=!0),delete c[t]):t in b?(this.Pa[t]&&(ge(this.bb[t],!1),delete this.Pa[t]),delete b[t]):(Rb(this.bb[t]),delete this.bb[t],delete this.Pa[t]);for(t in c)n=Ob("LI"),n.innerHTML=c[t].lg,this.Zd.appendChild(n),this.bb[t]=n,this.Pa[t]=!0;for(t in b)n=Ob("LI"),n.innerHTML=b[t].lg,ge(n,!1),this.Zd.appendChild(n),this.bb[t]=n;t=
!cb(this.Pa)||!cb(a.logos);this.n!=t&&(ge(this.element,t),this.n=t);t&&cb(this.Pa)?ac(this.element,"ol-logo-only"):bc(this.element,"ol-logo-only");var w;a=a.logos;t=this.Mi;for(w in t)w in a||(Rb(t[w]),delete t[w]);for(var D in a)D in t||(w=new Image,w.src=D,c=a[D],""===c?c=w:(c=Lb("A",{href:c}),c.appendChild(w)),this.Ed.appendChild(c),t[D]=c);ge(this.Ed,!cb(a))}};Ei.prototype.Jb=function(a){0!==a.screenX&&0!==a.screenY||Fi(this)};Ei.prototype.Ha=function(a){a.G.preventDefault();Fi(this)};
function Fi(a){var b=a.element,c=!$b(b,"ol-collapsed");cc(b,"ol-collapsed",c);Tb(a.yg,a.Db?a.Af:a.rb);a.Db=!a.Db};function Gi(a){return 1-Math.pow(1-a,3)};function Hi(a){return 3*a*a-2*a*a*a}function Ii(a){return a};function Ji(a){var b=a.source,c=r(a.start)?a.start:ra(),d=b[0],e=b[1],f=r(a.duration)?a.duration:1E3,g=r(a.easing)?a.easing:Hi;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],q=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*q;b.viewHints[0]+=1;return!0}return!1}}
function Ki(a){var b=r(a.rotation)?a.rotation:0,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Hi,f=r(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.viewState.rotation)*m;h.animate=!0;h.viewState.rotation+=m;if(null!==f){var n=h.viewState.center;n[0]-=f[0];n[1]-=f[1];Pf(n,m);Nf(n,f)}h.viewHints[0]+=1;return!0}return!1}}
function Li(a){var b=a.resolution,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Hi;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*m;g.viewHints[0]+=1;return!0}return!1}};function Mi(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-rotate";this.rb=Lb("SPAN",{"class":"ol-compass"},r(a.label)?a.label:"\u21e7");var c=Lb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Reset rotation"),c=Lb("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.rb),d=new Cg(c);jc(this,d);S(d,og,Mi.prototype.Ha,!1,this);S(c,"click",Mi.prototype.Jb,!1,this);S(c,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",b+" ol-unselectable ol-control",c);Di.call(this,
{element:b,target:a.target});this.W=r(a.duration)?a.duration:250;this.sf=r(a.autoHide)?a.autoHide:!0;this.gh=void 0;this.sf&&ac(this.element,"ol-hidden")}G(Mi,Di);Mi.prototype.Jb=function(a){0!==a.screenX&&0!==a.screenY||Ni(this)};Mi.prototype.Ha=function(a){a.G.preventDefault();Ni(this)};function Ni(a){var b=a.xa(),c=b.p();if(null!==c){for(var d=c.mb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;r(d)&&(0<a.W&&b.Da(Ki({rotation:d,duration:a.W,easing:Gi})),c.df(0))}}
Mi.prototype.qd=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.gh){var b="rotate("+180*a/Math.PI+"deg)";this.sf&&cc(this.element,"ol-hidden",0===a);this.rb.style.msTransform=b;this.rb.style.webkitTransform=b;this.rb.style.transform=b}this.gh=a}};function Oi(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-zoom",c=r(a.delta)?a.delta:1,d=r(a.zoomInLabel)?a.zoomInLabel:"+",e=r(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=r(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=Lb("SPAN",{role:"tooltip"},r(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=Lb("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Cg(d);jc(this,g);S(g,og,qa(Oi.prototype.Ha,c),!1,this);S(d,"click",qa(Oi.prototype.Jb,c),!1,this);S(d,["mouseout",nc],function(){this.blur()},
!1);f=Lb("SPAN",{role:"tooltip"},f);e=Lb("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Cg(e);jc(this,f);S(f,og,qa(Oi.prototype.Ha,-c),!1,this);S(e,"click",qa(Oi.prototype.Jb,-c),!1,this);S(e,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",b+" ol-unselectable ol-control",d,e);Di.call(this,{element:b,target:a.target});this.W=r(a.duration)?a.duration:250}G(Oi,Di);Oi.prototype.Jb=function(a,b){0!==b.screenX&&0!==b.screenY||Pi(this,a)};
Oi.prototype.Ha=function(a,b){b.G.preventDefault();Pi(this,a)};function Pi(a,b){var c=a.xa(),d=c.p();if(null!==d){var e=d.j();r(e)&&(0<a.W&&c.Da(Li({resolution:e,duration:a.W,easing:Gi})),c=d.constrainResolution(e,b),d.cf(c))}};function Qi(a,b,c){this.ue=a;this.Hd=b;this.Ph=c;this.ea=[];this.Ob=this.fe=0}Qi.prototype.update=function(a,b){this.ea.push(a,b,ra())};Qi.prototype.end=function(){if(6>this.ea.length)return!1;var a=ra()-this.Ph,b=this.ea.length-3;if(this.ea[b+2]<a)return!1;for(var c=b-3;0<c&&this.ea[c+2]>a;)c-=3;var a=this.ea[b+2]-this.ea[c+2],d=this.ea[b]-this.ea[c],b=this.ea[b+1]-this.ea[c+1];this.fe=Math.atan2(b,d);this.Ob=Math.sqrt(d*d+b*b)/a;return this.Ob>this.Hd};
function Ri(a,b){var c=a.ue,d=a.Ob,e=a.Hd-d,f=Si(a);return Ji({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Si(a){return Math.log(a.Hd/a.Ob)/a.ue};function Ti(){zf.call(this);this.a=null;this.fa=!0}G(Ti,zf);Ti.prototype.xa=function(){return this.a};Ti.prototype.setActive=function(a){this.fa=a};Ti.prototype.setMap=function(a){this.a=a};function Ui(a,b,c,d,e){if(null!=c){var f=b.mb(),g=b.ia();r(f)&&r(g)&&r(e)&&0<e&&(a.Da(Ki({rotation:f,duration:e,easing:Gi})),r(d)&&a.Da(Ji({source:g,duration:e,easing:Gi})));b.rotate(c,d)}}function Vi(a,b,c,d,e){var f=b.j();c=b.constrainResolution(f,c,0);Wi(a,b,c,d,e)}
function Wi(a,b,c,d,e){if(null!=c){var f=b.j(),g=b.ia();r(f)&&r(g)&&r(e)&&0<e&&(a.Da(Li({resolution:f,duration:e,easing:Gi})),r(d)&&a.Da(Ji({source:g,duration:e,easing:Gi})));if(null!=d){var h;a=b.ia();e=b.j();r(a)&&r(e)&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Na(h)}b.cf(c)}};function Xi(a){a=r(a)?a:{};this.ta=r(a.delta)?a.delta:1;Ti.call(this);this.W=r(a.duration)?a.duration:250}G(Xi,Ti);Xi.prototype.Ta=function(a){var b=!1,c=a.G;if(a.type==Pg){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.ta:this.ta,e=b.p();Vi(b,e,c,d,this.W);a.preventDefault();b=!0}return!b};function Yi(a){a=a.G;return a.altKey&&!a.Kd&&a.shiftKey}function Zi(a){a=a.G;return!a.altKey&&!a.Kd&&!a.shiftKey}function $i(a){a=a.G;return!a.altKey&&!a.Kd&&a.shiftKey}function aj(a){a=a.G.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function bj(){Ti.call(this);this.Nb=!1;this.Oc={};this.P=[]}G(bj,Ti);function cj(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}k=bj.prototype;k.Lb=ca;k.Mb=cd;k.Kb=cd;
k.Ta=function(a){if(!(a instanceof Lg))return!0;var b=!1,c=a.type;if(c===Ug||c===Wg||c===Sg)c=a.vb,a.type==Sg?delete this.Oc[c.pointerId]:a.type==Ug?this.Oc[c.pointerId]=c:c.pointerId in this.Oc&&(this.Oc[c.pointerId]=c),this.P=ab(this.Oc);this.Nb&&(a.type==Wg?this.Lb(a):a.type==Sg&&(this.Nb=this.Mb(a)));a.type==Ug&&(this.Nb=a=this.Kb(a),b=this.oh(a));return!b};k.oh=cd;function dj(a){bj.call(this);this.Ja=(r(a)?a:{}).kinetic;this.Pb=this.sc=null;this.Ea=r(a.condition)?a.condition:Zi;this.Mg=!1}G(dj,bj);dj.prototype.Lb=function(a){var b=cj(this.P);this.Ja&&this.Ja.update(b[0],b[1]);if(null!==this.Pb){var c=this.Pb[0]-b[0],d=b[1]-this.Pb[1];a=a.map;var e=a.p(),f=e.q(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;Pf(c,f.rotation);Nf(c,f.center);c=e.ec.center(c);Z(a);e.Na(c)}this.Pb=b};
dj.prototype.Mb=function(a){a=a.map;var b=a.p();if(0===this.P.length){if(!this.Mg&&this.Ja&&this.Ja.end()){var c;c=this.Ja;c=(c.Hd-c.Ob)/c.ue;var d=this.Ja.fe,e=b.ia();this.sc=Ri(this.Ja,e);a.Da(this.sc);var f;f=a.kb;null===f?f=null:(e=e.slice(0,2),f=gi(f.coordinateToPixelMatrix,e,e));c=a.nc([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.ec.center(c);b.Na(c)}Ci(b,-1);Z(a);return!1}this.Pb=null;return!0};
dj.prototype.Kb=function(a){if(0<this.P.length&&this.Ea(a)){var b=a.map,c=b.p();this.Pb=null;this.Nb||Ci(c,1);Z(b);null!==this.sc&&Ma(b.Nd,this.sc)&&(c.Na(a.frameState.viewState.center),this.sc=null);this.Ja&&(a=this.Ja,a.ea.length=0,a.fe=0,a.Ob=0);this.Mg=1<this.P.length;return!0}return!1};function ej(a){a=r(a)?a:{};bj.call(this);this.Ea=r(a.condition)?a.condition:Yi;this.Ka=void 0}G(ej,bj);ej.prototype.Lb=function(a){if(1==a.vb.pointerId){var b=a.map,c=b.ba();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(r(this.Ka)){a=c-this.Ka;var d=b.p(),e=d.q();Z(b);Ui(b,d,e.rotation-a)}this.Ka=c}};ej.prototype.Mb=function(a){if(1!=a.vb.pointerId)return!0;a=a.map;var b=a.p();Ci(b,-1);var c=b.q().rotation,c=b.constrainRotation(c,0);Ui(a,b,c,void 0,250);return!1};
ej.prototype.Kb=function(a){return 1==a.vb.pointerId&&rc(a.G)&&this.Ea(a)?(a=a.map,Ci(a.p(),1),Z(a),this.Ka=void 0,!0):!1};function fj(){zf.call(this);this.extent=void 0;this.Xf=-1}G(fj,zf);fj.prototype.fc=cd;fj.prototype.transform=function(a,b){var c=Ah(a,b);null!==this.A&&(c(this.A,this.A,this.C),this.M());return this};function gj(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=r(f)?f:[],u=0;b<c;b+=d){var v=a[b],s=a[b+1];q[u++]=g*v+m*s+p;q[u++]=h*v+n*s+e}r(f)&&q.length!=u&&(q.length=u);return q};function hj(){fj.call(this);this.vc="XY";this.C=2;this.A=null}G(hj,fj);function ij(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}hj.prototype.fc=cd;
hj.prototype.I=function(a){if(this.Xf!=this.oa){for(var b=this.A,c=this.A.length,d=this.C,e=fh(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.extent=e;this.Xf=this.oa}b=this.extent;r(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function jj(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function kj(a,b,c,d,e){if(0===b.length||!jj(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(jj(a,b[f-1],b[f],c,d,e))return!1;return!0};function lj(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function mj(a,b){hj.call(this);this.ha=[];this.Zf=-1;this.$f=null;this.Sg=-1;this.xc=null;if(null===a){var c=this.ha;this.C=ij("XY");this.vc="XY";this.A=null;this.ha=c}else{a:{var c=b,d=a;if(r(c))d=ij(c);else{for(c=0;2>c;++c){if(0===d.length){this.vc="XY";this.C=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.vc=c;this.C=d}null===this.A&&(this.A=[]);var c=this.A,d=this.C,e=this.ha,f=0,e=r(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],q=d,u=void 0,
v=void 0,u=0,v=p.length;u<v;++u){var s=p[u],z;for(z=0;z<q;++z)n[f++]=s[z]}n=f;f=e[g++]=n}e.length=g;this.A.length=0===e.length?0:e[e.length-1]}this.M()}G(mj,hj);mj.prototype.clone=function(){var a=new mj(null),b=this.vc,c=this.A.slice(),d=this.ha.slice();a.C=ij(b);a.vc=b;a.A=c;a.ha=d;a.M();return a};mj.prototype.fc=function(a,b){return kj(nj(this),this.ha,this.C,a,b)};
function nj(a){if(a.Sg!=a.oa){var b=a.A,c;a:{c=a.ha;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=lj(b,d,g,a.C);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.xc=b;else{a.xc=b.slice();c=b=a.xc;e=a.ha;f=a.C;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=lj(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var u;for(u=0;u<q;++u){var v=n[h+u];n[h+u]=n[p-q+u];n[p-q+u]=v}h+=q;p-=q}h=m}b.length=h}a.Sg=a.oa}return a.xc}mj.prototype.ob=function(){return"Polygon"};function oj(a,b,c,d,e,f,g){R.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}G(oj,R);function pj(a){this.gd=this.bd=this.pa=this.Md=this.a=null;this.Qj=a}G(pj,gc);function qj(a){var b=a.pa,c=a.bd;a=Ia([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.nc,a.a);a[4]=a[0].slice();return new mj([a])}pj.prototype.f=function(){this.setMap(null)};pj.prototype.mi=function(a){var b=this.gd,c=this.Qj;a.vectorContext.Mf(Infinity,function(a){a.lh(c.Yf,c.ph);a.nh(c.Q);a.xe(b,null)})};pj.prototype.Be=function(){return this.gd};function rj(a){null===a.a||null===a.pa||null===a.bd||Z(a.a)}
pj.prototype.setMap=function(a){null!==this.Md&&(T(this.Md),this.Md=null,Z(this.a),this.a=null);this.a=a;null!==this.a&&(this.Md=S(a,"postcompose",this.mi,!1,this),rj(this))};function sj(a,b){R.call(this,a);this.coordinate=b}G(sj,R);function tj(a){bj.call(this);a=r(a)?a:{};this.ac=new pj(r(a.style)?a.style:null);this.pa=null;this.Ea=r(a.condition)?a.condition:dd}G(tj,bj);k=tj.prototype;k.Lb=function(a){if(1==a.vb.pointerId){var b=this.ac;a=a.pixel;b.pa=this.pa;b.bd=a;b.gd=qj(b);rj(b)}};k.Be=function(){return this.ac.Be()};k.Ng=ca;
k.Mb=function(a){if(1!=a.vb.pointerId)return!0;this.ac.setMap(null);var b=a.pixel[0]-this.pa[0],c=a.pixel[1]-this.pa[1];64<=b*b+c*c&&(this.Ng(a),this.dispatchEvent(new sj("boxend",a.coordinate)));return!1};k.Kb=function(a){if(1==a.vb.pointerId&&rc(a.G)&&this.Ea(a)){this.pa=a.pixel;this.ac.setMap(a.map);var b=this.ac,c=this.pa;b.pa=this.pa;b.bd=c;b.gd=qj(b);rj(b);this.dispatchEvent(new sj("boxstart",a.coordinate));return!0}return!1};k.oh=ed;function uj(a){a=r(a)?a:{};this.Xc=r(a.color)?a.color:null;this.Ag=a.lineCap;this.Bg=r(a.lineDash)?a.lineDash:null;this.Cg=a.lineJoin;this.Lg=a.miterLimit;this.ik=a.width}uj.prototype.getLineDash=function(){return this.Bg};uj.prototype.Sa=function(){return this.ik};uj.prototype.setLineDash=function(a){this.Bg=a};function vj(a){if(!y(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var wj=[0,0,0,1],xj=[],yj=[0,0,0,1];function zj(a){a=r(a)?a:{};this.Yf=r(a.fill)?a.fill:null;this.O=r(a.image)?a.image:null;this.ph=r(a.stroke)?a.stroke:null;this.Q=r(a.text)?a.text:null}zj.prototype.ja=function(){return this.O};function Aj(a){a=r(a)?a:{};tj.call(this,{condition:r(a.condition)?a.condition:$i,style:r(a.style)?a.style:new zj({stroke:new uj({color:[0,0,255,1]})})})}G(Aj,tj);Aj.prototype.Ng=function(){var a=this.xa(),b=a.p(),c=this.Be().I(),d=hh(c),e=a.ba(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);Wi(a,b,c,d,200)};function Bj(a){Ti.call(this);a=r(a)?a:{};this.Ea=r(a.condition)?a.condition:gd(Zi,aj);this.oj=r(a.pixelDelta)?a.pixelDelta:128}G(Bj,Ti);
Bj.prototype.Ta=function(a){var b=!1;if("key"==a.type){var c=a.G.keyCode;if(this.Ea(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.p(),e=b.q(),f=e.resolution*this.oj,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];Pf(c,e.rotation);e=b.ia();r(e)&&(r(100)&&d.Da(Ji({source:e,duration:100,easing:Ii})),d=b.ec.center([e[0]+c[0],e[1]+c[1]]),b.Na(d));a.preventDefault();b=!0}}return!b};function Cj(a){Ti.call(this);a=r(a)?a:{};this.Ea=r(a.condition)?a.condition:aj;this.ta=r(a.delta)?a.delta:1;this.W=r(a.duration)?a.duration:100}G(Cj,Ti);Cj.prototype.Ta=function(a){var b=!1;if("key"==a.type){var c=a.G.charCode;if(this.Ea(a)&&(43==c||45==c)){b=a.map;c=43==c?this.ta:-this.ta;Z(b);var d=b.p();Vi(b,d,c,void 0,this.W);a.preventDefault();b=!0}}return!b};function Dj(a){a=r(a)?a:{};Ti.call(this);this.ta=0;this.W=r(a.duration)?a.duration:250;this.Pe=null;this.$a=this.Ud=void 0}G(Dj,Ti);Dj.prototype.Ta=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.G;this.Pe=a.coordinate;this.ta+=c.deltaY;r(this.Ud)||(this.Ud=ra());c=Math.max(80-(ra()-this.Ud),0);l.clearTimeout(this.$a);this.$a=l.setTimeout(C(this.Sh,this,b),c);a.preventDefault();b=!0}return!b};
Dj.prototype.Sh=function(a){var b=xb(this.ta,-1,1),c=a.p();Z(a);Vi(a,c,-b,this.Pe,this.W);this.ta=0;this.Pe=null;this.$a=this.Ud=void 0};function Ej(a){bj.call(this);a=r(a)?a:{};this.Ba=null;this.Ka=void 0;this.Dc=!1;this.Sd=0;this.Sj=r(a.threshold)?a.threshold:.3}G(Ej,bj);Ej.prototype.Lb=function(a){var b=0,c=this.P[0],d=this.P[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);r(this.Ka)&&(b=c-this.Ka,this.Sd+=b,!this.Dc&&Math.abs(this.Sd)>this.Sj&&(this.Dc=!0));this.Ka=c;a=a.map;c=cf(a.w);d=cj(this.P);d[0]-=c.x;d[1]-=c.y;this.Ba=a.nc(d);this.Dc&&(c=a.p(),d=c.q(),Z(a),Ui(a,c,d.rotation+b,this.Ba))};
Ej.prototype.Mb=function(a){if(2>this.P.length){a=a.map;var b=a.p();Ci(b,-1);if(this.Dc){var c=b.q().rotation,d=this.Ba,c=b.constrainRotation(c,0);Ui(a,b,c,d,250)}return!1}return!0};Ej.prototype.Kb=function(a){return 2<=this.P.length?(a=a.map,this.Ba=null,this.Ka=void 0,this.Dc=!1,this.Sd=0,this.Nb||Ci(a.p(),1),Z(a),!0):!1};function Fj(a){a=r(a)?a:{};bj.call(this);this.Ba=null;this.W=r(a.duration)?a.duration:400;this.Ad=void 0;this.Qe=1}G(Fj,bj);Fj.prototype.Lb=function(a){var b=1,c=this.P[0],d=this.P[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);r(this.Ad)&&(b=this.Ad/e);this.Ad=e;1!=b&&(this.Qe=b);a=a.map;var e=a.p(),c=e.q(),d=cf(a.w),f=cj(this.P);f[0]-=d.x;f[1]-=d.y;this.Ba=a.nc(f);Z(a);Wi(a,e,c.resolution*b,this.Ba)};
Fj.prototype.Mb=function(a){if(2>this.P.length){a=a.map;var b=a.p();Ci(b,-1);var c=b.q().resolution,d=this.Ba,e=this.W,c=b.constrainResolution(c,0,this.Qe-1);Wi(a,b,c,d,e);return!1}return!0};Fj.prototype.Kb=function(a){return 2<=this.P.length?(a=a.map,this.Ba=null,this.Ad=void 0,this.Qe=1,this.Nb||Ci(a.p(),1),Z(a),!0):!1};function Gj(a){var b=r(a)?a:{};a=fb(b);delete a.layers;b=b.layers;V.call(this,a);this.Wa=null;S(this,Hf("layers"),this.ji,!1,this);null!=b?fa(b)&&(b=new Jf(Oa(b))):b=new Jf;this.mh(b)}G(Gj,V);k=Gj.prototype;k.kg=function(){this.Ee()&&this.M()};
k.ji=function(){null!==this.Wa&&(K(ab(this.Wa),T),this.Wa=null);var a=this.pc();if(null!=a){this.Wa={add:S(a,"add",this.ii,!1,this),remove:S(a,"remove",this.ki,!1,this)};var a=a.mc(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Wa[A(d).toString()]=S(d,["propertychange","change"],this.kg,!1,this)}this.M()};k.ii=function(a){a=a.element;this.Wa[A(a).toString()]=S(a,["propertychange","change"],this.kg,!1,this);this.M()};k.ki=function(a){a=A(a.element).toString();T(this.Wa[a]);delete this.Wa[a];this.M()};
k.pc=function(){return this.get("layers")};Gj.prototype.getLayers=Gj.prototype.pc;Gj.prototype.mh=function(a){this.set("layers",a)};Gj.prototype.setLayers=Gj.prototype.mh;
Gj.prototype.Ce=function(a){var b=r(a)?a:[],c=b.length;this.pc().forEach(function(a){a.Ce(b)});a=Fh(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=xb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),r(a.extent)&&r(e.extent)&&(e.extent=lh(e.extent,a.extent));return b};
Gj.prototype.ig=function(){return"ready"};function Hj(a){qh.call(this,{code:a,units:"m",extent:Ij,global:!0,worldExtent:Jj})}G(Hj,qh);var Kj=6378137*Math.PI,Ij=[-Kj,-Kj,Kj,Kj],Jj=[-180,-85,180,85],Lj=Ia("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new Hj(a)});
function Mj(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Nj(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Oj(a,b){qh.call(this,{code:a,units:"degrees",extent:Pj,axisOrientation:b,global:!0,worldExtent:Pj})}G(Oj,qh);var Pj=[-180,-90,180,90],Qj=[new Oj("CRS:84"),new Oj("EPSG:4326","neu"),new Oj("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Oj("urn:ogc:def:crs:OGC:1.3:CRS84"),new Oj("urn:ogc:def:crs:OGC:2:84"),new Oj("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Oj("urn:x-ogc:def:crs:EPSG:4326","neu")];function Rj(a){Gh.call(this,a)}G(Rj,Gh);Rj.prototype.kd=function(){return this.get("preload")};Rj.prototype.getPreload=Rj.prototype.kd;Rj.prototype.Jj=function(a){this.set("preload",a)};Rj.prototype.setPreload=Rj.prototype.Jj;Rj.prototype.md=function(){return this.get("useInterimTilesOnError")};Rj.prototype.getUseInterimTilesOnError=Rj.prototype.md;Rj.prototype.Mj=function(a){this.set("useInterimTilesOnError",a)};Rj.prototype.setUseInterimTilesOnError=Rj.prototype.Mj;function Sj(a,b,c,d,e){this.Tc={};this.o=a;this.Rb=b;this.N=c;this.$=d;this.hk=e;this.O=this.D=this.U=this.Df=this.Cf=this.Bf=null;this.Ei=this.Di=this.Je=this.rg=this.qg=this.pg=0;this.Fi=!1;this.td=this.Gi=0;this.Hi=!1;this.tg=0;this.Q="";this.Ic=this.Vd=this.th=this.sh=0;this.jf=this.Jc=this.Hc=null;this.Jd=[];this.xh=rf()}
function Tj(a,b,c){if(null!==a.O){b=gj(b,0,c,2,a.$,a.Jd);c=a.o;var d=a.xh,e=c.globalAlpha;1!=a.Je&&(c.globalAlpha=e*a.Je);var f=a.Gi;a.Fi&&(f+=a.hk);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.pg,n=b[g+1]-a.qg;a.Hi&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.td){var p=m+a.pg,q=n+a.qg;fi(d,p,q,a.td,a.td,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.O,a.Di,a.Ei,a.tg,a.rg,m,n,a.tg,a.rg)}0===f&&1==a.td||c.setTransform(1,0,0,1,0,0);1!=a.Je&&(c.globalAlpha=e)}}
function Uj(a,b,c,d){var e=0;if(null!==a.jf&&""!==a.Q){null===a.Hc||Vj(a,a.Hc);null===a.Jc||Wj(a,a.Jc);var f=a.jf,g=a.o,h=a.Df;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Df={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=gj(b,e,c,d,a.$,a.Jd);for(f=a.o;e<c;e+=d){g=
b[e]+a.sh;h=b[e+1]+a.th;if(0!==a.Vd||1!=a.Ic){var m=fi(a.xh,g,h,a.Ic,a.Ic,a.Vd,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Jc||f.strokeText(a.Q,g,h);null===a.Hc||f.fillText(a.Q,g,h)}0===a.Vd&&1==a.Ic||f.setTransform(1,0,0,1,0,0)}}function Xj(a,b,c,d,e,f){var g=a.o;a=gj(b,c,d,e,a.$,a.Jd);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function Yj(a,b,c,d,e){var f=a.o,g,h;g=0;for(h=d.length;g<h;++g)c=Xj(a,b,c,d[g],e,!0),f.closePath();return c}k=Sj.prototype;k.Mf=function(a,b){var c=a.toString(),d=this.Tc[c];r(d)?d.push(b):this.Tc[c]=[b]};
k.Nf=function(a){if(mh(this.N,a.I())){if(null!==this.U||null!==this.D){null===this.U||Vj(this,this.U);null===this.D||Wj(this,this.D);var b;b=a.A;b=null===b?null:gj(b,0,b.length,a.C,this.$,this.Jd);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.o;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.U||d.fill();null===this.D||d.stroke()}""!==this.Q&&Uj(this,a.ia(),2,2)}};k.Of=function(a,b){var c=a.Fk(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];Zj[f.ob()].call(this,f,b)}};
k.Tf=function(a){var b=a.A;a=a.C;null===this.O||Tj(this,b,b.length);""!==this.Q&&Uj(this,b,b.length,a)};k.Rf=function(a){var b=a.A;a=a.C;null===this.O||Tj(this,b,b.length);""!==this.Q&&Uj(this,b,b.length,a)};k.Pf=function(a){if(mh(this.N,a.I())){if(null!==this.D){Wj(this,this.D);var b=this.o,c=a.A;b.beginPath();Xj(this,c,0,c.length,a.C,!1);b.stroke()}""!==this.Q&&(a=a.Ck(),Uj(this,a,2,2))}};
k.Qf=function(a){var b=a.I();if(mh(this.N,b)){if(null!==this.D){Wj(this,this.D);var b=this.o,c=a.A,d=0,e=a.ha,f=a.C;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=Xj(this,c,d,e[g],f,!1);b.stroke()}""!==this.Q&&(a=a.Dk(),Uj(this,a,a.length,2))}};
k.xe=function(a){if(mh(this.N,a.I())){if(null!==this.D||null!==this.U){null===this.U||Vj(this,this.U);null===this.D||Wj(this,this.D);var b=this.o;b.beginPath();Yj(this,nj(a),0,a.ha,a.C);null===this.U||b.fill();null===this.D||b.stroke()}if(""!==this.Q){if(a.Zf!=a.oa){b=hh(a.I());var c=nj(a),d=a.ha,e=a.C,f,g,h,m,n,p=b[1],q=[],u=d[0];h=c[u-e];n=c[u-e+1];for(f=0;f<u;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}u=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var v=Math.abs(m-h);v>n&&(h=(h+m)/2,kj(c,d,e,h,p)&&(u=h,n=v));h=m}isNaN(u)&&(u=b[0]);r(void 0)?((void 0).push(u,p),b=void 0):b=[u,p];a.$f=b;a.Zf=a.oa}Uj(this,a.$f,2,2)}}};
k.Sf=function(a){if(mh(this.N,a.I())){if(null!==this.D||null!==this.U){null===this.U||Vj(this,this.U);null===this.D||Wj(this,this.D);var b=this.o,c=nj(a),d=0,e=a.Ak(),f=a.C,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=Yj(this,c,d,m,f);null===this.U||b.fill();null===this.D||b.stroke()}}""!==this.Q&&(a=a.Bk(),Uj(this,a,a.length,2))}};k.flush=function(){var a=Ia(bb(this.Tc),Number);a.sort(Ta);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Tc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function Vj(a,b){var c=a.o,d=a.Bf;null===d?(c.fillStyle=b.fillStyle,a.Bf={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function Wj(a,b){var c=a.o,d=a.Cf;null===d?(c.lineCap=b.lineCap,cg&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Cf={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),cg&&!Ra(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
k.lh=function(a,b){if(null===a)this.U=null;else{var c=a.Xc;this.U={fillStyle:vj(null===c?wj:c)}}if(null===b)this.D=null;else{var c=b.Xc,d=b.Ag,e=b.getLineDash(),f=b.Cg,g=b.Sa(),h=b.Lg;this.D={lineCap:r(d)?d:"round",lineDash:null!=e?e:xj,lineJoin:r(f)?f:"round",lineWidth:this.Rb*(r(g)?g:1),miterLimit:r(h)?h:10,strokeStyle:vj(null===c?yj:c)}}};
k.nh=function(a){if(null===a)this.Q="";else{var b=a.Yf;null===b?this.Hc=null:(b=b.Xc,this.Hc={fillStyle:vj(null===b?wj:b)});var c=a.ph;if(null===c)this.Jc=null;else{var b=c.Xc,d=c.Ag,e=c.getLineDash(),f=c.Cg,g=c.Sa(),c=c.Lg;this.Jc={lineCap:r(d)?d:"round",lineDash:null!=e?e:xj,lineJoin:r(f)?f:"round",lineWidth:r(g)?g:1,miterLimit:r(c)?c:10,strokeStyle:vj(null===b?yj:b)}}var b=a.Ek(),d=a.Gk(),e=a.Hk(),f=a.mb(),g=a.Ik(),c=a.Q,h=a.Jk();a=a.Kk();this.jf={font:r(b)?b:"10px sans-serif",textAlign:r(h)?h:
"center",textBaseline:r(a)?a:"middle"};this.Q=r(c)?c:"";this.sh=r(d)?this.Rb*d:0;this.th=r(e)?this.Rb*e:0;this.Vd=r(f)?f:0;this.Ic=this.Rb*(r(g)?g:1)}};var Zj={Point:Sj.prototype.Tf,LineString:Sj.prototype.Pf,Polygon:Sj.prototype.xe,MultiPoint:Sj.prototype.Rf,MultiLineString:Sj.prototype.Qf,MultiPolygon:Sj.prototype.Sf,GeometryCollection:Sj.prototype.Of,Circle:Sj.prototype.Nf};var ak=["Polygon","LineString","Image","Text"];function bk(a,b,c){this.Ti=b;this.dh=c;this.Bc={};Wf(1,1);rf()}bk.prototype.ah=function(a,b,c,d,e,f){var g=Ia(bb(this.Bc),Number);g.sort(Ta);return this.Bj(g,a,b,c,d,e,f)};
bk.prototype.Bj=function(a,b,c,d,e,f,g){var h=this.Ti,m=h[0],n=h[1],p=h[2],h=h[3],m=gj([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,u,m=0,n=a.length;m<n;++m)for(q=this.Bc[a[m].toString()],p=0,h=ak.length;p<h;++p)if(u=q[ak[p]],r(u)&&mh(c,u.I())&&(u=u.ah(b,d,e,f,g)))return u;b.restore()};bk.prototype.finish=function(){for(var a in this.Bc){var b=this.Bc[a],c;for(c in b)b[c].finish()}};
bk.prototype.Ia=function(){return cb(this.Bc)};function ck(a,b){Xh.call(this,a,b);this.$=rf()}G(ck,Xh);
ck.prototype.pe=function(a,b,c){this.ga("precompose",c,a,void 0);var d=this.ja();if(null!==d){var e=this.sg,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],h=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(h))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.ga("postcompose",c,a,void 0)};
ck.prototype.ga=function(a,b,c,d){var e=this.uc;if(e.Ua(a)){if(!r(d)){d=c.viewState;var f=c.pixelRatio;d=fi(this.$,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new Sj(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new oj(a,e,d,0,c,b,null));d.flush()}};
var dk=function(){var a=null,b=null;return function(c){if(null===a){a=Wf(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Ra(b.data,c.data));return e}}();function ek(a,b){ck.call(this,a,b);this.sa=this.b=null;this.me=!1;this.o=null;this.sg=rf();this.$e=NaN;this.Rd=this.xb=null}G(ek,ck);ek.prototype.ja=function(){return this.b};
ek.prototype.yc=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.uc,g=f.L,h=Vh(g,e),m=Ih(h.Yb,d.resolution,0),n=Wh(g,m,e),p=n/Qh(h,m),q=h.j(m),p=q/p,u=d.center,v;q==d.resolution?(u=bi(u,q,a.size),v=kh(u,q,d.rotation,a.size)):v=a.extent;r(b.extent)&&(v=lh(v,b.extent));if(v[2]<v[0]||v[3]<v[1])return!1;var s=Nh(h,v,q),z=n*s.Sa(),x=n*s.hd(),B,t;null===this.b?(t=Wf(z,x),this.b=t.canvas,this.sa=[z,x],this.o=t,this.me=!dk(this.sa)):(B=this.b,t=this.o,this.sa[0]<z||this.sa[1]<x||this.me&&
(this.sa[0]>z||this.sa[1]>x)?(B.width=z,B.height=x,this.sa=[z,x],this.me=!dk(this.sa),this.xb=null):(z=this.sa[0],x=this.sa[1],m==this.$e&&ch(this.xb,s)||(this.xb=null,m<this.$e&&this.o.clearRect(0,0,z,x))));var w,D;null===this.xb?(z/=n,x/=n,w=s.h-Math.floor((z-s.Sa())/2),D=s.l-Math.floor((x-s.hd())/2),this.$e=m,this.xb=new ah(w,w+z-1,D,D+x-1),this.Rd=Array(z*x),x=this.xb):(x=this.xb,z=x.Sa());B={};B[m]={};var E=[],I=C(g.Ae,g,B,ai(function(a){return null!==a&&2==a.q()},g,c,e)),W=f.md();r(W)||(W=!0);
var J=gh(),Y=new ah(0,0,0,0),O,F,N;for(D=s.h;D<=s.s;++D)for(N=s.l;N<=s.k;++N)F=g.nb(m,D,N,c,e),w=F.q(),2==w||4==w||3==w&&!W?B[m][$g(F.i)]=F:(O=h.dd(F.i,I,null,Y,J),O||(E.push(F),O=h.ld(F.i,Y,J),null===O||I(m+1,O)));I=0;for(O=E.length;I<O;++I)F=E[I],D=n*(F.i[1]-x.h),N=n*(x.k-F.i[2]),t.clearRect(D,N,n,n);E=Ia(bb(B),Number);E.sort(Ta);var L=g.kj,ua=jh(Lh(h,[m,x.h,x.k],J)),ga,ka,Zd,Oc,Ib,Of,I=0;for(O=E.length;I<O;++I)if(ga=E[I],n=Wh(g,ga,e),Oc=B[ga],ga==m)for(Zd in Oc)F=Oc[Zd],ka=(F.i[2]-x.l)*z+(F.i[1]-
x.h),this.Rd[ka]!=F&&(D=n*(F.i[1]-x.h),N=n*(x.k-F.i[2]),w=F.q(),4!=w&&(3!=w||W)&&L||t.clearRect(D,N,n,n),2==w&&t.drawImage(F.ja(),0,0,n,n,D,N,n,n),this.Rd[ka]=F);else for(Zd in ga=h.j(ga)/q,Oc)for(F=Oc[Zd],ka=Lh(h,F.i,J),D=(ka[0]-ua[0])/p,N=(ua[1]-ka[3])/p,Of=ga*n,Ib=ga*n,w=F.q(),4!=w&&L||t.clearRect(D,N,Of,Ib),2==w&&t.drawImage(F.ja(),0,0,n,n,D,N,Of,Ib),F=Mh(h,ka,m,Y),w=Math.max(F.h,x.h),N=Math.min(F.s,x.s),D=Math.max(F.l,x.l),F=Math.min(F.k,x.k);w<=N;++w)for(Ib=D;Ib<=F;++Ib)ka=(Ib-x.l)*z+(w-x.h),
this.Rd[ka]=void 0;$h(a.usedTiles,g,m,s);ci(a,g,h,c,e,v,m,f.kd());Yh(a,g);Zh(a,g);fi(this.sg,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(ua[0]-u[0])/p,(u[1]-ua[1])/p);return!0};function fk(a,b){hi.call(this,0,b);this.o=Wf();this.b=this.o.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Qb(a,this.b,0);this.n=!0;this.$=rf()}G(fk,hi);fk.prototype.Yc=function(a){return a instanceof Rj?new ek(this,a):null};
fk.prototype.ga=function(a,b){var c=this.xa(),d=this.o;if(c.Ua(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,h=g.resolution,m=g.rotation;fi(this.$,this.b.width/2,this.b.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new Sj(d,f,e,this.$,m);h=new bk(0,e,h);c.dispatchEvent(new oj(a,c,g,0,b,d,null));h.finish();h.Ia()||h.ah(d,e,f,this.$,m,{});g.flush()}};fk.prototype.ob=function(){return"canvas"};
fk.prototype.Pd=function(a){if(null===a)this.n&&(ge(this.b,!1),this.n=!1);else{var b=this.o,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.b.width!=c||this.b.height!=d?(this.b.width=c,this.b.height=d):b.clearRect(0,0,this.b.width,this.b.height);ii(a);this.ga("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,h;e=0;for(f=c.length;e<f;++e)h=c[e],g=h.layer,g=ki(this,g),h.visible&&d>=h.minResolution&&d<h.maxResolution&&"ready"==h.hf&&g.yc(a,h)&&g.pe(a,h,b);this.ga("postcompose",
a);this.n||(ge(this.b,!0),this.n=!0);li(this,a);a.postRenderFunctions.push(ji)}};function gk(a,b,c){Xh.call(this,a,b);this.target=c}G(gk,Xh);gk.prototype.Ib=function(){return this.target};function hk(a,b){var c=Ob("DIV");c.style.position="absolute";gk.call(this,a,b,c);this.n=!0;this.Zg=1;this.Xb=0;this.qa={}}G(hk,gk);
hk.prototype.yc=function(a,b){if(!b.visible)return this.n&&(ge(this.target,!1),this.n=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.uc,g=f.L,h=Vh(g,e),m=Ih(h.Yb,d.resolution,0),n=h.j(m),p=d.center,q;n==d.resolution?(p=bi(p,n,a.size),q=kh(p,n,d.rotation,a.size)):q=a.extent;r(b.extent)&&(q=lh(q,b.extent));var n=Nh(h,q,n),u={};u[m]={};var v=C(g.Ae,g,u,ai(function(a){return null!==a&&2==a.q()},g,c,e)),s=f.md();r(s)||(s=!0);var z=gh(),x=new ah(0,0,0,0),B,t,w,D;for(w=n.h;w<=n.s;++w)for(D=
n.l;D<=n.k;++D)B=g.nb(m,w,D,c,e),t=B.q(),2==t?u[m][$g(B.i)]=B:4==t||3==t&&!s||(t=h.dd(B.i,v,null,x,z),t||(B=h.ld(B.i,x,z),null===B||v(m+1,B)));var E;if(this.Xb!=g.oa){for(E in this.qa)s=this.qa[+E],Rb(s.target);this.qa={};this.Xb=g.oa}z=Ia(bb(u),Number);z.sort(Ta);var v={},I;w=0;for(D=z.length;w<D;++w){E=z[w];E in this.qa?s=this.qa[E]:(s=Rh(h,p,E),s=new ik(h,s),v[E]=!0,this.qa[E]=s);E=u[E];for(I in E)jk(s,E[I]);kk(s)}I=Ia(bb(this.qa),Number);I.sort(Ta);D=rf();z=0;for(w=I.length;z<w;++z)if(E=I[z],
s=this.qa[E],E in u)if(t=s.j(),B=s.Hb(),fi(D,a.size[0]/2,a.size[1]/2,t/d.resolution,t/d.resolution,d.rotation,(B[0]-p[0])/t,(p[1]-B[1])/t),s.setTransform(D),E in v){for(E-=1;0<=E;--E)if(E in this.qa){Pb(s.target,this.qa[E].target);break}0>E&&Qb(this.target,s.target,0)}else a.viewHints[0]||a.viewHints[1]||lk(s,q,x);else Rb(s.target),delete this.qa[E];b.opacity!=this.Zg&&(this.Zg=this.target.style.opacity=b.opacity);b.visible&&!this.n&&(ge(this.target,!0),this.n=!0);$h(a.usedTiles,g,m,n);ci(a,g,h,c,
e,q,m,f.kd());Yh(a,g);Zh(a,g);return!0};function ik(a,b){this.target=Ob("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.uh=a;this.kf=b;this.Id=jh(Lh(a,b));this.dh=a.j(b[0]);this.Nc={};this.Eb=null;this.$=tf()}
function jk(a,b){var c=b.i,d=c[0],e=c[1],f=c[2],c=$g(c);if(!(c in a.Nc)){var d=Qh(a.uh,d),g=b.ja(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.kf[1])*d+"px";h.top=(a.kf[2]-f)*d+"px";null===a.Eb&&(a.Eb=document.createDocumentFragment());a.Eb.appendChild(g);a.Nc[c]=b}}function kk(a){null!==a.Eb&&(a.target.appendChild(a.Eb),a.Eb=null)}ik.prototype.Hb=function(){return this.Id};ik.prototype.j=function(){return this.dh};
function lk(a,b,c){var d=Mh(a.uh,b,a.kf[0],c);b=[];for(var e in a.Nc)c=a.Nc[e],d.contains(c.i)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=$g(c.i),Rb(c.ja(a)),delete a.Nc[e]}
ik.prototype.setTransform=function(a){var b=this.$;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(Yf()){if(r(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");Zf(b,"matrix3d("+c+")")}else if(Xf()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(r(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Zf(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.$;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function mk(a,b){hi.call(this,0,b);this.Qb=Ob("DIV");this.Qb.className="ol-unselectable";var c=this.Qb.style;c.position="absolute";c.width="100%";c.height="100%";Qb(a,this.Qb,0);this.n=!0}G(mk,hi);mk.prototype.Yc=function(a){if(a instanceof Rj)a=new hk(this,a);else return null;return a};mk.prototype.ob=function(){return"dom"};
mk.prototype.Pd=function(a){if(null===a)this.n&&(ge(this.Qb,!1),this.n=!1);else{var b;b=function(a,b){Qb(this.Qb,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=ki(this,f),b.call(this,f.Ib(),d),"ready"==g.hf&&f.yc(a,g);b=a.layerStates;for(var h in this.ka)h in b||(f=this.ka[h],Rb(f.Ib()));this.n||(ge(this.Qb,!0),this.n=!0);ii(a);li(this,a);a.postRenderFunctions.push(ji)}};function nk(){}k=nk.prototype;k.Mf=function(){};k.Nf=function(){};k.Of=function(){};k.Tf=function(){};k.Pf=function(){};k.Qf=function(){};k.Rf=function(){};k.Sf=function(){};k.xe=function(){};k.lh=function(){};k.nh=function(){};function ok(){this.Wc=rf();this.uf=void 0;this.tf=rf();this.Gf=void 0;this.Ff=rf();this.ng=void 0;this.mg=rf();this.ih=void 0;this.hh=rf()}
function pk(a,b,c,d,e){var f=!1;r(b)&&b!==a.uf&&(f=a.tf,uf(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.uf=b,f=!0);if(r(c)&&c!==a.Gf){f=a.Ff;uf(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.Gf=c;f=!0}r(d)&&d!==a.ng&&(f=Math.cos(d),g=Math.sin(d),sf(a.mg,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.ng=d,f=!0);r(e)&&e!==a.ih&&(sf(a.hh,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.ih=e,f=!0);f&&(f=a.Wc,uf(f),r(c)&&vf(f,a.Ff,f),r(b)&&vf(f,a.tf,f),r(e)&&vf(f,a.hh,f),r(d)&&vf(f,a.mg,f));return a.Wc};function qk(a){this.L=a}function rk(a){this.L=a}G(rk,qk);rk.prototype.ob=function(){return 35632};function sk(a){this.L=a}G(sk,qk);sk.prototype.ob=function(){return 35633};function tk(){this.L="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}G(tk,rk);da(tk);function uk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(uk,sk);da(uk);
function vk(a,b){this.ak=a.getUniformLocation(b,"f");this.yh=a.getUniformLocation(b,"g");this.zh=a.getUniformLocation(b,"e");this.Ah=a.getUniformLocation(b,"d");this.Yd=a.getUniformLocation(b,"h");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function wk(){this.L="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}G(wk,rk);da(wk);function xk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(xk,sk);da(xk);
function yk(a,b){this.yh=a.getUniformLocation(b,"f");this.zh=a.getUniformLocation(b,"e");this.Ah=a.getUniformLocation(b,"d");this.Yd=a.getUniformLocation(b,"g");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function zk(a){this.v=r(a)?a:[]}k=zk.prototype;k.addRange=function(a,b){if(a!=b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Ak(this);return}c.push(a,b);Ak(this)}};k.clear=function(){this.v.length=0};function Ak(a){a=a.v;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}k.ag=function(a,b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};k.mc=function(){return this.v};
k.ba=function(){var a=this.v,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};k.Ia=function(){return 0===this.v.length};
k.removeRange=function(a,b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Ak(this)};function Bk(a,b,c){this.v=r(a)?a:[];this.gb=[];this.Gb=new zk;a=r(b)?b:this.v.length;a<this.v.length&&this.Gb.addRange(a,this.v.length);this.ek=r(c)?c:35044}k=Bk.prototype;k.add=function(a){var b=a.length,c;a:{c=this.Gb.v;var d=c.length,e=-1,f,g,h;for(g=0;g<d;g+=2){h=c[g+1]-c[g];if(h==b){c=c[g];break a}h>b&&(-1==e||h<f)&&(e=c[g],f=h)}c=e}this.Gb.removeRange(c,c+b);for(d=0;d<b;++d)this.v[c+d]=a[d];Ck(this,b,c);return c};
k.ag=function(a,b){if(0!==this.v.length){var c=this.v.length,d=this.Gb.v,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};k.mc=function(){return this.v};k.Ga=function(){return this.v.length-this.Gb.ba()};function Ck(a,b,c){var d,e;d=0;for(e=a.gb.length;d<e;++d)a.gb[d].addRange(c,c+b)}k.remove=function(a,b){var c,d;this.Gb.addRange(b,b+a);c=0;for(d=this.gb.length;c<d;++c)this.gb[c].removeRange(b,b+a)};
k.set=function(a,b){var c=this.v,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Ck(this,d,b)};function Dk(a,b){Xh.call(this,a,b);this.Ih=new Bk([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.ed=this.Za=null;this.fd=void 0;this.rh=rf();this.wj=tf();this.Wc=new ok;this.ve=this.oe=null}G(Dk,Xh);
Dk.prototype.bindFramebuffer=function(a,b){var c=this.Fd.J;if(r(this.fd)&&this.fd==b)c.bindFramebuffer(36160,this.ed);else{a.postRenderFunctions.push(qa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.ed,this.Za));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.Za=d;this.ed=e;this.fd=b}};
Dk.prototype.pe=function(a,b,c){this.ga("precompose",c,a);c.bindBuffer(34962,this.Ih);var d=c.J,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=tk.lb(),g=uk.lb()):(f=wk.lb(),g=xk.lb());f=Ek(c,f,g);e?null===this.oe?this.oe=g=new vk(d,f):g=this.oe:null===this.ve?this.ve=g=new yk(d,f):g=this.ve;c.useProgram(f)&&(d.enableVertexAttribArray(g.Bb),d.vertexAttribPointer(g.Bb,2,5126,!1,16,0),d.enableVertexAttribArray(g.Cb),d.vertexAttribPointer(g.Cb,2,5126,!1,16,8),d.uniform1i(g.Yd,0));d.uniformMatrix4fv(g.Ah,
!1,this.rh);d.uniformMatrix4fv(g.zh,!1,this.wj);e&&d.uniformMatrix4fv(g.ak,!1,pk(this.Wc,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.yh,b.opacity);d.bindTexture(3553,this.Za);d.drawArrays(5,0,4);this.ga("postcompose",c,a)};Dk.prototype.ga=function(a,b,c){var d=this.uc;d.Ua(a)&&d.dispatchEvent(new oj(a,d,new nk,0,c,null,b))};Dk.prototype.pb=function(){this.ed=this.Za=null;this.fd=void 0};function Fk(){this.L="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}G(Fk,rk);da(Fk);function Gk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}G(Gk,sk);da(Gk);function Hk(a,b){this.Yd=a.getUniformLocation(b,"e");this.bk=a.getUniformLocation(b,"d");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function Ik(a,b){Dk.call(this,a,b);this.Xh=Fk.lb();this.gk=Gk.lb();this.La=null;this.Yg=new Bk([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.af=this.Qd=null;this.Xb=-1}G(Ik,Dk);Ik.prototype.f=function(){this.Fd.getContext().deleteBuffer(this.Yg);Ik.F.f.call(this)};Ik.prototype.pb=function(){Ik.F.pb.call(this);this.La=null};
Ik.prototype.yc=function(a,b){var c=this.Fd,d=c.getContext(),e=c.J,f=a.viewState,g=f.projection,h=this.uc,m=h.L,n=Vh(m,g),p=Ih(n.Yb,f.resolution,0),q=n.j(p),u=Wh(m,p,g),v=u/Qh(n,p),s=q/v,z=f.center,x;q==f.resolution?(z=bi(z,q,a.size),x=kh(z,q,f.rotation,a.size)):x=a.extent;q=Nh(n,x,q);if(null!==this.Qd&&this.Qd.Uf(q)&&this.Xb==m.oa)s=this.af;else{var B=q.ba(),B=Math.max(B[0]*u,B[1]*u),t=Math.pow(2,Math.ceil(Math.log(B)/Math.LN2)),B=s*t,w=n.Hb(p),D=w[0]+q.h*u*s,s=w[1]+q.l*u*s,s=[D,s,D+B,s+B];this.bindFramebuffer(a,
t);e.viewport(0,0,t,t);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);t=Ek(d,this.Xh,this.gk);d.useProgram(t);null===this.La&&(this.La=new Hk(e,t));d.bindBuffer(34962,this.Yg);e.enableVertexAttribArray(this.La.Bb);e.vertexAttribPointer(this.La.Bb,2,5126,!1,16,0);e.enableVertexAttribArray(this.La.Cb);e.vertexAttribPointer(this.La.Cb,2,5126,!1,16,8);e.uniform1i(this.La.Yd,0);d={};d[p]={};var E=C(m.Ae,m,d,ai(function(a){return null!==a&&2==a.q()&&c.V.S(a.getKey())},m,v,g)),I=h.md();r(I)||(I=!0);
var t=!0,D=gh(),W=new ah(0,0,0,0),J,Y,O;for(Y=q.h;Y<=q.s;++Y)for(O=q.l;O<=q.k;++O){w=m.nb(p,Y,O,v,g);if(r(b.extent)&&(J=Lh(n,w.i,D),!mh(J,b.extent)))continue;J=w.q();if(2==J){if(c.V.S(w.getKey())){d[p][$g(w.i)]=w;continue}}else if(4==J||3==J&&!I)continue;t=!1;J=n.dd(w.i,E,null,W,D);J||(w=n.ld(w.i,W,D),null===w||E(p+1,w))}E=Ia(bb(d),Number);E.sort(Ta);var I=new Float32Array(4),F,N,L,ua,W=0;for(Y=E.length;W<Y;++W)for(N in L=d[E[W]],L)w=L[N],J=Lh(n,w.i,D),O=2*(J[2]-J[0])/B,F=2*(J[3]-J[1])/B,ua=2*(J[0]-
s[0])/B-1,J=2*(J[1]-s[1])/B-1,qf(I,O,F,ua,J),e.uniform4fv(this.La.bk,I),Jk(c,w,u,0*v),e.drawArrays(5,0,4);t?(this.Qd=q,this.af=s,this.Xb=m.oa):(this.af=this.Qd=null,this.Xb=-1,a.animate=!0)}$h(a.usedTiles,m,p,q);var ga=c.Lc;ci(a,m,n,v,g,x,p,h.kd(),function(a){var b;(b=2!=a.q()||c.V.S(a.getKey()))||(b=a.getKey()in ga.Vb);b||di(ga,[a,Ph(n,a.i),n.j(a.i[0]),u,0*v])},this);Yh(a,m);Zh(a,m);e=this.rh;uf(e);wf(e,(z[0]-s[0])/(s[2]-s[0]),(z[1]-s[1])/(s[3]-s[1]));0!==f.rotation&&yf(e,f.rotation);xf(e,a.size[0]*
f.resolution/(s[2]-s[0]),a.size[1]*f.resolution/(s[3]-s[1]));wf(e,-.5,-.5);return!0};function Kk(){this.e=0;this.ic={};this.da=this.Z=null}k=Kk.prototype;k.clear=function(){this.e=0;this.ic={};this.da=this.Z=null};k.S=function(a){return this.ic.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.Z;null!==c;)a.call(b,c.Ab,c.zd,this),c=c.la};k.get=function(a){a=this.ic[a];if(a===this.da)return a.Ab;a===this.Z?(this.Z=this.Z.la,this.Z.Xa=null):(a.la.Xa=a.Xa,a.Xa.la=a.la);a.la=null;a.Xa=this.da;this.da=this.da.la=a;return a.Ab};k.Ga=function(){return this.e};
k.wa=function(){var a=Array(this.e),b=0,c;for(c=this.da;null!==c;c=c.Xa)a[b++]=c.zd;return a};k.ya=function(){var a=Array(this.e),b=0,c;for(c=this.da;null!==c;c=c.Xa)a[b++]=c.Ab;return a};k.pop=function(){var a=this.Z;delete this.ic[a.zd];null!==a.la&&(a.la.Xa=null);this.Z=a.la;null===this.Z&&(this.da=null);--this.e;return a.Ab};k.set=function(a,b){var c={zd:a,la:null,Xa:this.da,Ab:b};null===this.da?this.Z=c:this.da.la=c;this.da=c;this.ic[a]=c;++this.e};function Lk(a,b){this.b=a;this.J=b;this.Qa={};this.Fc={};this.zc={};this.se=null;S(this.b,"webglcontextlost",this.pb,!1,this);S(this.b,"webglcontextrestored",this.He,!1,this)}k=Lk.prototype;
k.bindBuffer=function(a,b){var c=this.J,d=b.mc(),e=A(b);if(e in this.Qa)e=this.Qa[e],c.bindBuffer(a,e.buffer),e.Zc.ag(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.Zc.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.ek);var g=new zk;b.gb.push(g);this.Qa[e]={vf:b,buffer:f,Zc:g}}};
k.deleteBuffer=function(a){var b=this.J;a=A(a);var c=this.Qa[a];Ma(c.vf.gb,c.Zc);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.Qa[a]};k.f=function(){Ya(this.Qa,function(a){Ma(a.vf.gb,a.Zc)});var a=this.J;a.isContextLost()||(Ya(this.Qa,function(b){a.deleteBuffer(b.buffer)}),Ya(this.zc,function(b){a.deleteProgram(b)}),Ya(this.Fc,function(b){a.deleteShader(b)}))};
function Mk(a,b){var c=A(b);if(c in a.Fc)return a.Fc[c];var d=a.J,e=d.createShader(b.ob());d.shaderSource(e,b.L);d.compileShader(e);return a.Fc[c]=e}function Ek(a,b,c){var d=A(b)+"/"+A(c);if(d in a.zc)return a.zc[d];var e=a.J,f=e.createProgram();e.attachShader(f,Mk(a,b));e.attachShader(f,Mk(a,c));e.linkProgram(f);return a.zc[d]=f}k.pb=function(){db(this.Qa);db(this.Fc);db(this.zc);this.se=null};k.He=function(){};k.useProgram=function(a){if(a==this.se)return!1;this.J.useProgram(a);this.se=a;return!0};function Nk(a,b){hi.call(this,0,b);this.b=Ob("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Qb(a,this.b,0);this.yf=0;this.zf=Wf();this.n=!0;this.J=ag(this.b,{antialias:!0,depth:!1,Vh:!0,preserveDrawingBuffer:!1,stencil:!0});this.o=new Lk(this.b,this.J);S(this.b,"webglcontextlost",this.pb,!1,this);S(this.b,"webglcontextrestored",this.He,!1,this);this.V=new Kk;this.ib=null;this.Lc=new mi(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.ib[0],b=b[1]-
this.ib[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Li=C(function(){if(!this.Lc.Ia()){qi(this.Lc);var a=ni(this.Lc);Jk(this,a[0],a[3],a[4])}},this);this.Kc=0;Ok(this)}G(Nk,hi);
function Jk(a,b,c,d){var e=a.J,f=b.getKey();if(a.V.S(f))a=a.V.get(f),e.bindTexture(3553,a.Za),9729!=a.Eg&&(e.texParameteri(3553,10240,9729),a.Eg=9729),9729!=a.Jg&&(e.texParameteri(3553,10240,9729),a.Jg=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.zf.canvas,m=a.zf;a.yf!=c?(h.width=c,h.height=c,a.yf=c):m.clearRect(0,0,c,c);m.drawImage(b.ja(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.ja());e.texParameteri(3553,10240,9729);
e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.V.set(f,{Za:g,Eg:9729,Jg:9729})}}k=Nk.prototype;k.Yc=function(a){return a instanceof Rj?new Ik(this,a):null};k.ga=function(a,b){var c=this.xa();if(c.Ua(a)){var d=this.getContext();c.dispatchEvent(new oj(a,c,new nk,0,b,null,d))}};k.f=function(){var a=this.J;a.isContextLost()||this.V.forEach(function(b){null===b||a.deleteTexture(b.Za)});kc(this.o);Nk.F.f.call(this)};
k.Uh=function(a,b){for(var c=this.J,d;1024<this.V.Ga()-this.Kc;){d=this.V.Z.Ab;if(null===d)if(+this.V.Z.zd==b.index)break;else--this.Kc;else c.deleteTexture(d.Za);this.V.pop()}};k.getContext=function(){return this.o};k.ob=function(){return"webgl"};k.pb=function(a){a.preventDefault();this.V.clear();this.Kc=0;Ya(this.ka,function(a){a.pb()})};k.He=function(){Ok(this);Z(this.xa())};
function Ok(a){a=a.J;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.Pd=function(a){var b=this.getContext(),c=this.J;if(c.isContextLost())return!1;if(null===a)return this.n&&(ge(this.b,!1),this.n=!1),!1;this.ib=a.focus;this.V.set((-a.index).toString(),null);++this.Kc;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,h,m,n;g=0;for(h=e.length;g<h;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.hf&&(m=ki(this,n.layer),m.yc(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=
e,this.b.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);this.ga("precompose",a);g=0;for(h=d.length;g<h;++g)n=d[g],m=ki(this,n.layer),m.pe(a,n,b);this.n||(ge(this.b,!0),this.n=!0);ii(a);1024<this.V.Ga()-this.Kc&&a.postRenderFunctions.push(C(this.Uh,this));this.Lc.Ia()||(a.postRenderFunctions.push(this.Li),a.animate=!0);this.ga("postcompose",a);li(this,a);a.postRenderFunctions.push(ji)};var Pk=["canvas","webgl","dom"];
function $(a){Df.call(this);var b=Qk(a);this.Rb=r(a.pixelRatio)?a.pixelRatio:bg;this.Oi=b.logos;this.ge=new Ie(this.zj,void 0,this);jc(this,this.ge);this.Mh=rf();this.pj=rf();this.Yh=0;this.tc=this.ae=this.Ye=this.kb=null;this.w=Lb("DIV","ol-viewport");this.w.style.position="relative";this.w.style.overflow="hidden";this.w.style.width="100%";this.w.style.height="100%";this.w.style.msTouchAction="none";eg&&(this.w.className="ol-touch");this.mj=Lb("DIV","ol-overlaycontainer");this.w.appendChild(this.mj);
this.Ue=Lb("DIV","ol-overlaycontainer-stopevent");S(this.Ue,["click","dblclick","mousedown","touchstart","MSPointerDown",Ug,mc],lc);this.w.appendChild(this.Ue);a=new Mg(this);S(a,ab(Xg),this.Ta,!1,this);jc(this,a);this.xg=b.keyboardEventTarget;this.wd=new Re;S(this.wd,"key",this.jg,!1,this);jc(this,this.wd);a=new kf(this.w);S(a,"mousewheel",this.jg,!1,this);jc(this,a);this.qe=b.controls;this.Qh=b.deviceOptions;this.vd=b.interactions;this.Ve=b.overlays;this.$g=new b.Aj(this.w,this);jc(this,this.$g);
this.Fh=new Me;jc(this,this.Fh);S(this.Fh,"resize",this.Eh,!1,this);this.ib=null;this.Nd=[];this.Vg=[];this.vh=new ri(C(this.$h,this),C(this.xi,this));this.Pj={};S(this,Hf("layergroup"),this.fi,!1,this);S(this,Hf("view"),this.zi,!1,this);S(this,Hf("size"),this.ti,!1,this);S(this,Hf("target"),this.vi,!1,this);this.Ec(b.fk);this.qe.forEach(function(a){a.setMap(this)},this);S(this.qe,"add",function(a){a.element.setMap(this)},!1,this);S(this.qe,"remove",function(a){a.element.setMap(null)},!1,this);this.vd.forEach(function(a){a.setMap(this)},
this);S(this.vd,"add",function(a){a.element.setMap(this)},!1,this);S(this.vd,"remove",function(a){a.element.setMap(null)},!1,this);this.Ve.forEach(function(a){a.setMap(this)},this);S(this.Ve,"add",function(a){a.element.setMap(this)},!1,this);S(this.Ve,"remove",function(a){a.element.setMap(null)},!1,this)}G($,Df);$.prototype.Da=function(a){Z(this);Array.prototype.push.apply(this.Nd,arguments)};$.prototype.f=function(){Rb(this.w);$.F.f.call(this)};$.prototype.Ib=function(){return this.get("target")};
$.prototype.getTarget=$.prototype.Ib;$.prototype.nc=function(a){var b=this.kb;if(null===b)return null;a=a.slice();return gi(b.pixelToCoordinateMatrix,a,a)};$.prototype.jd=function(){return this.get("layergroup")};$.prototype.getLayerGroup=$.prototype.jd;$.prototype.pc=function(){return this.jd().pc()};$.prototype.ba=function(){return this.get("size")};$.prototype.getSize=$.prototype.ba;$.prototype.p=function(){return this.get("view")};$.prototype.getView=$.prototype.p;k=$.prototype;
k.$h=function(a,b,c,d){var e=this.kb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][$g(a.i)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.jg=function(a,b){var c=new Kg(b||a.type,this,a);this.Ta(c)};k.Ta=function(a){if(null!==this.kb){this.ib=a.coordinate;a.frameState=this.kb;var b=this.vd.mc(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.fa&&!d.Ta(a))break}}};
k.qi=function(){var a=this.kb,b=this.vh;if(!b.Ia()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.Qh;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=$a(a.wantedTiles)}c*=e;d*=e;if(b.Mc<c){qi(b);c=Math.min(c-b.Mc,d,b.Ga());for(d=0;d<c;++d)e=ni(b)[0],Kc(e,"change",b.wi,!1,b),e.load();b.Mc+=c}}b=this.Vg;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.ti=function(){Z(this)};
k.vi=function(){var a=this.Ib(),a=r(a)?Eb(a):null;this.wd.detach();null===a?Rb(this.w):(a.appendChild(this.w),Se(this.wd,null===this.xg?a:this.xg));this.Eh()};k.xi=function(){Z(this)};k.Ai=function(){Z(this)};k.zi=function(){null!==this.ae&&(T(this.ae),this.ae=null);var a=this.p();null!==a&&(this.ae=S(a,"propertychange",this.Ai,!1,this));Z(this)};k.gi=function(){Z(this)};k.hi=function(){Z(this)};
k.fi=function(){if(null!==this.tc){for(var a=this.tc.length,b=0;b<a;++b)T(this.tc[b]);this.tc=null}a=this.jd();null!=a&&(this.tc=[S(a,"propertychange",this.hi,!1,this),S(a,"change",this.gi,!1,this)]);Z(this)};k.Me=function(){if(!Sb(document,this.w)||"none"==this.w.style.display)return!1;var a=this.ba();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.p();return null!==a&&a.Me()?!0:!1};function Z(a){a.ge.Le()||a.ge.start()}
k.zj=function(a){var b,c,d,e=this.ba(),f=this.p(),g=null;if(r(e)&&0<e[0]&&0<e[1]&&null!==f&&f.Me()){var g=Oa(f.Ie),h=this.jd().Ce(),m={};b=0;for(c=h.length;b<c;++b)m[A(h[b].layer)]=h[b];d=f.q();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Mh,extent:null,focus:null===this.ib?d.center:this.ib,index:this.Yh++,layerStates:m,layerStatesArray:h,logos:this.Oi,pixelRatio:this.Rb,pixelToCoordinateMatrix:this.pj,postRenderFunctions:[],size:e,skippedFeatureUids:this.Pj,tileQueue:this.vh,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Nd;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=kh(d.center,d.resolution,d.rotation,g.size)}this.kb=g;this.$g.Pd(g);null!==g&&(g.animate&&Z(this),Array.prototype.push.apply(this.Vg,g.postRenderFunctions),!(b=0!==this.Nd.length||g.viewHints[0]||g.viewHints[1])&&(b=this.Ye)&&(b=g.extent,c=this.Ye,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new Qf("moveend",this,g)),
this.Ye=r(void 0)?void 0:g.extent.slice()));this.dispatchEvent(new Qf("postrender",this,g));id(this.qi,this)};k.Fj=function(a){this.set("layergroup",a)};$.prototype.setLayerGroup=$.prototype.Fj;$.prototype.ef=function(a){this.set("size",a)};$.prototype.setSize=$.prototype.ef;$.prototype.Lj=function(a){this.set("target",a)};$.prototype.setTarget=$.prototype.Lj;$.prototype.Nj=function(a){this.set("view",a)};$.prototype.setView=$.prototype.Nj;
$.prototype.Eh=function(){var a=this.Ib(),a=r(a)?Eb(a):null;if(null===a)this.ef(void 0);else{var b=Db(a),c=P&&a.currentStyle,d;if(d=c)b=Bb(b),d=Kb(b.hc);if(d&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)b=ff(a,c.width,"width","pixelWidth"),a=ff(a,c.height,"height","pixelHeight"),a=new Ab(b,a);else{c=new Ab(a.offsetWidth,a.offsetHeight);if(P){b=gf(a,"paddingLeft");d=gf(a,"paddingRight");var e=gf(a,"paddingTop"),f=gf(a,"paddingBottom"),b=new Ye(e,d,f,b)}else b=Ze(a,"paddingLeft"),d=Ze(a,"paddingRight"),
e=Ze(a,"paddingTop"),f=Ze(a,"paddingBottom"),b=new Ye(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!P||P&&9<=ub?(d=Ze(a,"borderLeftWidth"),e=Ze(a,"borderRightWidth"),f=Ze(a,"borderTopWidth"),a=Ze(a,"borderBottomWidth"),a=new Ye(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=jf(a,"borderLeft"),e=jf(a,"borderRight"),f=jf(a,"borderTop"),a=jf(a,"borderBottom"),a=new Ye(f,e,a,d));a=new Ab(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.ef([a.width,
a.height])}};
function Qk(a){var b=null;r(a.keyboardEventTarget)&&(b=y(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!r(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var e=a.logo;y(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.layers instanceof Gj?a.layers:new Gj({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=r(a.view)?a.view:new X;var e=hi,f;r(a.renderer)?fa(a.renderer)?f=a.renderer:y(a.renderer)&&(f=[a.renderer]):f=Pk;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(dg){e=fk;break}}else if("dom"==m){e=mk;break}else if("webgl"==m&&hg){e=Nk;break}}r(a.controls)?f=fa(a.controls)?new Jf(Oa(a.controls)):a.controls:(f=r(void 0)?void 0:
{},g=new Jf,(r(f.zoom)?f.zoom:1)&&g.push(new Oi(f.zoomOptions)),(r(f.rotate)?f.rotate:1)&&g.push(new Mi(f.rotateOptions)),(r(f.attribution)?f.attribution:1)&&g.push(new Ei(f.attributionOptions)),f=g);g=r(a.deviceOptions)?a.deviceOptions:{};if(r(a.interactions))h=fa(a.interactions)?new Jf(Oa(a.interactions)):a.interactions;else{h=r(void 0)?void 0:{};var m=new Jf,n=new Qi(-.005,.05,100);(r(h.altShiftDragRotate)?h.altShiftDragRotate:1)&&m.push(new ej);(r(h.doubleClickZoom)?h.doubleClickZoom:1)&&m.push(new Xi({delta:h.zoomDelta,
duration:h.zoomDuration}));(r(h.dragPan)?h.dragPan:1)&&m.push(new dj({kinetic:n}));(r(h.pinchRotate)?h.pinchRotate:1)&&m.push(new Ej);(r(h.pinchZoom)?h.pinchZoom:1)&&m.push(new Fj({duration:h.zoomDuration}));if(r(h.keyboard)?h.keyboard:1)m.push(new Bj),m.push(new Cj({delta:h.zoomDelta,duration:h.zoomDuration}));(r(h.mouseWheelZoom)?h.mouseWheelZoom:1)&&m.push(new Dj({duration:h.zoomDuration}));(r(h.shiftDragZoom)?h.shiftDragZoom:1)&&m.push(new Aj);h=m}a=r(a.overlays)?fa(a.overlays)?new Jf(Oa(a.overlays)):
a.overlays:new Jf;return{controls:f,deviceOptions:g,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,Aj:e,fk:c}}th(Lj);th(Qj);K(Qj,function(a){K(Lj,function(b){vh(a,b,Mj);vh(b,a,Nj)})});/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Rk(a,b){this.Td=[];this.Og=a;this.Jf=b||null;this.qc=this.Fb=!1;this.Ma=void 0;this.gf=this.Jh=this.ie=!1;this.$d=0;this.ma=null;this.je=0}Rk.prototype.cancel=function(a){if(this.Fb)this.Ma instanceof Rk&&this.Ma.cancel();else{if(this.ma){var b=this.ma;delete this.ma;a?b.cancel(a):(b.je--,0>=b.je&&b.cancel())}this.Og?this.Og.call(this.Jf,this):this.gf=!0;this.Fb||(a=new Sk,Tk(this),Uk(this,!1,a))}};Rk.prototype.Ef=function(a,b){this.ie=!1;Uk(this,a,b)};
function Uk(a,b,c){a.Fb=!0;a.Ma=c;a.qc=!b;Vk(a)}function Tk(a){if(a.Fb){if(!a.gf)throw new Wk;a.gf=!1}}function Xk(a,b,c,d){a.Td.push([b,c,d]);a.Fb&&Vk(a)}Rk.prototype.then=function(a,b,c){var d,e,f=new td(function(a,b){d=a;e=b});Xk(this,d,function(a){a instanceof Sk?f.cancel():e(a)});return f.then(a,b,c)};$c(Rk);function Yk(a){return Ja(a.Td,function(a){return ja(a[1])})}
function Vk(a){if(a.$d&&a.Fb&&Yk(a)){var b=a.$d,c=Zk[b];c&&(l.clearTimeout(c.B),delete Zk[b]);a.$d=0}a.ma&&(a.ma.je--,delete a.ma);for(var b=a.Ma,d=c=!1;a.Td.length&&!a.ie;){var e=a.Td.shift(),f=e[0],g=e[1],e=e[2];if(f=a.qc?g:f)try{var h=f.call(e||a.Jf,b);r(h)&&(a.qc=a.qc&&(h==b||h instanceof Error),a.Ma=b=h);ad(b)&&(d=!0,a.ie=!0)}catch(m){b=m,a.qc=!0,Yk(a)||(c=!0)}}a.Ma=b;d&&(h=C(a.Ef,a,!0),d=C(a.Ef,a,!1),b instanceof Rk?(Xk(b,h,d),b.Jh=!0):b.then(h,d));c&&(b=new $k(b),Zk[b.B]=b,a.$d=b.B)}
function Wk(){sa.call(this)}G(Wk,sa);Wk.prototype.message="Deferred has already fired";Wk.prototype.name="AlreadyCalledError";function Sk(){sa.call(this)}G(Sk,sa);Sk.prototype.message="Deferred was canceled";Sk.prototype.name="CanceledError";function $k(a){this.B=l.setTimeout(C(this.Tj,this),0);this.cd=a}$k.prototype.Tj=function(){delete Zk[this.B];throw this.cd;};var Zk={};function al(a,b){var c=b||{},d=c.document||document,e=Ob("SCRIPT"),f={jh:e,yb:void 0},g=new Rk(bl,f),h=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(h=window.setTimeout(function(){cl(e,!0);var b=new dl(el,"Timeout reached for loading script "+a);Tk(g);Uk(g,!1,b)},m),f.yb=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(cl(e,c.Lh||!1,h),Tk(g),Uk(g,!0,null))};e.onerror=function(){cl(e,!0,h);var b=new dl(fl,"Error while loading script "+a);Tk(g);
Uk(g,!1,b)};Gb(e,{type:"text/javascript",charset:"UTF-8",src:a});gl(d).appendChild(e);return g}function gl(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function bl(){if(this&&this.jh){var a=this.jh;a&&"SCRIPT"==a.tagName&&cl(a,!0,this.yb)}}function cl(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ca;a.onerror=ca;a.onreadystatechange=ca;b&&window.setTimeout(function(){Rb(a)},0)}var fl=0,el=1;
function dl(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);sa.call(this,c);this.code=a}G(dl,sa);function hl(a,b){this.dk=new oe(a);this.Kh=b?b:"callback";this.yb=5E3}var il=0;hl.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(il++).toString(36)+ra().toString(36);l._callbacks_||(l._callbacks_={});var e=this.dk.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||De(e,f,a[f]);b&&(l._callbacks_[d]=jl(d,b),De(e,this.Kh,"_callbacks_."+d));b=al(e.toString(),{timeout:this.yb,Lh:!0});Xk(b,null,kl(d,a,c),void 0);return{B:d,Lf:b}};
hl.prototype.cancel=function(a){a&&(a.Lf&&a.Lf.cancel(),a.B&&ll(a.B,!1))};function kl(a,b,c){return function(){ll(a,!1);c&&c(b)}}function jl(a,b){return function(c){ll(a,!0);b.apply(void 0,arguments)}}function ll(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ca)};function ml(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function nl(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[yb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function ol(){}function pl(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function ql(a,b,c,d,e){Hh.call(this,a,b);this.Gc=c;this.O=new Image;null!==d&&(this.O.crossOrigin=d);this.sd={};this.rc=null;this.Vj=e}G(ql,Hh);k=ql.prototype;k.ja=function(a){if(r(a)){var b=A(a);if(b in this.sd)return this.sd[b];a=cb(this.sd)?this.O:this.O.cloneNode(!1);return this.sd[b]=a}return this.O};k.getKey=function(){return this.Gc};k.bi=function(){this.state=3;K(this.rc,T);this.rc=null;this.M()};
k.ci=function(){this.state=this.O.naturalWidth&&this.O.naturalHeight?2:4;K(this.rc,T);this.rc=null;this.M()};k.load=function(){0==this.state&&(this.state=1,this.rc=[Kc(this.O,"error",this.bi,!1,this),Kc(this.O,"load",this.ci,!1,this)],this.Vj(this,this.Gc))};function rl(a){Kk.call(this);this.Ci=r(a)?a:2048}G(rl,Kk);rl.prototype.eb=function(){return this.Ga()>this.Ci};rl.prototype.kc=function(a){for(var b,c;this.eb()&&!(b=this.Z.Ab,c=b.i[0].toString(),c in a&&a[c].contains(b.i));)this.pop().$c()};function sl(a){Uh.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:r(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=r(a.tileUrlFunction)?a.tileUrlFunction:ol;this.crossOrigin=r(a.crossOrigin)?a.crossOrigin:null;this.R=new rl;this.tileLoadFunction=r(a.tileLoadFunction)?a.tileLoadFunction:tl;this.tileClass=r(a.tileClass)?a.tileClass:ql}G(sl,Uh);function tl(a,b){a.ja().src=b}
sl.prototype.eb=function(){return this.R.eb()};sl.prototype.kc=function(a){this.R.kc(a)};sl.prototype.nb=function(a,b,c,d,e){var f=this.oc(a,b,c);if(this.R.S(f))return this.R.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,r(d)?0:4,r(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.R.set(f,d);return d};sl.prototype.nf=function(a,b,c){a=this.oc(a,b,c);this.R.S(a)&&this.R.get(a)};function ul(a){var b=r(a.extent)?a.extent:Ij,c=Sh(b,a.maxZoom,a.tileSize);Jh.call(this,{minZoom:a.minZoom,origin:ih(b,"top-left"),resolutions:c,tileSize:a.tileSize})}G(ul,Jh);
function vl(a,b){var c=r(b)?b:{},d=a.minZoom,e=a.maxZoom,f=r(c.wrapX)?c.wrapX:!0,g=null;if(r(c.extent)){var g=Array(e+1),h;for(h=0;h<=e;++h)g[h]=h<d?null:Mh(a,c.extent,h)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var h=Math.pow(2,b),u=a[1];if(f)u=yb(u,h);else if(0>u||h<=u)return null;a=a[2];return a<-h||-1<a||null!==g&&!g[b].fc(u,a)?null:Yg(b,u,-a-1,c)}}ul.prototype.ld=function(a,b){return a[0]<this.maxZoom?bh(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
ul.prototype.dd=function(a,b,c,d){d=bh(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.h=d.s>>=1,d.l=d.k>>=1,b.call(c,a,d))return!0;return!1};function wl(a){sl.call(this,{crossOrigin:a.crossOrigin,projection:zh("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new hl(a.url)).send(void 0,C(this.Ge,this))}G(wl,sl);
wl.prototype.Ge=function(a){var b=zh("EPSG:4326"),c=this.Ac,d;r(a.bounds)&&(d=nh(a.bounds,Bh(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new ul({extent:Th(c),maxZoom:f,minZoom:e});this.tileUrlFunction=pl(vl(c,{extent:d}),nl(Ia(a.tiles,ml)));if(r(a.attribution)){b=r(d)?d:b.I();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[Mh(c,b,e)];this.he=[new dh({html:a.attribution,tileRanges:d})]}this.H="ready";this.M()};function xl(a){Uh.call(this,{projection:zh("EPSG:3857"),state:"loading"});this.Xe=r(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=ol;this.R=new rl;(new hl(a.url)).send(void 0,C(this.Ge,this))}G(xl,Uh);k=xl.prototype;k.eb=function(){return this.R.eb()};k.kc=function(a){this.R.kc(a)};function yl(a,b,c,d,e){null!==a.tileGrid&&(c=Oh(a.tileGrid,b[0],b[1],c,!1,void 0),zl(a.nb(c[0],c[1],c[2],1,a.Ac),b,d,e))}
k.Ge=function(a){var b=zh("EPSG:4326"),c=this.Ac,d;r(a.bounds)&&(d=nh(a.bounds,Bh(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new ul({extent:Th(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=pl(vl(c,{extent:d}),nl(Ia(g,ml)));if(r(a.attribution)){b=r(d)?d:b.I();for(d={};e<=f;++e)g=e.toString(),d[g]=[Mh(c,b,e)];this.he=[new dh({html:a.attribution,tileRanges:d})]}this.H="ready"}else this.H="error";this.M()};
k.nb=function(a,b,c,d,e){var f=this.oc(a,b,c);if(this.R.S(f))return this.R.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new Al(a,r(d)?0:4,r(d)?d:"",Lh(this.tileGrid,a),this.Xe);this.R.set(f,d);return d};k.nf=function(a,b,c){a=this.oc(a,b,c);this.R.S(a)&&this.R.get(a)};function Al(a,b,c,d,e){Hh.call(this,a,b);this.Gc=c;this.N=d;this.Xe=e;this.te=this.u=this.nd=null}G(Al,Hh);k=Al.prototype;k.ja=function(){return null};
k.getData=function(a){if(null!==this.nd&&null!==this.u&&null!==this.te){var b=this.nd[Math.floor((1-(a[1]-this.N[1])/(this.N[3]-this.N[1]))*this.nd.length)];if(y(b))return a=b.charCodeAt(Math.floor((a[0]-this.N[0])/(this.N[2]-this.N[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.u[a-32],null!=a?this.te[a]:void 0}};function zl(a,b,c,d){0==a.state?(Lc(a,"change",function(){c.call(d,this.getData(b))},!1,a),Bl(a)):c.call(d,a.getData(b))}k.getKey=function(){return this.Gc};k.pd=function(){this.state=3;this.M()};
k.Fe=function(a){this.nd=a.grid;this.u=a.keys;this.te=a.data;this.state=4;this.M()};function Bl(a){0==a.state&&(a.state=1,(new hl(a.Gc)).send(void 0,C(a.Fe,a),C(a.pd,a)))}k.load=function(){this.Xe&&Bl(this)};function Cl(){this.Fg=Eb("map");this.qf=new xl({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.ab=new X({extent:Dh(),zoom:7,minZoom:6});this.ff=[];this.a=new $({target:this.Fg,controls:[],layers:[new Rj({source:new wl({url:"http://cynefin.tileserver.com/cynefin-counties.json"})}),new Rj({source:new wl({url:"http://cynefin.tileserver.com/cynefin-parishes.json"})}),new Rj({source:this.qf})],view:this.ab});Af(this.a,Vg,function(a){var b=this.ab.j()||1;yl(this.qf,
a.coordinate,b,this.li,this)},this);Af(this.a,Qg,function(a){var b=this.ab.j()||1;yl(this.qf,a.coordinate,b,this.ni,this)},this);Bf(this.a,function(){var a=this.a.ba(),b;if(b=Eb("application-panel")){var c=a[0],d;if("none"!=$e(b,"display"))d=ef(b);else{d=b.style;var e=d.display,f=d.visibility,g=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";b=ef(b);d.display=e;d.position=g;d.visibility=f;d=b}this.ff=[(c+d.width)/2,a[1]/2]}Dl(this,[-3.9001,52.3118])},this);this.fb=new fe;
Ec(this.fb,"opened",function(a){9>Bi(this.ab)&&Dl(this,a.center)},!1,this)}function Dl(a,b){var c=b;if(b=Ah("EPSG:4326","EPSG:3857")(c))if((c=a.ab.ia())&&a.a.Da(Ji({duration:300,source:c})),c=a.a.ba(),a.ff&&c){var d=a.ab,e=b,f=a.ff,g=d.mb(),h=Math.cos(-g),g=Math.sin(-g),m=e[0]*h-e[1]*g,e=e[1]*h+e[0]*g,n=d.j(),m=m+(c[0]/2-f[0])*n,e=e+(f[1]-c[1]/2)*n,g=-g;d.Na([m*h-e*g,e*h+m*g])}else a.ab.Na(b)}Cl.prototype.li=function(a){this.Fg.style.cursor=a?"pointer":""};
Cl.prototype.ni=function(a){if(a){var b=a.County;if(y(b)){var c=C(function(){9<Bi(this.ab)&&qe(this.fb,a.SHAPE_ID.toString())},this);b!=ke(this.fb)?je(this.fb,b,c):c()}}};ba("TitheMaps",Cl);
