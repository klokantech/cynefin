(function() {var h,aa=aa||{},m=this;function t(a){return void 0!==a}function ca(a,b){var c=a.split("."),d=m;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&t(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function da(){}function ea(a){a.ta=function(){return a.tj?a.tj:a.tj=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function z(a){return"string"==typeof a}function ia(a){return"number"==typeof a}function ja(a){return"function"==fa(a)}function ka(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function D(a){return a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;
function na(a,b,c){return a.call.apply(a.bind,arguments)}function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function E(a,b,c){E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return E.apply(null,arguments)}
function pa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var qa=Date.now||function(){return+new Date};function F(a,b){function c(){}c.prototype=b.prototype;a.k=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Fo=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ra(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ra);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}F(ra,Error);ra.prototype.name="CustomError";var sa;function ua(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function wa(a){if(!xa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ya,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(za,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Aa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ca,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Da,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ea,"\x26#0;"));return a}var ya=/&/g,za=/</g,Aa=/>/g,Ca=/"/g,Da=/'/g,Ea=/\x00/g,xa=/[\x00&<>"']/;
function Fa(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ga(a,b){return a<b?-1:a>b?1:0}function Ha(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ia(a){var b=z(void 0)?Fa(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Ja=Array.prototype,Ka=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(z(a))return z(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},G=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},La=Ja.filter?function(a,b,c){return Ja.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=z(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Ma=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=z(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Na=Ja.some?function(a,b,c){return Ja.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Oa=Ja.every?function(a,b,c){return Ja.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Pa(a,b){var c;a:{c=a.length;for(var d=z(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:z(a)?a.charAt(c):a[c]}function Qa(a,b){var c=Ka(a,b),d;(d=0<=c)&&Ja.splice.call(a,c,1);return d}function Ra(a){return Ja.concat.apply(Ja,arguments)}function Sa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ta(a,b,c,d){Ja.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)}function Va(a,b){if(!ha(a)||!ha(b)||a.length!=b.length)return!1;for(var c=a.length,d=Wa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Xa(a,b){return a>b?1:a<b?-1:0}function Wa(a,b){return a===b};function Ya(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Za(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function $a(a){var b=0,c;for(c in a)b++;return b}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function cb(a){for(var b in a)return!1;return!0}function db(a){for(var b in a)delete a[b]}function eb(a,b){b in a&&delete a[b]}function K(a,b,c){return b in a?a[b]:c}
function fb(a){var b={},c;for(c in a)b[c]=a[c];return b}var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gb.length;f++)c=gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ib(a){if("function"==typeof a.fb)return a.fb();if(z(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}function jb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ha(a)||z(a))G(a,b,c);else{var d;if("function"==typeof a.eb)d=a.eb();else if("function"!=typeof a.fb)if(ha(a)||z(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=bb(a);else d=void 0;for(var e=ib(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function kb(a){return function(){return a}}var lb=kb(!1),mb=kb(!0);function nb(a){return a}function ob(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function pb(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}}function qb(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function rb(a,b,c){return Math.min(Math.max(a,b),c)}function sb(a,b){var c=a%b;return 0>c*b?c+b:c};function tb(a,b){this.c={};this.u=[];this.n=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof tb?(c=a.eb(),d=a.fb()):(c=bb(a),d=ab(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=tb.prototype;h.Sb=function(){return this.n};h.fb=function(){ub(this);for(var a=[],b=0;b<this.u.length;b++)a.push(this.c[this.u[b]]);return a};h.eb=function(){ub(this);return this.u.concat()};
h.ia=function(a){return vb(this.c,a)};h.Ki=function(a,b){if(this===a)return!0;if(this.n!=a.Sb())return!1;var c=b||wb;ub(this);for(var d,e=0;d=this.u[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function wb(a,b){return a===b}h.Ma=function(){return 0==this.n};h.clear=function(){this.c={};this.n=this.u.length=0};h.remove=function(a){return vb(this.c,a)?(delete this.c[a],this.n--,this.u.length>2*this.n&&ub(this),!0):!1};
function ub(a){if(a.n!=a.u.length){for(var b=0,c=0;b<a.u.length;){var d=a.u[b];vb(a.c,d)&&(a.u[c++]=d);b++}a.u.length=c}if(a.n!=a.u.length){for(var e={},c=b=0;b<a.u.length;)d=a.u[b],vb(e,d)||(a.u[c++]=d,e[d]=1),b++;a.u.length=c}}h.get=function(a,b){return vb(this.c,a)?this.c[a]:b};h.set=function(a,b){vb(this.c,a)||(this.n++,this.u.push(a));this.c[a]=b};h.forEach=function(a,b){for(var c=this.eb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new tb(this)};
function vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var xb;a:{var yb=m.navigator;if(yb){var zb=yb.userAgent;if(zb){xb=zb;break a}}xb=""}function Ab(a){return-1!=xb.indexOf(a)};var Bb,Cb,Db;function Eb(){return m.navigator||null}var Fb=Ab("Opera")||Ab("OPR"),L=Ab("Trident")||Ab("MSIE"),Gb=Ab("Gecko")&&-1==xb.toLowerCase().indexOf("webkit")&&!(Ab("Trident")||Ab("MSIE")),M=-1!=xb.toLowerCase().indexOf("webkit"),Hb,Ib=Eb();Hb=Ib&&Ib.platform||"";Bb=-1!=Hb.indexOf("Mac");Cb=-1!=Hb.indexOf("Win");Db=-1!=Hb.indexOf("Linux");var Jb=!!Eb()&&-1!=(Eb().appVersion||"").indexOf("X11");function Kb(){var a=m.document;return a?a.documentMode:void 0}
var Lb=function(){var a="",b;if(Fb&&m.opera)return a=m.opera.version,ja(a)?a():a;Gb?b=/rv\:([^\);]+)(\)|;)/:L?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(xb))?a[1]:"");return L&&(b=Kb(),b>parseFloat(a))?String(b):a}(),Mb={};
function N(a){var b;if(!(b=Mb[a])){b=0;for(var c=ua(String(Lb)).split("."),d=ua(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var q=l.exec(g)||["","",""],p=n.exec(k)||["","",""];if(0==q[0].length&&0==p[0].length)break;b=Ga(0==q[1].length?0:parseInt(q[1],10),0==p[1].length?0:parseInt(p[1],10))||Ga(0==q[2].length,0==p[2].length)||Ga(q[2],p[2])}while(0==b)}b=Mb[a]=0<=b}return b}
var Nb=m.document,Ob=Nb&&L?Kb()||("CSS1Compat"==Nb.compatMode?parseInt(Lb,10):5):void 0;var Pb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Qb(a){if(Rb){Rb=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=(c=Qb(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Rb=!0,Error();}}return a.match(Pb)}var Rb=M;function Sb(a,b){var c;if(a instanceof Sb)this.za=t(b)?b:a.za,Tb(this,a.ec),c=a.Sc,Ub(this),this.Sc=c,c=a.Cb,Ub(this),this.Cb=c,Vb(this,a.pd),c=a.Pa,Ub(this),this.Pa=c,Wb(this,a.lb.clone()),c=a.rc,Ub(this),this.rc=c;else if(a&&(c=Qb(String(a)))){this.za=!!b;Tb(this,c[1]||"",!0);var d=c[2]||"";Ub(this);this.Sc=Yb(d);d=c[3]||"";Ub(this);this.Cb=Yb(d,!0);Vb(this,c[4]);d=c[5]||"";Ub(this);this.Pa=Yb(d,!0);Wb(this,c[6]||"",!0);c=c[7]||"";Ub(this);this.rc=Yb(c)}else this.za=!!b,this.lb=new Zb(null,0,this.za)}
h=Sb.prototype;h.ec="";h.Sc="";h.Cb="";h.pd=null;h.Pa="";h.rc="";h.rm=!1;h.za=!1;h.toString=function(){var a=[],b=this.ec;b&&a.push($b(b,ac,!0),":");if(b=this.Cb){a.push("//");var c=this.Sc;c&&a.push($b(c,ac,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.pd;null!=b&&a.push(":",String(b))}if(b=this.Pa)this.Cb&&"/"!=b.charAt(0)&&a.push("/"),a.push($b(b,"/"==b.charAt(0)?bc:cc,!0));(b=this.lb.toString())&&a.push("?",b);(b=this.rc)&&a.push("#",$b(b,dc));return a.join("")};
h.resolve=function(a){var b=this.clone(),c=!!a.ec;c?Tb(b,a.ec):c=!!a.Sc;if(c){var d=a.Sc;Ub(b);b.Sc=d}else c=!!a.Cb;c?(d=a.Cb,Ub(b),b.Cb=d):c=null!=a.pd;d=a.Pa;if(c)Vb(b,a.pd);else if(c=!!a.Pa){if("/"!=d.charAt(0))if(this.Cb&&!this.Pa)d="/"+d;else{var e=b.Pa.lastIndexOf("/");-1!=e&&(d=b.Pa.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Ub(b),b.Pa=d):c=""!==a.lb.toString();c?Wb(b,Yb(a.lb.toString())):c=!!a.rc;c&&(a=a.rc,Ub(b),b.rc=a);return b};h.clone=function(){return new Sb(this)};function Tb(a,b,c){Ub(a);a.ec=c?Yb(b,!0):b;a.ec&&(a.ec=a.ec.replace(/:$/,""))}function Vb(a,b){Ub(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.pd=b}else a.pd=null}function ec(a){return a.Pa}
function Wb(a,b,c){Ub(a);b instanceof Zb?(a.lb=b,a.lb.Sh(a.za)):(c||(b=$b(b,fc)),a.lb=new Zb(b,0,a.za))}function gc(a,b,c){Ub(a);ga(c)||(c=[String(c)]);hc(a.lb,b,c)}function Ub(a){if(a.rm)throw Error("Tried to modify a read-only Uri");}h.Sh=function(a){this.za=a;this.lb&&this.lb.Sh(a);return this};function Yb(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function $b(a,b,c){return z(a)?(a=encodeURI(a).replace(b,ic),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function ic(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ac=/[#\/\?@]/g,cc=/[\#\?:]/g,bc=/[\#\?]/g,fc=/[\#\?@]/g,dc=/#/g;function Zb(a,b,c){this.qa=a||null;this.za=!!c}
function jc(a){if(!a.N&&(a.N=new tb,a.n=0,a.qa))for(var b=a.qa.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=kc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}h=Zb.prototype;h.N=null;h.n=null;h.Sb=function(){jc(this);return this.n};h.add=function(a,b){jc(this);this.qa=null;a=kc(this,a);var c=this.N.get(a);c||this.N.set(a,c=[]);c.push(b);this.n++;return this};
h.remove=function(a){jc(this);a=kc(this,a);return this.N.ia(a)?(this.qa=null,this.n-=this.N.get(a).length,this.N.remove(a)):!1};h.clear=function(){this.N=this.qa=null;this.n=0};h.Ma=function(){jc(this);return 0==this.n};h.ia=function(a){jc(this);a=kc(this,a);return this.N.ia(a)};h.eb=function(){jc(this);for(var a=this.N.fb(),b=this.N.eb(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.fb=function(a){jc(this);var b=[];if(z(a))this.ia(a)&&(b=Ra(b,this.N.get(kc(this,a))));else{a=this.N.fb();for(var c=0;c<a.length;c++)b=Ra(b,a[c])}return b};h.set=function(a,b){jc(this);this.qa=null;a=kc(this,a);this.ia(a)&&(this.n-=this.N.get(a).length);this.N.set(a,[b]);this.n++;return this};h.get=function(a,b){var c=a?this.fb(a):[];return 0<c.length?String(c[0]):b};function hc(a,b,c){a.remove(b);0<c.length&&(a.qa=null,a.N.set(kc(a,b),Sa(c)),a.n+=c.length)}
h.toString=function(){if(this.qa)return this.qa;if(!this.N)return"";for(var a=[],b=this.N.eb(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.fb(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.qa=a.join("\x26")};h.clone=function(){var a=new Zb;a.qa=this.qa;this.N&&(a.N=this.N.clone(),a.n=this.n);return a};function kc(a,b){var c=String(b);a.za&&(c=c.toLowerCase());return c}
h.Sh=function(a){a&&!this.za&&(jc(this),this.qa=null,this.N.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),hc(this,d,a))},this));this.za=a};h.extend=function(a){for(var b=0;b<arguments.length;b++)jb(arguments[b],function(a,b){this.add(b,a)},this)};var lc=!L||L&&9<=Ob,mc=!L||L&&9<=Ob,nc=L&&!N("9");!M||N("528");Gb&&N("1.9b")||L&&N("8")||Fb&&N("9.5")||M&&N("528");Gb&&!N("8")||L&&N("9");function oc(){0!=pc&&(qc[D(this)]=this);this.Nd=this.Nd;this.Bc=this.Bc}var pc=0,qc={};oc.prototype.Nd=!1;oc.prototype.Bb=function(){if(!this.Nd&&(this.Nd=!0,this.d(),0!=pc)){var a=D(this);delete qc[a]}};function rc(a,b){var c=pa(sc,b);a.Bc||(a.Bc=[]);a.Bc.push(t(void 0)?E(c,void 0):c)}oc.prototype.d=function(){if(this.Bc)for(;this.Bc.length;)this.Bc.shift()()};function sc(a){a&&"function"==typeof a.Bb&&a.Bb()};function tc(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Gc=!1;this.pk=!0}tc.prototype.d=function(){};tc.prototype.Bb=function(){};tc.prototype.stopPropagation=function(){this.Gc=!0};tc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.pk=!1};function uc(a){a.stopPropagation()}function vc(a){a.preventDefault()};var wc=Gb?"DOMMouseScroll":"mousewheel",xc=L?"focusout":"DOMFocusOut";function yc(a){yc[" "](a);return a}yc[" "]=da;function zc(a,b){tc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Rf=!1;this.p=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Gb){var e;a:{try{yc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Rf=Bb?a.metaKey:a.ctrlKey;this.state=a.state;this.p=a;a.defaultPrevented&&this.preventDefault()}}F(zc,tc);var Ac=[1,4,2];function Bc(a){return(lc?0==a.p.button:"click"==a.type?!0:!!(a.p.button&Ac[0]))&&!(M&&Bb&&a.ctrlKey)}zc.prototype.stopPropagation=function(){zc.k.stopPropagation.call(this);this.p.stopPropagation?this.p.stopPropagation():this.p.cancelBubble=!0};
zc.prototype.preventDefault=function(){zc.k.preventDefault.call(this);var a=this.p;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};zc.prototype.wl=function(){return this.p};zc.prototype.d=function(){};var Cc="closure_listenable_"+(1E6*Math.random()|0);function Dc(a){return!(!a||!a[Cc])}var Ec=0;function Fc(a,b,c,d,e){this.zc=a;this.Vf=null;this.src=b;this.type=c;this.Bd=!!d;this.pf=e;this.key=++Ec;this.td=this.Re=!1}function Gc(a){a.td=!0;a.zc=null;a.Vf=null;a.src=null;a.pf=null};function Hc(a){this.src=a;this.ba={};this.Ge=0}h=Hc.prototype;h.add=function(a,b,c,d,e){var f=a.toString();a=this.ba[f];a||(a=this.ba[f]=[],this.Ge++);var g=Ic(a,b,d,e);-1<g?(b=a[g],c||(b.Re=!1)):(b=new Fc(b,this.src,f,!!d,e),b.Re=c,a.push(b));return b};h.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ba))return!1;var e=this.ba[a];b=Ic(e,b,c,d);return-1<b?(Gc(e[b]),Ja.splice.call(e,b,1),0==e.length&&(delete this.ba[a],this.Ge--),!0):!1};
function Jc(a,b){var c=b.type;if(!(c in a.ba))return!1;var d=Qa(a.ba[c],b);d&&(Gc(b),0==a.ba[c].length&&(delete a.ba[c],a.Ge--));return d}h.Wf=function(a){a=a&&a.toString();var b=0,c;for(c in this.ba)if(!a||c==a){for(var d=this.ba[c],e=0;e<d.length;e++)++b,Gc(d[e]);delete this.ba[c];this.Ge--}return b};h.Zd=function(a,b,c,d){a=this.ba[a.toString()];var e=-1;a&&(e=Ic(a,b,c,d));return-1<e?a[e]:null};
h.Ka=function(a,b){var c=t(a),d=c?a.toString():"",e=t(b);return Za(this.ba,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Bd!=b))return!0;return!1})};function Ic(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.td&&f.zc==b&&f.Bd==!!c&&f.pf==d)return e}return-1};var Kc="closure_lm_"+(1E6*Math.random()|0),Lc={},Mc=0;function O(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);return null}c=Nc(c);return Dc(a)?a.va(b,c,d,e):Oc(a,b,c,!1,d,e)}function Oc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Pc(a);k||(a[Kc]=k=new Hc(a));c=k.add(b,c,d,e,f);if(c.Vf)return c;d=Qc();c.Vf=d;d.src=a;d.zc=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Rc(b.toString()),d);Mc++;return c}
function Qc(){var a=Sc,b=mc?function(c){return a.call(b.src,b.zc,c)}:function(c){c=a.call(b.src,b.zc,c);if(!c)return c};return b}function Tc(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)Tc(a,b[f],c,d,e);return null}c=Nc(c);return Dc(a)?a.Fj(b,c,d,e):Oc(a,b,c,!0,d,e)}function Uc(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)Uc(a,b[f],c,d,e);else c=Nc(c),Dc(a)?a.tb(b,c,d,e):a&&(a=Pc(a))&&(b=a.Zd(b,c,!!d,e))&&P(b)}
function P(a){if(ia(a)||!a||a.td)return!1;var b=a.src;if(Dc(b))return Jc(b.cb,a);var c=a.type,d=a.Vf;b.removeEventListener?b.removeEventListener(c,d,a.Bd):b.detachEvent&&b.detachEvent(Rc(c),d);Mc--;(c=Pc(b))?(Jc(c,a),0==c.Ge&&(c.src=null,b[Kc]=null)):Gc(a);return!0}function Rc(a){return a in Lc?Lc[a]:Lc[a]="on"+a}function Vc(a,b,c,d){var e=1;if(a=Pc(a))if(b=a.ba[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Bd==c&&!f.td&&(e&=!1!==Wc(f,d))}return Boolean(e)}
function Wc(a,b){var c=a.zc,d=a.pf||a.src;a.Re&&P(a);return c.call(d,b)}
function Sc(a,b){if(a.td)return!0;if(!mc){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new zc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.Gc&&0<=k;k--)c.currentTarget=e[k],d&=Vc(e[k],f,!0,c);for(k=0;!c.Gc&&k<e.length;k++)c.currentTarget=
e[k],d&=Vc(e[k],f,!1,c)}return d}return Wc(a,new zc(b,this))}function Pc(a){a=a[Kc];return a instanceof Hc?a:null}var Xc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Nc(a){if(ja(a))return a;a[Xc]||(a[Xc]=function(b){return a.handleEvent(b)});return a[Xc]};function Yc(){}Yc.prototype.qi=null;function Zc(a){return a.qi||(a.qi=a.uj())};var $c;function ad(){}F(ad,Yc);ad.prototype.Mg=function(){var a=bd(this);return a?new ActiveXObject(a):new XMLHttpRequest};ad.prototype.uj=function(){var a={};bd(this)&&(a[0]=!0,a[1]=!0);return a};
function bd(a){if(!a.kj&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.kj=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.kj}$c=new ad;function cd(){}F(cd,Yc);cd.prototype.Mg=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new dd;throw Error("Unsupported browser");};cd.prototype.uj=function(){return{}};
function dd(){this.Ta=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Ta.onload=E(this.lh,this);this.Ta.onerror=E(this.of,this);this.Ta.onprogress=E(this.dm,this);this.Ta.ontimeout=E(this.lm,this)}h=dd.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Ta.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.Ta.send(a);else throw Error("Only string data is supported");else this.Ta.send()};h.abort=function(){this.Ta.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Ta.contentType:""};h.lh=function(){this.status=200;this.responseText=this.Ta.responseText;ed(this,4)};h.of=function(){this.status=500;this.responseText=null;ed(this,4)};h.lm=function(){this.of()};
h.dm=function(){this.status=200;ed(this,1)};function ed(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return"content-type: "+this.Ta.contentType};function fd(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function gd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function hd(a){m.setTimeout(function(){throw a;},0)}function id(a,b){var c=a;b&&(c=E(a,b));c=jd(c);!ja(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(kd||(kd=ld()),kd(c)):m.setImmediate(c)}var kd;
function ld(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=E(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Ab("Trident")&&!Ab("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.ri;c.ri=null;a()};return function(a){d.next={ri:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}}var jd=nb;function md(a,b){nd||od();pd||(nd(),pd=!0);qd.push(new rd(a,b))}var nd;function od(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();nd=function(){a.then(sd)}}else nd=function(){id(sd)}}var pd=!1,qd=[];function sd(){for(;qd.length;){var a=qd;qd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.rl.call(c.scope)}catch(d){hd(d)}}}pd=!1}function rd(a,b){this.rl=a;this.scope=b};function td(a,b){this.b=ud;this.Mb=void 0;this.ya=this.ea=null;this.nf=this.ah=!1;try{var c=this;a.call(b,function(a){vd(c,wd,a)},function(a){vd(c,xd,a)})}catch(d){vd(this,xd,d)}}var ud=0,wd=2,xd=3;td.prototype.then=function(a,b,c){return yd(this,ja(a)?a:null,ja(b)?b:null,c)};fd(td);td.prototype.cancel=function(a){this.b==ud&&md(function(){var b=new zd(a);Ad(this,b)},this)};
function Ad(a,b){if(a.b==ud)if(a.ea){var c=a.ea;if(c.ya){for(var d=0,e=-1,f=0,g;g=c.ya[f];f++)if(g=g.Se)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==ud&&1==d?Ad(c,b):(d=c.ya.splice(e,1)[0],Bd(c,d,xd,b)))}}else vd(a,xd,b)}function Cd(a,b){a.ya&&a.ya.length||a.b!=wd&&a.b!=xd||Dd(a);a.ya||(a.ya=[]);a.ya.push(b)}
function yd(a,b,c,d){var e={Se:null,Qj:null,Xj:null};e.Se=new td(function(a,g){e.Qj=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Xj=c?function(b){try{var e=c.call(d,b);!t(e)&&b instanceof zd?g(b):a(e)}catch(n){g(n)}}:g});e.Se.ea=a;Cd(a,e);return e.Se}td.prototype.Ok=function(a){this.b=ud;vd(this,wd,a)};td.prototype.Pk=function(a){this.b=ud;vd(this,xd,a)};
function vd(a,b,c){if(a.b==ud){if(a==c)b=xd,c=new TypeError("Promise cannot resolve to itself");else{if(gd(c)){a.b=1;c.then(a.Ok,a.Pk,a);return}if(ka(c))try{var d=c.then;if(ja(d)){Ed(a,c,d);return}}catch(e){b=xd,c=e}}a.Mb=c;a.b=b;Dd(a);b!=xd||c instanceof zd||Fd(a,c)}}function Ed(a,b,c){function d(b){f||(f=!0,a.Pk(b))}function e(b){f||(f=!0,a.Ok(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Dd(a){a.ah||(a.ah=!0,md(a.ol,a))}
td.prototype.ol=function(){for(;this.ya&&this.ya.length;){var a=this.ya;this.ya=[];for(var b=0;b<a.length;b++)Bd(this,a[b],this.b,this.Mb)}this.ah=!1};function Bd(a,b,c,d){if(c==wd)b.Qj(d);else{for(;a&&a.nf;a=a.ea)a.nf=!1;b.Xj(d)}}function Fd(a,b){a.nf=!0;md(function(){a.nf&&Gd.call(null,b)})}var Gd=hd;function zd(a){ra.call(this,a)}F(zd,ra);zd.prototype.name="cancel";function T(){oc.call(this);this.cb=new Hc(this);this.Yk=this;this.Ih=null}F(T,oc);T.prototype[Cc]=!0;h=T.prototype;h.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Uc(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.Ih;if(c)for(b=[];c;c=c.Ih)b.push(c);var c=this.Yk,d=a.type||a;if(z(a))a=new tc(a,c);else if(a instanceof tc)a.target=a.target||c;else{var e=a;a=new tc(d,c);hb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Gc&&0<=g;g--)f=a.currentTarget=b[g],e=Hd(f,d,!0,a)&&e;a.Gc||(f=a.currentTarget=c,e=Hd(f,d,!0,a)&&e,a.Gc||(e=Hd(f,d,!1,a)&&e));if(b)for(g=0;!a.Gc&&g<b.length;g++)f=a.currentTarget=b[g],e=Hd(f,d,!1,a)&&e;return e};
h.d=function(){T.k.d.call(this);this.cb&&this.cb.Wf(void 0);this.Ih=null};h.va=function(a,b,c,d){return this.cb.add(String(a),b,!1,c,d)};h.Fj=function(a,b,c,d){return this.cb.add(String(a),b,!0,c,d)};h.tb=function(a,b,c,d){return this.cb.remove(String(a),b,c,d)};function Hd(a,b,c,d){b=a.cb.ba[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.td&&g.Bd==c){var k=g.zc,l=g.pf||g.src;g.Re&&Jc(a.cb,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.pk}
h.Zd=function(a,b,c,d){return this.cb.Zd(String(a),b,c,d)};h.Ka=function(a,b){return this.cb.Ka(t(a)?String(a):void 0,b)};function Jd(a,b){T.call(this);this.xc=a||1;this.yd=b||m;this.Gg=E(this.Vn,this);this.Dh=qa()}F(Jd,T);h=Jd.prototype;h.enabled=!1;h.w=null;h.setInterval=function(a){this.xc=a;this.w&&this.enabled?(this.stop(),this.start()):this.w&&this.stop()};h.Vn=function(){if(this.enabled){var a=qa()-this.Dh;0<a&&a<.8*this.xc?this.w=this.yd.setTimeout(this.Gg,this.xc-a):(this.w&&(this.yd.clearTimeout(this.w),this.w=null),this.dispatchEvent(Kd),this.enabled&&(this.w=this.yd.setTimeout(this.Gg,this.xc),this.Dh=qa()))}};
h.start=function(){this.enabled=!0;this.w||(this.w=this.yd.setTimeout(this.Gg,this.xc),this.Dh=qa())};h.stop=function(){this.enabled=!1;this.w&&(this.yd.clearTimeout(this.w),this.w=null)};h.d=function(){Jd.k.d.call(this);this.stop();delete this.yd};var Kd="tick";function Ld(a,b,c){if(ja(a))c&&(a=E(a,c));else if(a&&"function"==typeof a.handleEvent)a=E(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};function Md(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Nd(a){T.call(this);this.headers=new tb;this.wg=a||null;this.Ob=!1;this.vg=this.g=null;this.Df=this.Bh="";this.wc=this.th=this.wf=this.$g=!1;this.jg=0;this.gc=null;this.nk=Od;this.gi=this.qo=!1}F(Nd,T);var Od="",Pd=/^https?$/i,Qd=["POST","PUT"];h=Nd.prototype;
h.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Bh+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Bh=a;this.Df="";this.$g=!1;this.Ob=!0;this.g=this.wg?this.wg.Mg():$c.Mg();this.vg=this.wg?Zc(this.wg):Zc($c);this.g.onreadystatechange=E(this.Wj,this);try{this.th=!0,this.g.open(b,String(a),!0),this.th=!1}catch(e){this.Ze(5,e);return}a=c||"";var f=this.headers.clone();d&&jb(d,function(a,b){f.set(b,a)});d=Pa(f.eb(),Rd);c=m.FormData&&a instanceof
m.FormData;!(0<=Ka(Qd,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.nk&&(this.g.responseType=this.nk);"withCredentials"in this.g&&(this.g.withCredentials=this.qo);try{Sd(this),0<this.jg&&((this.gi=Td(this.g))?(this.g.timeout=this.jg,this.g.ontimeout=E(this.Rc,this)):this.gc=Ld(this.Rc,this.jg,this)),this.wf=!0,this.g.send(a),this.wf=!1}catch(g){this.Ze(5,g)}};
function Td(a){return L&&N(9)&&ia(a.timeout)&&t(a.ontimeout)}function Rd(a){return"content-type"==a.toLowerCase()}h.Rc=function(){"undefined"!=typeof aa&&this.g&&(this.Df="Timed out after "+this.jg+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};h.Ze=function(a,b){this.Ob=!1;this.g&&(this.wc=!0,this.g.abort(),this.wc=!1);this.Df=b;Ud(this);Vd(this)};function Ud(a){a.$g||(a.$g=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(){this.g&&this.Ob&&(this.Ob=!1,this.wc=!0,this.g.abort(),this.wc=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Vd(this))};h.d=function(){this.g&&(this.Ob&&(this.Ob=!1,this.wc=!0,this.g.abort(),this.wc=!1),Vd(this,!0));Nd.k.d.call(this)};h.Wj=function(){this.Nd||(this.th||this.wf||this.wc?Wd(this):this.$m())};h.$m=function(){Wd(this)};
function Wd(a){if(a.Ob&&"undefined"!=typeof aa&&(!a.vg[1]||4!=Xd(a)||2!=Yd(a)))if(a.wf&&4==Xd(a))Ld(a.Wj,0,a);else if(a.dispatchEvent("readystatechange"),4==Xd(a)){a.Ob=!1;try{if(Zd(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<Xd(a)?a.g.statusText:""}catch(c){b=""}a.Df=b+" ["+Yd(a)+"]";Ud(a)}}finally{Vd(a)}}}function Vd(a,b){if(a.g){Sd(a);var c=a.g,d=a.vg[0]?da:null;a.g=null;a.vg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Sd(a){a.g&&a.gi&&(a.g.ontimeout=null);ia(a.gc)&&(m.clearTimeout(a.gc),a.gc=null)}h.kd=function(){return!!this.g};function Zd(a){var b=Yd(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Qb(String(a.Bh))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Pd.test(a?a.toLowerCase():"");c=b}return c}function Xd(a){return a.g?a.g.readyState:0}
function Yd(a){try{return 2<Xd(a)?a.g.status:-1}catch(b){return-1}}function $d(a){if(a.g)return Md(a.g.responseText)}h.getResponseHeader=function(a){return this.g&&4==Xd(this)?this.g.getResponseHeader(a):void 0};h.getAllResponseHeaders=function(){return this.g&&4==Xd(this)?this.g.getAllResponseHeaders():""};function ae(a){var b=(a.visualize_url||"").replace("/?#","/").replace("/#","/");return encodeURIComponent(a.title)+"\x26"+ec(new Sb(a.transcription_url||""))+"\x26"+ec(new Sb(a.georeference_url||""))+"\x26"+ec(new Sb(b))+"\x26\x26"+ec(new Sb(a.object_url||""))}
function be(a,b,c,d,e){d="http://cynefin.georeferencer.com/collection/"+c+d;var f=new Nd(new cd);O(f,"complete",function(){if(Zd(f)){var d=$d(f),d=e?encodeURIComponent(b)+"\x26"+ec(new Sb(d.transcription_url||""))+"\x26\x26\x26\x26\x26"+c:ae(d)+"\x26"+c;null!=a?window.location=a+"#"+d:(window.location.hash=d,window.location.reload())}});f.send(d)};var ce=!L||L&&9<=Ob;!Gb&&!L||L&&L&&9<=Ob||Gb&&N("1.9.1");var de=L&&!N("9");function U(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}h=U.prototype;h.clone=function(){return new U(this.x,this.y)};function ee(a,b){return new U(a.x-b.x,a.y-b.y)}h.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};h.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};h.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
h.translate=function(a,b){a instanceof U?(this.x+=a.x,this.y+=a.y):(this.x+=a,ia(b)&&(this.y+=b));return this};h.scale=function(a,b){var c=ia(b)?b:a;this.x*=a;this.y*=c;return this};function fe(a,b){this.width=a;this.height=b}function ge(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}h=fe.prototype;h.clone=function(){return new fe(this.width,this.height)};h.Ma=function(){return!(this.width*this.height)};h.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.scale=function(a,b){var c=ia(b)?b:a;this.width*=a;this.height*=c;return this};function he(a){return a?new ie(je(a)):sa||(sa=new ie)}function V(a){return z(a)?document.getElementById(a):a}function ke(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function le(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in me?a.setAttribute(me[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var me={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ne(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new fe(a.clientWidth,a.clientHeight)}function oe(a){return M||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function pe(a){return a.parentWindow||a.defaultView}function qe(a,b,c){return re(document,arguments)}
function re(a,b){var c=b[0],d=b[1];if(!ce&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',wa(d.name),'"');if(d.type){c.push(' type\x3d"',wa(d.type),'"');var e={};hb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(z(d)?c.className=d:ga(d)?c.className=d.join(" "):le(c,d));2<b.length&&se(a,c,b,2);return c}
function se(a,b,c,d){function e(c){c&&b.appendChild(z(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ha(f)||ka(f)&&0<f.nodeType?e(f):G(te(f)?Sa(f):f,e)}}function ue(a){return document.createElement(a)}function ve(a,b){se(je(a),a,arguments,1)}function we(a){for(var b;b=a.firstChild;)a.removeChild(b)}function xe(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function ye(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function ze(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ae(a){return ka(a)&&1==a.nodeType}function Be(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function je(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Ce(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else we(a),a.appendChild(je(a).createTextNode(String(b)))}var De={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ee={IMG:" ",BR:"\n"};
function Fe(a){if(de&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ge(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");de||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Ge(a,b,c){if(!(a.nodeName in De))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Ee)b.push(Ee[a.nodeName]);else for(a=a.firstChild;a;)Ge(a,b,c),a=a.nextSibling}function te(a){if(a&&"number"==typeof a.length){if(ka(a))return"function"==typeof a.item||"string"==typeof a.item;if(ja(a))return"function"==typeof a.item}return!1}function He(a){return Ie(a,function(a){return"FORM"==a.nodeName&&!0})}
function Ie(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function ie(a){this.ka=a||m.document||document}h=ie.prototype;h.Wd=function(a){return z(a)?this.ka.getElementById(a):a};h.xe=le;h.Ei=function(a,b,c){return re(this.ka,arguments)};h.createElement=function(a){return this.ka.createElement(a)};h.createTextNode=function(a){return this.ka.createTextNode(String(a))};function Je(a){return"CSS1Compat"==a.ka.compatMode}
function Ke(a){var b=a.ka;a=oe(b);b=pe(b);return L&&N("10")&&b.pageYOffset!=a.scrollTop?new U(a.scrollLeft,a.scrollTop):new U(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}h.appendChild=function(a,b){a.appendChild(b)};h.append=ve;h.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
h.tn=we;h.removeNode=ze;h.contains=Be;function Le(a){if(a.classList)return a.classList;a=a.className;return z(a)&&a.match(/\S+/g)||[]}function Me(a,b){var c;a.classList?c=a.classList.contains(b):(c=Le(a),c=0<=Ka(c,b));return c}function Ne(a,b){a.classList?a.classList.add(b):Me(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Oe(a,b){if(a.classList)G(b,function(b){Ne(a,b)});else{var c={};G(Le(a),function(a){c[a]=!0});G(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Pe(a,b){a.classList?a.classList.remove(b):Me(a,b)&&(a.className=La(Le(a),function(a){return a!=b}).join(" "))}function Qe(a,b){a.classList?G(b,function(b){Pe(a,b)}):a.className=La(Le(a),function(a){return!(0<=Ka(b,a))}).join(" ")}function Re(a,b,c){c?Ne(a,b):Pe(a,b)};function Se(){T.call(this);this.Di=V("counties-list");this.mi=V("application-panel");this.il=V("county-detail-name");this.gl=(this.Ue=V("county-detail-contrib-link"))?this.Ue.href:"";this.hl=V("county-detail-hide");O(this.hl,"click",function(a){this.ga&&Pe(this.ga.he,"active");this.ga=null;Ne(this.mi,"no-county-detail");a.preventDefault()},!1,this);this.zm=V("map-list");this.wj="";var a=V("item-template");a&&(this.wj=a.innerHTML,ze(a));this.If=V("map-filter");this.ym=V("map-filter-clear");O(this.If,
"input",function(){Te(this,this.If.value)},!1,this);O(this.ym,"click",function(){Te(this,"")},!1,this);this.df=V("georeference-random");O(this.df,"click",function(a){Me(this.df,"disabled")||this.ga&&be(this.df.href,this.ga.label,this.ga.id,"/random/public/georeference/json",void 0);a.preventDefault()},!1,this);this.ng=V("transcribe-random");O(this.ng,"click",function(a){Me(this.ng,"disabled")||this.ga&&be(this.ng.href,this.ga.label,this.ga.id,"/supplement/random/public/transcription/json",!0);a.preventDefault()},
!1,this);this.Ha=[];this.oh=this.ga=null;this.le=[];Ue(this);this.Mc="all";a=E(function(a){O(V("map-filter-"+a),"click",function(){Te(this,"");Ve(this,a)},!1,this)},this);a("all");a("scanned");a("notgeorefed");a("nottransed");a("notfin");this.on={Ph:V("progress-maps-reviewed-bar"),Zg:V("progress-maps-edited-bar"),ok:V("progress-maps-rest-bar"),Oh:V("progress-maps-reviewed"),Yg:V("progress-maps-edited"),total:V("progress-maps-total")};this.pn={Ph:V("progress-sheets-reviewed-bar"),Zg:V("progress-sheets-edited-bar"),
ok:V("progress-sheets-rest-bar"),Oh:V("progress-sheets-reviewed"),Yg:V("progress-sheets-edited"),total:V("progress-sheets-total")};this.Ck=V("stats-gcp-count");this.Dk=V("stats-label-count")}F(Se,T);
function Ue(a){if(a.Di){var b=ke("LI",a.Di);G(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=ke("A",a)[0],f=Fe(e),g=a.getAttribute("data-name");if(b&&e&&g&&0<g.length){var k=a.getAttribute("data-center"),l=null;z(k)&&(k=k.split(","),l=[parseFloat(k[1]),parseFloat(k[0])]);this.Ha.push({label:f,name:g,id:b,center:l,anchor:e,he:a});O(e,"click",function(a){We(this,g);a.preventDefault()},!1,this)}}},a)}}
function Xe(a,b){a.oh&&Pe(a.oh.he,"highlighted");if(b){var c=Pa(a.Ha,function(a){return a.name==b});c&&(Ne(c.he,"highlighted"),a.oh=c)}}
function We(a,b,c){if(a.ga&&a.ga.name==b)c&&c();else{var d=Pa(a.Ha,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new Nd(new cd);O(f,"complete",function(){if(Zd(f)){var a=$d(f);Ye(this,a);c&&c()}},!1,a);f.send(e);Ce(a.Ck,"...");Ce(a.Dk,"...");var e="http://cynefin.georeferencer.com/collection/"+d.id+"/stats.json",g=new Nd(new cd);O(g,"complete",function(){if(Zd(g)){var a=$d(g).map,b=a.supplement,c=(b.products||{}).transcription||{};
Ze(this,!0,(c["impossible-reviewed"]||0)+(c["finished-reviewed"]||0),c.touched||0,b.objects||0);b=a.components.label+b.components.label;Ce(this.Ck,a.components.gcp.toString());Ce(this.Dk,b.toString())}},!1,a);g.send(e);Ce(a.il,d.label);a.Ue&&(a.Ue.href=a.gl+"#"+encodeURIComponent(d.label));Pe(a.mi,"no-county-detail");Ze(a,!1,0,0,0);Ze(a,!0,0,0,0);a.ga&&Pe(a.ga.he,"active");Ne(d.he,"active");a.ga=d;a.dispatchEvent({type:"opened",Ho:b,center:d.center})}}}
function $e(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",ae(b));null===b.thumbnail_url&&c("no_thumbnail","\x26nbsp;");return a}
function Ye(a,b){function c(a,b){Ce(V("map-count-"+a),b)}G(a.le,function(a){G(a.keys,P);ze(a.node)});a.le=[];Te(a,"");Ve(a,"all");var d=0,e=0,f=0,g=0,k=0,l=0,n=0,q=!1,p=!1;G(b,function(a){var b;var c=$e(this.wj,a),r=document;b=r.createElement("div");L?(b.innerHTML="\x3cbr\x3e"+c,b.removeChild(b.firstChild)):b.innerHTML=c;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(c=r.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b=c}if(void 0!=b.firstElementChild)b=b.firstElementChild;
else for(b=b.firstChild;b&&1!=b.nodeType;)b=b.nextSibling;this.zm.appendChild(b);var y=a.georeference_status,c=null!=a.thumbnail_url,r=null!=a.visualize_url,u;if(u=y)u=y.length-9,u=0<=u&&y.indexOf("-reviewed",u)==u;var s=c&&!r,y=null===y||"fresh"==y;q=q||null!=a.georeference_url;p=p||null!=a.transcription_url;d++;c&&e++;r&&f++;u&&g++;s&&k++;l++;y&&n++;this.le.push({title:af(a.title),cn:a.identifier,node:b,keys:[],zn:c,Vm:s,Wm:!0,Um:y})},a);c("all",d);c("scanned",e);c("notgeorefed",k);c("nottransed",
l);c("notfin",n);bf(V("map-filter-scanned-block"),d!=e);Re(a.df,"disabled",!q);Re(a.ng,"disabled",!p);Ze(a,!1,g,f,d)}function Ze(a,b,c,d,e){a=b?a.pn:a.on;Ce(a.Oh,c);Ce(a.Yg,d);Ce(a.total,e);b=100*c/e||0;e=100*d/e||0;a.Ph.style.width=b+"%";a.Zg.style.width=e-b+"%";a.ok.style.width=100-e+"%";e=0<c;c=!e||d>c;bf(a.Oh,e);bf(a.Ph,e);bf(a.Yg,c);bf(a.Zg,c)}function Te(a,b){a.If.value=b;cf(a)}function Ve(a,b){Pe(V("map-filter-"+a.Mc),"active");Ne(V("map-filter-"+b),"active");a.Mc=b;cf(a)}
function cf(a){var b=af(a.If.value).split(" or ");G(a.le,function(a){var d=!("all"==this.Mc||"scanned"==this.Mc&&a.zn||"notgeorefed"==this.Mc&&a.Vm||"nottransed"==this.Mc&&a.Wm||"notfin"==this.Mc&&a.Um)||Oa(b,function(b){return-1==a.title.indexOf(b)});Re(a.node,"filtered",d)},a)}function df(a,b){var c="";G(a.le,function(a){0<=Ka(a.cn.split("|"),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);Te(a,c)}
function af(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function ef(a,b,c){T.call(this);this.ac=a;this.te=c;this.na=b;O(b,[ff,hf,jf,kf],this.handleEvent,!1,this);this.Da=null;this.K=[];this.Wb=-1;this.da=0;this.oc=this.L=null;this.sj={}}F(ef,T);h=ef.prototype;h.Dm=10;h.bl=!0;h.li=!1;h.Wk=!1;h.Jk=!1;var ff="hilite",hf="select",kf="dismiss",jf="canceldismiss";h=ef.prototype;
h.handleEvent=function(a){var b=this.ac;if(a.target==this.na)switch(a.type){case ff:this.Gb(a.ob);break;case hf:var c=!1;if(ia(a.ob)){a=a.ob;var d=this.K[lf(this,a)],c=!!d&&b.vh&&b.vh(d);d&&!c&&this.Wb!=a&&this.Gb(a)}c||mf(this);break;case jf:nf(this);break;case kf:of(this)}};h.Xh=function(a){this.Da!=a&&(this.Da=a,pf(this.ac,this.Da,this.Dm,E(this.Am,this)),nf(this))};h.Tb=function(){return this.L};h.Vh=function(a){this.L=a};
function qf(a){for(var b=a.da+a.K.length-1,c=a.Wb,d=0;d<a.K.length;d++){if(c>=a.da&&c<b)c++;else if(-1==c)c=a.da;else if(a.li&&c==b){a.Gb(-1);break}else if(a.Wk&&c==b)c=a.da;else break;if(a.Gb(c))break}}function rf(a){for(var b=a.da+a.K.length-1,c=a.Wb,d=0;d<a.K.length;d++){if(c>a.da)c--;else if(a.li&&c==a.da){a.Gb(-1);break}else if(!a.Wk||-1!=c&&c!=a.da)break;else c=b;if(a.Gb(c))break}}
h.Gb=function(a){var b=lf(this,a),c=this.K[b];return c&&this.ac.vh&&this.ac.vh(c)?!1:(this.Wb=a,this.na.Gb(a),-1!=b)};
function mf(a){var b=lf(a,a.Wb);if(-1!=b){var c=a.K[b],d=a.te;if(d.l){var e=c.toString();if(t(void 0)?0:d.md){var f=sf(d,d.l.value,tf(d.l)),g=uf(d,d.l.value);d.An.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.jl);d.oo&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.l;(Gb||L&&N("9"))&&e.blur();e.value=g.join("");for(var k=0,l=0;l<=f;l++)k+=g[l].length;e.focus();f=k;g=d.l;e=f;vf(g)?g.selectionStart=e:L&&(k=wf(g),l=k[0],l.inRange(k[1])&&(e=xf(g,e),l.collapse(!0),
l.move("character",e),l.select()));g=d.l;vf(g)?g.selectionEnd=f:L&&(k=wf(g),e=k[1],k[0].inRange(e)&&(f=xf(g,f),g=xf(g,tf(g)),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.l.value=e;d.Rh=!0}a.Jk?(a.Da=null,of(a)):a.Za();a.dispatchEvent({type:"update",ob:c,index:b});a.Jk&&a.te.update(!0);return!0}a.Za();a.dispatchEvent({type:"update",ob:null,index:null});return!1}
h.Za=function(){this.Wb=-1;this.Da=null;this.da+=this.K.length;this.K=[];window.clearTimeout(this.oc);this.oc=null;this.na.Za();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(kf)};function of(a){a.oc||(a.oc=window.setTimeout(E(a.Za,a),100))}h.rj=function(){return this.oc?(window.clearTimeout(this.oc),this.oc=null,!0):!1};function nf(a){a.rj()||window.setTimeout(E(a.rj,a),10)}h.d=function(){ef.k.d.call(this);delete this.sj;this.na.Bb();this.te.Bb();this.ac=null};
h.Am=function(a,b,c){this.Da==a&&this.Mh(b,c)};h.Mh=function(a,b){var c="object"==fa(b)&&b,d=(c?c.Oo():b)?lf(this,this.Wb):-1;this.da+=this.K.length;this.K=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.da+f,data:a[f]});f=null;this.L&&(f=this.sj[D(this.L)]||this.L);this.na.Zk=f;this.na.Mh(e,this.Da,this.L);f=this.bl;c&&void 0!==c.vl()&&(f=c.vl());this.Wb=-1;(f||0<=d)&&0!=e.length&&this.Da&&(0<=d?this.Gb(this.da+d):qf(this));this.dispatchEvent("suggestionsupdate")};
function lf(a,b){var c=b-a.da;return 0>c||c>=a.K.length?-1:c}h.Dg=function(a){var b=this.te;b.Dg.apply(b,arguments)};h.update=function(a){this.te.update(a)};var yf;function zf(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Af(a,b,c){ga(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(yf||(yf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=yf,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Bf(a,b){var c="";b&&(c=b.id);Af(a,"activedescendant",c)};function tf(a){var b;a:{var c=0,d=0;if(vf(a))c=a.selectionStart,d=-1;else if(L){var e=wf(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function wf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function xf(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function vf(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Cf(a){oc.call(this);this.Vb=a;this.u={}}F(Cf,oc);var Df=[];h=Cf.prototype;h.va=function(a,b,c,d){ga(b)||(b&&(Df[0]=b.toString()),b=Df);for(var e=0;e<b.length;e++){var f=O(a,b[e],c||this.handleEvent,d||!1,this.Vb||this);if(!f)break;this.u[f.key]=f}return this};h.Fj=function(a,b,c,d){return Ef(this,a,b,c,d)};function Ef(a,b,c,d,e,f){if(ga(c))for(var g=0;g<c.length;g++)Ef(a,b,c[g],d,e,f);else{b=Tc(b,c,d||a.handleEvent,e,f||a.Vb||a);if(!b)return a;a.u[b.key]=b}return a}
h.tb=function(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)this.tb(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.Vb||this,c=Nc(c),d=!!d,b=Dc(a)?a.Zd(b,c,d,e):a?(a=Pc(a))?a.Zd(b,c,d,e):null:null,b&&(P(b),delete this.u[b.key]);return this};h.Wf=function(){Ya(this.u,P);this.u={}};h.d=function(){Cf.k.d.call(this);this.Wf()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ff(a,b,c,d,e){if(!(L||M&&N("525")))return!0;if(Bb&&e)return Gf(a);if(e&&!d)return!1;ia(b)&&(b=Hf(b));if(!c&&(17==b||18==b||Bb&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(L&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!M}return Gf(a)}
function Gf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Hf(a){if(Gb)a=If(a);else if(Bb&&M)a:switch(a){case 93:a=91;break a}return a}
function If(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Jf(a,b){T.call(this);a&&Kf(this,a,b)}F(Jf,T);h=Jf.prototype;h.a=null;h.zf=null;h.wh=null;h.Af=null;h.ua=-1;h.Yb=-1;h.Ag=!1;
var Lf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Mf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Nf=L||M&&N("525"),Of=Bb&&Gb;h=Jf.prototype;
h.Ll=function(a){M&&(17==this.ua&&!a.ctrlKey||18==this.ua&&!a.altKey||Bb&&91==this.ua&&!a.metaKey)&&(this.Yb=this.ua=-1);-1==this.ua&&(a.ctrlKey&&17!=a.keyCode?this.ua=17:a.altKey&&18!=a.keyCode?this.ua=18:a.metaKey&&91!=a.keyCode&&(this.ua=91));Nf&&!Ff(a.keyCode,this.ua,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Yb=Hf(a.keyCode),Of&&(this.Ag=a.altKey))};h.Nl=function(a){this.Yb=this.ua=-1;this.Ag=a.altKey};
h.handleEvent=function(a){var b=a.p,c,d,e=b.altKey;L&&"keypress"==a.type?(c=this.Yb,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Yb,d=0<=b.charCode&&63232>b.charCode&&Gf(c)?b.charCode:0):Fb?(c=this.Yb,d=Gf(c)?b.keyCode:0):(c=b.keyCode||this.Yb,d=b.charCode||0,Of&&(e=this.Ag),Bb&&63==d&&224==c&&(c=191));var f=c=Hf(c),g=b.keyIdentifier;c?63232<=c&&c in Lf?f=Lf[c]:25==c&&a.shiftKey&&(f=9):g&&g in Mf&&(f=Mf[g]);a=f==this.ua;this.ua=f;b=new Pf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
h.Wd=function(){return this.a};function Kf(a,b,c){a.Af&&a.detach();a.a=b;a.zf=O(a.a,"keypress",a,c);a.wh=O(a.a,"keydown",a.Ll,c,a);a.Af=O(a.a,"keyup",a.Nl,c,a)}h.detach=function(){this.zf&&(P(this.zf),P(this.wh),P(this.Af),this.Af=this.wh=this.zf=null);this.a=null;this.Yb=this.ua=-1};h.d=function(){Jf.k.d.call(this);this.detach()};function Pf(a,b,c,d){zc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}F(Pf,zc);var Qf,Rf;Rf=Qf=!1;var Sf=xb;Sf&&(-1!=Sf.indexOf("Firefox")||-1!=Sf.indexOf("Camino")||(-1!=Sf.indexOf("iPhone")||-1!=Sf.indexOf("iPod")?Qf=!0:-1!=Sf.indexOf("iPad")&&(Rf=!0)));var Tf=Qf,Uf=Rf;function Vf(a,b,c,d){oc.call(this);d=d||150;this.md=null!=c?c:!0;this.ue=a||",;";this.jl=this.ue.substring(0,1);a=this.md?"[\\s"+this.ue+"]+":"[\\s]+";this.Kk=new RegExp("^"+a+"|"+a+"$","g");this.An=new RegExp("\\s*["+this.ue+"]$");this.Gj=b||"";this.nn=!1;this.mn=this.md;this.w=0<d?new Jd(d):null;this.X=new Cf(this);this.yg=new Cf(this);this.hb=new Jf;this.Aj=-1}F(Vf,oc);var Wf=(Tf||Uf)&&!N("533.17.9");h=Vf.prototype;h.oo=!0;h.ul=!0;h.Tk=!1;h.Cn=!0;h.Bn=!0;h.zg=null;h.l=null;h.Ch="";h.hc=!1;
h.Rh=!1;h.Rk=!0;h.Dg=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];Ae(c)&&Af(c,"haspopup",!0);this.X.va(c,"focus",this.cj);this.X.va(c,"blur",this.Hl);if(!this.l&&(this.yg.va(c,"keydown",this.Zm),Ae(c))){var d;a:{var e=je(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&Xf(this,c)}}};h.d=function(){Vf.k.d.call(this);null!=this.zg&&window.clearTimeout(this.zg);this.X.Bb();delete this.X;this.yg.Bb();this.hb.Bb();sc(this.w)};
function Yf(a){a.w?a.w.setInterval(300):a.w=new Jd(300)}
function Zf(a,b){switch(b.keyCode){case 40:if(a.I.na.ub){a.Tk?rf(a.I):qf(a.I);b.preventDefault();return}if(!a.md){a.update(!0);b.preventDefault();return}break;case 38:if(a.I.na.ub){a.Tk?qf(a.I):rf(a.I);b.preventDefault();return}break;case 9:if(!a.I.na.ub||b.shiftKey||a.nn)a.I.Za();else if(a.update(),mf(a.I)&&a.mn){b.preventDefault();return}break;case 13:if(a.I.na.ub){if(a.update(),mf(a.I)){b.preventDefault();b.stopPropagation();return}}else a.I.Za();break;case 27:if(a.I.na.ub){a.I.Za();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.hc){a.hc||(a.X.va(a.l,"keyup",a.Tj),a.X.va(a.l,"keypress",a.Sj),a.hc=!0);return}break;default:a.w&&!a.Rk&&(a.w.stop(),a.w.start())}$f(a,b)}function $f(a,b){var c=a.md&&b.charCode&&-1!=a.ue.indexOf(String.fromCharCode(b.charCode));a.Cn&&c&&a.update();a.Bn&&c&&mf(a.I)&&b.preventDefault()}h.Ml=function(){return!1};h.cj=function(a){Xf(this,a.target||null)};
function Xf(a,b){a.yg.Wf();a.I&&nf(a.I);b!=a.l&&(a.l=b,a.w&&(a.w.start(),a.X.va(a.w,Kd,a.Yj)),a.Ch=a.l.value,Kf(a.hb,a.l),a.X.va(a.hb,"key",a.Uj),a.X.va(a.l,"mousedown",a.Vj),L&&a.X.va(a.l,"keypress",a.Rj))}h.Hl=function(){Wf?this.zg=window.setTimeout(E(this.ek,this),0):this.ek()};
h.ek=function(){this.l&&(this.X.tb(this.hb,"key",this.Uj),this.hb.detach(),this.X.tb(this.l,"keyup",this.Ml),this.X.tb(this.l,"mousedown",this.Vj),L&&this.X.tb(this.l,"keypress",this.Rj),this.hc&&ag(this),this.l=null,this.w&&(this.w.stop(),this.X.tb(this.w,Kd,this.Yj)),this.I&&of(this.I))};h.Yj=function(){this.update()};h.Zm=function(a){this.cj(a)};h.Uj=function(a){this.Aj=a.keyCode;this.I&&Zf(this,a)};h.Sj=function(){this.hc&&229!=this.Aj&&ag(this)};
h.Tj=function(a){this.hc&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&ag(this)};h.Vj=function(){};function ag(a){a.hc&&(a.hc=!1,a.X.tb(a.l,"keypress",a.Sj),a.X.tb(a.l,"keyup",a.Tj))}h.Rj=function(a){$f(this,a)};h.update=function(a){if(this.l&&(a||this.l.value!=this.Ch)){if(a||!this.Rh){a=tf(this.l);var b=this.l.value;a=uf(this,b)[sf(this,b,a)];a=this.Kk?String(a).replace(this.Kk,""):a;this.I&&(this.I.Vh(this.l),this.I.Xh(a,this.l.value))}this.Ch=this.l.value}this.Rh=!1};
function sf(a,b,c){a=uf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}function uf(a,b){if(!a.md)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.Gj&&-1!=a.Gj.indexOf(c[f])?(a.ul&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.ue.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function bg(){T.call(this);this.b=cg;this.endTime=this.startTime=null}F(bg,T);var cg=0;bg.prototype.Ac=function(){this.$a("begin")};bg.prototype.nd=function(){this.$a("end")};bg.prototype.$a=function(a){this.dispatchEvent(a)};function dg(a,b,c){oc.call(this);this.ke=a;this.Vb=c;this.vb=b||window;this.Ad=E(this.Rg,this)}F(dg,oc);h=dg.prototype;h.F=null;h.hi=!1;h.start=function(){this.stop();this.hi=!1;var a=eg(this),b=fg(this);a&&!b&&this.vb.mozRequestAnimationFrame?(this.F=O(this.vb,"MozBeforePaint",this.Ad),this.vb.mozRequestAnimationFrame(null),this.hi=!0):this.F=a&&b?a.call(this.vb,this.Ad):this.vb.setTimeout(ob(this.Ad),20)};
h.stop=function(){if(this.kd()){var a=eg(this),b=fg(this);a&&!b&&this.vb.mozRequestAnimationFrame?P(this.F):a&&b?b.call(this.vb,this.F):this.vb.clearTimeout(this.F)}this.F=null};h.kd=function(){return null!=this.F};h.Rg=function(){this.hi&&this.F&&P(this.F);this.F=null;this.ke.call(this.Vb,qa())};h.d=function(){this.stop();dg.k.d.call(this)};
function eg(a){a=a.vb;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function fg(a){a=a.vb;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function gg(a,b,c){oc.call(this);this.ke=a;this.xc=b||0;this.Vb=c;this.Ad=E(this.Rg,this)}F(gg,oc);h=gg.prototype;h.F=0;h.d=function(){gg.k.d.call(this);this.stop();delete this.ke;delete this.Vb};h.start=function(a){this.stop();this.F=Ld(this.Ad,t(a)?a:this.xc)};h.stop=function(){this.kd()&&m.clearTimeout(this.F);this.F=0};h.kd=function(){return 0!=this.F};h.Rg=function(){this.F=0;this.ke&&this.ke.call(this.Vb)};var hg={},ig=null;function jg(a){a=D(a);delete hg[a];cb(hg)&&ig&&ig.stop()}function kg(){ig||(ig=new gg(function(){lg()},20));var a=ig;a.kd()||a.start()}function lg(){var a=qa();Ya(hg,function(b){mg(b,a)});cb(hg)||kg()};function ng(a,b,c,d){bg.call(this);if(!ga(a)||!ga(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Ae=a;this.nl=b;this.duration=c;this.ii=d;this.coords=[]}F(ng,bg);h=ng.prototype;h.Ca=0;
h.play=function(a){if(a||this.b==cg)this.Ca=0,this.coords=this.Ae;else if(1==this.b)return!1;jg(this);this.startTime=a=qa();-1==this.b&&(this.startTime-=this.duration*this.Ca);this.endTime=this.startTime+this.duration;this.Ca||this.Ac();this.$a("play");-1==this.b&&this.$a("resume");this.b=1;var b=D(this);b in hg||(hg[b]=this);kg();mg(this,a);return!0};h.stop=function(a){jg(this);this.b=cg;a&&(this.Ca=1);og(this,this.Ca);this.$a("stop");this.nd()};
h.pause=function(){1==this.b&&(jg(this),this.b=-1,this.$a("pause"))};h.d=function(){this.b==cg||this.stop(!1);this.$a("destroy");ng.k.d.call(this)};function mg(a,b){a.Ca=(b-a.startTime)/(a.endTime-a.startTime);1<=a.Ca&&(a.Ca=1);og(a,a.Ca);1==a.Ca?(a.b=cg,jg(a),a.$a("finish"),a.nd()):1==a.b&&a.Hh()}function og(a,b){ja(a.ii)&&(b=a.ii(b));a.coords=Array(a.Ae.length);for(var c=0;c<a.Ae.length;c++)a.coords[c]=(a.nl[c]-a.Ae[c])*b+a.Ae[c]}h.Hh=function(){this.$a("animate")};
h.$a=function(a){this.dispatchEvent(new pg(a,this))};function pg(a,b){tc.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Ca=b.Ca;this.state=b.b}F(pg,tc);function qg(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}h=qg.prototype;h.Ja=function(){return this.right-this.left};h.ff=function(){return this.bottom-this.top};h.clone=function(){return new qg(this.top,this.right,this.bottom,this.left)};h.contains=function(a){return this&&a?a instanceof qg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
h.expand=function(a,b,c,d){ka(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};h.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};h.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
h.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};h.translate=function(a,b){a instanceof U?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ia(b)&&(this.top+=b,this.bottom+=b));return this};h.scale=function(a,b){var c=ia(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function rg(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}h=rg.prototype;h.clone=function(){return new rg(this.left,this.top,this.width,this.height)};h.vj=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
h.contains=function(a){return a instanceof rg?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function sg(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}h.distance=function(a){return Math.sqrt(sg(this,a))};h.Y=function(){return new fe(this.width,this.height)};
h.sa=function(){return new U(this.left+this.width/2,this.top+this.height/2)};h.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.translate=function(a,b){a instanceof U?(this.left+=a.x,this.top+=a.y):(this.left+=a,ia(b)&&(this.top+=b));return this};h.scale=function(a,b){var c=ia(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function tg(a,b){var c=je(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function ug(a,b){return tg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function vg(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}L&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function wg(a){if(L&&!(L&&8<=Ob))return a.offsetParent;var b=je(a),c=ug(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=ug(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function xg(a){for(var b=new qg(0,Infinity,Infinity,0),c=he(a),d=c.ka.body,e=c.ka.documentElement,f=oe(c.ka);a=wg(a);)if(!(L&&0==a.clientWidth||M&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=ug(a,"overflow")){var g=yg(a),k;k=a;if(Gb&&!N("1.9")){var l=parseFloat(tg(k,"borderLeftWidth"));if(zg(k))var n=k.offsetWidth-k.clientWidth-l-parseFloat(tg(k,"borderRightWidth")),l=l+n;k=new U(l,parseFloat(tg(k,"borderTopWidth")))}else k=new U(k.clientLeft,k.clientTop);g.x+=k.x;g.y+=k.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=ne(pe(c.ka)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function yg(a){var b,c=je(a),d=ug(a,"position"),e=Gb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new U(0,0),g;b=c?je(c):document;g=!L||L&&9<=Ob||Je(he(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=vg(a),a=Ke(he(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(M&&"fixed"==ug(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Fb||M&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=wg(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,Fb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function Ag(a){var b;if(a.getBoundingClientRect)b=vg(a),b=new U(b.left,b.top);else{b=Ke(he(a));var c=yg(a);b=new U(c.x-b.x,c.y-b.y)}if(Gb&&!N(12)){b:{c=Ha();if(void 0===a.style[c]&&(c=(M?"Webkit":Gb?"Moz":L?"ms":Fb?"O":null)+Ia(c),void 0!==a.style[c])){c=(M?"-webkit":Gb?"-moz":L?"-ms":Fb?"-o":null)+"-transform";break b}c="transform"}a=(a=ug(a,c)||ug(a,"transform"))?(a=a.match(Bg))?new U(parseFloat(a[1]),parseFloat(a[2])):new U(0,0):new U(0,0);a=new U(b.x+a.x,b.y+a.y)}else a=b;return a}
function Cg(a){if(1==a.nodeType)return Ag(a);var b=ja(a.wl),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.p.targetTouches&&a.p.targetTouches.length&&(c=a.p.targetTouches[0]);return new U(c.clientX,c.clientY)}function Dg(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Eg(a){var b=Fg;if("none"!=ug(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function Fg(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;return t(b)&&!d||!a.getBoundingClientRect?new fe(b,c):(a=vg(a),new fe(a.right-a.left,a.bottom-a.top))}function bf(a,b){a.style.display=b?"":"none"}function zg(a){return"rtl"==ug(a,"direction")}
var Gg=Gb?"MozUserSelect":M?"WebkitUserSelect":null;function Hg(a){var b=a.getElementsByTagName("*");if(Gg){var c="none";a.style[Gg]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[Gg]=c}}else if(L||Fb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function Ig(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function Jg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Ig(a,c,"left","pixelLeft"):0}function Kg(a){if(L){var b=Jg(a,"paddingLeft"),c=Jg(a,"paddingRight"),d=Jg(a,"paddingTop");a=Jg(a,"paddingBottom");return new qg(d,c,a,b)}b=tg(a,"paddingLeft");c=tg(a,"paddingRight");d=tg(a,"paddingTop");a=tg(a,"paddingBottom");return new qg(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Lg={thin:2,medium:4,thick:6};
function Mg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Lg?Lg[c]:Ig(a,c,"left","pixelLeft")}
function Ng(a){if(L&&!(L&&9<=Ob)){var b=Mg(a,"borderLeft"),c=Mg(a,"borderRight"),d=Mg(a,"borderTop");a=Mg(a,"borderBottom");return new qg(d,c,a,b)}b=tg(a,"borderLeftWidth");c=tg(a,"borderRightWidth");d=tg(a,"borderTopWidth");a=tg(a,"borderBottomWidth");return new qg(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Bg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Og(a,b,c,d,e){ng.call(this,b,c,d,e);this.element=a}F(Og,ng);Og.prototype.rg=da;Og.prototype.Hh=function(){this.rg();Og.k.Hh.call(this)};Og.prototype.nd=function(){this.rg();Og.k.nd.call(this)};Og.prototype.Ac=function(){this.rg();Og.k.Ac.call(this)};function Pg(a,b,c,d,e){ia(b)&&(b=[b]);ia(c)&&(c=[c]);Og.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}F(Pg,Og);
Pg.prototype.rg=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};Pg.prototype.show=function(){this.element.style.display=""};function Qg(a,b,c){Pg.call(this,a,1,0,b,c)}F(Qg,Pg);Qg.prototype.Ac=function(){this.show();Qg.k.Ac.call(this)};Qg.prototype.nd=function(){this.element.style.display="none";Qg.k.nd.call(this)};function Rg(a,b,c){Pg.call(this,a,0,1,b,c)}F(Rg,Pg);
Rg.prototype.Ac=function(){this.show();Rg.k.Ac.call(this)};function Sg(a,b){return(b&4&&zg(a)?b^2:b)&-5};function Tg(){}ea(Tg);Tg.prototype.Mj=0;function Ug(a,b,c,d){T.call(this);this.ea=a||document.body;this.ab=he(this.ea);this.xn=!a;this.a=null;this.Da="";this.K=[];this.Kc=[];this.Bk=this.sf=-1;this.ub=!1;this.className="ac-renderer";this.Qh="ac-row";this.Cj="active";this.ji="ac-active";this.pm="ac-highlighted";this.Zc=b||null;this.ko=null!=d?d:!0;this.Bm=!0;this.rf=!1;this.yn=!!c;this.lg=!1;this.Nf=0;this.Ak=!1}F(Ug,T);h=Ug.prototype;h.Wd=function(){return this.a};
h.Mh=function(a,b,c){this.Da=b;this.K=a;this.sf=-1;this.Bk=qa();this.L=c;this.Kc=[];Vg(this)};h.Za=function(){this.L&&Bf(this.L,null);this.ub&&(this.ub=!1,this.L&&Af(this.L,"haspopup",!1),0<this.Nf?(sc(this.Wc),this.Wc=new Qg(this.a,this.Nf),this.Wc.play()):bf(this.a,!1))};h.show=function(){this.ub||(this.ub=!0,this.L&&(zf(this.L,"combobox"),Af(this.L,"autocomplete","list"),Af(this.L,"haspopup",!0)),0<this.Nf?(sc(this.Wc),this.Wc=new Rg(this.a,this.Nf),this.Wc.play()):bf(this.a,!0))};
function Wg(a,b){var c=0<=b&&b<a.K.length?a.K[b]:void 0,d=0<=b&&b<a.Kc.length?a.Kc[b]:void 0;if(a.dispatchEvent({type:"rowhilite",Po:d,ob:c?c.data:null})&&(0<=a.sf&&Qe(a.Kc[a.sf],[a.ji,a.Cj]),a.sf=b,d)){Oe(d,[a.ji,a.Cj]);a.L&&Bf(a.L,d);var c=a.a,e=yg(d),f=yg(c),g=Ng(c),k=e.x-f.x-g.left,e=e.y-f.y-g.top,f=c.clientHeight-d.offsetHeight,g=c.scrollLeft,l=c.scrollTop,g=g+Math.min(k,Math.max(k-(c.clientWidth-d.offsetWidth),0)),l=l+Math.min(e,Math.max(e-f,0)),d=new U(g,l);c.scrollLeft=d.x;c.scrollTop=d.y}}
h.Gb=function(a){if(-1==a)Wg(this,-1);else for(var b=0;b<this.K.length;b++)if(this.K[b].id==a){Wg(this,b);break}};function Xg(a){if(!a.a){var b=a.ab.Ei("div",{style:"display:none"});a.Ak&&(b.style.overflowY="auto");a.a=b;Oe(b,ua(a.className).split(" "));zf(b,"listbox");b.id=":"+(Tg.ta().Mj++).toString(36);a.ab.appendChild(a.ea,b);O(b,"click",a.Fb,!1,a);O(b,"mousedown",a.ej,!1,a);O(b,"mouseover",a.fj,!1,a)}}
function Vg(a){Xg(a);a.lg&&(a.a.style.visibility="hidden");a.po&&(a.a.style.minWidth=a.po.clientWidth+"px");a.Kc.length=0;a.ab.tn(a.a);if(a.Zc&&a.Zc.render)a.Zc.render(a,a.a,a.K,a.Da);else{var b=null;G(a.K,function(a){var d=this.Da,e=this.ab.Ei("div",{className:this.Qh,id:":"+(Tg.ta().Mj++).toString(36)});zf(e,"option");this.Zc&&this.Zc.hk?this.Zc.hk(a,d,e):Ce(e,a.data.toString());d&&this.ko&&(this.Vk=!1,Yg(this,e,d));Ne(e,this.Qh);this.Kc.push(e);a=e;this.lg?this.a.insertBefore(a,b):this.ab.appendChild(this.a,
a);b=a},a)}0==a.K.length?a.Za():(a.show(),Zg(a),Hg(a.a))}
function Zg(a){if(a.L&&a.xn){var b=a.Zk||a.L,c,d=a.yn?3:1;a.lg&&(d^=1);c=d;var e=65;a.Ak&&(a.a.style.height="",e|=32);var d=a.a,f=c^1,g,k;if(g=d.offsetParent){var l="HTML"==g.tagName||"BODY"==g.tagName;l&&"static"==ug(g,"position")||(k=yg(g),l||(l=(l=zg(g))&&Gb?-g.scrollLeft:!l||L&&N("8")||"visible"==ug(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,k=ee(k,new U(l,g.scrollTop))))}g=k||new U;k=yg(b);l=Eg(b);k=new rg(k.x,k.y,l.width,l.height);if(l=xg(b)){var n=new rg(l.left,l.top,
l.right-l.left,l.bottom-l.top),l=Math.max(k.left,n.left),q=Math.min(k.left+k.width,n.left+n.width);if(l<=q){var p=Math.max(k.top,n.top),n=Math.min(k.top+k.height,n.top+n.height);p<=n&&(k.left=l,k.top=p,k.width=q-l,k.height=n-p)}}l=he(b);p=he(d);if(l.ka!=p.ka){var q=l.ka.body,p=pe(p.ka),n=new U(0,0),x;x=(x=je(q))?pe(x):window;var v=q;do{var w=x==p?yg(v):Ag(v);n.x+=w.x;n.y+=w.y}while(x&&x!=p&&(v=x.frameElement)&&(x=x.parent));q=ee(n,yg(q));!L||L&&9<=Ob||Je(l)||(q=ee(q,Ke(l)));k.left+=q.x;k.top+=q.y}var b=
Sg(b,c),b=new U(b&2?k.left+k.width:k.left,b&1?k.top+k.height:k.top),b=ee(b,g),r;e&&(r=xg(d))&&(r.top-=g.y,r.right-=g.x,r.bottom-=g.y,r.left-=g.x);b=b.clone();g=Sg(d,f);f=Eg(d);c=f.clone();b=b.clone();c=c.clone();k=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(r?(g=b,k=c,l=0,65==(e&65)&&(g.x<r.left||g.x>=r.right)&&(e&=-2),132==(e&132)&&(g.y<r.top||g.y>=r.bottom)&&(e&=-5),g.x<r.left&&e&1&&(g.x=r.left,l|=1),g.x<r.left&&g.x+k.width>r.right&&e&16&&(k.width=Math.max(k.width-(g.x+k.width-r.right),
0),l|=4),g.x+k.width>r.right&&e&1&&(g.x=Math.max(r.right-k.width,r.left),l|=1),e&2&&(l=l|(g.x<r.left?16:0)|(g.x+k.width>r.right?32:0)),g.y<r.top&&e&4&&(g.y=r.top,l|=2),g.y<=r.top&&g.y+k.height<r.bottom&&e&32&&(k.height=Math.max(k.height-(r.top-g.y),0),g.y=r.top,l|=8),g.y>=r.top&&g.y+k.height>r.bottom&&e&32&&(k.height=Math.max(k.height-(g.y+k.height-r.bottom),0),l|=8),g.y+k.height>r.bottom&&e&4&&(g.y=Math.max(r.bottom-k.height,r.top),l|=2),e&8&&(l=l|(g.y<r.top?64:0)|(g.y+k.height>r.bottom?128:0)),
e=l):e=256,k=e);e=new rg(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;k&496||(c=new U(e.left,e.top),b=Gb&&(Bb||Jb)&&N("1.9"),c instanceof U?(r=c.x,c=c.y):(r=c,c=void 0),d.style.left=Dg(r,b),d.style.top=Dg(c,b),c=e.Y(),ge(f,c)||(e=c,r=Je(he(je(d))),!L||N("10")||r&&N("8")?(d=d.style,Gb?d.MozBoxSizing="border-box":M?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,r?(r=Kg(d),d=Ng(d),f.pixelWidth=
e.width-d.left-r.left-r.right-d.right,f.pixelHeight=e.height-d.top-r.top-r.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.lg&&(a.a.style.visibility="visible")}}h.Tb=function(){return this.L};h.d=function(){this.a&&(Uc(this.a,"click",this.Fb,!1,this),Uc(this.a,"mousedown",this.ej,!1,this),Uc(this.a,"mouseover",this.fj,!1,this),this.ab.removeNode(this.a),this.a=null,this.ub=!1);sc(this.Wc);this.ea=null;Ug.k.d.call(this)};
function Yg(a,b,c){if(a.rf||!a.Vk)if(3==b.nodeType){var d=null;ga(c)&&1<c.length&&!a.rf&&(d=Ua(c,1));c=$g(a,c);if(0!=c.length){var e=b.nodeValue,f=a.Bm?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,k=f.exec(e),l=0;k;)l++,c.push(e.substring(g,k.index)),c.push(e.substring(k.index,f.lastIndex)),g=f.lastIndex,k=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.rf?l:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.ab.createElement("b"),g.className=a.pm,a.ab.appendChild(g,a.ab.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.ab.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Ua(c,2*d).join("");a.Vk=!0}else d&&Yg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Yg(a,b,c),b=d}
function $g(a,b){var c="";if(!b)return c;ga(b)&&(b=La(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.rf?ga(b)?c=Ma(b,Fa).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Fa(c),c=c.replace(/ /g,"|")):ga(b)?c=0<b.length?Fa(b[0]):"":/^\W/.test(b)||(c=Fa(b));return c}function ah(a,b){for(;b&&b!=a.a&&!Me(b,a.Qh);)b=b.parentNode;return b?Ka(a.Kc,b):-1}h.Fb=function(a){var b=ah(this,a.target);0<=b&&this.dispatchEvent({type:hf,ob:this.K[b].id});a.stopPropagation()};
h.ej=function(a){a.stopPropagation();a.preventDefault()};h.fj=function(a){a=ah(this,a.target);0<=a&&!(300>qa()-this.Bk)&&this.dispatchEvent({type:ff,ob:this.K[a].id})};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function bh(a,b){this.bg=[];this.Pj=a;this.Gi=b||null;this.ae=this.cd=!1;this.Mb=void 0;this.Yh=this.cl=this.Fg=!1;this.qg=0;this.ea=null;this.Hg=0}bh.prototype.cancel=function(a){if(this.cd)this.Mb instanceof bh&&this.Mb.cancel();else{if(this.ea){var b=this.ea;delete this.ea;a?b.cancel(a):(b.Hg--,0>=b.Hg&&b.cancel())}this.Pj?this.Pj.call(this.Gi,this):this.Yh=!0;this.cd||(a=new ch,dh(this),eh(this,!1,a))}};bh.prototype.Ai=function(a,b){this.Fg=!1;eh(this,a,b)};
function eh(a,b,c){a.cd=!0;a.Mb=c;a.ae=!b;fh(a)}function dh(a){if(a.cd){if(!a.Yh)throw new gh;a.Yh=!1}}function hh(a,b,c,d){a.bg.push([b,c,d]);a.cd&&fh(a)}bh.prototype.then=function(a,b,c){var d,e,f=new td(function(a,b){d=a;e=b});hh(this,d,function(a){a instanceof ch?f.cancel():e(a)});return f.then(a,b,c)};fd(bh);function ih(a){return Na(a.bg,function(a){return ja(a[1])})}
function fh(a){if(a.qg&&a.cd&&ih(a)){var b=a.qg,c=jh[b];c&&(m.clearTimeout(c.F),delete jh[b]);a.qg=0}a.ea&&(a.ea.Hg--,delete a.ea);for(var b=a.Mb,d=c=!1;a.bg.length&&!a.Fg;){var e=a.bg.shift(),f=e[0],g=e[1],e=e[2];if(f=a.ae?g:f)try{var k=f.call(e||a.Gi,b);t(k)&&(a.ae=a.ae&&(k==b||k instanceof Error),a.Mb=b=k);gd(b)&&(d=!0,a.Fg=!0)}catch(l){b=l,a.ae=!0,ih(a)||(c=!0)}}a.Mb=b;d&&(k=E(a.Ai,a,!0),d=E(a.Ai,a,!1),b instanceof bh?(hh(b,k,d),b.cl=!0):b.then(k,d));c&&(b=new kh(b),jh[b.F]=b,a.qg=b.F)}
function gh(){ra.call(this)}F(gh,ra);gh.prototype.message="Deferred has already fired";gh.prototype.name="AlreadyCalledError";function ch(){ra.call(this)}F(ch,ra);ch.prototype.message="Deferred was canceled";ch.prototype.name="CanceledError";function kh(a){this.F=m.setTimeout(E(this.Un,this),0);this.Ze=a}kh.prototype.Un=function(){delete jh[this.F];throw this.Ze;};var jh={};function lh(a,b){var c=b||{},d=c.document||document,e=ue("SCRIPT"),f={sk:e,Rc:void 0},g=new bh(mh,f),k=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(k=window.setTimeout(function(){nh(e,!0);var b=new oh(ph,"Timeout reached for loading script "+a);dh(g);eh(g,!1,b)},l),f.Rc=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(nh(e,c.el||!1,k),dh(g),eh(g,!0,null))};e.onerror=function(){nh(e,!0,k);var b=new oh(qh,"Error while loading script "+a);dh(g);
eh(g,!1,b)};le(e,{type:"text/javascript",charset:"UTF-8",src:a});rh(d).appendChild(e);return g}function rh(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function mh(){if(this&&this.sk){var a=this.sk;a&&"SCRIPT"==a.tagName&&nh(a,!0,this.Rc)}}function nh(a,b,c){null!=c&&m.clearTimeout(c);a.onload=da;a.onerror=da;a.onreadystatechange=da;b&&window.setTimeout(function(){ze(a)},0)}var qh=0,ph=1;
function oh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);ra.call(this,c);this.code=a}F(oh,ra);function sh(a,b){this.ho=new Sb(a);this.dl=b?b:"callback";this.Rc=5E3}var th=0;sh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(th++).toString(36)+qa().toString(36);m._callbacks_||(m._callbacks_={});var e=this.ho.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||gc(e,f,a[f]);b&&(m._callbacks_[d]=uh(d,b),gc(e,this.dl,"_callbacks_."+d));b=lh(e.toString(),{timeout:this.Rc,el:!0});hh(b,null,vh(d,a,c),void 0);return{F:d,Ii:b}};
sh.prototype.cancel=function(a){a&&(a.Ii&&a.Ii.cancel(),a.F&&wh(a.F,!1))};function vh(a,b,c){return function(){wh(a,!1);c&&c(b)}}function uh(a,b){return function(c){wh(a,!0);b.apply(void 0,arguments)}}function wh(a,b){m._callbacks_[a]&&(b?delete m._callbacks_[a]:m._callbacks_[a]=da)};function xh(a,b,c){this.io=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Dc=b||{};if(this.Vc=c||null)this.Dc.viewboxlbrt=this.Vc.join(","),this.Dc.bounded=1;this.xj=new sh(this.io,"json_callback")}
function pf(a,b,c,d){a.Dc.q=b;a.Dc.format="json";a.Dc.addressdetails=1;a.Dc.limit=c;b&&1!=b.length?(null!==a.lk&&a.xj.cancel(a.lk),a.lk=a.xj.send(a.Dc,E(function(a){var c=La(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),g=La(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]}),k=E(function(a){var b=[];G(a,function(a){var c=a.boundingbox,c=c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:
null;this.Vc&&c&&(this.Vc[0]>c[2]||this.Vc[1]>c[3]||this.Vc[2]<c[0]||this.Vc[3]<c[1])||b.push({formatted_address:a.display_name,type:a.type,bounds:c,lat:parseFloat(a.lat),lon:parseFloat(a.lon),viewport:null})},this);return b},this);0<c.length?(G(c,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;
if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,k(Ra(c,g)))):d(b,k(a))},a))):d(b,[])};function yh(a,b,c,d){var e=new Ug(null,{hk:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.ac=new xh(b,c,d);b=new Vf(null,null,!1);Yf(b);b.Rk=!1;b.I=this;b.Dg(a);ef.call(this,this.ac,e,b);this.va("update",function(b){b.ob&&(a.value=b.ob.formatted_address)})}F(yh,ef);yh.prototype.search=function(a,b,c){pf(this.ac,a,b,c)};yh.prototype.Xh=function(a,b){this.Za();yh.k.Xh.call(this,a,b)};function zh(){this.fk=qa()}new zh;zh.prototype.set=function(a){this.fk=a};zh.prototype.reset=function(){this.set(qa())};zh.prototype.get=function(){return this.fk};function Ah(a){T.call(this);this.Je=a||window;this.Ff=O(this.Je,"resize",this.em,!1,this);this.Nb=ne(this.Je||window)}F(Ah,T);h=Ah.prototype;h.Ff=null;h.Je=null;h.Nb=null;h.Y=function(){return this.Nb?this.Nb.clone():null};h.d=function(){Ah.k.d.call(this);this.Ff&&(P(this.Ff),this.Ff=null);this.Nb=this.Je=null};h.em=function(){var a=ne(this.Je||window);ge(a,this.Nb)||(this.Nb=a,this.dispatchEvent("resize"))};function Bh(a,b){T.call(this);this.a=a;var c=Ae(this.a)?this.a:this.a?this.a.body:null;this.sm=!!c&&zg(c);this.Ej=O(this.a,wc,this,b)}F(Bh,T);
Bh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.p;if("mousewheel"==a.type){c=1;if(L||M&&(Cb||N("532.0")))c=40;d=Ch(-a.wheelDelta,c);t(a.wheelDeltaX)?(b=Ch(-a.wheelDeltaX,c),c=Ch(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),t(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ia(this.Jj)&&(b=rb(b,-this.Jj,this.Jj));ia(this.Kj)&&(c=rb(c,-this.Kj,this.Kj));this.sm&&(b=-b);b=new Dh(d,a,b,c);this.dispatchEvent(b)};function Ch(a,b){return M&&(Bb||Db)&&0!=a%b?a:a/b}
Bh.prototype.d=function(){Bh.k.d.call(this);P(this.Ej);this.Ej=null};function Dh(a,b,c,d){zc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}F(Dh,zc);function Eh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Eh.prototype.BYTES_PER_ELEMENT=4;Eh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Eh.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Eh.BYTES_PER_ELEMENT=4,Eh.prototype.BYTES_PER_ELEMENT=Eh.prototype.BYTES_PER_ELEMENT,Eh.prototype.set=Eh.prototype.set,Eh.prototype.toString=Eh.prototype.toString,ca("Float32Array",Eh));function Fh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Fh.prototype.BYTES_PER_ELEMENT=8;Fh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Fh.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Fh.BYTES_PER_ELEMENT=8}catch(Gh){}Fh.prototype.BYTES_PER_ELEMENT=Fh.prototype.BYTES_PER_ELEMENT;Fh.prototype.set=Fh.prototype.set;Fh.prototype.toString=Fh.prototype.toString;ca("Float64Array",Fh)};function Hh(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Ih(){var a=Array(16);Jh(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Kh(){var a=Array(16);Jh(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Jh(a,b,c,d,e,f,g,k,l,n,q,p,x,v,w,r,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=k;a[7]=l;a[8]=n;a[9]=q;a[10]=p;a[11]=x;a[12]=v;a[13]=w;a[14]=r;a[15]=y}
function Mh(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15]}function Nh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Oh(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],k=a[4],l=a[5],n=a[6],q=a[7],p=a[8],x=a[9],v=a[10],w=a[11],r=a[12],y=a[13],u=a[14];a=a[15];var s=b[0],A=b[1],C=b[2],B=b[3],H=b[4],R=b[5],J=b[6],ba=b[7],W=b[8],I=b[9],S=b[10],Q=b[11],Ba=b[12],va=b[13],ta=b[14];b=b[15];c[0]=d*s+k*A+p*C+r*B;c[1]=e*s+l*A+x*C+y*B;c[2]=f*s+n*A+v*C+u*B;c[3]=g*s+q*A+w*C+a*B;c[4]=d*H+k*R+p*J+r*ba;c[5]=e*H+l*R+x*J+y*ba;c[6]=f*H+n*R+v*J+u*ba;c[7]=g*H+q*R+w*J+a*ba;c[8]=d*W+k*I+p*S+r*Q;c[9]=e*W+l*I+x*S+y*Q;c[10]=f*W+n*I+v*S+u*
Q;c[11]=g*W+q*I+w*S+a*Q;c[12]=d*Ba+k*va+p*ta+r*b;c[13]=e*Ba+l*va+x*ta+y*b;c[14]=f*Ba+n*va+v*ta+u*b;c[15]=g*Ba+q*va+w*ta+a*b}function Ph(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Qh(a,b,c){Jh(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Rh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],l=a[6],n=a[7],q=Math.cos(b),p=Math.sin(b);a[0]=c*q+g*p;a[1]=d*q+k*p;a[2]=e*q+l*p;a[3]=f*q+n*p;a[4]=c*-p+g*q;a[5]=d*-p+k*q;a[6]=e*-p+l*q;a[7]=f*-p+n*q}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);var Sh;function Th(){T.call(this);this.Qa=0}F(Th,T);Th.prototype.$=function(){++this.Qa;this.dispatchEvent("change")};function Uh(a,b,c,d){O(a,b,c,!1,d)}function Vh(a,b,c){Tc(a,"postrender",b,!1,c)};function Wh(a,b,c){tc.call(this,a);this.key=b;this.oldValue=c}F(Wh,tc);function Xh(a){Th.call(this);D(this);this.Uc={};this.xg={};t(a)&&this.xe(a)}F(Xh,Th);var Yh={},Zh={},$h={};function ai(a){return Yh.hasOwnProperty(a)?Yh[a]:Yh[a]="change:"+a}
Xh.prototype.get=function(a){var b,c=this.xg;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Sn,d=Zh.hasOwnProperty(c)?Zh[c]:Zh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=K(b,d);b=t(d)?d.call(b):b.get(c);b=a.Qo(b)}else this.Uc.hasOwnProperty(a)&&(b=this.Uc[a]);return b};Xh.prototype.eb=function(){var a=this.xg,b;if(cb(this.Uc)){if(cb(a))return[];b=a}else if(cb(a))b=this.Uc;else{b={};for(var c in this.Uc)b[c]=!0;for(c in a)b[c]=!0}return bb(b)};
Xh.prototype.set=function(a,b){var c=this.xg;if(c.hasOwnProperty(a)){var d=c[a];b=d.Io(b);var c=d.target,d=d.Sn,e=b,f=$h.hasOwnProperty(d)?$h[d]:$h[d]="set"+(d.substr(0,1).toUpperCase()+d.substr(1)),f=K(c,f);t(f)?f.call(c,e):c.set(d,e)}else c=this.Uc[a],this.Uc[a]=b,d=ai(a),this.dispatchEvent(new Wh(d,a,c)),this.dispatchEvent(new Wh("propertychange",a,c))};Xh.prototype.xe=function(a){for(var b in a)this.set(b,a[b])};function bi(a,b,c){tc.call(this,a,c);this.element=b}F(bi,tc);function ci(a){Xh.call(this);this.xb=a||[];di(this)}F(ci,Xh);h=ci.prototype;h.clear=function(){for(;0<this.get("length");)this.pop()};h.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};h.forEach=function(a,b){G(this.xb,a,b)};h.ef=function(){return this.xb};h.item=function(a){return this.xb[a]};h.pop=function(){return ei(this,this.get("length")-1)};
h.push=function(a){var b=this.xb.length;Ta(this.xb,b,0,a);di(this);this.dispatchEvent(new bi("add",a,this));return b};h.remove=function(a){var b=this.xb,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return ei(this,c)};function ei(a,b){var c=a.xb[b];Ja.splice.call(a.xb,b,1);di(a);a.dispatchEvent(new bi("remove",c,a));return c}function di(a){a.set("length",a.xb.length)};var fi=L&&!N("9.0")&&""!==Lb;function gi(a,b){a[0]+=b[0];a[1]+=b[1]}function hi(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function ii(a,b,c){tc.call(this,a);this.map=b;this.frameState=t(c)?c:null}F(ii,tc);function ji(a,b,c){tc.call(this,a);this.ha=b;a=t(c)?c:{};this.buttons=ki(a);this.pressure=li(a,this.buttons);this.bubbles=K(a,"bubbles",!1);this.cancelable=K(a,"cancelable",!1);this.view=K(a,"view",null);this.detail=K(a,"detail",null);this.screenX=K(a,"screenX",0);this.screenY=K(a,"screenY",0);this.clientX=K(a,"clientX",0);this.clientY=K(a,"clientY",0);this.ctrlKey=K(a,"ctrlKey",!1);this.altKey=K(a,"altKey",!1);this.shiftKey=K(a,"shiftKey",!1);this.metaKey=K(a,"metaKey",!1);this.button=K(a,"button",
0);this.relatedTarget=K(a,"relatedTarget",null);this.pointerId=K(a,"pointerId",0);this.width=K(a,"width",0);this.height=K(a,"height",0);this.tiltX=K(a,"tiltX",0);this.tiltY=K(a,"tiltY",0);this.pointerType=K(a,"pointerType","");this.hwTimestamp=K(a,"hwTimestamp",0);this.isPrimary=K(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}F(ji,tc);
function ki(a){if(a.buttons||mi)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function li(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var mi=!1;try{mi=1===(new MouseEvent("click",{buttons:1})).buttons}catch(ni){};function oi(a,b){var c=ue("CANVAS");t(a)&&(c.width=a);t(b)&&(c.height=b);return c.getContext("2d")}
var pi=function(){var a;return function(){if(!t(a))if(m.getComputedStyle){var b=ue("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=m.getComputedStyle(b).getPropertyValue(d[e]));ze(b);a=c&&"none"!==c}else a=!1;return a}}(),qi=function(){var a;return function(){if(!t(a))if(m.getComputedStyle){var b=ue("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=m.getComputedStyle(b).getPropertyValue(d[e]));ze(b);a=c&&"none"!==c}else a=!1;return a}}();function ri(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.uo=b;c.msTransform=b;c.transform=b;L&&!fi&&(a.style.transformOrigin="0 0")};var si=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ti(a,b){var c,d,e=si.length;for(d=0;d<e;++d)try{if(c=a.getContext(si[d],b),null!==c)return c}catch(f){}return null};var ui,vi=m.devicePixelRatio||1,wi=!1,xi=function(){if(!("HTMLCanvasElement"in m))return!1;try{var a=oi();if(null===a)return!1;t(a.setLineDash)&&(wi=!0);return!0}catch(b){return!1}}(),yi="ontouchstart"in m,zi="PointerEvent"in m,Ai=!!m.navigator.msPointerEnabled,Bi=!1,Ci=[];if("WebGLRenderingContext"in m)try{var Di=ue("CANVAS"),Ei=ti(Di,{ql:!0});null!==Ei&&(Bi=!0,Ci=Ei.getSupportedExtensions())}catch(Fi){}ui=Bi;Sh=Ci;function Gi(a,b){this.h=a;this.Lf=b};function Hi(a){Gi.call(this,a,{mousedown:this.Gm,mousemove:this.Hm,mouseup:this.Km,mouseover:this.Jm,mouseout:this.Im});this.P=a.P;this.Bj=[]}F(Hi,Gi);function Ii(a,b){for(var c=a.Bj,d=b.clientX,e=b.clientY,f=0,g=c.length,k;f<g&&(k=c[f]);f++){var l=Math.abs(e-k[1]);if(25>=Math.abs(d-k[0])&&25>=l)return!0}return!1}function Ji(a){var b=Ki(a,a.p),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}h=Hi.prototype;
h.Gm=function(a){if(!Ii(this,a)){(1).toString()in this.P&&this.cancel(a);var b=Ji(a);this.P[(1).toString()]=a;this.h.fireEvent(Li,b,a)}};h.Hm=function(a){if(!Ii(this,a)){var b=Ji(a);this.h.move(b,a)}};h.Km=function(a){if(!Ii(this,a)){var b=K(this.P,(1).toString());b&&b.button===a.button&&(b=Ji(a),this.h.fireEvent(Mi,b,a),eb(this.P,(1).toString()))}};h.Jm=function(a){if(!Ii(this,a)){var b=Ji(a);Ni(this.h,b,a)}};h.Im=function(a){if(!Ii(this,a)){var b=Ji(a);Oi(this.h,b,a)}};
h.cancel=function(a){var b=Ji(a);this.h.cancel(b,a);eb(this.P,(1).toString())};function Pi(a){Gi.call(this,a,{MSPointerDown:this.Pm,MSPointerMove:this.Qm,MSPointerUp:this.Tm,MSPointerOut:this.Rm,MSPointerOver:this.Sm,MSPointerCancel:this.Om,MSGotPointerCapture:this.Mm,MSLostPointerCapture:this.Nm});this.P=a.P;this.Xk=["","unavailable","touch","pen","mouse"]}F(Pi,Gi);function Qi(a,b){var c=b;ia(b.p.pointerType)&&(c=Ki(b,b.p),c.pointerType=a.Xk[b.p.pointerType]);return c}h=Pi.prototype;h.Pm=function(a){this.P[a.p.pointerId]=a;var b=Qi(this,a);this.h.fireEvent(Li,b,a)};
h.Qm=function(a){var b=Qi(this,a);this.h.move(b,a)};h.Tm=function(a){var b=Qi(this,a);this.h.fireEvent(Mi,b,a);eb(this.P,a.p.pointerId)};h.Rm=function(a){var b=Qi(this,a);Oi(this.h,b,a)};h.Sm=function(a){var b=Qi(this,a);Ni(this.h,b,a)};h.Om=function(a){var b=Qi(this,a);this.h.cancel(b,a);eb(this.P,a.p.pointerId)};h.Nm=function(a){this.h.dispatchEvent(new ji("lostpointercapture",a,a.p))};h.Mm=function(a){this.h.dispatchEvent(new ji("gotpointercapture",a,a.p))};function Ri(a){Gi.call(this,a,{pointerdown:this.gn,pointermove:this.hn,pointerup:this.ln,pointerout:this.jn,pointerover:this.kn,pointercancel:this.fn,gotpointercapture:this.Gl,lostpointercapture:this.xm})}F(Ri,Gi);h=Ri.prototype;h.gn=function(a){Si(this.h,a)};h.hn=function(a){Si(this.h,a)};h.ln=function(a){Si(this.h,a)};h.jn=function(a){Si(this.h,a)};h.kn=function(a){Si(this.h,a)};h.fn=function(a){Si(this.h,a)};h.xm=function(a){Si(this.h,a)};h.Gl=function(a){Si(this.h,a)};function Ti(a,b){Gi.call(this,a,{touchstart:this.co,touchmove:this.bo,touchend:this.ao,touchcancel:this.$n});this.P=a.P;this.Fm=b;this.Td=void 0;this.Kg=0;this.qe=void 0}F(Ti,Gi);h=Ti.prototype;h.mk=function(){this.Kg=0;this.qe=void 0};
function Ui(a,b,c){b=Ki(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Kg;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.Td===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Vi(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.p.changedTouches),f=e.length,g,k;for(g=0;g<f;++g)k=Ui(a,b,e[g]),k.preventDefault=d,c.call(a,b,k)}
h.co=function(a){var b=a.p.touches,c=bb(this.P),d=c.length;if(d>=b.length){var e=[],f,g,k;for(f=0;f<d;++f){g=c[f];k=this.P[g];var l;if(!(l=1==g))a:{l=b.length;for(var n=void 0,q=0;q<l;q++)if(n=b[q],n.identifier===g-2){l=!0;break a}l=!1}l||e.push(k.Cc)}for(f=0;f<e.length;++f)this.Ig(a,e[f])}b=$a(this.P);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.P;c=b}c&&(this.Td=a.p.changedTouches[0].identifier,t(this.qe)&&m.clearTimeout(this.qe));Wi(this,a);this.Kg++;Vi(this,a,this.bn)};
h.bn=function(a,b){this.P[b.pointerId]={target:b.target,Cc:b,ak:b.target};var c=this.h;b.bubbles=!0;c.fireEvent(Xi,b,a);c=this.h;b.bubbles=!1;c.fireEvent(Yi,b,a);this.h.fireEvent(Li,b,a)};h.bo=function(a){a.preventDefault();Vi(this,a,this.Lm)};
h.Lm=function(a,b){var c=K(this.P,b.pointerId);if(c){var d=c.Cc,e=c.ak;this.h.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Oi(this.h,d,a),Ni(this.h,b,a)):(b.target=e,b.relatedTarget=null,this.Ig(a,b)));c.Cc=b;c.ak=b.target}};h.ao=function(a){Wi(this,a);Vi(this,a,this.fo)};
h.fo=function(a,b){this.h.fireEvent(Mi,b,a);this.h.Cc(b,a);var c=this.h;b.bubbles=!1;c.fireEvent(Zi,b,a);eb(this.P,b.pointerId);b.isPrimary&&(this.Td=void 0,this.qe=m.setTimeout(E(this.mk,this),200))};h.$n=function(a){Vi(this,a,this.Ig)};h.Ig=function(a,b){this.h.cancel(b,a);this.h.Cc(b,a);var c=this.h;b.bubbles=!1;c.fireEvent(Zi,b,a);eb(this.P,b.pointerId);b.isPrimary&&(this.Td=void 0,this.qe=m.setTimeout(E(this.mk,this),200))};
function Wi(a,b){var c=a.Fm.Bj,d=b.p.changedTouches[0];if(a.Td===d.identifier){var e=[d.clientX,d.clientY];c.push(e);m.setTimeout(function(){Qa(c,e)},2500)}};function $i(a){T.call(this);this.a=a;this.P={};this.Mi={};this.Rd=[];zi?aj(this,new Ri(this)):Ai?aj(this,new Pi(this)):(a=new Hi(this),aj(this,a),yi&&aj(this,new Ti(this,a)));a=this.Rd.length;for(var b,c=0;c<a;c++)b=this.Rd[c],bj(this,bb(b.Lf))}F($i,T);function aj(a,b){var c=bb(b.Lf);c&&(G(c,function(a){var c=b.Lf[a];c&&(this.Mi[a]=E(c,b))},a),a.Rd.push(b))}h=$i.prototype;h.Li=function(a){var b=this.Mi[a.type];b&&b(a)};function bj(a,b){G(b,function(a){O(this.a,a,this.Li,!1,this)},a)}
function cj(a,b){G(b,function(a){Uc(this.a,a,this.Li,!1,this)},a)}function Ki(a,b){for(var c={},d,e=0,f=dj.length;e<f;e++)d=dj[e][0],c[d]=a[d]||b[d]||dj[e][1];return c}h.move=function(a,b){this.fireEvent(ej,a,b)};h.Cc=function(a,b){a.bubbles=!0;this.fireEvent(fj,a,b)};h.cancel=function(a,b){this.fireEvent(gj,a,b)};function Oi(a,b,c){a.Cc(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Zi,b,c))}
function Ni(a,b,c){b.bubbles=!0;a.fireEvent(Xi,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Yi,b,c))}h.fireEvent=function(a,b,c){this.dispatchEvent(new ji(a,c,b))};function Si(a,b){a.dispatchEvent(new ji(b.type,b,b.p))}h.d=function(){for(var a=this.Rd.length,b,c=0;c<a;c++)b=this.Rd[c],cj(this,bb(b.Lf));$i.k.d.call(this)};
var ej="pointermove",Li="pointerdown",Mi="pointerup",Xi="pointerover",fj="pointerout",Yi="pointerenter",Zi="pointerleave",gj="pointercancel",dj=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function hj(a,b,c,d){ii.call(this,a,b,d);this.ha=c;this.originalEvent=c.p;c=this.originalEvent;t(c.offsetX)&&t(c.offsetY)?a=[c.offsetX,c.offsetY]:t(c.changedTouches)?(a=c.changedTouches[0],c=Cg(b.S),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.S,c=Cg(c),a=Cg(a),a=new U(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.Ud(this.pixel)}F(hj,ii);hj.prototype.preventDefault=function(){hj.k.preventDefault.call(this);this.ha.preventDefault()};
hj.prototype.stopPropagation=function(){hj.k.stopPropagation.call(this);this.ha.stopPropagation()};function ij(a,b,c,d){hj.call(this,a,b,c.ha,d);this.Fc=c}F(ij,hj);function jj(a){T.call(this);this.c=a;this.Cd=0;this.Sg=!1;this.We=this.Sf=this.pc=null;a=this.c.S;this.ki=0;this.di={};this.od=new $i(a);this.Qb=null;this.Sf=O(this.od,Li,this.Zl,!1,this);this.Lh=O(this.od,ej,this.sn,!1,this)}F(jj,T);
function kj(a,b){var c;c=new ij(lj,a.c,b);a.dispatchEvent(c);0!==a.Cd?(m.clearTimeout(a.Cd),a.Cd=0,c=new ij(mj,a.c,b),a.dispatchEvent(c)):a.Cd=m.setTimeout(E(function(){this.Cd=0;var a=new ij(nj,this.c,b);this.dispatchEvent(a)},a),250)}function oj(a,b){b.type==pj||b.type==qj?delete a.di[b.pointerId]:b.type==rj&&(a.di[b.pointerId]=!0);a.ki=$a(a.di)}h=jj.prototype;
h.gj=function(a){oj(this,a);var b=new ij(pj,this.c,a);this.dispatchEvent(b);0===this.ki&&(G(this.pc,P),this.pc=null,sc(this.Qb),this.Qb=null);!this.Sg&&0===a.button&&kj(this,this.We)};h.Zl=function(a){oj(this,a);var b=new ij(rj,this.c,a);this.dispatchEvent(b);this.We=a;this.Sg=!1;null===this.pc&&(this.Qb=new $i(document),this.pc=[O(this.Qb,sj,this.$l,!1,this),O(this.Qb,pj,this.gj,!1,this),O(this.od,qj,this.gj,!1,this)])};
h.$l=function(a){if(a.clientX!=this.We.clientX||a.clientY!=this.We.clientY){this.Sg=!0;var b=new ij(tj,this.c,a);this.dispatchEvent(b)}a.preventDefault()};h.sn=function(a){this.dispatchEvent(new ij(a.type,this.c,a))};h.d=function(){null!==this.Lh&&(P(this.Lh),this.Lh=null);null!==this.Sf&&(P(this.Sf),this.Sf=null);null!==this.pc&&(G(this.pc,P),this.pc=null);null!==this.Qb&&(sc(this.Qb),this.Qb=null);null!==this.od&&(sc(this.od),this.od=null);jj.k.d.call(this)};
var nj="singleclick",lj="click",mj="dblclick",tj="pointerdrag",sj="pointermove",rj="pointerdown",pj="pointerup",qj="pointercancel",uj={Eo:nj,so:lj,to:mj,xo:tj,Ao:sj,wo:rj,Do:pj,Co:"pointerover",Bo:"pointerout",yo:"pointerenter",zo:"pointerleave",vo:qj};function vj(a,b,c,d){return t(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function wj(a,b,c){return a+"/"+b+"/"+c}function xj(a){return wj(a[0],a[1],a[2])};function yj(a,b,c,d){this.s=a;this.O=b;this.D=c;this.C=d}function zj(a,b,c,d,e){return t(e)?(e.s=a,e.O=b,e.D=c,e.C=d,e):new yj(a,b,c,d)}h=yj.prototype;h.contains=function(a){return this.Gd(a[1],a[2])};function Aj(a,b){return a.s<=b.s&&b.O<=a.O&&a.D<=b.D&&b.C<=a.C}h.Gd=function(a,b){return this.s<=a&&a<=this.O&&this.D<=b&&b<=this.C};h.Ki=function(a){return this.s==a.s&&this.D==a.D&&this.O==a.O&&this.C==a.C};
h.extend=function(a){a.s<this.s&&(this.s=a.s);a.O>this.O&&(this.O=a.O);a.D<this.D&&(this.D=a.D);a.C>this.C&&(this.C=a.C)};h.ff=function(){return this.C-this.D+1};h.Y=function(){return[this.Ja(),this.ff()]};h.Ja=function(){return this.O-this.s+1};h.vj=function(a){return this.s<=a.O&&this.O>=a.s&&this.D<=a.C&&this.C>=a.D};function Bj(a){this.hj=a.html;this.ig=t(a.tileRanges)?a.tileRanges:null};function Cj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return Dj(c,d,e,f,void 0)}function Ej(a,b){return t(void 0)?void 0:[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Fj(a){return t(void 0)?void 0:a.slice()}function Gj(){return[Infinity,Infinity,-Infinity,-Infinity]}function Dj(a,b,c,d,e){return t(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}
function Hj(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])}function Ij(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Jj(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=Kj(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function Lj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,k;for(f=0;4>f;++f)g=e[f],k=d[f],e[f]=a[0]+g*b-k*c,d[f]=a[1]+g*c+k*b;return Cj(e,d)}function Mj(a,b){var c=t(void 0)?void 0:Gj();Nj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function Kj(a){return[a[0],a[3]]}function Nj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}
function Oj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function Pj(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return Cj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Qj(a){this.radius=a}Qj.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Rj={};Rj.degrees=2*Math.PI*(new Qj(6370997)).radius/360;Rj.ft=.3048;Rj.m=1;function Sj(a){this.Dd=a.code;this.Qk=a.units;this.j=t(a.extent)?a.extent:null;this.Hi=null}Sj.prototype.r=function(){return this.j};Sj.prototype.uk=function(a){this.j=a};var Tj={},Uj={};function Vj(a){Wj(a);G(a,function(b){G(a,function(a){b!==a&&Xj(b,a,Yj)})})}function Zj(a){Tj[a.Dd]=a;Xj(a,a,Yj)}function Wj(a){var b=[];G(a,function(a){b.push(Zj(a))})}function ak(a){return null!=a?z(a)?bk(a):a:bk("EPSG:3857")}
function Xj(a,b,c){a=a.Dd;b=b.Dd;a in Uj||(Uj[a]={});Uj[a][b]=c}function bk(a){return a instanceof Sj?a:z(a)?Tj[a]:null}function ck(a,b){var c=bk(a),d=bk(b);return dk(c,d)}function dk(a,b){var c=a.Dd,d=b.Dd,e;c in Uj&&d in Uj[c]&&(e=Uj[c][d]);t(e)||(e=ek);return e}function ek(a,b){if(t(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Yj(a,b){var c;if(t(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function fk(a){var b=ck("EPSG:4326","EPSG:3857");return Pj(a,b)};function gk(a){Th.call(this);this.rd=bk(a.projection);this.Eg=t(a.attributions)?a.attributions:null;this.vm=a.logo;this.b=t(a.state)?a.state:"ready"}F(gk,Th);gk.prototype.M=function(){return this.b};function X(a){Xh.call(this);var b=fb(a);b.brightness=t(a.brightness)?a.brightness:0;b.contrast=t(a.contrast)?a.contrast:1;b.hue=t(a.hue)?a.hue:0;b.opacity=t(a.opacity)?a.opacity:1;b.saturation=t(a.saturation)?a.saturation:1;b.visible=t(a.visible)?a.visible:!0;b.maxResolution=t(a.maxResolution)?a.maxResolution:Infinity;b.minResolution=t(a.minResolution)?a.minResolution:0;this.xe(b)}F(X,Xh);X.prototype.Si=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.Si;
X.prototype.Ti=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.Ti;X.prototype.Ui=function(){return this.get("hue")};X.prototype.getHue=X.prototype.Ui;
function hk(a){var b=a.Si(),c=a.Ti(),d=a.Ui(),e=a.$d(),f=a.$i(),g=a.aj(),k=a.jh(),l=a.r(),n=a.Vi(),q=a.Wi();return{layer:a,brightness:t(b)?rb(b,-1,1):0,contrast:t(c)?Math.max(c,0):1,hue:t(d)?d:0,opacity:t(e)?rb(e,0,1):1,saturation:t(f)?Math.max(f,0):1,Zh:g,visible:t(k)?!!k:!0,extent:l,maxResolution:t(n)?n:Infinity,minResolution:t(q)?Math.max(q,0):0}}X.prototype.r=function(){return this.get("extent")};X.prototype.getExtent=X.prototype.r;X.prototype.Vi=function(){return this.get("maxResolution")};
X.prototype.getMaxResolution=X.prototype.Vi;X.prototype.Wi=function(){return this.get("minResolution")};X.prototype.getMinResolution=X.prototype.Wi;X.prototype.$d=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.$d;X.prototype.$i=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.$i;X.prototype.jh=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.jh;X.prototype.Dn=function(a){this.set("brightness",a)};
X.prototype.setBrightness=X.prototype.Dn;X.prototype.En=function(a){this.set("contrast",a)};X.prototype.setContrast=X.prototype.En;X.prototype.Fn=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.Fn;X.prototype.uk=function(a){this.set("extent",a)};X.prototype.setExtent=X.prototype.uk;X.prototype.Hn=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.Hn;X.prototype.In=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.In;
X.prototype.Jn=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.Jn;X.prototype.Ln=function(a){this.set("saturation",a)};X.prototype.setSaturation=X.prototype.Ln;X.prototype.On=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.On;function ik(a){var b=fb(a);delete b.source;X.call(this,b);this.dg=null;O(this,ai("source"),this.hm,!1,this);this.yk(t(a.source)?a.source:null)}F(ik,X);ik.prototype.gh=function(a){a=t(a)?a:[];a.push(hk(this));return a};ik.prototype.Eb=function(){var a=this.get("source");return t(a)?a:null};ik.prototype.getSource=ik.prototype.Eb;ik.prototype.aj=function(){var a=this.Eb();return null===a?"undefined":a.M()};ik.prototype.gm=function(){this.$()};
ik.prototype.hm=function(){null!==this.dg&&(P(this.dg),this.dg=null);var a=this.Eb();null!==a&&(this.dg=O(a,"change",this.gm,!1,this));this.$()};ik.prototype.yk=function(a){this.set("source",a)};ik.prototype.setSource=ik.prototype.yk;function jk(a,b){T.call(this);this.t=a;this.state=b}F(jk,T);jk.prototype.$=function(){this.dispatchEvent("change")};jk.prototype.getKey=function(){return D(this).toString()};jk.prototype.M=function(){return this.state};function kk(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function lk(a){this.minZoom=t(a.minZoom)?a.minZoom:0;this.vd=a.resolutions;this.maxZoom=this.vd.length-1;this.Kb=t(a.origin)?a.origin:null;this.$j=null;t(a.origins)&&(this.$j=a.origins);this.bi=null;t(a.tileSizes)&&(this.bi=a.tileSizes);this.Hk=t(a.tileSize)?a.tileSize:null===this.bi?256:void 0}var mk=[0,0,0];h=lk.prototype;h.Ng=function(){return nb};h.$e=function(a,b,c,d,e){e=nk(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,ok(this,e,a,d)))return!0;--a}return!1};
h.Db=function(a){return null===this.Kb?this.$j[a]:this.Kb};h.o=function(a){return this.vd[a]};h.kf=function(a,b,c){return a[0]<this.maxZoom?(c=nk(this,a,c),ok(this,c,a[0]+1,b)):null};function pk(a,b,c,d){qk(a,b[0],b[1],c,!1,mk);var e=mk[1],f=mk[2];qk(a,b[2],b[3],c,!0,mk);return zj(e,mk[1],f,mk[2],d)}function ok(a,b,c,d){c=a.o(c);return pk(a,b,c,d)}function rk(a,b){var c=a.Db(b[0]),d=a.o(b[0]),e=sk(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function nk(a,b,c){var d=a.Db(b[0]),e=a.o(b[0]);a=sk(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return Dj(f,b,f+a*e,b+a*e,c)}function qk(a,b,c,d,e,f){var g=kk(a.vd,d,0),k=d/a.o(g),l=a.Db(g);a=sk(a,g);b=k*(b-l[0])/(d*a);c=k*(c-l[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return vj(g,b,c,f)}function tk(a,b,c){c=a.o(c);return qk(a,b[0],b[1],c,!1,void 0)}function sk(a,b){return t(a.Hk)?a.Hk:a.bi[b]}
function uk(a,b,c){b=t(b)?b:42;c=t(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function vk(a){a=bk(a);var b=a.r();null===b&&(a=180*Rj.degrees/Rj[a.Qk],b=Dj(-a,-a,a,a));return b};function wk(a){gk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.an=t(a.opaque)?a.opaque:!1;this.Yn=t(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=t(a.tileGrid)?a.tileGrid:null}F(wk,gk);wk.prototype.lc=lb;wk.prototype.dh=function(a,b,c,d){var e=!0,f,g,k,l;for(k=d.s;k<=d.O;++k)for(l=d.D;l<=d.C;++l)g=this.Xd(c,k,l),a[c]&&a[c][g]||(f=b(c,k,l),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};wk.prototype.Xd=wj;
function xk(a,b){var c;if(null===a.tileGrid){if(c=b.Hi,null===c){c=vk(b);var d=t(void 0)?void 0:256,e=t(void 0)?void 0:"bottom-left",f=uk(c,void 0,d);c=new lk({origin:Jj(c,e),resolutions:f,tileSize:d});b.Hi=c}}else c=a.tileGrid;return c}function yk(a,b,c){return sk(xk(a,c),b)*a.Yn}wk.prototype.fi=da;function zk(a,b){oc.call(this);this.Kf=a;this.fe=b}F(zk,oc);zk.prototype.aa=function(){return this.Kf.aa()};function Ak(a,b){b.lc()&&a.postRenderFunctions.push(pa(function(a,b,e){b=D(a).toString();a.Sd(e.usedTiles[b])},b))}function Bk(a,b){var c=b.vm;t(c)&&(z(c)?a.logos[c]="":ka(c)&&(a.logos[c.src]=c.href))}function Ck(a,b,c,d){b=D(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function Dk(a,b,c,d){return function(e,f,g){e=b.sc(e,f,g,c,d);return a(e)?e:null}}function Ek(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function Fk(a,b,c,d,e,f,g,k,l,n){var q=D(b).toString();q in a.wantedTiles||(a.wantedTiles[q]={});var p=a.wantedTiles[q];a=a.tileQueue;var x=c.minZoom,v,w,r,y,u,s;t(k)||(k=0);for(s=g;s>=x;--s)for(w=ok(c,f,s,w),r=c.o(s),y=w.s;y<=w.O;++y)for(u=w.D;u<=w.C;++u)g-s<=k?(v=b.sc(s,y,u,d,e),0==v.M()&&(p[xj(v.t)]=!0,v.getKey()in a.sd||Gk(a,[v,q,rk(c,v.t),r])),t(l)&&l.call(n,v)):b.fi(s,y,u)};function Hk(){this.kc={};this.Qe=0;this.Cm=32}ea(Hk);Hk.prototype.clear=function(){this.kc={};this.Qe=0};Hk.prototype.get=function(a,b){var c=b+":"+a;return c in this.kc?this.kc[c]:null};Hk.prototype.set=function(a,b,c){this.kc[b+":"+a]=c;++this.Qe};function Ik(a,b,c,d,e,f,g,k){Nh(a);0===b&&0===c||Ph(a,b,c);1==d&&1==e||Qh(a,d,e);0!==f&&Rh(a,f);0===g&&0===k||Ph(a,g,k);return a}function Jk(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function Kk(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function Lk(a,b){oc.call(this);this.c=b;this.Na={}}F(Lk,oc);
function Mk(a){var b=a.viewState,c=a.coordinateToPixelMatrix;Ik(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],l=c[6],n=c[7],q=c[8],p=c[9],x=c[10],v=c[11],w=c[12],r=c[13],y=c[14],c=c[15],u=b*k-d*g,s=b*l-e*g,A=b*n-f*g,C=d*l-e*k,B=d*n-f*k,H=e*n-f*l,R=q*r-p*w,J=q*y-x*w,ba=q*c-v*w,W=p*y-x*r,I=p*c-v*r,S=x*c-v*y,Q=u*S-s*I+A*W+C*ba-B*J+H*R;0!=Q&&(Q=1/Q,a[0]=(k*S-l*I+n*W)*Q,a[1]=(-d*
S+e*I-f*W)*Q,a[2]=(r*H-y*B+c*C)*Q,a[3]=(-p*H+x*B-v*C)*Q,a[4]=(-g*S+l*ba-n*J)*Q,a[5]=(b*S-e*ba+f*J)*Q,a[6]=(-w*H+y*A-c*s)*Q,a[7]=(q*H-x*A+v*s)*Q,a[8]=(g*I-k*ba+n*R)*Q,a[9]=(-b*I+d*ba-f*R)*Q,a[10]=(w*B-r*A+c*u)*Q,a[11]=(-q*B+p*A-v*u)*Q,a[12]=(-g*W+k*J-l*R)*Q,a[13]=(b*W-d*J+e*R)*Q,a[14]=(-w*C+r*s-y*u)*Q,a[15]=(q*C-p*s+x*u)*Q)}h=Lk.prototype;h.Ve=function(a){return new zk(this,a)};h.d=function(){Ya(this.Na,sc);Lk.k.d.call(this)};
function Nk(){var a=Hk.ta();if(a.Qe>a.Cm){var b=0,c,d;for(c in a.kc){d=a.kc[c];var e;if(e=0===(b++&3))Dc(d)?d=d.Ka(void 0,void 0):(d=Pc(d),d=!!d&&d.Ka(void 0,void 0)),e=!d;e&&(delete a.kc[c],--a.Qe)}}}function Ok(a,b){var c=D(b).toString();if(c in a.Na)return a.Na[c];var d=a.Ve(b);return a.Na[c]=d}h.aa=function(){return this.c};h.Xf=da;h.un=function(a,b){for(var c in this.Na)if(!(null!==b&&c in b.layerStates)){var d=this.Na[c];delete this.Na[c];sc(d)}};
function Pk(a,b){for(var c in a.Na)if(!(c in b.layerStates)){b.postRenderFunctions.push(E(a.un,a));break}};function Qk(a,b){this.dk=a;this.xh=b;this.bb=[];this.qd=[];this.sd={}}Qk.prototype.clear=function(){this.bb.length=0;this.qd.length=0;db(this.sd)};function Rk(a){var b=a.bb,c=a.qd,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Sk(a,0));b=a.xh(d);delete a.sd[b];return d}function Gk(a,b){var c=a.dk(b);Infinity!=c&&(a.bb.push(b),a.qd.push(c),a.sd[a.xh(b)]=!0,Tk(a,0,a.bb.length-1))}Qk.prototype.Sb=function(){return this.bb.length};Qk.prototype.Ma=function(){return 0===this.bb.length};
function Sk(a,b){for(var c=a.bb,d=a.qd,e=c.length,f=c[b],g=d[b],k=b;b<e>>1;){var l=2*b+1,n=2*b+2,l=n<e&&d[n]<d[l]?n:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;Tk(a,k,b)}function Tk(a,b,c){var d=a.bb;a=a.qd;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Uk(a){var b=a.dk,c=a.bb,d=a.qd,e=0,f=c.length,g,k,l;for(k=0;k<f;++k)g=c[k],l=b(g),Infinity==l?delete a.sd[a.xh(g)]:(d[e]=l,c[e++]=g);c.length=e;d.length=e;for(b=(a.bb.length>>1)-1;0<=b;b--)Sk(a,b)};function Vk(a,b){Qk.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Wn=b;this.De=0}F(Vk,Qk);Vk.prototype.jm=function(){--this.De;this.Wn()};function Wk(a){return function(b){if(t(b))return[rb(b[0],a[0],a[2]),rb(b[1],a[1],a[3])]}}function Xk(a){return a};function Yk(a){return function(b,c,d){if(t(b))return b=kk(a,b,d),b=rb(b+c,0,a.length-1),a[b]}}function Zk(a,b,c){return function(d,e,f){if(t(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),t(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function $k(a){if(t(a))return 0}function al(a,b){if(t(a))return a+b}function bl(a){var b=2*Math.PI/a;return function(a,d){if(t(a))return a=Math.floor((a+d)/b+.5)*b}}function cl(){var a=5*Math.PI/180;return function(b,c){if(t(b))return Math.abs(b+c)<=a?0:b+c}};function dl(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Y(a){Xh.call(this);a=t(a)?a:{};this.ph=[0,0];var b={};b.center=t(a.center)?a.center:null;this.rd=ak(a.projection);var c,d,e,f=t(a.minZoom)?a.minZoom:0;c=t(a.maxZoom)?a.maxZoom:28;var g=t(a.zoomFactor)?a.zoomFactor:2;if(t(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Yk(c);else{d=ak(a.projection);e=d.r();var k=(null===e?360*Rj.degrees/Rj[d.Qk]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),l=k/Math.pow(2,28);d=a.maxResolution;t(d)?f=0:d=k/Math.pow(g,f);e=a.minResolution;t(e)||
(e=t(a.maxZoom)?t(a.maxResolution)?d/Math.pow(g,c):k/Math.pow(g,c):l);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=Zk(g,d,c-f)}this.Fh=d;this.Em=e;this.Gh=f;f=t(a.extent)?Wk(a.extent):Xk;(t(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=t(d)&&!0!==d?!1===d?al:ia(d)?bl(d):al:cl()):d=$k;this.Fd=new dl(f,c,d);t(a.resolution)?b.resolution=a.resolution:t(a.zoom)&&(b.resolution=this.constrainResolution(this.Fh,a.zoom-this.Gh));b.rotation=t(a.rotation)?a.rotation:0;this.xe(b)}
F(Y,Xh);Y.prototype.constrainResolution=function(a,b,c){return this.Fd.resolution(a,b||0,c||0)};Y.prototype.constrainRotation=function(a,b){return this.Fd.rotation(a,b||0)};Y.prototype.sa=function(){return this.get("center")};Y.prototype.getCenter=Y.prototype.sa;Y.prototype.o=function(){return this.get("resolution")};Y.prototype.getResolution=Y.prototype.o;Y.prototype.Ia=function(){return this.get("rotation")};Y.prototype.getRotation=Y.prototype.Ia;
Y.prototype.M=function(){var a=this.sa(),b=this.rd,c=this.o(),d=this.Ia();return{center:a.slice(),projection:t(b)?b:null,resolution:c,rotation:t(d)?d:0}};function el(a){var b,c=a.o();if(t(c)){var d,e=0;do{d=a.constrainResolution(a.Fh,e);if(d==c){b=e;break}++e}while(d>a.Em)}return t(b)?a.Gh+b:b}function fl(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.qb(Ij(b)),b=Math.max((b[2]-b[0])/c[0],(b[3]-b[1])/c[1]),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.Lc(c))}
Y.prototype.uh=function(){return null!=this.sa()&&t(this.o())};Y.prototype.rotate=function(a,b){if(t(b)){var c,d=this.sa();t(d)&&(c=[d[0]-b[0],d[1]-b[1]],hi(c,a-this.Ia()),gi(c,b));this.qb(c)}this.Th(a)};Y.prototype.qb=function(a){this.set("center",a)};Y.prototype.setCenter=Y.prototype.qb;function gl(a,b){a.ph[1]+=b}Y.prototype.Lc=function(a){this.set("resolution",a)};Y.prototype.setResolution=Y.prototype.Lc;Y.prototype.Th=function(a){this.set("rotation",a)};Y.prototype.setRotation=Y.prototype.Th;function hl(a){Xh.call(this);this.element=t(a.element)?a.element:null;this.L=t(a.target)?V(a.target):null;this.c=null;this.Gf=[]}F(hl,Xh);hl.prototype.d=function(){ze(this.element);hl.k.d.call(this)};hl.prototype.aa=function(){return this.c};hl.prototype.dd=da;
hl.prototype.setMap=function(a){null===this.c||ze(this.element);0!=this.Gf.length&&(G(this.Gf,P),this.Gf.length=0);this.c=a;null!==this.c&&((null===this.L?a.Pf:this.L).appendChild(this.element),this.dd!==da&&this.Gf.push(O(a,"postrender",this.dd,!1,this)),a.render())};function il(a){a=t(a)?a:{};this.pg=ue("UL");this.Hf=ue("LI");this.pg.appendChild(this.Hf);bf(this.Hf,!1);this.Xc=t(a.collapsed)?a.collapsed:!0;this.Te=t(a.collapsible)?a.collapsible:!0;this.Te||(this.Xc=!1);var b=t(a.className)?a.className:"ol-attribution",c=t(a.tipLabel)?a.tipLabel:"Attributions";this.wi=t(a.collapseLabel)?a.collapseLabel:"\u00bb";this.yc=t(a.label)?a.label:"i";this.zj=qe("SPAN",{},this.Te&&!this.Xc?this.wi:this.yc);c=qe("BUTTON",{type:"button",title:c},this.zj);O(c,"click",this.Fb,
!1,this);O(c,["mouseout",xc],function(){this.blur()},!1);b=qe("DIV",b+" ol-unselectable ol-control"+(this.Xc&&this.Te?" ol-collapsed":"")+(this.Te?"":" ol-uncollapsible"),this.pg,c);hl.call(this,{element:b,target:a.target});this.H=!0;this.ic={};this.Pb={};this.um={}}F(il,hl);
il.prototype.dd=function(a){a=a.frameState;if(null===a)this.H&&(bf(this.element,!1),this.H=!1);else{var b,c,d,e,f,g,k,l,n,q=a.layerStatesArray,p=fb(a.attributions),x={};c=0;for(b=q.length;c<b;c++)if(d=q[c].layer.Eb(),null!==d&&(n=D(d).toString(),l=d.Eg,null!==l))for(d=0,e=l.length;d<e;d++)if(g=l[d],k=D(g).toString(),!(k in p)){f=a.usedTiles[n];var v;if(v=t(f))a:if(null===g.ig)v=!0;else{var w=v=void 0,r=void 0,y=void 0;for(y in f)if(y in g.ig)for(r=f[y],v=0,w=g.ig[y].length;v<w;++v)if(g.ig[y][v].vj(r)){v=
!0;break a}v=!1}v?(k in x&&delete x[k],p[k]=g):x[k]=g}b=[p,x];c=b[0];b=b[1];for(var u in this.ic)u in c?(this.Pb[u]||(bf(this.ic[u],!0),this.Pb[u]=!0),delete c[u]):u in b?(this.Pb[u]&&(bf(this.ic[u],!1),delete this.Pb[u]),delete b[u]):(ze(this.ic[u]),delete this.ic[u],delete this.Pb[u]);for(u in c)n=ue("LI"),n.innerHTML=c[u].hj,this.pg.appendChild(n),this.ic[u]=n,this.Pb[u]=!0;for(u in b)n=ue("LI"),n.innerHTML=b[u].hj,bf(n,!1),this.pg.appendChild(n),this.ic[u]=n;u=!cb(this.Pb)||!cb(a.logos);this.H!=
u&&(bf(this.element,u),this.H=u);u&&cb(this.Pb)?Ne(this.element,"ol-logo-only"):Pe(this.element,"ol-logo-only");var s;a=a.logos;u=this.um;for(s in u)s in a||(ze(u[s]),delete u[s]);for(var A in a)A in u||(s=new Image,s.src=A,c=a[A],""===c?c=s:(c=qe("A",{href:c}),c.appendChild(s)),this.Hf.appendChild(c),u[A]=c);bf(this.Hf,!cb(a))}};il.prototype.Fb=function(a){a.preventDefault();a=this.element;var b=!Me(a,"ol-collapsed");Re(a,"ol-collapsed",b);Ce(this.zj,this.Xc?this.wi:this.yc);this.Xc=!this.Xc};function jl(a){return 1-Math.pow(1-a,3)};function kl(a){return 3*a*a-2*a*a*a}function ll(a){return a};function ml(a){var b=a.source,c=t(a.start)?a.start:qa(),d=b[0],e=b[1],f=t(a.duration)?a.duration:1E3,g=t(a.easing)?a.easing:kl;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),q=d-b.viewState.center[0],p=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*q;b.viewState.center[1]+=n*p;b.viewHints[0]+=1;return!0}return!1}}
function nl(a){var b=t(a.rotation)?a.rotation:0,c=t(a.start)?a.start:qa(),d=t(a.duration)?a.duration:1E3,e=t(a.easing)?a.easing:kl,f=t(a.anchor)?a.anchor:null;return function(a,k){if(k.time<c)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<c+d){var l=1-e((k.time-c)/d),l=(b-k.viewState.rotation)*l;k.animate=!0;k.viewState.rotation+=l;if(null!==f){var n=k.viewState.center;n[0]-=f[0];n[1]-=f[1];hi(n,l);gi(n,f)}k.viewHints[0]+=1;return!0}return!1}}
function ol(a){var b=a.resolution,c=t(a.start)?a.start:qa(),d=t(a.duration)?a.duration:1E3,e=t(a.easing)?a.easing:kl;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var k=1-e((g.time-c)/d),l=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=k*l;g.viewHints[0]+=1;return!0}return!1}};function pl(a){a=t(a)?a:{};var b=t(a.className)?a.className:"ol-rotate";this.yc=qe("SPAN","ol-compass",t(a.label)?a.label:"\u21e7");var c=qe("BUTTON",{"class":b+"-reset",type:"button",title:t(a.tipLabel)?a.tipLabel:"Reset rotation"},this.yc);O(c,"click",pl.prototype.Fb,!1,this);O(c,["mouseout",xc],function(){this.blur()},!1);b=qe("DIV",b+" ol-unselectable ol-control",c);hl.call(this,{element:b,target:a.target});this.pa=t(a.duration)?a.duration:250;this.ni=t(a.autoHide)?a.autoHide:!0;this.ca=void 0;
this.ni&&Ne(this.element,"ol-hidden")}F(pl,hl);pl.prototype.Fb=function(a){a.preventDefault();a=this.aa();var b=a.J();if(null!==b){for(var c=b.Ia();c<-Math.PI;)c+=2*Math.PI;for(;c>Math.PI;)c-=2*Math.PI;t(c)&&(0<this.pa&&a.Wa(nl({rotation:c,duration:this.pa,easing:jl})),b.Th(0))}};
pl.prototype.dd=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.ca){var b="rotate("+180*a/Math.PI+"deg)";this.ni&&Re(this.element,"ol-hidden",0===a);this.yc.style.msTransform=b;this.yc.style.webkitTransform=b;this.yc.style.transform=b}this.ca=a}};function ql(a){a=t(a)?a:{};var b=t(a.className)?a.className:"ol-zoom",c=t(a.delta)?a.delta:1,d=t(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",e=t(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",f=qe("BUTTON",{"class":b+"-in",type:"button",title:t(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"},t(a.zoomInLabel)?a.zoomInLabel:"+");O(f,"click",pa(ql.prototype.Fb,c),!1,this);O(f,["mouseout",xc],function(){this.blur()},!1);d=qe("BUTTON",{"class":b+"-out",type:"button",title:e},d);O(d,"click",pa(ql.prototype.Fb,
-c),!1,this);O(d,["mouseout",xc],function(){this.blur()},!1);b=qe("DIV",b+" ol-unselectable ol-control",f,d);hl.call(this,{element:b,target:a.target});this.pa=t(a.duration)?a.duration:250}F(ql,hl);ql.prototype.Fb=function(a,b){b.preventDefault();var c=this.aa(),d=c.J();if(null!==d){var e=d.o();t(e)&&(0<this.pa&&c.Wa(ol({resolution:e,duration:this.pa,easing:jl})),c=d.constrainResolution(e,a),d.Lc(c))}};function rl(a,b,c){this.Qg=a;this.Of=b;this.kl=c;this.Ba=[];this.jd=this.Bg=0}rl.prototype.update=function(a,b){this.Ba.push(a,b,qa())};rl.prototype.end=function(){if(6>this.Ba.length)return!1;var a=qa()-this.kl,b=this.Ba.length-3;if(this.Ba[b+2]<a)return!1;for(var c=b-3;0<c&&this.Ba[c+2]>a;)c-=3;var a=this.Ba[b+2]-this.Ba[c+2],d=this.Ba[b]-this.Ba[c],b=this.Ba[b+1]-this.Ba[c+1];this.Bg=Math.atan2(b,d);this.jd=Math.sqrt(d*d+b*b)/a;return this.jd>this.Of};
function sl(a,b){var c=a.Qg,d=a.jd,e=a.Of-d,f=tl(a);return ml({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function tl(a){return Math.log(a.Of/a.jd)/a.Qg};function ul(){Xh.call(this);this.c=null;this.setActive(!0)}F(ul,Xh);ul.prototype.Qi=function(){return this.get("active")};ul.prototype.getActive=ul.prototype.Qi;ul.prototype.aa=function(){return this.c};ul.prototype.setActive=function(a){this.set("active",a)};ul.prototype.setActive=ul.prototype.setActive;ul.prototype.setMap=function(a){this.c=a};
function vl(a,b,c,d,e){if(null!=c){var f=b.Ia(),g=b.sa();t(f)&&t(g)&&t(e)&&0<e&&(a.Wa(nl({rotation:f,duration:e,easing:jl})),t(d)&&a.Wa(ml({source:g,duration:e,easing:jl})));b.rotate(c,d)}}function wl(a,b,c,d,e){var f=b.o();c=b.constrainResolution(f,c,0);xl(a,b,c,d,e)}
function xl(a,b,c,d,e){if(null!=c){var f=b.o(),g=b.sa();t(f)&&t(g)&&t(e)&&0<e&&(a.Wa(ol({resolution:f,duration:e,easing:jl})),t(d)&&a.Wa(ml({source:g,duration:e,easing:jl})));if(null!=d){var k;a=b.sa();e=b.o();t(a)&&t(e)&&(k=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.qb(k)}b.Lc(c)}};function yl(a){a=t(a)?a:{};this.Ya=t(a.delta)?a.delta:1;ul.call(this);this.pa=t(a.duration)?a.duration:250}F(yl,ul);yl.prototype.handleMapBrowserEvent=function(a){var b=!1,c=a.ha;if(a.type==mj){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Ya:this.Ya,e=b.J();wl(b,e,c,d,this.pa);a.preventDefault();b=!0}return!b};function zl(a){a=a.ha;return a.altKey&&!a.Rf&&a.shiftKey}function Al(a){a=a.ha;return!a.altKey&&!a.Rf&&!a.shiftKey}function Bl(a){a=a.ha;return!a.altKey&&!a.Rf&&a.shiftKey}function Cl(a){a=a.ha.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function Dl(){ul.call(this);this.hd=!1;this.Fe={};this.fa=[]}F(Dl,ul);function El(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}h=Dl.prototype;h.fd=da;h.gd=lb;h.ed=lb;
h.handleMapBrowserEvent=function(a){if(!(a instanceof ij))return!0;var b=!1,c=a.type;if(c===rj||c===tj||c===pj)c=a.Fc,a.type==pj?delete this.Fe[c.pointerId]:a.type==rj?this.Fe[c.pointerId]=c:c.pointerId in this.Fe&&(this.Fe[c.pointerId]=c),this.fa=ab(this.Fe);this.hd&&(a.type==tj?this.fd(a):a.type==pj&&(this.hd=this.gd(a)));a.type==rj&&(this.hd=a=this.ed(a),b=this.zk(a));return!b};h.zk=lb;function Fl(a){Dl.call(this);a=t(a)?a:{};this.Hb=a.kinetic;this.ld=this.de=null;this.Ab=t(a.condition)?a.condition:Al;this.Nj=!1}F(Fl,Dl);Fl.prototype.fd=function(a){var b=El(this.fa);this.Hb&&this.Hb.update(b[0],b[1]);if(null!==this.ld){var c=this.ld[0]-b[0],d=b[1]-this.ld[1];a=a.map;var e=a.J(),f=e.M(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;hi(c,f.rotation);gi(c,f.center);c=e.Fd.center(c);a.render();e.qb(c)}this.ld=b};
Fl.prototype.gd=function(a){a=a.map;var b=a.J();if(0===this.fa.length){if(!this.Nj&&this.Hb&&this.Hb.end()){var c;c=this.Hb;c=(c.Of-c.jd)/c.Qg;var d=this.Hb.Bg,e=b.sa();this.de=sl(this.Hb,e);a.Wa(this.de);e=Gl(a,e);c=a.Ud([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.Fd.center(c);b.qb(c)}gl(b,-1);a.render();return!1}this.ld=null;return!0};
Fl.prototype.ed=function(a){if(0<this.fa.length&&this.Ab(a)){var b=a.map,c=b.J();this.ld=null;this.hd||gl(c,1);b.render();null!==this.de&&Qa(b.Uf,this.de)&&(c.qb(a.frameState.viewState.center),this.de=null);this.Hb&&(a=this.Hb,a.Ba.length=0,a.Bg=0,a.jd=0);this.Nj=1<this.fa.length;return!0}return!1};function Hl(a){a=t(a)?a:{};Dl.call(this);this.Ab=t(a.condition)?a.condition:zl;this.Ib=void 0}F(Hl,Dl);Hl.prototype.fd=function(a){if(1==a.Fc.pointerId){var b=a.map,c=b.Y();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(t(this.Ib)){a=c-this.Ib;var d=b.J(),e=d.M();b.render();vl(b,d,e.rotation-a)}this.Ib=c}};Hl.prototype.gd=function(a){if(1!=a.Fc.pointerId)return!0;a=a.map;var b=a.J();gl(b,-1);var c=b.M().rotation,c=b.constrainRotation(c,0);vl(a,b,c,void 0,250);return!1};
Hl.prototype.ed=function(a){return 1==a.Fc.pointerId&&Bc(a.ha)&&this.Ab(a)?(a=a.map,gl(a.J(),1),a.render(),this.Ib=void 0,!0):!1};function Il(){Th.call(this);this.extent=void 0;this.Ni=-1}F(Il,Th);Il.prototype.Gd=lb;Il.prototype.transform=function(a,b){var c=ck(a,b);null!==this.A&&(c(this.A,this.A,this.v),this.$());return this};function Jl(a,b,c,d,e,f){var g=e[0],k=e[1],l=e[4],n=e[5],q=e[12];e=e[13];for(var p=t(f)?f:[],x=0;b<c;b+=d){var v=a[b],w=a[b+1];p[x++]=g*v+l*w+q;p[x++]=k*v+n*w+e}t(f)&&p.length!=x&&(p.length=x);return p};function Kl(){Il.call(this);this.ge="XY";this.v=2;this.A=null}F(Kl,Il);function Ll(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Kl.prototype.Gd=lb;
Kl.prototype.r=function(a){if(this.Ni!=this.Qa){for(var b=this.A,c=this.A.length,d=this.v,e=Dj(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,k=b[f],l=b[f+1];g[0]=Math.min(g[0],k);g[1]=Math.min(g[1],l);g[2]=Math.max(g[2],k);g[3]=Math.max(g[3],l)}this.extent=e;this.Ni=this.Qa}b=this.extent;t(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function Ml(a,b,c,d,e,f){for(var g=!1,k=a[c-d],l=a[c-d+1];b<c;b+=d){var n=a[b],q=a[b+1];l>f!=q>f&&e<(n-k)*(f-l)/(q-l)+k&&(g=!g);k=n;l=q}return g}function Nl(a,b,c,d,e){if(0===b.length||!Ml(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(Ml(a,b[f-1],b[f],c,d,e))return!1;return!0};function Ol(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var k=a[b],l=a[b+1],e=e+(k-f)*(l+g),f=k,g=l;return 0<e};function Pl(a,b){Kl.call(this);this.ra=[];this.Oi=-1;this.Pi=null;this.Zj=-1;this.ne=null;if(null===a){var c=this.ra;this.v=Ll("XY");this.ge="XY";this.A=null;this.ra=c}else{a:{var c=b,d=a;if(t(c))d=Ll(c);else{for(c=0;2>c;++c){if(0===d.length){this.ge="XY";this.v=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.ge=c;this.v=d}null===this.A&&(this.A=[]);var c=this.A,d=this.v,e=this.ra,f=0,e=t(e)?e:[],g=0,k,l;k=0;for(l=a.length;k<l;++k){var n;n=c;for(var q=a[k],p=d,x=void 0,
v=void 0,x=0,v=q.length;x<v;++x){var w=q[x],r;for(r=0;r<p;++r)n[f++]=w[r]}n=f;f=e[g++]=n}e.length=g;this.A.length=0===e.length?0:e[e.length-1]}this.$()}F(Pl,Kl);Pl.prototype.clone=function(){var a=new Pl(null),b=this.ge,c=this.A.slice(),d=this.ra.slice();a.v=Ll(b);a.ge=b;a.A=c;a.ra=d;a.$();return a};Pl.prototype.Gd=function(a,b){return Nl(Ql(this),this.ra,this.v,a,b)};
function Ql(a){if(a.Zj!=a.Qa){var b=a.A,c;a:{c=a.ra;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=Ol(b,d,g,a.v);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.ne=b;else{a.ne=b.slice();c=b=a.ne;e=a.ra;f=a.v;for(var k=0,g=0,d=e.length;g<d;++g){var l=e[g],n=Ol(c,k,l,f);if(0===g?!n:n)for(var n=c,q=l,p=f;k<q-p;){var x;for(x=0;x<p;++x){var v=n[k+x];n[k+x]=n[q-p+x];n[q-p+x]=v}k+=p;q-=p}k=l}b.length=k}a.Zj=a.Qa}return a.ne}Pl.prototype.Ub=function(){return"Polygon"};function Rl(a,b,c,d,e,f,g){tc.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}F(Rl,tc);function Sl(a){this.cf=this.Ye=this.Ra=this.Tf=this.c=null;this.Rn=a}F(Sl,oc);function Tl(a){var b=a.Ra,c=a.Ye;a=Ma([b,[b[0],c[1]],c,[c[0],b[1]]],a.c.Ud,a.c);a[4]=a[0].slice();return new Pl([a])}Sl.prototype.d=function(){this.setMap(null)};Sl.prototype.Wl=function(a){var b=this.cf,c=this.Rn;a.vectorContext.Ji(Infinity,function(a){a.cg(c.bh,c.$h);a.Wh(c.V);a.Xe(b,null)})};Sl.prototype.fh=function(){return this.cf};function Ul(a){null===a.c||null===a.Ra||null===a.Ye||a.c.render()}
Sl.prototype.setMap=function(a){null!==this.Tf&&(P(this.Tf),this.Tf=null,this.c.render(),this.c=null);this.c=a;null!==this.c&&(this.Tf=O(a,"postcompose",this.Wl,!1,this),Ul(this))};function Vl(a,b){tc.call(this,a);this.coordinate=b}F(Vl,tc);function Wl(a){Dl.call(this);a=t(a)?a:{};this.zd=new Sl(t(a.style)?a.style:null);this.Ra=null;this.Ab=t(a.condition)?a.condition:mb}F(Wl,Dl);h=Wl.prototype;h.fd=function(a){if(1==a.Fc.pointerId){var b=this.zd;a=a.pixel;b.Ra=this.Ra;b.Ye=a;b.cf=Tl(b);Ul(b)}};h.fh=function(){return this.zd.fh()};h.Oj=da;
h.gd=function(a){if(1!=a.Fc.pointerId)return!0;this.zd.setMap(null);var b=a.pixel[0]-this.Ra[0],c=a.pixel[1]-this.Ra[1];64<=b*b+c*c&&(this.Oj(a),this.dispatchEvent(new Vl("boxend",a.coordinate)));return!1};h.ed=function(a){if(1==a.Fc.pointerId&&Bc(a.ha)&&this.Ab(a)){this.Ra=a.pixel;this.zd.setMap(a.map);var b=this.zd,c=this.Ra;b.Ra=this.Ra;b.Ye=c;b.cf=Tl(b);Ul(b);this.dispatchEvent(new Vl("boxstart",a.coordinate));return!0}return!1};h.zk=nb;function Xl(a){if(!z(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};function Yl(a){a=t(a)?a:{};this.zb=t(a.color)?a.color:null;this.ie=a.lineCap;this.Dj=t(a.lineDash)?a.lineDash:null;this.je=a.lineJoin;this.me=a.miterLimit;this.Ea=a.width}Yl.prototype.getLineDash=function(){return this.Dj};Yl.prototype.Ja=function(){return this.Ea};Yl.prototype.setLineDash=function(a){this.Dj=a};var Zl=[0,0,0,1],$l=[],am=[0,0,0,1];function bm(a){a=t(a)?a:{};this.bh=t(a.fill)?a.fill:null;this.G=t(a.image)?a.image:null;this.$h=t(a.stroke)?a.stroke:null;this.V=t(a.text)?a.text:null}bm.prototype.ma=function(){return this.G};function cm(a){a=t(a)?a:{};Wl.call(this,{condition:t(a.condition)?a.condition:Bl,style:t(a.style)?a.style:new bm({stroke:new Yl({color:[0,0,255,1]})})})}F(cm,Wl);cm.prototype.Oj=function(){var a=this.aa(),b=a.J(),c=this.fh().r(),d=Ij(c),e=a.Y(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);xl(a,b,c,d,200)};function dm(a){ul.call(this);a=t(a)?a:{};this.Ab=t(a.condition)?a.condition:qb(Al,Cl);this.dn=t(a.pixelDelta)?a.pixelDelta:128}F(dm,ul);
dm.prototype.handleMapBrowserEvent=function(a){var b=!1;if("key"==a.type){var c=a.ha.keyCode;if(this.Ab(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.J(),e=b.M(),f=e.resolution*this.dn,g=0,k=0;40==c?k=-f:37==c?g=-f:39==c?g=f:k=f;c=[g,k];hi(c,e.rotation);e=b.sa();t(e)&&(t(100)&&d.Wa(ml({source:e,duration:100,easing:ll})),d=b.Fd.center([e[0]+c[0],e[1]+c[1]]),b.qb(d));a.preventDefault();b=!0}}return!b};function em(a){ul.call(this);a=t(a)?a:{};this.Ab=t(a.condition)?a.condition:Cl;this.Ya=t(a.delta)?a.delta:1;this.pa=t(a.duration)?a.duration:100}F(em,ul);em.prototype.handleMapBrowserEvent=function(a){var b=!1;if("key"==a.type){var c=a.ha.charCode;if(this.Ab(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Ya:-this.Ya;b.render();var d=b.J();wl(b,d,c,void 0,this.pa);a.preventDefault();b=!0}}return!b};function fm(a){a=t(a)?a:{};ul.call(this);this.Ya=0;this.pa=t(a.duration)?a.duration:250;this.yh=null;this.gc=this.eg=void 0}F(fm,ul);fm.prototype.handleMapBrowserEvent=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.ha;this.yh=a.coordinate;this.Ya+=c.deltaY;t(this.eg)||(this.eg=qa());c=Math.max(80-(qa()-this.eg),0);m.clearTimeout(this.gc);this.gc=m.setTimeout(E(this.ml,this,b),c);a.preventDefault();b=!0}return!b};
fm.prototype.ml=function(a){var b=rb(this.Ya,-1,1),c=a.J();a.render();wl(a,c,-b,this.yh,this.pa);this.Ya=0;this.yh=null;this.gc=this.eg=void 0};function gm(a){Dl.call(this);a=t(a)?a:{};this.wb=null;this.Ib=void 0;this.re=!1;this.ag=0;this.Tn=t(a.threshold)?a.threshold:.3}F(gm,Dl);gm.prototype.fd=function(a){var b=0,c=this.fa[0],d=this.fa[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);t(this.Ib)&&(b=c-this.Ib,this.ag+=b,!this.re&&Math.abs(this.ag)>this.Tn&&(this.re=!0));this.Ib=c;a=a.map;c=Cg(a.S);d=El(this.fa);d[0]-=c.x;d[1]-=c.y;this.wb=a.Ud(d);this.re&&(c=a.J(),d=c.M(),a.render(),vl(a,c,d.rotation+b,this.wb))};
gm.prototype.gd=function(a){if(2>this.fa.length){a=a.map;var b=a.J();gl(b,-1);if(this.re){var c=b.M().rotation,d=this.wb,c=b.constrainRotation(c,0);vl(a,b,c,d,250)}return!1}return!0};gm.prototype.ed=function(a){return 2<=this.fa.length?(a=a.map,this.wb=null,this.Ib=void 0,this.re=!1,this.ag=0,this.hd||gl(a.J(),1),a.render(),!0):!1};function hm(a){a=t(a)?a:{};Dl.call(this);this.wb=null;this.pa=t(a.duration)?a.duration:400;this.Cf=void 0;this.zh=1}F(hm,Dl);hm.prototype.fd=function(a){var b=1,c=this.fa[0],d=this.fa[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);t(this.Cf)&&(b=this.Cf/e);this.Cf=e;1!=b&&(this.zh=b);a=a.map;var e=a.J(),c=e.M(),d=Cg(a.S),f=El(this.fa);f[0]-=d.x;f[1]-=d.y;this.wb=a.Ud(f);a.render();xl(a,e,c.resolution*b,this.wb)};
hm.prototype.gd=function(a){if(2>this.fa.length){a=a.map;var b=a.J();gl(b,-1);var c=b.M().resolution,d=this.wb,e=this.pa,c=b.constrainResolution(c,0,this.zh-1);xl(a,b,c,d,e);return!1}return!0};hm.prototype.ed=function(a){return 2<=this.fa.length?(a=a.map,this.wb=null,this.Cf=void 0,this.zh=1,this.hd||gl(a.J(),1),a.render(),!0):!1};function im(a){var b=t(a)?a:{};a=fb(b);delete a.layers;b=b.layers;X.call(this,a);this.$b=null;O(this,ai("layers"),this.Sl,!1,this);null!=b?ga(b)&&(b=new ci(Sa(b))):b=new ci;this.vk(b)}F(im,X);h=im.prototype;h.dj=function(){this.jh()&&this.$()};
h.Sl=function(){null!==this.$b&&(G(ab(this.$b),P),this.$b=null);var a=this.Yd();if(null!=a){this.$b={add:O(a,"add",this.Rl,!1,this),remove:O(a,"remove",this.Tl,!1,this)};var a=a.ef(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.$b[D(d).toString()]=O(d,["propertychange","change"],this.dj,!1,this)}this.$()};h.Rl=function(a){a=a.element;this.$b[D(a).toString()]=O(a,["propertychange","change"],this.dj,!1,this);this.$()};h.Tl=function(a){a=D(a.element).toString();P(this.$b[a]);delete this.$b[a];this.$()};
h.Yd=function(){return this.get("layers")};im.prototype.getLayers=im.prototype.Yd;im.prototype.vk=function(a){this.set("layers",a)};im.prototype.setLayers=im.prototype.vk;
im.prototype.gh=function(a){var b=t(a)?a:[],c=b.length;this.Yd().forEach(function(a){a.gh(b)});a=hk(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=rb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),t(a.extent)&&(e.extent=t(e.extent)?Mj(e.extent,a.extent):a.extent);return b};
im.prototype.aj=function(){return"ready"};function jm(a){Sj.call(this,{code:a,units:"m",extent:km,global:!0,worldExtent:lm})}F(jm,Sj);var mm=6378137*Math.PI,km=[-mm,-mm,mm,mm],lm=[-180,-85,180,85],nm=Ma("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new jm(a)});
function om(a,b,c){var d=a.length;c=1<c?c:2;t(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function pm(a,b,c){var d=a.length;c=1<c?c:2;t(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function qm(a,b){Sj.call(this,{code:a,units:"degrees",extent:rm,axisOrientation:b,global:!0,worldExtent:rm})}F(qm,Sj);var rm=[-180,-90,180,90],sm=[new qm("CRS:84"),new qm("EPSG:4326","neu"),new qm("urn:ogc:def:crs:EPSG::4326","neu"),new qm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new qm("urn:ogc:def:crs:OGC:1.3:CRS84"),new qm("urn:ogc:def:crs:OGC:2:84"),new qm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new qm("urn:x-ogc:def:crs:EPSG:4326","neu")];function tm(a){ik.call(this,t(a)?a:{})}F(tm,ik);tm.prototype.hf=function(){return this.get("preload")};tm.prototype.getPreload=tm.prototype.hf;tm.prototype.Kn=function(a){this.set("preload",a)};tm.prototype.setPreload=tm.prototype.Kn;tm.prototype.lf=function(){return this.get("useInterimTilesOnError")};tm.prototype.getUseInterimTilesOnError=tm.prototype.lf;tm.prototype.Mn=function(a){this.set("useInterimTilesOnError",a)};tm.prototype.setUseInterimTilesOnError=tm.prototype.Mn;function um(a,b,c,d,e){this.yb={};this.i=a;this.Lb=b;this.j=c;this.Z=d;this.no=e;this.G=this.W=this.la=this.zi=this.yi=this.xi=null;this.mj=this.lj=this.vf=this.uc=this.rh=this.qh=0;this.nj=!1;this.ce=this.oj=0;this.pj=!1;this.vc=0;this.V="";this.Nc=this.xd=this.gg=this.fg=0;this.Oc=this.sb=this.rb=null;this.Ec=[];this.kg=Ih()}
function vm(a,b,c){if(null!==a.G){b=Jl(b,0,c,2,a.Z,a.Ec);c=a.i;var d=a.kg,e=c.globalAlpha;1!=a.vf&&(c.globalAlpha=e*a.vf);var f=a.oj;a.nj&&(f+=a.no);var g,k;g=0;for(k=b.length;g<k;g+=2){var l=b[g]-a.qh,n=b[g+1]-a.rh;a.pj&&(l=l+.5|0,n=n+.5|0);if(0!==f||1!=a.ce){var q=l+a.qh,p=n+a.rh;Ik(d,q,p,a.ce,a.ce,f,-q,-p);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.G,a.lj,a.mj,a.vc,a.uc,l,n,a.vc,a.uc)}0===f&&1==a.ce||c.setTransform(1,0,0,1,0,0);1!=a.vf&&(c.globalAlpha=e)}}
function wm(a,b,c,d){var e=0;if(null!==a.Oc&&""!==a.V){null===a.rb||xm(a,a.rb);null===a.sb||ym(a,a.sb);var f=a.Oc,g=a.i,k=a.zi;null===k?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.zi={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(k.font!=f.font&&(k.font=g.font=f.font),k.textAlign!=f.textAlign&&(k.textAlign=g.textAlign=f.textAlign),k.textBaseline!=f.textBaseline&&(k.textBaseline=g.textBaseline=f.textBaseline));b=Jl(b,e,c,d,a.Z,a.Ec);for(f=a.i;e<c;e+=d){g=
b[e]+a.fg;k=b[e+1]+a.gg;if(0!==a.xd||1!=a.Nc){var l=Ik(a.kg,g,k,a.Nc,a.Nc,a.xd,-g,-k);f.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}null===a.sb||f.strokeText(a.V,g,k);null===a.rb||f.fillText(a.V,g,k)}0===a.xd&&1==a.Nc||f.setTransform(1,0,0,1,0,0)}}function zm(a,b,c,d,e,f){var g=a.i;a=Jl(b,c,d,e,a.Z,a.Ec);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function Am(a,b,c,d,e){var f=a.i,g,k;g=0;for(k=d.length;g<k;++g)c=zm(a,b,c,d[g],e,!0),f.closePath();return c}h=um.prototype;h.Ji=function(a,b){var c=a.toString(),d=this.yb[c];t(d)?d.push(b):this.yb[c]=[b]};
h.Tg=function(a){if(Nj(this.j,a.r())){if(null!==this.la||null!==this.W){null===this.la||xm(this,this.la);null===this.W||ym(this,this.W);var b;b=a.A;b=null===b?null:Jl(b,0,b.length,a.v,this.Z,this.Ec);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.i;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.la||d.fill();null===this.W||d.stroke()}""!==this.V&&wm(this,a.sa(),2,2)}};h.Ug=function(a,b){var c=a.zl(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];Bm[f.Ub()].call(this,f,b)}};
h.bd=function(a){var b=a.A;a=a.v;null===this.G||vm(this,b,b.length);""!==this.V&&wm(this,b,b.length,a)};h.ad=function(a){var b=a.A;a=a.v;null===this.G||vm(this,b,b.length);""!==this.V&&wm(this,b,b.length,a)};h.Vg=function(a){if(Nj(this.j,a.r())){if(null!==this.W){ym(this,this.W);var b=this.i,c=a.A;b.beginPath();zm(this,c,0,c.length,a.v,!1);b.stroke()}""!==this.V&&(a=a.Ko(),wm(this,a,2,2))}};
h.Wg=function(a){var b=a.r();if(Nj(this.j,b)){if(null!==this.W){ym(this,this.W);var b=this.i,c=a.A,d=0,e=a.ra,f=a.v;b.beginPath();var g,k;g=0;for(k=e.length;g<k;++g)d=zm(this,c,d,e[g],f,!1);b.stroke()}""!==this.V&&(a=a.Lo(),wm(this,a,a.length,2))}};
h.Xe=function(a){if(Nj(this.j,a.r())){if(null!==this.W||null!==this.la){null===this.la||xm(this,this.la);null===this.W||ym(this,this.W);var b=this.i;b.beginPath();Am(this,Ql(a),0,a.ra,a.v);null===this.la||b.fill();null===this.W||b.stroke()}if(""!==this.V){if(a.Oi!=a.Qa){b=Ij(a.r());var c=Ql(a),d=a.ra,e=a.v,f,g,k,l,n,q=b[1],p=[],x=d[0];k=c[x-e];n=c[x-e+1];for(f=0;f<x;f+=e){l=c[f];g=c[f+1];if(q<=n&&g<=q||n<=q&&q<=g)k=(q-n)/(g-n)*(l-k)+k,p.push(k);k=l;n=g}x=NaN;n=-Infinity;p.sort();k=p[0];f=1;for(g=
p.length;f<g;++f){l=p[f];var v=Math.abs(l-k);v>n&&(k=(k+l)/2,Nl(c,d,e,k,q)&&(x=k,n=v));k=l}isNaN(x)&&(x=b[0]);t(void 0)?((void 0).push(x,q),b=void 0):b=[x,q];a.Pi=b;a.Oi=a.Qa}wm(this,a.Pi,2,2)}}};
h.Xg=function(a){if(Nj(this.j,a.r())){if(null!==this.W||null!==this.la){null===this.la||xm(this,this.la);null===this.W||ym(this,this.W);var b=this.i,c=Ql(a),d=0,e=a.xl(),f=a.v,g,k;g=0;for(k=e.length;g<k;++g){var l=e[g];b.beginPath();d=Am(this,c,d,l,f);null===this.la||b.fill();null===this.W||b.stroke()}}""!==this.V&&(a=a.Jo(),wm(this,a,a.length,2))}};h.flush=function(){var a=Ma(bb(this.yb),Number);a.sort(Xa);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.yb[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function xm(a,b){var c=a.i,d=a.xi;null===d?(c.fillStyle=b.fillStyle,a.xi={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function ym(a,b){var c=a.i,d=a.yi;null===d?(c.lineCap=b.lineCap,wi&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.yi={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),wi&&!Va(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
h.cg=function(a,b){if(null===a)this.la=null;else{var c=a.zb;this.la={fillStyle:Xl(null===c?Zl:c)}}if(null===b)this.W=null;else{var c=b.zb,d=b.ie,e=b.getLineDash(),f=b.je,g=b.Ja(),k=b.me;this.W={lineCap:t(d)?d:"round",lineDash:null!=e?e:$l,lineJoin:t(f)?f:"round",lineWidth:this.Lb*(t(g)?g:1),miterLimit:t(k)?k:10,strokeStyle:Xl(null===c?am:c)}}};
h.ve=function(a){if(null===a)this.G=null;else{var b=a.Ri(),c=a.ma(1),d=a.Db(),e=a.Y();this.qh=b[0];this.rh=b[1];this.uc=e[1];this.G=c;this.vf=a.$d();this.lj=d[0];this.mj=d[1];this.nj=a.Zi();this.oj=a.Ia();this.ce=a.jf();this.pj=a.Cl();this.vc=e[0]}};
h.Wh=function(a){if(null===a)this.V="";else{var b=a.bh;null===b?this.rb=null:(b=b.zb,this.rb={fillStyle:Xl(null===b?Zl:b)});var c=a.$h;if(null===c)this.sb=null;else{var b=c.zb,d=c.ie,e=c.getLineDash(),f=c.je,g=c.Ja(),c=c.me;this.sb={lineCap:t(d)?d:"round",lineDash:null!=e?e:$l,lineJoin:t(f)?f:"round",lineWidth:t(g)?g:1,miterLimit:t(c)?c:10,strokeStyle:Xl(null===b?am:b)}}var b=a.yl(),d=a.Al(),e=a.Bl(),f=a.Ia(),g=a.jf(),c=a.V,k=a.Dl();a=a.El();this.Oc={font:t(b)?b:"10px sans-serif",textAlign:t(k)?k:
"center",textBaseline:t(a)?a:"middle"};this.V=t(c)?c:"";this.fg=t(d)?this.Lb*d:0;this.gg=t(e)?this.Lb*e:0;this.xd=t(f)?f:0;this.Nc=this.Lb*(t(g)?g:1)}};var Bm={Point:um.prototype.bd,LineString:um.prototype.Vg,Polygon:um.prototype.Xe,MultiPoint:um.prototype.ad,MultiLineString:um.prototype.Wg,MultiPolygon:um.prototype.Xg,GeometryCollection:um.prototype.Ug,Circle:um.prototype.Tg};var Cm=["Polygon","LineString","Image","Text"];function Dm(a,b,c){this.Zn=a;this.Eh=b;this.bc=0;this.resolution=c;this.Oe=this.Ne=null;this.U=[];this.coordinates=[];this.kk=Ih();this.B=[];this.Ec=[];this.j=Gj();this.kg=Ih()}
function Em(a,b,c,d,e,f){var g=a.coordinates.length,k=a.eh(),l=[b[c],b[c+1]],n=[NaN,NaN],q=!0,p,x,v;for(p=c+e;p<d;p+=e){n[0]=b[p];n[1]=b[p+1];v=k[1];var w=k[2],r=k[3],y=n[0],u=n[1],s=0;y<k[0]?s|=16:y>w&&(s|=4);u<v?s|=8:u>r&&(s|=2);0===s&&(s=1);v=s;v!==x?(q&&(a.coordinates[g++]=l[0],a.coordinates[g++]=l[1]),a.coordinates[g++]=n[0],a.coordinates[g++]=n[1],q=!1):1===v?(a.coordinates[g++]=n[0],a.coordinates[g++]=n[1],q=!1):q=!0;l[0]=n[0];l[1]=n[1];x=v}p===c+e&&(a.coordinates[g++]=l[0],a.coordinates[g++]=
l[1]);f&&(a.coordinates[g++]=b[c],a.coordinates[g++]=b[c+1]);return g}function Fm(a,b,c){a.Ne=[0,b,c,0];a.U.push(a.Ne);a.Oe=[0,b,c,0];a.B.push(a.Oe)}
Dm.prototype.mb=function(a,b,c,d,e){a:{var f=this.U,g;Jk(c,this.kk)?g=this.Ec:(g=Jl(this.coordinates,0,this.coordinates.length,2,c,this.Ec),Mh(this.kk,c));c=0;for(var k=f.length,l=0,n,q=this.kg;c<k;){var p=f[c],x,v,w,r;switch(p[0]){case 0:l=p[2];l=D(l).toString();t(K(e,l))?c=p[3]:++c;break;case 1:a.beginPath();++c;break;case 2:l=p[1];n=g[l];var y=g[l+1],u=g[l+2]-n,l=g[l+3]-y;a.arc(n,y,Math.sqrt(u*u+l*l),0,2*Math.PI,!0);++c;break;case 3:a.closePath();++c;break;case 4:l=p[1];n=p[2];x=p[3];w=p[4]*b;
var s=p[5]*b,A=p[6];v=p[7];var C=p[8],B=p[9],y=p[11],u=p[12],H=p[13],R=p[14];for(p[10]&&(y+=d);l<n;l+=2){p=g[l]-w;r=g[l+1]-s;H&&(p=p+.5|0,r=r+.5|0);if(1!=u||0!==y){var J=p+w,ba=r+s;Ik(q,J,ba,u,u,y,-J,-ba);a.setTransform(q[0],q[1],q[4],q[5],q[12],q[13])}J=a.globalAlpha;1!=v&&(a.globalAlpha=J*v);a.drawImage(x,C,B,R,A,p,r,R*b,A*b);1!=v&&(a.globalAlpha=J);1==u&&0===y||a.setTransform(1,0,0,1,0,0)}++c;break;case 5:l=p[1];n=p[2];w=p[3];s=p[4]*b;A=p[5]*b;y=p[6];u=p[7]*b;x=p[8];for(v=p[9];l<n;l+=2){p=g[l]+
s;r=g[l+1]+A;if(1!=u||0!==y)Ik(q,p,r,u,u,y,-p,-r),a.setTransform(q[0],q[1],q[4],q[5],q[12],q[13]);v&&a.strokeText(w,p,r);x&&a.fillText(w,p,r);1==u&&0===y||a.setTransform(1,0,0,1,0,0)}++c;break;case 6:if(t(void 0)&&(n=p[1],l=p[2],(void 0)(n,l)))break a;++c;break;case 7:a.fill();++c;break;case 8:l=p[1];n=p[2];a.moveTo(g[l],g[l+1]);for(l+=2;l<n;l+=2)a.lineTo(g[l],g[l+1]);++c;break;case 9:a.fillStyle=p[1];++c;break;case 10:l=t(p[7])?p[7]:!0;n=p[2];a.strokeStyle=p[1];a.lineWidth=l?n*b:n;a.lineCap=p[3];
a.lineJoin=p[4];a.miterLimit=p[5];wi&&a.setLineDash(p[6]);++c;break;case 11:a.font=p[1];a.textAlign=p[2];a.textBaseline=p[3];++c;break;case 12:a.stroke();++c;break;default:++c}}}};function Gm(a){var b=a.B;b.reverse();var c,d=b.length,e,f,g=-1;for(c=0;c<d;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){e[3]=c;e=a.B;for(f=c;g<f;){var k=e[g];e[g]=e[f];e[f]=k;++g;--f}g=-1}}function Hm(a,b,c){a.Ne[3]=a.U.length;a.Ne=null;a.Oe[3]=a.B.length;a.Oe=null;b=[6,b,c];a.U.push(b);a.B.push(b)}Dm.prototype.finish=da;
Dm.prototype.eh=function(){return this.Eh};Dm.prototype.r=function(){return this.j};function Im(a,b,c){Dm.call(this,a,b,c);this.G=this.tf=null;this.Ea=this.wd=this.pb=this.ca=this.nb=this.kb=this.jb=this.ib=this.gb=this.Va=this.Ua=void 0}F(Im,Dm);h=Im.prototype;h.Pd=function(a,b,c,d){return Em(this,a,b,c,d,!1)};
h.bd=function(a,b){if(null!==this.G){Hj(this.j,a.r());Fm(this,a,b);var c=a.A,d=this.coordinates.length,c=this.Pd(c,0,c.length,a.v);this.U.push([4,d,c,this.G,this.Ua,this.Va,this.gb,this.ib,this.jb,this.kb,this.nb,this.ca,this.pb,this.wd,this.Ea]);this.B.push([4,d,c,this.tf,this.Ua,this.Va,this.gb,this.ib,this.jb,this.kb,this.nb,this.ca,this.pb,this.wd,this.Ea]);Hm(this,a,b)}};
h.ad=function(a,b){if(null!==this.G){Hj(this.j,a.r());Fm(this,a,b);var c=a.A,d=this.coordinates.length,c=this.Pd(c,0,c.length,a.v);this.U.push([4,d,c,this.G,this.Ua,this.Va,this.gb,this.ib,this.jb,this.kb,this.nb,this.ca,this.pb,this.wd,this.Ea]);this.B.push([4,d,c,this.tf,this.Ua,this.Va,this.gb,this.ib,this.jb,this.kb,this.nb,this.ca,this.pb,this.wd,this.Ea]);Hm(this,a,b)}};
h.finish=function(){Gm(this);this.Va=this.Ua=void 0;this.G=this.tf=null;this.Ea=this.wd=this.ca=this.nb=this.kb=this.jb=this.ib=this.pb=this.gb=void 0};h.ve=function(a){var b=a.Ri(),c=a.Y(),d=a.Mo(1),e=a.ma(1),f=a.Db();this.Ua=b[0];this.Va=b[1];this.tf=d;this.G=e;this.gb=c[1];this.ib=a.$d();this.jb=f[0];this.kb=f[1];this.nb=a.Zi();this.ca=a.Ia();this.pb=a.jf();this.wd=a.Cl();this.Ea=c[0]};
function Jm(a,b,c){Dm.call(this,a,b,c);this.b={Md:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,Ah:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}F(Jm,Dm);function Km(a,b,c,d,e){var f=a.coordinates.length;b=Em(a,b,c,d,e,!1);f=[8,f,b];a.U.push(f);a.B.push(f);return d}h=Jm.prototype;h.eh=function(){var a=this.Eh;this.bc&&(a=Ej(a,this.resolution*(this.bc+1)/2));return a};
function Lm(a){var b=a.b,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,k=b.miterLimit;b.Md==c&&b.Hd==d&&Va(b.Id,e)&&b.Jd==f&&b.Kd==g&&b.Ld==k||(b.Ah!=a.coordinates.length&&(a.U.push([12]),b.Ah=a.coordinates.length),a.U.push([10,c,g,d,f,k,e],[1]),b.Md=c,b.Hd=d,b.Id=e,b.Jd=f,b.Kd=g,b.Ld=k)}
h.Vg=function(a,b){var c=this.b,d=c.lineWidth;t(c.strokeStyle)&&t(d)&&(Hj(this.j,a.r()),Lm(this),Fm(this,a,b),this.B.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.A,Km(this,c,0,c.length,a.v),this.B.push([12]),Hm(this,a,b))};
h.Wg=function(a,b){var c=this.b,d=c.lineWidth;if(t(c.strokeStyle)&&t(d)){Hj(this.j,a.r());Lm(this);Fm(this,a,b);this.B.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var c=a.ra,d=a.A,e=a.v,f=0,g,k;g=0;for(k=c.length;g<k;++g)f=Km(this,d,f,c[g],e);this.B.push([12]);Hm(this,a,b)}};h.finish=function(){this.b.Ah!=this.coordinates.length&&this.U.push([12]);Gm(this);this.b=null};
h.cg=function(a,b){var c=b.zb;this.b.strokeStyle=Xl(null===c?am:c);c=b.ie;this.b.lineCap=t(c)?c:"round";c=b.getLineDash();this.b.lineDash=null===c?$l:c;c=b.je;this.b.lineJoin=t(c)?c:"round";c=b.Ja();this.b.lineWidth=t(c)?c:1;c=b.me;this.b.miterLimit=t(c)?c:10;this.bc=Math.max(this.bc,this.b.lineWidth)};
function Mm(a,b,c){Dm.call(this,a,b,c);this.b={Fi:void 0,Md:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}F(Mm,Dm);
function Nm(a,b,c,d,e){var f=a.b,g=[1];a.U.push(g);a.B.push(g);var k,g=0;for(k=d.length;g<k;++g){var l=d[g],n=a.coordinates.length;c=Em(a,b,c,l,e,!0);c=[8,n,c];n=[3];a.U.push(c,n);a.B.push(c,n);c=l}b=[7];a.B.push(b);t(f.fillStyle)&&a.U.push(b);t(f.strokeStyle)&&(f=[12],a.U.push(f),a.B.push(f));return c}h=Mm.prototype;
h.Tg=function(a,b){var c=this.b,d=c.strokeStyle;if(t(c.fillStyle)||t(d)){Hj(this.j,a.r());Om(this);Fm(this,a,b);this.B.push([9,Xl(Zl)]);t(c.strokeStyle)&&this.B.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e=a.A,d=this.coordinates.length;Em(this,e,0,e.length,a.v,!1);e=[1];d=[2,d];this.U.push(e,d);this.B.push(e,d);d=[7];this.B.push(d);t(c.fillStyle)&&this.U.push(d);t(c.strokeStyle)&&(c=[12],this.U.push(c),this.B.push(c));Hm(this,a,b)}};
h.Xe=function(a,b){var c=this.b,d=c.strokeStyle;if(t(c.fillStyle)||t(d))Hj(this.j,a.r()),Om(this),Fm(this,a,b),this.B.push([9,Xl(Zl)]),t(c.strokeStyle)&&this.B.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.ra,d=Ql(a),Nm(this,d,0,c,a.v),Hm(this,a,b)};
h.Xg=function(a,b){var c=this.b,d=c.strokeStyle;if(t(c.fillStyle)||t(d)){Hj(this.j,a.r());Om(this);Fm(this,a,b);this.B.push([9,Xl(Zl)]);t(c.strokeStyle)&&this.B.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var c=a.xl(),d=Ql(a),e=a.v,f=0,g,k;g=0;for(k=c.length;g<k;++g)f=Nm(this,d,f,c[g],e);Hm(this,a,b)}};h.finish=function(){Gm(this);this.b=null;var a=this.Zn;if(0!==a){var b=this.coordinates,c,d;c=0;for(d=b.length;c<d;++c)b[c]=a*Math.round(b[c]/a)}};
h.eh=function(){var a=this.Eh;this.bc&&(a=Ej(a,this.resolution*(this.bc+1)/2));return a};
h.cg=function(a,b){var c=this.b;if(null===a)c.fillStyle=void 0;else{var d=a.zb;c.fillStyle=Xl(null===d?Zl:d)}null===b?(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0):(d=b.zb,c.strokeStyle=Xl(null===d?am:d),d=b.ie,c.lineCap=t(d)?d:"round",d=b.getLineDash(),c.lineDash=null===d?$l:d.slice(),d=b.je,c.lineJoin=t(d)?d:"round",d=b.Ja(),c.lineWidth=t(d)?d:1,d=b.me,c.miterLimit=t(d)?d:10,this.bc=Math.max(this.bc,c.lineWidth))};
function Om(a){var b=a.b,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineJoin,k=b.lineWidth,l=b.miterLimit;t(c)&&b.Fi!=c&&(a.U.push([9,c]),b.Fi=b.fillStyle);!t(d)||b.Md==d&&b.Hd==e&&b.Id==f&&b.Jd==g&&b.Kd==k&&b.Ld==l||(a.U.push([10,d,k,e,g,l,f]),b.Md=d,b.Hd=e,b.Id=f,b.Jd=g,b.Kd=k,b.Ld=l)}function Pm(a,b,c){Dm.call(this,a,b,c);this.V="";this.Nc=this.xd=this.gg=this.fg=0;this.Oc=this.sb=this.rb=null}F(Pm,Dm);
Pm.prototype.Wh=function(a){if(null===a)this.V="";else{var b=a.bh;null===b?this.rb=null:(b=b.zb,b=Xl(null===b?Zl:b),null===this.rb?this.rb={fillStyle:b}:this.rb.fillStyle=b);var c=a.$h;if(null===c)this.sb=null;else{var b=c.zb,d=c.ie,e=c.getLineDash(),f=c.je,g=c.Ja(),c=c.me,d=t(d)?d:"round",e=null!=e?e.slice():$l,f=t(f)?f:"round",g=t(g)?g:1,c=t(c)?c:10,b=Xl(null===b?am:b);if(null===this.sb)this.sb={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b};else{var k=this.sb;k.lineCap=
d;k.lineDash=e;k.lineJoin=f;k.lineWidth=g;k.miterLimit=c;k.strokeStyle=b}}var l=a.yl(),b=a.Al(),d=a.Bl(),e=a.Ia(),g=a.jf(),c=a.V,f=a.Dl(),k=a.El();a=t(l)?l:"10px sans-serif";f=t(f)?f:"center";k=t(k)?k:"middle";null===this.Oc?this.Oc={font:a,textAlign:f,textBaseline:k}:(l=this.Oc,l.font=a,l.textAlign=f,l.textBaseline=k);this.V=t(c)?c:"";this.fg=t(b)?b:0;this.gg=t(d)?d:0;this.xd=t(e)?e:0;this.Nc=t(g)?g:1}};function Qm(a,b,c){this.ci=a;this.Mf=b;this.ud=c;this.Jc={};oi(1,1);Ih()}
Qm.prototype.finish=function(){for(var a in this.Jc){var b=this.Jc[a],c;for(c in b)b[c].finish()}};Qm.prototype.ih=function(a,b){var c=t(a)?a.toString():"0",d=this.Jc[c];t(d)||(d={},this.Jc[c]=d);c=d[b];t(c)||(c=new Rm[b](this.ci,this.Mf,this.ud),d[b]=c);return c};Qm.prototype.Ma=function(){return cb(this.Jc)};
Qm.prototype.mb=function(a,b,c,d,e,f){var g=Ma(bb(this.Jc),Number);g.sort(Xa);var k=this.Mf,l=k[0],n=k[1],q=k[2],k=k[3],l=Jl([l,n,l,k,q,k,q,n],0,8,2,d);a.save();a.beginPath();a.moveTo(l[0],l[1]);a.lineTo(l[2],l[3]);a.lineTo(l[4],l[5]);a.lineTo(l[6],l[7]);a.closePath();a.clip();for(var p,x,l=0,n=g.length;l<n;++l)for(p=this.Jc[g[l].toString()],q=0,k=Cm.length;q<k;++q)x=p[Cm[q]],t(x)&&Nj(b,x.r())&&x.mb(a,c,d,e,f);a.restore()};var Rm={Image:Im,LineString:Jm,Polygon:Mm,Text:Pm};function Sm(a,b){zk.call(this,a,b);this.Z=Ih()}F(Sm,zk);
Sm.prototype.Ed=function(a,b,c){this.ja("precompose",c,a,void 0);var d=this.ma();if(null!==d){var e=b.extent,f=t(e);if(f){var g=Kj(e),k=[e[2],e[3]],l=[e[2],e[1]],e=[e[0],e[1]];Kk(a.coordinateToPixelMatrix,g,g);Kk(a.coordinateToPixelMatrix,k,k);Kk(a.coordinateToPixelMatrix,l,l);Kk(a.coordinateToPixelMatrix,e,e);c.save();c.beginPath();c.moveTo(g[0],g[1]);c.lineTo(k[0],k[1]);c.lineTo(l[0],l[1]);c.lineTo(e[0],e[1]);c.clip()}g=this.qj;k=c.globalAlpha;c.globalAlpha=b.opacity;0===a.viewState.rotation?(b=
g[13],l=d.width*g[0],e=d.height*g[5],c.drawImage(d,0,0,+d.width,+d.height,Math.round(g[12]),Math.round(b),Math.round(l),Math.round(e))):(c.setTransform(g[0],g[1],g[4],g[5],g[12],g[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0));c.globalAlpha=k;f&&c.restore()}this.ja("postcompose",c,a,void 0)};
Sm.prototype.ja=function(a,b,c,d){var e=this.fe;if(e.Ka(a)){if(!t(d)){d=c.viewState;var f=c.pixelRatio;d=Ik(this.Z,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new um(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new Rl(a,e,d,0,c,b,null));d.flush()}};
var Tm=function(){var a=null,b=null;return function(c){if(null===a){a=oi(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Va(b.data,c.data));return e}}();function Um(a,b){Sm.call(this,a,b);this.Xa=this.e=null;this.Jg=!1;this.i=null;this.qj=Ih();this.ik=NaN;this.Zf=this.Hc=null}F(Um,Sm);Um.prototype.ma=function(){return this.e};
Um.prototype.oe=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.fe,g=f.Eb(),k=xk(g,e),l=kk(k.vd,d.resolution,0),n=yk(g,l,e),q=n/sk(k,l),p=k.o(l),q=p/q,x=d.center,v;p==d.resolution?(x=Ek(x,p,a.size),v=Lj(x,p,d.rotation,a.size)):v=a.extent;t(b.extent)&&(v=Mj(v,b.extent));if(v[2]<v[0]||v[3]<v[1])return!1;var w=pk(k,v,p),r=n*w.Ja(),y=n*w.ff(),u,s;null===this.e?(s=oi(r,y),this.e=s.canvas,this.Xa=[r,y],this.i=s,this.Jg=!Tm(this.Xa)):(u=this.e,s=this.i,this.Xa[0]<r||this.Xa[1]<y||this.Jg&&
(this.Xa[0]>r||this.Xa[1]>y)?(u.width=r,u.height=y,this.Xa=[r,y],this.Jg=!Tm(this.Xa),this.Hc=null):(r=this.Xa[0],y=this.Xa[1],l==this.ik&&Aj(this.Hc,w)||(this.Hc=null)));var A,C;null===this.Hc?(r/=n,y/=n,A=w.s-Math.floor((r-w.Ja())/2),C=w.D-Math.floor((y-w.ff())/2),this.ik=l,this.Hc=new yj(A,A+r-1,C,C+y-1),this.Zf=Array(r*y),y=this.Hc):(y=this.Hc,r=y.Ja());u={};u[l]={};var B=[],H=E(g.dh,g,u,Dk(function(a){return null!==a&&2==a.M()},g,c,e)),R=f.lf();t(R)||(R=!0);var J=Gj(),ba=new yj(0,0,0,0),W,I,
S;for(C=w.s;C<=w.O;++C)for(S=w.D;S<=w.C;++S)I=g.sc(l,C,S,c,e),A=I.M(),2==A||4==A||3==A&&!R?u[l][xj(I.t)]=I:(W=k.$e(I.t,H,null,ba,J),W||(B.push(I),W=k.kf(I.t,ba,J),null===W||H(l+1,W)));H=0;for(W=B.length;H<W;++H)I=B[H],C=n*(I.t[1]-y.s),S=n*(y.C-I.t[2]),s.clearRect(C,S,n,n);B=Ma(bb(u),Number);B.sort(Xa);var Q=g.an,Ba=Kj(nk(k,[l,y.s,y.C],J)),va,ta,gf,Id,Xb,Lh,H=0;for(W=B.length;H<W;++H)if(va=B[H],n=yk(g,va,e),Id=u[va],va==l)for(gf in Id)I=Id[gf],ta=(I.t[2]-y.D)*r+(I.t[1]-y.s),this.Zf[ta]!=I&&(C=n*(I.t[1]-
y.s),S=n*(y.C-I.t[2]),A=I.M(),4!=A&&(3!=A||R)&&Q||s.clearRect(C,S,n,n),2==A&&s.drawImage(I.ma(),0,0,n,n,C,S,n,n),this.Zf[ta]=I);else for(gf in va=k.o(va)/p,Id)for(I=Id[gf],ta=nk(k,I.t,J),C=(ta[0]-Ba[0])/q,S=(Ba[1]-ta[3])/q,Lh=va*n,Xb=va*n,A=I.M(),4!=A&&Q||s.clearRect(C,S,Lh,Xb),2==A&&s.drawImage(I.ma(),0,0,n,n,C,S,Lh,Xb),I=ok(k,ta,l,ba),A=Math.max(I.s,y.s),S=Math.min(I.O,y.O),C=Math.max(I.D,y.D),I=Math.min(I.C,y.C);A<=S;++A)for(Xb=C;Xb<=I;++Xb)ta=(Xb-y.D)*r+(A-y.s),this.Zf[ta]=void 0;Ck(a.usedTiles,
g,l,w);Fk(a,g,k,c,e,v,l,f.hf());Ak(a,g);Bk(a,g);Ik(this.qj,c*a.size[0]/2,c*a.size[1]/2,c*q/d.resolution,c*q/d.resolution,d.rotation,(Ba[0]-x[0])/q,(x[1]-Ba[1])/q);return!0};function Vm(a,b){Lk.call(this,0,b);this.i=oi();this.e=this.i.canvas;this.e.style.width="100%";this.e.style.height="100%";this.e.className="ol-unselectable";ye(a,this.e,0);this.H=!0;this.Z=Ih()}F(Vm,Lk);Vm.prototype.Ve=function(a){return a instanceof tm?new Um(this,a):null};
Vm.prototype.ja=function(a,b){var c=this.aa(),d=this.i;if(c.Ka(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,k=g.resolution,l=g.rotation;Ik(this.Z,this.e.width/2,this.e.height/2,f/k,-f/k,-l,-g.center[0],-g.center[1]);g=new Qm(.5*k/f,e,k);k=new um(d,f,e,this.Z,l);c.dispatchEvent(new Rl(a,c,k,0,b,d,null));g.finish();g.Ma()||g.mb(d,e,f,this.Z,l,{});k.flush()}};Vm.prototype.Ub=function(){return"canvas"};
Vm.prototype.Xf=function(a){if(null===a)this.H&&(bf(this.e,!1),this.H=!1);else{var b=this.i,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.e.width!=c||this.e.height!=d?(this.e.width=c,this.e.height=d):b.clearRect(0,0,this.e.width,this.e.height);Mk(a);this.ja("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,k;e=0;for(f=c.length;e<f;++e)k=c[e],g=k.layer,g=Ok(this,g),k.visible&&d>=k.minResolution&&d<k.maxResolution&&"ready"==k.Zh&&g.oe(a,k)&&g.Ed(a,k,b);this.ja("postcompose",
a);this.H||(bf(this.e,!0),this.H=!0);Pk(this,a);a.postRenderFunctions.push(Nk)}};function Wm(a,b,c){zk.call(this,a,b);this.target=c}F(Wm,zk);Wm.prototype.ti=da;Wm.prototype.Ed=da;Wm.prototype.Tb=function(){return this.target};function Xm(a,b){var c=ue("DIV");c.style.position="absolute";Wm.call(this,a,b,c);this.H=!0;this.jk=1;this.Ic=0;this.Sa={}}F(Xm,Wm);Xm.prototype.ti=function(){we(this.target);this.Ic=0};
Xm.prototype.oe=function(a,b){if(!b.visible)return this.H&&(bf(this.target,!1),this.H=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.fe,g=f.Eb(),k=xk(g,e),l=kk(k.vd,d.resolution,0),n=k.o(l),q=d.center,p;n==d.resolution?(q=Ek(q,n,a.size),p=Lj(q,n,d.rotation,a.size)):p=a.extent;t(b.extent)&&(p=Mj(p,b.extent));var n=pk(k,p,n),x={};x[l]={};var v=E(g.dh,g,x,Dk(function(a){return null!==a&&2==a.M()},g,c,e)),w=f.lf();t(w)||(w=!0);var r=Gj(),y=new yj(0,0,0,0),u,s,A,C;for(A=n.s;A<=n.O;++A)for(C=
n.D;C<=n.C;++C)u=g.sc(l,A,C,c,e),s=u.M(),2==s?x[l][xj(u.t)]=u:4==s||3==s&&!w||(s=k.$e(u.t,v,null,y,r),s||(u=k.kf(u.t,y,r),null===u||v(l+1,u)));var B;if(this.Ic!=g.Qa){for(B in this.Sa)w=this.Sa[+B],ze(w.target);this.Sa={};this.Ic=g.Qa}r=Ma(bb(x),Number);r.sort(Xa);var v={},H;A=0;for(C=r.length;A<C;++A){B=r[A];B in this.Sa?w=this.Sa[B]:(w=tk(k,q,B),w=new Ym(k,w),v[B]=!0,this.Sa[B]=w);B=x[B];for(H in B)Zm(w,B[H]);$m(w)}H=Ma(bb(this.Sa),Number);H.sort(Xa);C=Ih();r=0;for(A=H.length;r<A;++r)if(B=H[r],
w=this.Sa[B],B in x)if(s=w.o(),u=w.Db(),Ik(C,a.size[0]/2,a.size[1]/2,s/d.resolution,s/d.resolution,d.rotation,(u[0]-q[0])/s,(q[1]-u[1])/s),w.setTransform(C),B in v){for(B-=1;0<=B;--B)if(B in this.Sa){xe(w.target,this.Sa[B].target);break}0>B&&ye(this.target,w.target,0)}else a.viewHints[0]||a.viewHints[1]||an(w,p,y);else ze(w.target),delete this.Sa[B];b.opacity!=this.jk&&(this.jk=this.target.style.opacity=b.opacity);b.visible&&!this.H&&(bf(this.target,!0),this.H=!0);Ck(a.usedTiles,g,l,n);Fk(a,g,k,c,
e,p,l,f.hf());Ak(a,g);Bk(a,g);return!0};function Ym(a,b){this.target=ue("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.Fk=a;this.ai=b;this.Kb=Kj(nk(a,b));this.ud=a.o(b[0]);this.Ee={};this.$c=null;this.Z=Kh()}
function Zm(a,b){var c=b.t,d=c[0],e=c[1],f=c[2],c=xj(c);if(!(c in a.Ee)){var d=sk(a.Fk,d),g=b.ma(a),k=g.style;k.maxWidth="none";k.width=d+"px";k.height=d+"px";k.position="absolute";k.left=(e-a.ai[1])*d+"px";k.top=(a.ai[2]-f)*d+"px";null===a.$c&&(a.$c=document.createDocumentFragment());a.$c.appendChild(g);a.Ee[c]=b}}function $m(a){null!==a.$c&&(a.target.appendChild(a.$c),a.$c=null)}Ym.prototype.Db=function(){return this.Kb};Ym.prototype.o=function(){return this.ud};
function an(a,b,c){var d=ok(a.Fk,b,a.ai[0],c);b=[];for(var e in a.Ee)c=a.Ee[e],d.contains(c.t)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=xj(c.t),ze(c.ma(a)),delete a.Ee[e]}
Ym.prototype.setTransform=function(a){if(!Jk(a,this.Z)){var b=this.target,c;if(qi()){if(t(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");ri(b,"matrix3d("+c+")")}else if(pi()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(t(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");ri(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+"px";Mh(this.Z,a)}};function bn(a,b){Lk.call(this,0,b);this.i=null;this.i=oi();var c=this.i.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className="ol-unselectable";ye(a,c,0);this.Z=Ih();this.Zb=ue("DIV");this.Zb.className="ol-unselectable";c=this.Zb.style;c.position="absolute";c.width="100%";c.height="100%";O(this.Zb,"touchstart",vc);ye(a,this.Zb,0);this.H=!0}F(bn,Lk);h=bn.prototype;h.d=function(){ze(this.Zb);bn.k.d.call(this)};
h.Ve=function(a){if(a instanceof tm)a=new Xm(this,a);else return null;return a};h.ja=function(a,b){var c=this.aa();if(c.Ka(a)){var d=b.extent,e=b.pixelRatio,f=b.viewState,g=f.resolution,k=f.rotation,l=this.i,n=l.canvas;Ik(this.Z,n.width/2,n.height/2,e/f.resolution,-e/f.resolution,-f.rotation,-f.center[0],-f.center[1]);f=new um(l,e,d,this.Z,k);g=new Qm(.5*g/e,d,g);c.dispatchEvent(new Rl(a,c,f,0,b,l,null));g.finish();g.Ma()||g.mb(l,d,e,this.Z,k,{});f.flush()}};h.Ub=function(){return"dom"};
h.Xf=function(a){if(null===a)this.H&&(bf(this.Zb,!1),this.H=!1);else{var b;b=function(a,b){ye(this.Zb,a,b)};var c=this.aa();if(c.Ka("precompose")||c.Ka("postcompose"))c=this.i.canvas,c.width=a.size[0],c.height=a.size[1];this.ja("precompose",a);var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=Ok(this,f),b.call(this,f.Tb(),d),"ready"==g.Zh?f.oe(a,g)&&f.Ed(a,g):f.ti();b=a.layerStates;for(var k in this.Na)k in b||(f=this.Na[k],ze(f.Tb()));this.H||(bf(this.Zb,!0),this.H=!0);
Mk(a);Pk(this,a);a.postRenderFunctions.push(Nk);this.ja("postcompose",a)}};function cn(){this.Yc=Ih();this.pi=void 0;this.oi=Ih();this.Ci=void 0;this.Bi=Ih();this.jj=void 0;this.ij=Ih();this.rk=void 0;this.qk=Ih()}
function dn(a,b,c,d,e){var f=!1;t(b)&&b!==a.pi&&(f=a.oi,Nh(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.pi=b,f=!0);if(t(c)&&c!==a.Ci){f=a.Bi;Nh(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.Ci=c;f=!0}t(d)&&d!==a.jj&&(f=Math.cos(d),g=Math.sin(d),Jh(a.ij,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.jj=d,f=!0);t(e)&&e!==a.rk&&(Jh(a.qk,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.rk=e,f=!0);f&&(f=a.Yc,Nh(f),t(c)&&Oh(f,a.Bi,f),t(b)&&Oh(f,a.oi,f),t(e)&&Oh(f,a.qk,f),t(d)&&Oh(f,a.ij,f));return a.Yc};function en(a){this.xa=a}en.prototype.Eb=function(){return this.xa};function fn(a){this.xa=a}F(fn,en);fn.prototype.Ub=function(){return 35632};function gn(a){this.xa=a}F(gn,en);gn.prototype.Ub=function(){return 35633};function hn(){this.xa="precision mediump float;varying vec2 a;varying float b;uniform mat4 k;uniform float l;uniform sampler2D m;void main(void){vec4 texColor\x3dtexture2D(m,a);float alpha\x3dtexColor.a*b*l;if(alpha\x3d\x3d0.0){discard;}gl_FragColor.a\x3dalpha;gl_FragColor.rgb\x3d(k*vec4(texColor.rgb,1.)).rgb;}"}F(hn,fn);ea(hn);
function jn(){this.xa="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix\x3di;if(g\x3d\x3d1.0){offsetMatrix\x3di*j;}vec4 offsets\x3doffsetMatrix*vec4(e,0.,0.);gl_Position\x3dh*vec4(c,0.,1.)+offsets;a\x3dd;b\x3df;}"}F(jn,gn);ea(jn);
function kn(a,b){this.ei=a.getUniformLocation(b,"k");this.Lk=a.getUniformLocation(b,"j");this.Mk=a.getUniformLocation(b,"i");this.He=a.getUniformLocation(b,"l");this.Ie=a.getUniformLocation(b,"h");this.Ke=a.getAttribLocation(b,"e");this.Le=a.getAttribLocation(b,"f");this.Fa=a.getAttribLocation(b,"c");this.Me=a.getAttribLocation(b,"g");this.Ga=a.getAttribLocation(b,"d")};function ln(){this.xa="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor\x3dtexture2D(l,a);gl_FragColor.rgb\x3dtexColor.rgb;float alpha\x3dtexColor.a*b*k;if(alpha\x3d\x3d0.0){discard;}gl_FragColor.a\x3dalpha;}"}F(ln,fn);ea(ln);
function mn(){this.xa="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix\x3di;if(g\x3d\x3d1.0){offsetMatrix\x3di*j;}vec4 offsets\x3doffsetMatrix*vec4(e,0.,0.);gl_Position\x3dh*vec4(c,0.,1.)+offsets;a\x3dd;b\x3df;}"}F(mn,gn);ea(mn);
function nn(a,b){this.Lk=a.getUniformLocation(b,"j");this.Mk=a.getUniformLocation(b,"i");this.He=a.getUniformLocation(b,"k");this.Ie=a.getUniformLocation(b,"h");this.Ke=a.getAttribLocation(b,"e");this.Le=a.getAttribLocation(b,"f");this.Fa=a.getAttribLocation(b,"c");this.Me=a.getAttribLocation(b,"g");this.Ga=a.getAttribLocation(b,"d")};function on(a,b){this.$k=t(a)?a:[];this.jo=t(b)?b:35044}on.prototype.ef=function(){return this.$k};function pn(a,b){this.Va=this.Ua=void 0;this.Yc=new cn;this.Kb=Ij(b);this.j=Gj();this.kh=[];this.gb=void 0;this.Xb=[];this.vc=this.uc=void 0;this.La=[];this.nc=this.mc=this.xf=null;this.ib=void 0;this.Xm=Kh();this.Ym=Kh();this.kb=this.jb=void 0;this.rn=Kh();this.pb=this.ca=this.nb=void 0;this.hg=[];this.f=[];this.tg=null;this.Ea=void 0}h=pn.prototype;
h.Vd=function(a){var b=this.tg,c=this.xf,d=this.hg,e=a.T;return function(){if(!e.isContextLost()){var f,g;f=0;for(g=d.length;f<g;++f)e.deleteTexture(d[f])}a.deleteBuffer(b);a.deleteBuffer(c)}};
h.Pd=function(a,b,c,d){for(var e=this.Ua,f=this.Va,g=this.gb,k=this.uc,l=this.vc,n=this.ib,q=this.jb,p=this.kb,x=this.nb?1:0,v=this.ca,w=this.pb,r=this.Ea,y=Math.cos(v),v=Math.sin(v),u=this.La.length,s=this.f.length,A,C,B,H,R;b<c;b+=d)H=a[b]-this.Kb[0],R=a[b+1]-this.Kb[1],A=s/8,C=-w*e,B=-w*(g-f),this.f[s++]=H,this.f[s++]=R,this.f[s++]=C*y-B*v,this.f[s++]=C*v+B*y,this.f[s++]=q/l,this.f[s++]=(p+g)/k,this.f[s++]=n,this.f[s++]=x,C=w*(r-e),B=-w*(g-f),this.f[s++]=H,this.f[s++]=R,this.f[s++]=C*y-B*v,this.f[s++]=
C*v+B*y,this.f[s++]=(q+r)/l,this.f[s++]=(p+g)/k,this.f[s++]=n,this.f[s++]=x,C=w*(r-e),B=w*f,this.f[s++]=H,this.f[s++]=R,this.f[s++]=C*y-B*v,this.f[s++]=C*v+B*y,this.f[s++]=(q+r)/l,this.f[s++]=p/k,this.f[s++]=n,this.f[s++]=x,C=-w*e,B=w*f,this.f[s++]=H,this.f[s++]=R,this.f[s++]=C*y-B*v,this.f[s++]=C*v+B*y,this.f[s++]=q/l,this.f[s++]=p/k,this.f[s++]=n,this.f[s++]=x,this.La[u++]=A,this.La[u++]=A+1,this.La[u++]=A+2,this.La[u++]=A,this.La[u++]=A+2,this.La[u++]=A+3;return s};
h.ad=function(a){Hj(this.j,a.r());var b=a.A;this.Pd(b,0,b.length,a.v)};h.bd=function(a){Hj(this.j,a.r());var b=a.A;this.Pd(b,0,b.length,a.v)};
h.finish=function(a){var b=a.T;this.kh.push(this.La.length);this.tg=new on(this.f);a.bindBuffer(34962,this.tg);this.xf=new on(this.La);a.bindBuffer(34963,this.xf);var c,d,e={},f,g=this.Xb.length;for(f=0;f<g;++f)c=this.Xb[f],d=D(c).toString(),d in e?a=K(e,d):(a=b.createTexture(),b.bindTexture(3553,a),b.texParameteri(3553,10242,33071),b.texParameteri(3553,10243,33071),b.texParameteri(3553,10241,9729),b.texParameteri(3553,10240,9729),b.texImage2D(3553,0,6408,6408,5121,c),e[d]=a),this.hg[f]=a;this.gb=
this.Va=this.Ua=void 0;this.Xb=null;this.vc=this.uc=void 0;this.La=null;this.pb=this.ca=this.nb=this.kb=this.jb=this.ib=void 0;this.f=null;this.Ea=void 0};h.r=function(){return this.j};
h.mb=function(a,b,c,d,e,f,g,k,l,n,q,p){f=a.T;a.bindBuffer(34962,this.tg);a.bindBuffer(34963,this.xf);var x=l||1!=n||q||1!=p,v;x?(g=hn.ta(),v=jn.ta()):(g=ln.ta(),v=mn.ta());v=qn(a,g,v);x?null===this.mc?this.mc=g=new kn(f,v):g=this.mc:null===this.nc?this.nc=g=new nn(f,v):g=this.nc;a.useProgram(v);f.enableVertexAttribArray(g.Fa);f.vertexAttribPointer(g.Fa,2,5126,!1,32,0);f.enableVertexAttribArray(g.Ke);f.vertexAttribPointer(g.Ke,2,5126,!1,32,8);f.enableVertexAttribArray(g.Ga);f.vertexAttribPointer(g.Ga,
2,5126,!1,32,16);f.enableVertexAttribArray(g.Le);f.vertexAttribPointer(g.Le,1,5126,!1,32,24);f.enableVertexAttribArray(g.Me);f.vertexAttribPointer(g.Me,1,5126,!1,32,28);v=this.rn;Ik(v,0,0,2/(c*e[0]),2/(c*e[1]),-d,-(b[0]-this.Kb[0]),-(b[1]-this.Kb[1]));b=this.Ym;c=2/e[0];e=2/e[1];Nh(b);b[0]=c;b[5]=e;b[10]=1;b[15]=1;e=this.Xm;Nh(e);0!==d&&Rh(e,-d);f.uniformMatrix4fv(g.Ie,!1,v);f.uniformMatrix4fv(g.Mk,!1,b);f.uniformMatrix4fv(g.Lk,!1,e);f.uniform1f(g.He,k);x&&f.uniformMatrix4fv(g.ei,!1,dn(this.Yc,l,
n,q,p));d=0;k=this.hg.length;for(l=0;d<k;++d)f.bindTexture(3553,this.hg[d]),n=this.kh[d],f.drawElements(4,n-l,a.qf?5125:5123,l*(a.qf?4:2)),l=n;f.disableVertexAttribArray(g.Fa);f.disableVertexAttribArray(g.Ke);f.disableVertexAttribArray(g.Ga);f.disableVertexAttribArray(g.Le);f.disableVertexAttribArray(g.Me)};
h.ve=function(a){var b=a.Ri(),c=a.ma(1),d=a.No(),e=a.$d(),f=a.Db(),g=a.Zi(),k=a.Ia(),l=a.Y();a=a.jf();0===this.Xb.length?this.Xb.push(c):D(this.Xb[this.Xb.length-1])!=D(c)&&(this.kh.push(this.La.length),this.Xb.push(c));this.Ua=b[0];this.Va=b[1];this.gb=l[1];this.uc=d[1];this.vc=d[0];this.ib=e;this.jb=f[0];this.kb=f[1];this.ca=k;this.nb=g;this.pb=a;this.Ea=l[0]};function rn(a,b){this.Mf=b;this.ci=a;this.dc={}}h=rn.prototype;
h.Vd=function(a){var b=[],c;for(c in this.dc)b.push(this.dc[c].Vd(a));return pb.apply(null,b)};h.finish=function(a){for(var b in this.dc)this.dc[b].finish(a)};h.ih=function(a,b){var c=this.dc[b];t(c)||(c=new sn[b](this.ci,this.Mf),this.dc[b]=c);return c};h.Ma=function(){return cb(this.dc)};h.mb=function(a,b,c,d,e,f,g,k,l,n,q,p,x){var v,w,r;v=0;for(w=Cm.length;v<w;++v)if(r=this.dc[Cm[v]],t(r)&&Nj(f,r.r())&&(r=r.mb(a,b,c,d,e,f,g,k,l,n,q,p,x)))return r};var sn={Image:pn};function tn(a,b,c,d,e,f,g){this.i=a;this.si=b;this.j=f;this.Lb=g;this.Nb=e;this.ca=d;this.ud=c;this.sh=null;this.yb={}}h=tn.prototype;h.flush=function(){var a=Ma(bb(this.yb),Number);a.sort(Xa);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.yb[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};h.Ji=function(a,b){var c=a.toString(),d=this.yb[c];t(d)?d.push(b):this.yb[c]=[b]};h.Tg=function(){};
h.Ug=function(a,b){var c=a.zl(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d],g=un[f.Ub()];g&&g.call(this,f,b)}};h.bd=function(a,b){var c=this.i,d=(new rn(1,this.j)).ih(0,"Image");d.ve(this.sh);d.bd(a,b);d.finish(c);d.mb(this.i,this.si,this.ud,this.ca,this.Nb,this.j,this.Lb,1,0,1,0,1,{});d.Vd(c)()};h.Vg=function(){};h.Wg=function(){};
h.ad=function(a,b){var c=this.i,d=(new rn(1,this.j)).ih(0,"Image");d.ve(this.sh);d.ad(a,b);d.finish(c);d.mb(this.i,this.si,this.ud,this.ca,this.Nb,this.j,this.Lb,1,0,1,0,1,{});d.Vd(c)()};h.Xg=function(){};h.Xe=function(){};h.cg=function(){};h.ve=function(a){this.sh=a};h.Wh=function(){};var un={Point:tn.prototype.bd,MultiPoint:tn.prototype.ad,GeometryCollection:tn.prototype.Ug};function vn(){this.xa="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}F(vn,fn);ea(vn);function wn(){this.xa="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}F(wn,gn);ea(wn);
function xn(a,b){this.ei=a.getUniformLocation(b,"f");this.He=a.getUniformLocation(b,"g");this.Ie=a.getUniformLocation(b,"e");this.Nk=a.getUniformLocation(b,"d");this.og=a.getUniformLocation(b,"h");this.Fa=a.getAttribLocation(b,"b");this.Ga=a.getAttribLocation(b,"c")};function yn(){this.xa="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}F(yn,fn);ea(yn);function zn(){this.xa="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}F(zn,gn);ea(zn);
function An(a,b){this.He=a.getUniformLocation(b,"f");this.Ie=a.getUniformLocation(b,"e");this.Nk=a.getUniformLocation(b,"d");this.og=a.getUniformLocation(b,"g");this.Fa=a.getAttribLocation(b,"b");this.Ga=a.getAttribLocation(b,"c")};function Bn(a,b){zk.call(this,a,b);this.al=new on([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.af=this.fc=null;this.bf=void 0;this.Ek=Ih();this.qn=Kh();this.Yc=new cn;this.nc=this.mc=null}F(Bn,zk);
Bn.prototype.bindFramebuffer=function(a,b){var c=this.Kf.T;if(t(this.bf)&&this.bf==b)c.bindFramebuffer(36160,this.af);else{a.postRenderFunctions.push(pa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.af,this.fc));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.fc=d;this.af=e;this.bf=b}};
Bn.prototype.Ed=function(a,b,c){this.ja("precompose",c,a);c.bindBuffer(34962,this.al);var d=c.T,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=vn.ta(),g=wn.ta()):(f=yn.ta(),g=zn.ta());f=qn(c,f,g);e?null===this.mc?this.mc=g=new xn(d,f):g=this.mc:null===this.nc?this.nc=g=new An(d,f):g=this.nc;c.useProgram(f)&&(d.enableVertexAttribArray(g.Fa),d.vertexAttribPointer(g.Fa,2,5126,!1,16,0),d.enableVertexAttribArray(g.Ga),d.vertexAttribPointer(g.Ga,2,5126,!1,16,8),d.uniform1i(g.og,0));d.uniformMatrix4fv(g.Nk,
!1,this.Ek);d.uniformMatrix4fv(g.Ie,!1,this.qn);e&&d.uniformMatrix4fv(g.ei,!1,dn(this.Yc,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.He,b.opacity);d.bindTexture(3553,this.fc);d.drawArrays(5,0,4);this.ja("postcompose",c,a)};Bn.prototype.ja=function(a,b,c){var d=this.fe;if(d.Ka(a)){var e=c.viewState;d.dispatchEvent(new Rl(a,d,new tn(b,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),0,c,null,b))}};Bn.prototype.tc=function(){this.af=this.fc=null;this.bf=void 0};function Cn(){this.xa="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}F(Cn,fn);ea(Cn);function Dn(){this.xa="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}F(Dn,gn);ea(Dn);function En(a,b){this.og=a.getUniformLocation(b,"e");this.eo=a.getUniformLocation(b,"d");this.Fa=a.getAttribLocation(b,"b");this.Ga=a.getAttribLocation(b,"c")};function Fn(a,b){Bn.call(this,a,b);this.sl=Cn.ta();this.mo=Dn.ta();this.Jb=null;this.gk=new on([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.Nh=this.Yf=null;this.Ic=-1}F(Fn,Bn);Fn.prototype.d=function(){this.Kf.getContext().deleteBuffer(this.gk);Fn.k.d.call(this)};Fn.prototype.tc=function(){Fn.k.tc.call(this);this.Jb=null};
Fn.prototype.oe=function(a,b,c){var d=this.Kf,e=c.T,f=a.viewState,g=f.projection,k=this.fe,l=k.Eb(),n=xk(l,g),q=kk(n.vd,f.resolution,0),p=n.o(q),x=yk(l,q,g),v=x/sk(n,q),w=p/v,r=f.center,y;p==f.resolution?(r=Ek(r,p,a.size),y=Lj(r,p,f.rotation,a.size)):y=a.extent;p=pk(n,y,p);if(null!==this.Yf&&this.Yf.Ki(p)&&this.Ic==l.Qa)w=this.Nh;else{var u=p.Y(),u=Math.max(u[0]*x,u[1]*x),s=Math.pow(2,Math.ceil(Math.log(u)/Math.LN2)),u=w*s,A=n.Db(q),C=A[0]+p.s*x*w,w=A[1]+p.D*x*w,w=[C,w,C+u,w+u];this.bindFramebuffer(a,
s);e.viewport(0,0,s,s);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);s=qn(c,this.sl,this.mo);c.useProgram(s);null===this.Jb&&(this.Jb=new En(e,s));c.bindBuffer(34962,this.gk);e.enableVertexAttribArray(this.Jb.Fa);e.vertexAttribPointer(this.Jb.Fa,2,5126,!1,16,0);e.enableVertexAttribArray(this.Jb.Ga);e.vertexAttribPointer(this.Jb.Ga,2,5126,!1,16,8);e.uniform1i(this.Jb.og,0);c={};c[q]={};var B=E(l.dh,l,c,Dk(function(a){return null!==a&&2==a.M()&&d.oa.ia(a.getKey())},l,v,g)),H=k.lf();t(H)||(H=
!0);var s=!0,C=Gj(),R=new yj(0,0,0,0),J,ba,W;for(ba=p.s;ba<=p.O;++ba)for(W=p.D;W<=p.C;++W){A=l.sc(q,ba,W,v,g);if(t(b.extent)&&(J=nk(n,A.t,C),!Nj(J,b.extent)))continue;J=A.M();if(2==J){if(d.oa.ia(A.getKey())){c[q][xj(A.t)]=A;continue}}else if(4==J||3==J&&!H)continue;s=!1;J=n.$e(A.t,B,null,R,C);J||(A=n.kf(A.t,R,C),null===A||B(q+1,A))}b=Ma(bb(c),Number);b.sort(Xa);for(var B=new Float32Array(4),I,S,Q,H=0,R=b.length;H<R;++H)for(I in S=c[b[H]],S)A=S[I],J=nk(n,A.t,C),ba=2*(J[2]-J[0])/u,W=2*(J[3]-J[1])/u,
Q=2*(J[0]-w[0])/u-1,J=2*(J[1]-w[1])/u-1,Hh(B,ba,W,Q,J),e.uniform4fv(this.Jb.eo,B),Gn(d,A,x,0*v),e.drawArrays(5,0,4);s?(this.Yf=p,this.Nh=w,this.Ic=l.Qa):(this.Nh=this.Yf=null,this.Ic=-1,a.animate=!0)}Ck(a.usedTiles,l,q,p);var Ba=d.Ce;Fk(a,l,n,v,g,y,q,k.hf(),function(a){var b;(b=2!=a.M()||d.oa.ia(a.getKey()))||(b=a.getKey()in Ba.sd);b||Gk(Ba,[a,rk(n,a.t),n.o(a.t[0]),x,0*v])},this);Ak(a,l);Bk(a,l);e=this.Ek;Nh(e);Ph(e,(r[0]-w[0])/(w[2]-w[0]),(r[1]-w[1])/(w[3]-w[1]));0!==f.rotation&&Rh(e,f.rotation);
Qh(e,a.size[0]*f.resolution/(w[2]-w[0]),a.size[1]*f.resolution/(w[3]-w[1]));Ph(e,-.5,-.5);return!0};function Hn(){this.n=0;this.Qd={};this.Aa=this.wa=null}h=Hn.prototype;h.clear=function(){this.n=0;this.Qd={};this.Aa=this.wa=null};h.ia=function(a){return this.Qd.hasOwnProperty(a)};h.forEach=function(a,b){for(var c=this.wa;null!==c;)a.call(b,c.Tc,c.Bf,this),c=c.Oa};h.get=function(a){a=this.Qd[a];if(a===this.Aa)return a.Tc;a===this.wa?(this.wa=this.wa.Oa,this.wa.cc=null):(a.Oa.cc=a.cc,a.cc.Oa=a.Oa);a.Oa=null;a.cc=this.Aa;this.Aa=this.Aa.Oa=a;return a.Tc};h.Sb=function(){return this.n};
h.eb=function(){var a=Array(this.n),b=0,c;for(c=this.Aa;null!==c;c=c.cc)a[b++]=c.Bf;return a};h.fb=function(){var a=Array(this.n),b=0,c;for(c=this.Aa;null!==c;c=c.cc)a[b++]=c.Tc;return a};h.pop=function(){var a=this.wa;delete this.Qd[a.Bf];null!==a.Oa&&(a.Oa.cc=null);this.wa=a.Oa;null===this.wa&&(this.Aa=null);--this.n;return a.Tc};h.set=function(a,b){var c={Bf:a,Oa:null,cc:this.Aa,Tc:b};null===this.Aa?this.wa=c:this.Aa.Oa=c;this.Aa=c;this.Qd[a]=c;++this.n};function In(a,b){this.e=a;this.T=b;this.jc={};this.ye={};this.pe={};this.Og=null;(this.qf=0<=Ka(Sh,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");O(this.e,"webglcontextlost",this.tc,!1,this);O(this.e,"webglcontextrestored",this.nh,!1,this)}h=In.prototype;
h.bindBuffer=function(a,b){var c=this.T,d=b.ef(),e=D(b);if(e in this.jc)c.bindBuffer(a,this.jc[e].buffer);else{var f=c.createBuffer();c.bindBuffer(a,f);var g;34962==a?g=new Float32Array(d):34963==a&&(g=this.qf?new Uint32Array(d):new Uint16Array(d));c.bufferData(a,g,b.jo);this.jc[e]={Go:b,buffer:f}}};h.deleteBuffer=function(a){var b=this.T;a=D(a);var c=this.jc[a];b.isContextLost()||b.deleteBuffer(c.buffer);delete this.jc[a]};
h.d=function(){var a=this.T;a.isContextLost()||(Ya(this.jc,function(b){a.deleteBuffer(b.buffer)}),Ya(this.pe,function(b){a.deleteProgram(b)}),Ya(this.ye,function(b){a.deleteShader(b)}))};function Jn(a,b){var c=D(b);if(c in a.ye)return a.ye[c];var d=a.T,e=d.createShader(b.Ub());d.shaderSource(e,b.Eb());d.compileShader(e);return a.ye[c]=e}
function qn(a,b,c){var d=D(b)+"/"+D(c);if(d in a.pe)return a.pe[d];var e=a.T,f=e.createProgram();e.attachShader(f,Jn(a,b));e.attachShader(f,Jn(a,c));e.linkProgram(f);return a.pe[d]=f}h.tc=function(){db(this.jc);db(this.ye);db(this.pe);this.Og=null};h.nh=function(){};h.useProgram=function(a){if(a==this.Og)return!1;this.T.useProgram(a);this.Og=a;return!0};function Kn(a,b){Lk.call(this,0,b);this.e=ue("CANVAS");this.e.style.width="100%";this.e.style.height="100%";this.e.className="ol-unselectable";ye(a,this.e,0);this.ui=0;this.vi=oi();this.H=!0;this.T=ti(this.e,{antialias:!0,depth:!1,ql:!0,preserveDrawingBuffer:!1,stencil:!0});this.i=new In(this.e,this.T);O(this.e,"webglcontextlost",this.tc,!1,this);O(this.e,"webglcontextrestored",this.nh,!1,this);this.oa=new Hn;this.qc=null;this.Ce=new Qk(E(function(a){var b=a[1];a=a[2];var e=b[0]-this.qc[0],b=b[1]-
this.qc[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.tm=E(function(){if(!this.Ce.Ma()){Uk(this.Ce);var a=Rk(this.Ce);Gn(this,a[0],a[3],a[4])}},this);this.Be=0;Ln(this)}F(Kn,Lk);
function Gn(a,b,c,d){var e=a.T,f=b.getKey();if(a.oa.ia(f))a=a.oa.get(f),e.bindTexture(3553,a.fc),9729!=a.Hj&&(e.texParameteri(3553,10240,9729),a.Hj=9729),9729!=a.Lj&&(e.texParameteri(3553,10240,9729),a.Lj=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var k=a.vi.canvas,l=a.vi;a.ui!=c?(k.width=c,k.height=c,a.ui=c):l.clearRect(0,0,c,c);l.drawImage(b.ma(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,k)}else e.texImage2D(3553,0,6408,6408,5121,b.ma());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.oa.set(f,{fc:g,Hj:9729,Lj:9729})}}h=Kn.prototype;h.Ve=function(a){return a instanceof tm?new Fn(this,a):null};
h.ja=function(a,b){var c=this.aa();if(c.Ka(a)){var d=this.i,e=b.extent,f=b.size,g=b.viewState,k=b.pixelRatio,l=g.resolution,n=g.center,g=g.rotation,q=new tn(d,n,l,g,f,e,k),p=new rn(.5*l/k,e);c.dispatchEvent(new Rl(a,c,q,0,b,null,d));p.finish(d);p.Ma()||p.mb(d,n,l,g,f,e,k,1,0,1,0,1,{});p.Vd(d)();q.flush()}};h.d=function(){var a=this.T;a.isContextLost()||this.oa.forEach(function(b){null===b||a.deleteTexture(b.fc)});sc(this.i);Kn.k.d.call(this)};
h.pl=function(a,b){for(var c=this.T,d;1024<this.oa.Sb()-this.Be;){d=this.oa.wa.Tc;if(null===d)if(+this.oa.wa.Bf==b.index)break;else--this.Be;else c.deleteTexture(d.fc);this.oa.pop()}};h.getContext=function(){return this.i};h.Ub=function(){return"webgl"};h.tc=function(a){a.preventDefault();this.oa.clear();this.Be=0;Ya(this.Na,function(a){a.tc()})};h.nh=function(){Ln(this);this.aa().render()};
function Ln(a){a=a.T;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
h.Xf=function(a){var b=this.getContext(),c=this.T;if(c.isContextLost())return!1;if(null===a)return this.H&&(bf(this.e,!1),this.H=!1),!1;this.qc=a.focus;this.oa.set((-a.index).toString(),null);++this.Be;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,k,l,n;g=0;for(k=e.length;g<k;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.Zh&&(l=Ok(this,n.layer),l.oe(a,n,b)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.e.width!=e||this.e.height!=f)this.e.width=
e,this.e.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.e.width,this.e.height);this.ja("precompose",a);g=0;for(k=d.length;g<k;++g)n=d[g],l=Ok(this,n.layer),l.Ed(a,n,b);this.H||(bf(this.e,!0),this.H=!0);Mk(a);1024<this.oa.Sb()-this.Be&&a.postRenderFunctions.push(E(this.pl,this));this.Ce.Ma()||(a.postRenderFunctions.push(this.tm),a.animate=!0);this.ja("postcompose",a);Pk(this,a);a.postRenderFunctions.push(Nk)};var Mn=["canvas","webgl","dom"];
function Z(a){Xh.call(this);var b=Nn(a);this.Lb=t(a.pixelRatio)?a.pixelRatio:vi;this.wm=b.logos;this.Cg=new dg(this.vn,void 0,this);rc(this,this.Cg);this.fl=Ih();this.en=Ih();this.tl=0;this.ee=this.ug=this.Kh=this.Rb=null;this.S=qe("DIV","ol-viewport");this.S.style.position="relative";this.S.style.overflow="hidden";this.S.style.width="100%";this.S.style.height="100%";this.S.style.msTouchAction="none";yi&&(this.S.className="ol-touch");this.bk=qe("DIV","ol-overlaycontainer");this.S.appendChild(this.bk);
this.Pf=qe("DIV","ol-overlaycontainer-stopevent");O(this.Pf,["click","dblclick","mousedown","touchstart","MSPointerDown",rj,Gb?"DOMMouseScroll":"mousewheel"],uc);this.S.appendChild(this.Pf);a=new jj(this);O(a,ab(uj),this.handleMapBrowserEvent,!1,this);rc(this,a);this.yj=b.keyboardEventTarget;this.hb=new Jf;O(this.hb,"key",this.bj,!1,this);rc(this,this.hb);a=new Bh(this.S);O(a,"mousewheel",this.bj,!1,this);rc(this,a);this.Lg=b.controls;this.ll=b.deviceOptions;this.yf=b.interactions;this.Qf=b.overlays;
this.na=new b.wn(this.S,this);rc(this,this.na);this.Uk=new Ah;rc(this,this.Uk);O(this.Uk,"resize",this.Sk,!1,this);this.qc=null;this.Uf=[];this.ck=[];this.Gk=new Vk(E(this.Fl,this),E(this.km,this));this.Pn={};O(this,ai("layergroup"),this.Ol,!1,this);O(this,ai("view"),this.mm,!1,this);O(this,ai("size"),this.fm,!1,this);O(this,ai("target"),this.im,!1,this);this.xe(b.lo);this.Lg.forEach(function(a){a.setMap(this)},this);O(this.Lg,"add",function(a){a.element.setMap(this)},!1,this);O(this.Lg,"remove",
function(a){a.element.setMap(null)},!1,this);this.yf.forEach(function(a){a.setMap(this)},this);O(this.yf,"add",function(a){a.element.setMap(this)},!1,this);O(this.yf,"remove",function(a){a.element.setMap(null)},!1,this);this.Qf.forEach(function(a){a.setMap(this)},this);O(this.Qf,"add",function(a){a.element.setMap(this)},!1,this);O(this.Qf,"remove",function(a){a.element.setMap(null)},!1,this)}F(Z,Xh);Z.prototype.Wa=function(a){this.render();Array.prototype.push.apply(this.Uf,arguments)};
Z.prototype.d=function(){ze(this.S);Z.k.d.call(this)};Z.prototype.Tb=function(){return this.get("target")};Z.prototype.getTarget=Z.prototype.Tb;Z.prototype.Ud=function(a){var b=this.Rb;if(null===b)return null;a=a.slice();return Kk(b.pixelToCoordinateMatrix,a,a)};Z.prototype.gf=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.gf;Z.prototype.Yd=function(){return this.gf().Yd()};
function Gl(a,b){var c=a.Rb;if(null===c)return null;var d=b.slice(0,2);return Kk(c.coordinateToPixelMatrix,d,d)}Z.prototype.Y=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.Y;Z.prototype.J=function(){return this.get("view")};Z.prototype.getView=Z.prototype.J;h=Z.prototype;h.Fl=function(a,b,c,d){var e=this.Rb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][xj(a.t)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};
h.bj=function(a,b){var c=new hj(b||a.type,this,a);this.handleMapBrowserEvent(c)};h.handleMapBrowserEvent=function(a){if(null!==this.Rb){this.qc=a.coordinate;a.frameState=this.Rb;var b=this.yf.ef(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.Qi()&&!d.handleMapBrowserEvent(a))break}}};
h.cm=function(){var a=this.Rb,b=this.Gk;if(!b.Ma()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.ll;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=$a(a.wantedTiles)}c*=e;d*=e;if(b.De<c){Uk(b);c=Math.min(c-b.De,d,b.Sb());for(d=0;d<c;++d)e=Rk(b)[0],Tc(e,"change",b.jm,!1,b),e.load();b.De+=c}}b=this.ck;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};h.fm=function(){this.render()};
h.im=function(){var a=this.Tb(),a=t(a)?V(a):null;this.hb.detach();null===a?ze(this.S):(a.appendChild(this.S),Kf(this.hb,null===this.yj?a:this.yj));this.Sk()};h.km=function(){this.render()};h.nm=function(){this.render()};h.mm=function(){null!==this.ug&&(P(this.ug),this.ug=null);var a=this.J();null!==a&&(this.ug=O(a,"propertychange",this.nm,!1,this));this.render()};h.Pl=function(){this.render()};h.Ql=function(){this.render()};
h.Ol=function(){if(null!==this.ee){for(var a=this.ee.length,b=0;b<a;++b)P(this.ee[b]);this.ee=null}a=this.gf();null!=a&&(this.ee=[O(a,"propertychange",this.Ql,!1,this),O(a,"change",this.Pl,!1,this)]);this.render()};h.uh=function(){if(!Be(document,this.S)||"none"==this.S.style.display)return!1;var a=this.Y();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.J();return null!==a&&a.uh()?!0:!1};h.render=function(){this.Cg.kd()||this.Cg.start()};
h.vn=function(a){var b,c,d,e=this.Y(),f=this.J(),g=null;if(t(e)&&0<e[0]&&0<e[1]&&null!==f&&f.uh()){var g=Sa(f.ph),k=this.gf().gh(),l={};b=0;for(c=k.length;b<c;++b)l[D(k[b].layer)]=k[b];d=f.M();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.fl,extent:null,focus:null===this.qc?d.center:this.qc,index:this.tl++,layerStates:l,layerStatesArray:k,logos:fb(this.wm),pixelRatio:this.Lb,pixelToCoordinateMatrix:this.en,postRenderFunctions:[],size:e,skippedFeatureUids:this.Pn,tileQueue:this.Gk,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Uf;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=Lj(d.center,d.resolution,d.rotation,g.size)}this.Rb=g;this.na.Xf(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.ck,g.postRenderFunctions),!(b=0!==this.Uf.length||g.viewHints[0]||g.viewHints[1])&&(b=this.Kh)&&(b=g.extent,c=this.Kh,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new ii("moveend",this,
g)),this.Kh=Fj(g.extent)));this.dispatchEvent(new ii("postrender",this,g));id(this.cm,this)};h.Gn=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.Gn;Z.prototype.Uh=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.Uh;Z.prototype.Vh=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Vh;Z.prototype.Nn=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.Nn;
Z.prototype.Sk=function(){var a=this.Tb(),a=t(a)?V(a):null;if(null===a)this.Uh(void 0);else{var b=je(a),c=L&&a.currentStyle;c&&Je(he(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=Ig(a,c.width,"width","pixelWidth"),a=Ig(a,c.height,"height","pixelHeight"),a=new fe(b,a)):(c=new fe(a.offsetWidth,a.offsetHeight),b=Kg(a),a=Ng(a),a=new fe(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.Uh([a.width,a.height])}};
function Nn(a){var b=null;t(a.keyboardEventTarget)&&(b=z(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!t(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;z(e)?d[e]="":ka(e)&&(d[e.src]=e.href)}e=a.layers instanceof im?a.layers:new im({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=t(a.view)?a.view:new Y;var e=Lk,f;t(a.renderer)?ga(a.renderer)?f=a.renderer:z(a.renderer)&&(f=[a.renderer]):f=Mn;var g,k;g=0;for(k=f.length;g<k;++g){var l=f[g];if("canvas"==l){if(xi){e=Vm;break}}else if("dom"==l){e=bn;break}else if("webgl"==l&&ui){e=Kn;break}}t(a.controls)?f=ga(a.controls)?new ci(Sa(a.controls)):a.controls:
(f=t(void 0)?void 0:{},g=new ci,(t(f.zoom)?f.zoom:1)&&g.push(new ql(f.zoomOptions)),(t(f.rotate)?f.rotate:1)&&g.push(new pl(f.rotateOptions)),(t(f.attribution)?f.attribution:1)&&g.push(new il(f.attributionOptions)),f=g);g=t(a.deviceOptions)?a.deviceOptions:{};if(t(a.interactions))k=ga(a.interactions)?new ci(Sa(a.interactions)):a.interactions;else{k=t(void 0)?void 0:{};var l=new ci,n=new rl(-.005,.05,100);(t(k.altShiftDragRotate)?k.altShiftDragRotate:1)&&l.push(new Hl);(t(k.doubleClickZoom)?k.doubleClickZoom:
1)&&l.push(new yl({delta:k.zoomDelta,duration:k.zoomDuration}));(t(k.dragPan)?k.dragPan:1)&&l.push(new Fl({kinetic:n}));(t(k.pinchRotate)?k.pinchRotate:1)&&l.push(new gm);(t(k.pinchZoom)?k.pinchZoom:1)&&l.push(new hm({duration:k.zoomDuration}));if(t(k.keyboard)?k.keyboard:1)l.push(new dm),l.push(new em({delta:k.zoomDelta,duration:k.zoomDuration}));(t(k.mouseWheelZoom)?k.mouseWheelZoom:1)&&l.push(new fm({duration:k.zoomDuration}));(t(k.shiftDragZoom)?k.shiftDragZoom:1)&&l.push(new cm);k=l}a=t(a.overlays)?
ga(a.overlays)?new ci(Sa(a.overlays)):a.overlays:new ci;return{controls:f,deviceOptions:g,interactions:k,keyboardEventTarget:b,logos:d,overlays:a,wn:e,lo:c}}Vj(nm);Vj(sm);G(sm,function(a){G(nm,function(b){Xj(a,b,om);Xj(b,a,pm)})});function $(a){Xh.call(this);this.qm=t(a.insertFirst)?a.insertFirst:!0;this.Qn=t(a.stopEvent)?a.stopEvent:!0;this.a=ue("DIV");this.a.style.position="absolute";this.R={Pe:"",Ef:"",$f:"",mg:"",visible:!0};this.Jf=null;O(this,ai("element"),this.Il,!1,this);O(this,ai("map"),this.Ul,!1,this);O(this,ai("offset"),this.Yl,!1,this);O(this,ai("position"),this.am,!1,this);O(this,ai("positioning"),this.bm,!1,this);t(a.element)&&this.tk(a.element);this.wk(t(a.offset)?a.offset:[0,0]);this.xk(t(a.positioning)?a.positioning:
"top-left");t(a.position)&&this.we(a.position)}F($,Xh);$.prototype.Wd=function(){return this.get("element")};$.prototype.getElement=$.prototype.Wd;$.prototype.aa=function(){return this.get("map")};$.prototype.getMap=$.prototype.aa;$.prototype.Xi=function(){return this.get("offset")};$.prototype.getOffset=$.prototype.Xi;$.prototype.hh=function(){return this.get("position")};$.prototype.getPosition=$.prototype.hh;$.prototype.Yi=function(){return this.get("positioning")};$.prototype.getPositioning=$.prototype.Yi;
h=$.prototype;h.Il=function(){we(this.a);var a=this.Wd();null!=a&&ve(this.a,a)};h.Ul=function(){null!==this.Jf&&(ze(this.a),P(this.Jf),this.Jf=null);var a=this.aa();null!=a&&(this.Jf=O(a,"postrender",this.dd,!1,this),On(this),a=this.Qn?a.Pf:a.bk,this.qm?ye(a,this.a,0):ve(a,this.a))};h.dd=function(){On(this)};h.Yl=function(){On(this)};h.am=function(){On(this)};h.bm=function(){On(this)};h.tk=function(a){this.set("element",a)};$.prototype.setElement=$.prototype.tk;
$.prototype.setMap=function(a){this.set("map",a)};$.prototype.setMap=$.prototype.setMap;$.prototype.wk=function(a){this.set("offset",a)};$.prototype.setOffset=$.prototype.wk;$.prototype.we=function(a){this.set("position",a)};$.prototype.setPosition=$.prototype.we;$.prototype.xk=function(a){this.set("positioning",a)};$.prototype.setPositioning=$.prototype.xk;
function On(a){var b=a.aa(),c=a.hh();if(t(b)&&null!==b.Rb&&t(c)){var c=Gl(b,c),d=b.Y(),b=a.a.style,e=a.Xi(),f=a.Yi(),g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.R.Ef&&(a.R.Ef=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.R.$f!=g&&(a.R.$f=b.right=g);else{""!==a.R.$f&&(a.R.$f=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=Eg(a.a).width/2;g=Math.round(c[0]+g)+"px";a.R.Ef!=g&&(a.R.Ef=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.R.mg&&(a.R.mg=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.R.Pe!=c&&(a.R.Pe=b.bottom=c);else{""!==a.R.Pe&&(a.R.Pe=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=Eg(a.a).height/2;c=Math.round(c[1]+e)+"px";a.R.mg!=c&&(a.R.mg=b.top=c)}a.R.visible||(bf(a.a,!0),a.R.visible=!0)}else a.R.visible&&(bf(a.a,!1),a.R.visible=!1)};function Pn(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function Qn(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[sb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function Rn(){}function Sn(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function Tn(a,b,c,d,e){jk.call(this,a,b);this.ze=c;this.G=new Image;null!==d&&(this.G.crossOrigin=d);this.uf={};this.be=null;this.Xn=e}F(Tn,jk);h=Tn.prototype;h.ma=function(a){if(t(a)){var b=D(a);if(b in this.uf)return this.uf[b];a=cb(this.uf)?this.G:this.G.cloneNode(!1);return this.uf[b]=a}return this.G};h.getKey=function(){return this.ze};h.Jl=function(){this.state=3;G(this.be,P);this.be=null;this.$()};
h.Kl=function(){this.state=this.G.naturalWidth&&this.G.naturalHeight?2:4;G(this.be,P);this.be=null;this.$()};h.load=function(){0==this.state&&(this.state=1,this.be=[Tc(this.G,"error",this.Jl,!1,this),Tc(this.G,"load",this.Kl,!1,this)],this.Xn(this,this.ze))};function Un(a){Hn.call(this);this.om=t(a)?a:2048}F(Un,Hn);Un.prototype.lc=function(){return this.Sb()>this.om};Un.prototype.Sd=function(a){for(var b,c;this.lc()&&!(b=this.wa.Tc,c=b.t[0].toString(),c in a&&a[c].contains(b.t));)this.pop().Bb()};function Vn(a){wk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:t(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=t(a.tileUrlFunction)?a.tileUrlFunction:Rn;this.crossOrigin=t(a.crossOrigin)?a.crossOrigin:null;this.Pc=new Un;this.tileLoadFunction=t(a.tileLoadFunction)?a.tileLoadFunction:Wn;this.tileClass=t(a.tileClass)?a.tileClass:Tn}F(Vn,wk);function Wn(a,b){a.ma().src=b}
Vn.prototype.lc=function(){return this.Pc.lc()};Vn.prototype.Sd=function(a){this.Pc.Sd(a)};Vn.prototype.sc=function(a,b,c,d,e){var f=this.Xd(a,b,c);if(this.Pc.ia(f))return this.Pc.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,t(d)?0:4,t(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.Pc.set(f,d);return d};Vn.prototype.fi=function(a,b,c){a=this.Xd(a,b,c);this.Pc.ia(a)&&this.Pc.get(a)};function Xn(a){var b=t(a.extent)?a.extent:km,c=uk(b,a.maxZoom,a.tileSize);lk.call(this,{minZoom:a.minZoom,origin:Jj(b,"top-left"),resolutions:c,tileSize:a.tileSize})}F(Xn,lk);
Xn.prototype.Ng=function(a){a=t(a)?a:{};var b=this.minZoom,c=this.maxZoom,d=t(a.wrapX)?a.wrapX:!0,e=null;if(t(a.extent)){var e=Array(c+1),f;for(f=0;f<=c;++f)e[f]=f<b?null:ok(this,a.extent,f)}return function(a,f,l){f=a[0];if(f<b||c<f)return null;var n=Math.pow(2,f),q=a[1];if(d)q=sb(q,n);else if(0>q||n<=q)return null;a=a[2];return a<-n||-1<a||null!==e&&!e[f].Gd(q,a)?null:vj(f,q,-a-1,l)}};Xn.prototype.kf=function(a,b){if(a[0]<this.maxZoom){var c=2*a[1],d=2*a[2];return zj(c,c+1,d,d+1,b)}return null};
Xn.prototype.$e=function(a,b,c,d){d=zj(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.s=d.O>>=1,d.D=d.C>>=1,b.call(c,a,d))return!0;return!1};function Yn(a){Vn.call(this,{crossOrigin:a.crossOrigin,projection:bk("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});this.ro=a.wrapX;(new sh(a.url)).send(void 0,E(this.mh,this))}F(Yn,Vn);
Yn.prototype.mh=function(a){var b=bk("EPSG:4326"),c=this.rd,d;t(a.bounds)&&(d=Pj(a.bounds,dk(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new Xn({extent:vk(c),maxZoom:f,minZoom:e});this.tileUrlFunction=Sn(c.Ng({extent:d,wrapX:this.ro}),Qn(Ma(a.tiles,Pn)));if(t(a.attribution)){b=t(d)?d:b.r();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[ok(c,b,e)];this.Eg=[new Bj({html:a.attribution,tileRanges:d})]}this.b="ready";this.$()};function Zn(a){wk.call(this,{projection:bk("EPSG:3857"),state:"loading"});this.Jh=t(a.preemptive)?a.preemptive:!0;this.Ik=Rn;this.Qc=new Un;(new sh(a.url)).send(void 0,E(this.mh,this))}F(Zn,wk);h=Zn.prototype;h.lc=function(){return this.Qc.lc()};h.Sd=function(a){this.Qc.Sd(a)};function $n(a,b,c,d,e){null===a.tileGrid?d.call(e,null):(c=qk(a.tileGrid,b[0],b[1],c,!1,void 0),a=a.sc(c[0],c[1],c[2],1,a.rd),d.call(e,a.getData(b)))}
h.mh=function(a){var b=bk("EPSG:4326"),c=this.rd,d;t(a.bounds)&&(d=Pj(a.bounds,dk(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new Xn({extent:vk(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.Ik=Sn(c.Ng({extent:d}),Qn(Ma(g,Pn)));if(t(a.attribution)){b=t(d)?d:b.r();for(d={};e<=f;++e)g=e.toString(),d[g]=[ok(c,b,e)];this.Eg=[new Bj({html:a.attribution,tileRanges:d})]}this.b="ready"}else this.b="error";this.$()};
h.sc=function(a,b,c,d,e){var f=this.Xd(a,b,c);if(this.Qc.ia(f))return this.Qc.get(f);a=[a,b,c];d=this.Ik(a,d,e);d=new ao(a,t(d)?0:4,t(d)?d:"",nk(this.tileGrid,a),this.Jh);this.Qc.set(f,d);return d};h.fi=function(a,b,c){a=this.Xd(a,b,c);this.Qc.ia(a)&&this.Qc.get(a)};function ao(a,b,c,d,e){jk.call(this,a,b);this.ze=c;this.j=d;this.Jh=e;this.Pg=this.u=this.mf=null}F(ao,jk);h=ao.prototype;h.ma=function(){return null};
h.getData=function(a){if(null===this.mf||null===this.u||null===this.Pg)return null;var b=this.mf[Math.floor((1-(a[1]-this.j[1])/(this.j[3]-this.j[1]))*this.mf.length)];if(!z(b))return null;a=b.charCodeAt(Math.floor((a[0]-this.j[0])/(this.j[2]-this.j[0])*b.length));93<=a&&a--;35<=a&&a--;a=this.u[a-32];return null!=a?this.Pg[a]:null};h.getKey=function(){return this.ze};h.of=function(){this.state=3;this.$()};h.lh=function(a){this.mf=a.grid;this.u=a.keys;this.Pg=a.data;this.state=4;this.$()};
h.load=function(){this.Jh&&0==this.state&&(this.state=1,(new sh(this.ze)).send(void 0,E(this.lh,this),E(this.of,this)))};function bo(){var a=[-5.3642,51.3776,-2.6334,53.4369],b=fk(a),c=Fj(b);Oj(c,2);var d=Fj(b);Oj(d,1.2);this.Ij=V("map");this.sg=new Zn({url:"/tileserver/cynefin-parishes.json",preemptive:!0});this.Q=new Y({extent:c,zoom:7,minZoom:6,maxZoom:14});this.c=new Z({target:this.Ij,controls:[],layers:[new tm({source:new Yn({url:"http://cynefin.tileserver.com/cynefin-counties.json"}),minResolution:500}),new tm({source:new Yn({url:"http://cynefin.tileserver.com/cynefin-parishes.json"}),maxResolution:500}),new tm({source:this.sg})],
view:this.Q});Uh(this.c,sj,function(a){var b=this.Q.o()||1;$n(this.sg,a.coordinate,b,this.Vl,this)},this);Uh(this.c,nj,function(a){var b=this.Q.o()||1;$n(this.sg,a.coordinate,b,this.Xl,this)},this);Vh(this.c,function(){var a=this.c.Y();a?fl(this.Q,d,a):co(this,[-3.9001,52.3118],!0)},this);var e=E(function(a,b){var c=this.Q.o()||1;this.c.Wa(ol({resolution:c,duration:250,easing:jl}));this.Q.Lc(this.Q.constrainResolution(c,a));b.preventDefault()},this);O(V("map-zoom-in"),"click",function(a){e(1,a)});
O(V("map-zoom-out"),"click",function(a){e(-1,a)});var f=V("nominatim-input");if(f){var g=new yh(f,"http://nominatim.klokantech.com/",void 0,a),k=E(function(a){this.se.we(void 0);if(a){var b=ck("EPSG:4326",this.Q.rd),c=a.bounds||a.viewport,d=eo(this);c&&d&&(c=Pj(c,b),Oj(c,1.33),fl(this.Q,c,d),co(this,this.Q.sa()),this.Q.Lc(this.Q.constrainResolution(this.Q.o())));if(a=[a.lon,a.lat],9<el(this.Q)){var e=b(a),b=this.Q.o()||1;$n(this.sg,e,b,function(a){if(a){var b=a.County,c=a.SHAPE_ID;b&&c&&(this.Od=
!0,We(this.Ha,b,E(function(){df(this.Ha,c.toString())},this)),co(this,e),this.Od=!1,this.se.we(e))}},this)}}},this);O(g,"update",function(a){k(a.ob);a.preventDefault()});a=He(f);O(a,"submit",function(a){a.preventDefault();g.search(f.value,1,function(a,b){k(b[0])})})}this.se=new $({element:qe("DIV",{"class":"search-marker"})});this.c.Qf.push(this.se);Uh(this.Q,"propertychange",function(){null!=this.se.hh()&&(this.se.we(void 0),f.value="")},this);this.Ha=new Se;this.Od=!1;this.Ha.va("opened",function(a){if(!this.Od){var b=
el(this.Q);if(10!=b){var c=this.Q,d=c.constrainResolution(c.Fh,10-c.Gh,0);c.Lc(d)}co(this,a.center,!0,10==b)}},!1,this)}function fo(){var a=V("application-panel");return a?Eg(a).width+30:0}function eo(a){(a=a.c.Y())&&(a=[a[0]-fo(),a[1]]);return a}
function co(a,b,c,d){if(b)if(c&&(c=b,b=ck("EPSG:4326","EPSG:3857")(c,void 0,c.length)),c=a.Q.sa(),d&&c&&a.c.Wa(ml({duration:300,source:c})),d=a.c.Y(),c=[(d[0]+fo())/2,d[1]/2],d){a=a.Q;var e=b,f=a.Ia();b=Math.cos(-f);var f=Math.sin(-f),g=e[0]*b-e[1]*f,e=e[1]*b+e[0]*f,k=a.o(),g=g+(d[0]/2-c[0])*k,e=e+(c[1]-d[1]/2)*k,f=-f;a.qb([g*b-e*f,e*b+g*f])}else a.Q.qb(b)}bo.prototype.Vl=function(a){this.Ij.style.cursor=a?"pointer":"";Xe(this.Ha,a?a.County:null)};
bo.prototype.Xl=function(a){if(a){var b=a.County;if(z(b)){var c=9<el(this.Q),d=E(function(){c?df(this.Ha,a.SHAPE_ID.toString()):Te(this.Ha,"")},this);this.Od=c;We(this.Ha,b,d);this.Od=!1}}};ca("TitheMaps",bo);})();
