var h,ca=ca||{},l=this;function s(a){return void 0!==a}function da(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&s(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ea(){}function fa(a){a.hb=function(){return a.ai?a.ai:a.ai=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"array"==ga(a)}function ia(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==ga(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function B(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function oa(a,b,c){return a.call.apply(a.bind,arguments)}function qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:qa;return C.apply(null,arguments)}
function ra(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.g=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.rn=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ua(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ua);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(ua,Error);ua.prototype.name="CustomError";var va;function wa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function xa(a){if(!za.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(Aa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Ba,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ca,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Da,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ea,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Fa,"\x26#0;"));return a}var Aa=/&/g,Ba=/</g,Ca=/>/g,Da=/"/g,Ea=/'/g,Fa=/\x00/g,za=/[\x00&<>"']/;
function Ga(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ha(a,b){return a<b?-1:a>b?1:0}function Ia(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ja(a){var b=w(void 0)?Ga(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Ka=Array.prototype,La=Ka.indexOf?function(a,b,c){return Ka.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=Ka.forEach?function(a,b,c){Ka.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Ka.filter?function(a,b,c){return Ka.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=w(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Na=Ka.map?function(a,b,c){return Ka.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Oa=Ka.some?function(a,b,c){return Ka.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Pa=Ka.every?function(a,b,c){return Ka.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a,b){var c;a:{c=a.length;for(var d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:w(a)?a.charAt(c):a[c]}function Ra(a,b){var c=La(a,b),d;(d=0<=c)&&Ka.splice.call(a,c,1);return d}function Sa(a){return Ka.concat.apply(Ka,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b,c,d){Ka.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?Ka.slice.call(a,b):Ka.slice.call(a,b,c)}function Wa(a,b){if(!ia(a)||!ia(b)||a.length!=b.length)return!1;for(var c=a.length,d=Xa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ya(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){return a===b};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}function bb(a){return-1!=Za.indexOf(a)};function cb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function db(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function eb(a){var b=0,c;for(c in a)b++;return b}function fb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function gb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function hb(a){for(var b in a)return!1;return!0}function ib(a){for(var b in a)delete a[b]}function jb(a,b){b in a&&delete a[b]}function J(a,b,c){return b in a?a[b]:c}
function kb(a){var b={},c;for(c in a)b[c]=a[c];return b}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<lb.length;f++)c=lb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var nb,ob,pb;function qb(){return l.navigator||null}var rb=bb("Opera")||bb("OPR"),L=bb("Trident")||bb("MSIE"),sb=bb("Gecko")&&-1==Za.toLowerCase().indexOf("webkit")&&!(bb("Trident")||bb("MSIE")),M=-1!=Za.toLowerCase().indexOf("webkit"),tb,ub=qb();tb=ub&&ub.platform||"";nb=-1!=tb.indexOf("Mac");ob=-1!=tb.indexOf("Win");pb=-1!=tb.indexOf("Linux");var vb=!!qb()&&-1!=(qb().appVersion||"").indexOf("X11");function wb(){var a=l.document;return a?a.documentMode:void 0}
var xb=function(){var a="",b;if(rb&&l.opera)return a=l.opera.version,ka(a)?a():a;sb?b=/rv\:([^\);]+)(\)|;)/:L?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Za))?a[1]:"");return L&&(b=wb(),b>parseFloat(a))?String(b):a}(),yb={};
function N(a){var b;if(!(b=yb[a])){b=0;for(var c=wa(String(xb)).split("."),d=wa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(k)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=Ha(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||Ha(0==p[2].length,0==q[2].length)||Ha(p[2],q[2])}while(0==b)}b=yb[a]=0<=b}return b}
var zb=l.document,Ab=zb&&L?wb()||("CSS1Compat"==zb.compatMode?parseInt(xb,10):5):void 0;var Bb=!L||L&&9<=Ab;!sb&&!L||L&&L&&9<=Ab||sb&&N("1.9.1");var Cb=L&&!N("9");function Db(a,b,c){return Math.min(Math.max(a,b),c)}function Eb(a,b){var c=a%b;return 0>c*b?c+b:c};function P(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}h=P.prototype;h.clone=function(){return new P(this.x,this.y)};function Fb(a,b){return new P(a.x-b.x,a.y-b.y)}h.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};h.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};h.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
h.translate=function(a,b){a instanceof P?(this.x+=a.x,this.y+=a.y):(this.x+=a,ja(b)&&(this.y+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.x*=a;this.y*=c;return this};function Gb(a,b){this.width=a;this.height=b}function Hb(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}h=Gb.prototype;h.clone=function(){return new Gb(this.width,this.height)};h.lb=function(){return!(this.width*this.height)};h.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.scale=function(a,b){var c=ja(b)?b:a;this.width*=a;this.height*=c;return this};function Ib(a){return a?new Jb(Kb(a)):va||(va=new Jb)}function Q(a){return w(a)?document.getElementById(a):a}function Lb(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function Mb(a,b){cb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Nb?a.setAttribute(Nb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ob(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Gb(a.clientWidth,a.clientHeight)}function Pb(a){return M||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Qb(a){return a.parentWindow||a.defaultView}function Rb(a,b,c){return Tb(document,arguments)}
function Tb(a,b){var c=b[0],d=b[1];if(!Bb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',xa(d.name),'"');if(d.type){c.push(' type\x3d"',xa(d.type),'"');var e={};mb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:ha(d)?c.className=d.join(" "):Mb(c,d));2<b.length&&Ub(a,c,b,2);return c}
function Ub(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ia(f)||la(f)&&0<f.nodeType?e(f):F(Vb(f)?Ta(f):f,e)}}function Wb(a){return document.createElement(a)}function Xb(a,b){Ub(Kb(a),a,arguments,1)}function Yb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Zb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function $b(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function ac(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function bc(a){return la(a)&&1==a.nodeType}function cc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Kb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function dc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Yb(a),a.appendChild(Kb(a).createTextNode(String(b)))}var ec={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},fc={IMG:" ",BR:"\n"};
function gc(a){if(Cb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];hc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Cb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function hc(a,b,c){if(!(a.nodeName in ec))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in fc)b.push(fc[a.nodeName]);else for(a=a.firstChild;a;)hc(a,b,c),a=a.nextSibling}function Vb(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function ic(a){return jc(a,function(a){return"FORM"==a.nodeName&&!0})}
function jc(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Jb(a){this.fa=a||l.document||document}h=Jb.prototype;h.fd=function(a){return w(a)?this.fa.getElementById(a):a};h.Dd=Mb;h.gh=function(a,b,c){return Tb(this.fa,arguments)};h.createElement=function(a){return this.fa.createElement(a)};h.createTextNode=function(a){return this.fa.createTextNode(String(a))};function kc(a){return"CSS1Compat"==a.fa.compatMode}
function lc(a){var b=a.fa;a=Pb(b);b=Qb(b);return L&&N("10")&&b.pageYOffset!=a.scrollTop?new P(a.scrollLeft,a.scrollTop):new P(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}h.appendChild=function(a,b){a.appendChild(b)};h.append=Xb;h.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
h.fm=Yb;h.removeNode=ac;h.contains=cc;function mc(a){if(a.classList)return a.classList;a=a.className;return w(a)&&a.match(/\S+/g)||[]}function nc(a,b){var c;a.classList?c=a.classList.contains(b):(c=mc(a),c=0<=La(c,b));return c}function oc(a,b){a.classList?a.classList.add(b):nc(a,b)||(a.className+=0<a.className.length?" "+b:b)}function pc(a,b){if(a.classList)F(b,function(b){oc(a,b)});else{var c={};F(mc(a),function(a){c[a]=!0});F(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function qc(a,b){a.classList?a.classList.remove(b):nc(a,b)&&(a.className=Ma(mc(a),function(a){return a!=b}).join(" "))}function rc(a,b){a.classList?F(b,function(b){qc(a,b)}):a.className=Ma(mc(a),function(a){return!(0<=La(b,a))}).join(" ")}function sc(a,b,c){c?oc(a,b):qc(a,b)};var tc=!L||L&&9<=Ab,uc=!L||L&&9<=Ab,vc=L&&!N("9");!M||N("528");sb&&N("1.9b")||L&&N("8")||rb&&N("9.5")||M&&N("528");sb&&!N("8")||L&&N("9");function wc(){0!=xc&&(yc[B(this)]=this);this.Yc=this.Yc;this.Zb=this.Zb}var xc=0,yc={};wc.prototype.Yc=!1;wc.prototype.eb=function(){if(!this.Yc&&(this.Yc=!0,this.c(),0!=xc)){var a=B(this);delete yc[a]}};function zc(a,b){var c=ra(Ac,b);a.Zb||(a.Zb=[]);a.Zb.push(s(void 0)?C(c,void 0):c)}wc.prototype.c=function(){if(this.Zb)for(;this.Zb.length;)this.Zb.shift()()};function Ac(a){a&&"function"==typeof a.eb&&a.eb()};function S(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.cc=!1;this.Yi=!0}S.prototype.c=function(){};S.prototype.eb=function(){};S.prototype.stopPropagation=function(){this.cc=!0};S.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Yi=!1};function Bc(a){a.stopPropagation()};var Cc=sb?"DOMMouseScroll":"mousewheel",Dc=L?"focusout":"DOMFocusOut";function Ec(a){Ec[" "](a);return a}Ec[" "]=ea;function Fc(a,b){S.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Pe=!1;this.l=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(sb){var e;a:{try{Ec(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Pe=nb?a.metaKey:a.ctrlKey;this.state=a.state;this.l=a;a.defaultPrevented&&this.preventDefault()}}D(Fc,S);var Gc=[1,4,2];function Hc(a){return(tc?0==a.l.button:"click"==a.type?!0:!!(a.l.button&Gc[0]))&&!(M&&nb&&a.ctrlKey)}Fc.prototype.stopPropagation=function(){Fc.g.stopPropagation.call(this);this.l.stopPropagation?this.l.stopPropagation():this.l.cancelBubble=!0};
Fc.prototype.preventDefault=function(){Fc.g.preventDefault.call(this);var a=this.l;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Fc.prototype.kk=function(){return this.l};Fc.prototype.c=function(){};var Ic="closure_listenable_"+(1E6*Math.random()|0);function Jc(a){return!(!a||!a[Ic])}var Kc=0;function Lc(a,b,c,d,e){this.Xb=a;this.Te=null;this.src=b;this.type=c;this.Tc=!!d;this.pe=e;this.key=++Kc;this.Lc=this.Td=!1}function Mc(a){a.Lc=!0;a.Xb=null;a.Te=null;a.src=null;a.pe=null};function Nc(a){this.src=a;this.V={};this.Pd=0}h=Nc.prototype;h.add=function(a,b,c,d,e){var f=a.toString();a=this.V[f];a||(a=this.V[f]=[],this.Pd++);var g=Oc(a,b,d,e);-1<g?(b=a[g],c||(b.Td=!1)):(b=new Lc(b,this.src,f,!!d,e),b.Td=c,a.push(b));return b};h.remove=function(a,b,c,d){a=a.toString();if(!(a in this.V))return!1;var e=this.V[a];b=Oc(e,b,c,d);return-1<b?(Mc(e[b]),Ka.splice.call(e,b,1),0==e.length&&(delete this.V[a],this.Pd--),!0):!1};
function Pc(a,b){var c=b.type;if(!(c in a.V))return!1;var d=Ra(a.V[c],b);d&&(Mc(b),0==a.V[c].length&&(delete a.V[c],a.Pd--));return d}h.Ue=function(a){a=a&&a.toString();var b=0,c;for(c in this.V)if(!a||c==a){for(var d=this.V[c],e=0;e<d.length;e++)++b,Mc(d[e]);delete this.V[c];this.Pd--}return b};h.jd=function(a,b,c,d){a=this.V[a.toString()];var e=-1;a&&(e=Oc(a,b,c,d));return-1<e?a[e]:null};
h.yb=function(a,b){var c=s(a),d=c?a.toString():"",e=s(b);return db(this.V,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Tc!=b))return!0;return!1})};function Oc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Lc&&f.Xb==b&&f.Tc==!!c&&f.pe==d)return e}return-1};var Qc="closure_lm_"+(1E6*Math.random()|0),Rc={},Sc=0;function U(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)U(a,b[f],c,d,e);return null}c=Tc(c);return Jc(a)?a.oa(b,c,d,e):Uc(a,b,c,!1,d,e)}function Uc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Vc(a);k||(a[Qc]=k=new Nc(a));c=k.add(b,c,d,e,f);if(c.Te)return c;d=Wc();c.Te=d;d.src=a;d.Xb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Xc(b.toString()),d);Sc++;return c}
function Wc(){var a=Yc,b=uc?function(c){return a.call(b.src,b.Xb,c)}:function(c){c=a.call(b.src,b.Xb,c);if(!c)return c};return b}function Zc(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)Zc(a,b[f],c,d,e);return null}c=Tc(c);return Jc(a)?a.kg(b,c,d,e):Uc(a,b,c,!0,d,e)}function $c(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)$c(a,b[f],c,d,e);else c=Tc(c),Jc(a)?a.Ya(b,c,d,e):a&&(a=Vc(a))&&(b=a.jd(b,c,!!d,e))&&V(b)}
function V(a){if(ja(a)||!a||a.Lc)return!1;var b=a.src;if(Jc(b))return Pc(b.Ra,a);var c=a.type,d=a.Te;b.removeEventListener?b.removeEventListener(c,d,a.Tc):b.detachEvent&&b.detachEvent(Xc(c),d);Sc--;(c=Vc(b))?(Pc(c,a),0==c.Pd&&(c.src=null,b[Qc]=null)):Mc(a);return!0}function Xc(a){return a in Rc?Rc[a]:Rc[a]="on"+a}function ad(a,b,c,d){var e=1;if(a=Vc(a))if(b=a.V[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Tc==c&&!f.Lc&&(e&=!1!==bd(f,d))}return Boolean(e)}
function bd(a,b){var c=a.Xb,d=a.pe||a.src;a.Td&&V(a);return c.call(d,b)}
function Yc(a,b){if(a.Lc)return!0;if(!uc){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Fc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.cc&&0<=k;k--)c.currentTarget=e[k],d&=ad(e[k],f,!0,c);for(k=0;!c.cc&&k<e.length;k++)c.currentTarget=
e[k],d&=ad(e[k],f,!1,c)}return d}return bd(a,new Fc(b,this))}function Vc(a){a=a[Qc];return a instanceof Nc?a:null}var cd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Tc(a){if(ka(a))return a;a[cd]||(a[cd]=function(b){return a.handleEvent(b)});return a[cd]};function W(){wc.call(this);this.Ra=new Nc(this);this.Oj=this;this.og=null}D(W,wc);W.prototype[Ic]=!0;h=W.prototype;h.addEventListener=function(a,b,c,d){U(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){$c(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.og;if(c)for(b=[];c;c=c.og)b.push(c);var c=this.Oj,d=a.type||a;if(w(a))a=new S(a,c);else if(a instanceof S)a.target=a.target||c;else{var e=a;a=new S(d,c);mb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.cc&&0<=g;g--)f=a.currentTarget=b[g],e=dd(f,d,!0,a)&&e;a.cc||(f=a.currentTarget=c,e=dd(f,d,!0,a)&&e,a.cc||(e=dd(f,d,!1,a)&&e));if(b)for(g=0;!a.cc&&g<b.length;g++)f=a.currentTarget=b[g],e=dd(f,d,!1,a)&&e;return e};
h.c=function(){W.g.c.call(this);this.Ra&&this.Ra.Ue(void 0);this.og=null};h.oa=function(a,b,c,d){return this.Ra.add(String(a),b,!1,c,d)};h.kg=function(a,b,c,d){return this.Ra.add(String(a),b,!0,c,d)};h.Ya=function(a,b,c,d){return this.Ra.remove(String(a),b,c,d)};function dd(a,b,c,d){b=a.Ra.V[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Lc&&g.Tc==c){var k=g.Xb,m=g.pe||g.src;g.Td&&Pc(a.Ra,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Yi}
h.jd=function(a,b,c,d){return this.Ra.jd(String(a),b,c,d)};h.yb=function(a,b){return this.Ra.yb(s(a)?String(a):void 0,b)};function ed(){}ed.prototype.Ug=null;function fd(a){return a.Ug||(a.Ug=a.bi())};var gd;function hd(){}D(hd,ed);hd.prototype.Gf=function(){var a=id(this);return a?new ActiveXObject(a):new XMLHttpRequest};hd.prototype.bi=function(){var a={};id(this)&&(a[0]=!0,a[1]=!0);return a};
function id(a){if(!a.Th&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Th=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Th}gd=new hd;function jd(){}D(jd,ed);jd.prototype.Gf=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new kd;throw Error("Unsupported browser");};jd.prototype.bi=function(){return{}};
function kd(){this.Ia=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Ia.onload=C(this.Vf,this);this.Ia.onerror=C(this.oe,this);this.Ia.onprogress=C(this.Kk,this);this.Ia.ontimeout=C(this.Rk,this)}h=kd.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Ia.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.Ia.send(a);else throw Error("Only string data is supported");else this.Ia.send()};h.abort=function(){this.Ia.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Ia.contentType:""};h.Vf=function(){this.status=200;this.responseText=this.Ia.responseText;ld(this,4)};h.oe=function(){this.status=500;this.responseText=null;ld(this,4)};h.Rk=function(){this.oe()};
h.Kk=function(){this.status=200;ld(this,1)};function ld(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return"content-type: "+this.Ia.contentType};function md(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function nd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function od(a){return function(){return a}}var pd=od(!1),qd=od(!0);function sd(a){return a}function td(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function ud(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function vd(a){l.setTimeout(function(){throw a;},0)}function wd(a,b){var c=a;b&&(c=C(a,b));c=xd(c);!ka(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(yd||(yd=zd()),yd(c)):l.setImmediate(c)}var yd;
function zd(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!bb("Trident")&&!bb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Vg;c.Vg=null;a()};return function(a){d.next={Vg:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var xd=sd;function Ad(a,b){Bd||Cd();Dd||(Bd(),Dd=!0);Ed.push(new Fd(a,b))}var Bd;function Cd(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();Bd=function(){a.then(Gd)}}else Bd=function(){wd(Gd)}}var Dd=!1,Ed=[];function Gd(){for(;Ed.length;){var a=Ed;Ed=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.fk.call(c.scope)}catch(d){vd(d)}}}Dd=!1}function Fd(a,b){this.fk=a;this.scope=b};function Hd(a,b){this.j=Id;this.pb=void 0;this.ra=this.aa=null;this.ne=this.Pf=!1;try{var c=this;a.call(b,function(a){Jd(c,Kd,a)},function(a){Jd(c,Ld,a)})}catch(d){Jd(this,Ld,d)}}var Id=0,Kd=2,Ld=3;Hd.prototype.then=function(a,b,c){return Md(this,ka(a)?a:null,ka(b)?b:null,c)};md(Hd);Hd.prototype.cancel=function(a){this.j==Id&&Ad(function(){var b=new Nd(a);Od(this,b)},this)};
function Od(a,b){if(a.j==Id)if(a.aa){var c=a.aa;if(c.ra){for(var d=0,e=-1,f=0,g;g=c.ra[f];f++)if(g=g.Vd)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.j==Id&&1==d?Od(c,b):(d=c.ra.splice(e,1)[0],Pd(c,d,Ld,b)))}}else Jd(a,Ld,b)}function Qd(a,b){a.ra&&a.ra.length||a.j!=Kd&&a.j!=Ld||Rd(a);a.ra||(a.ra=[]);a.ra.push(b)}
function Md(a,b,c,d){var e={Vd:null,zi:null,Gi:null};e.Vd=new Hd(function(a,g){e.zi=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Gi=c?function(b){try{var e=c.call(d,b);!s(e)&&b instanceof Nd?g(b):a(e)}catch(n){g(n)}}:g});e.Vd.aa=a;Qd(a,e);return e.Vd}Hd.prototype.Ej=function(a){this.j=Id;Jd(this,Kd,a)};Hd.prototype.Fj=function(a){this.j=Id;Jd(this,Ld,a)};
function Jd(a,b,c){if(a.j==Id){if(a==c)b=Ld,c=new TypeError("Promise cannot resolve to itself");else{if(nd(c)){a.j=1;c.then(a.Ej,a.Fj,a);return}if(la(c))try{var d=c.then;if(ka(d)){Sd(a,c,d);return}}catch(e){b=Ld,c=e}}a.pb=c;a.j=b;Rd(a);b!=Ld||c instanceof Nd||Td(a,c)}}function Sd(a,b,c){function d(b){f||(f=!0,a.Fj(b))}function e(b){f||(f=!0,a.Ej(b))}a.j=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Rd(a){a.Pf||(a.Pf=!0,Ad(a.ck,a))}
Hd.prototype.ck=function(){for(;this.ra&&this.ra.length;){var a=this.ra;this.ra=[];for(var b=0;b<a.length;b++)Pd(this,a[b],this.j,this.pb)}this.Pf=!1};function Pd(a,b,c,d){if(c==Kd)b.zi(d);else{for(;a&&a.ne;a=a.aa)a.ne=!1;b.Gi(d)}}function Td(a,b){a.ne=!0;Ad(function(){a.ne&&Ud.call(null,b)})}var Ud=vd;function Nd(a){ua.call(this,a)}D(Nd,ua);Nd.prototype.name="cancel";function Vd(a,b){W.call(this);this.Vb=a||1;this.Pc=b||l;this.yf=C(this.Im,this);this.jg=ta()}D(Vd,W);h=Vd.prototype;h.enabled=!1;h.r=null;h.setInterval=function(a){this.Vb=a;this.r&&this.enabled?(this.stop(),this.start()):this.r&&this.stop()};h.Im=function(){if(this.enabled){var a=ta()-this.jg;0<a&&a<.8*this.Vb?this.r=this.Pc.setTimeout(this.yf,this.Vb-a):(this.r&&(this.Pc.clearTimeout(this.r),this.r=null),this.dispatchEvent(Wd),this.enabled&&(this.r=this.Pc.setTimeout(this.yf,this.Vb),this.jg=ta()))}};
h.start=function(){this.enabled=!0;this.r||(this.r=this.Pc.setTimeout(this.yf,this.Vb),this.jg=ta())};h.stop=function(){this.enabled=!1;this.r&&(this.Pc.clearTimeout(this.r),this.r=null)};h.c=function(){Vd.g.c.call(this);this.stop();delete this.Pc};var Wd="tick";function Xd(a,b,c){if(ka(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Yd(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Zd(a){if("function"==typeof a.Ta)return a.Ta();if(w(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return fb(a)}function $d(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||w(a))F(a,b,c);else{var d;if("function"==typeof a.Sa)d=a.Sa();else if("function"!=typeof a.Ta)if(ia(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=gb(a);else d=void 0;for(var e=Zd(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function ae(a,b){this.b={};this.p=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ae?(c=a.Sa(),d=a.Ta()):(c=gb(a),d=fb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=ae.prototype;h.gb=function(){return this.i};h.Ta=function(){be(this);for(var a=[],b=0;b<this.p.length;b++)a.push(this.b[this.p[b]]);return a};h.Sa=function(){be(this);return this.p.concat()};
h.ea=function(a){return ce(this.b,a)};h.sh=function(a,b){if(this===a)return!0;if(this.i!=a.gb())return!1;var c=b||de;be(this);for(var d,e=0;d=this.p[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function de(a,b){return a===b}h.lb=function(){return 0==this.i};h.clear=function(){this.b={};this.i=this.p.length=0};h.remove=function(a){return ce(this.b,a)?(delete this.b[a],this.i--,this.p.length>2*this.i&&be(this),!0):!1};
function be(a){if(a.i!=a.p.length){for(var b=0,c=0;b<a.p.length;){var d=a.p[b];ce(a.b,d)&&(a.p[c++]=d);b++}a.p.length=c}if(a.i!=a.p.length){for(var e={},c=b=0;b<a.p.length;)d=a.p[b],ce(e,d)||(a.p[c++]=d,e[d]=1),b++;a.p.length=c}}h.get=function(a,b){return ce(this.b,a)?this.b[a]:b};h.set=function(a,b){ce(this.b,a)||(this.i++,this.p.push(a));this.b[a]=b};h.forEach=function(a,b){for(var c=this.Sa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new ae(this)};
function ce(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ee=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function fe(a){if(ge){ge=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=fe(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw ge=!0,Error();}}return a.match(ee)}var ge=M;function he(a){W.call(this);this.headers=new ae;this.of=a||null;this.wa=!1;this.nf=this.e=null;this.Ae=this.hg="";this.Ub=this.ag=this.ue=this.Of=!1;this.df=0;this.Gb=null;this.Xi=ie;this.Jg=this.cn=!1}D(he,W);var ie="",je=/^https?$/i,ke=["POST","PUT"];h=he.prototype;
h.send=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.hg+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.hg=a;this.Ae="";this.Of=!1;this.wa=!0;this.e=this.of?this.of.Gf():gd.Gf();this.nf=this.of?fd(this.of):fd(gd);this.e.onreadystatechange=C(this.Fi,this);try{this.ag=!0,this.e.open(b,String(a),!0),this.ag=!1}catch(e){this.ce(5,e);return}a=c||"";var f=this.headers.clone();d&&$d(d,function(a,b){f.set(b,a)});d=Qa(f.Sa(),le);c=l.FormData&&a instanceof
l.FormData;!(0<=La(ke,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.e.setRequestHeader(b,a)},this);this.Xi&&(this.e.responseType=this.Xi);"withCredentials"in this.e&&(this.e.withCredentials=this.cn);try{me(this),0<this.df&&((this.Jg=ne(this.e))?(this.e.timeout=this.df,this.e.ontimeout=C(this.hc,this)):this.Gb=Xd(this.hc,this.df,this)),this.ue=!0,this.e.send(a),this.ue=!1}catch(g){this.ce(5,g)}};
function ne(a){return L&&N(9)&&ja(a.timeout)&&s(a.ontimeout)}function le(a){return"content-type"==a.toLowerCase()}h.hc=function(){"undefined"!=typeof ca&&this.e&&(this.Ae="Timed out after "+this.df+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};h.ce=function(a,b){this.wa=!1;this.e&&(this.Ub=!0,this.e.abort(),this.Ub=!1);this.Ae=b;oe(this);pe(this)};function oe(a){a.Of||(a.Of=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(){this.e&&this.wa&&(this.wa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pe(this))};h.c=function(){this.e&&(this.wa&&(this.wa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1),pe(this,!0));he.g.c.call(this)};h.Fi=function(){this.Yc||(this.ag||this.ue||this.Ub?qe(this):this.Jl())};h.Jl=function(){qe(this)};
function qe(a){if(a.wa&&"undefined"!=typeof ca&&(!a.nf[1]||4!=re(a)||2!=se(a)))if(a.ue&&4==re(a))Xd(a.Fi,0,a);else if(a.dispatchEvent("readystatechange"),4==re(a)){a.wa=!1;try{if(te(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<re(a)?a.e.statusText:""}catch(c){b=""}a.Ae=b+" ["+se(a)+"]";oe(a)}}finally{pe(a)}}}function pe(a,b){if(a.e){me(a);var c=a.e,d=a.nf[0]?ea:null;a.e=null;a.nf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function me(a){a.e&&a.Jg&&(a.e.ontimeout=null);ja(a.Gb)&&(l.clearTimeout(a.Gb),a.Gb=null)}h.Ac=function(){return!!this.e};function te(a){var b=se(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=fe(String(a.hg))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!je.test(a?a.toLowerCase():"");c=b}return c}function re(a){return a.e?a.e.readyState:0}
function se(a){try{return 2<re(a)?a.e.status:-1}catch(b){return-1}}function ue(a){if(a.e)return Yd(a.e.responseText)}h.getResponseHeader=function(a){return this.e&&4==re(this)?this.e.getResponseHeader(a):void 0};h.getAllResponseHeaders=function(){return this.e&&4==re(this)?this.e.getAllResponseHeaders():""};function ve(){W.call(this);this.fh=Q("counties-list");this.Pg=Q("application-panel");this.Xj=Q("county-detail-name");this.Wj=Q("county-detail-hide");U(this.Wj,"click",function(a){this.Ja&&qc(this.Ja.qd,"active");this.Ja=null;oc(this.Pg,"no-county-detail");a.preventDefault()},!1,this);this.jl=Q("map-list");this.di="";var a=Q("item-template");a&&(this.di=a.innerHTML,ac(a));this.Fe=Q("map-filter");this.il=Q("map-filter-clear");U(this.Fe,"input",function(){we(this,this.Fe.value)},!1,this);U(this.il,"click",
function(){we(this,"")},!1,this);this.Ah=Q("georeference-random");U(this.Ah,"click",function(a){xe(this,this.Ah.href,"/random/public/georeference/json");a.preventDefault()},!1,this);this.yj=Q("transcribe-random");U(this.yj,"click",function(a){xe(this,this.yj.href,"/random/public/transcription/json");a.preventDefault()},!1,this);this.xa=[];this.Yf=this.Ja=null;this.sd=[];ye(this);this.gc="all";a=C(function(a){U(Q("map-filter-"+a),"click",function(){ze(this,a)},!1,this)},this);a("all");a("scanned");
a("notgeorefed");a("nottransed");a("notfin");this.bm=Q("progress-total-count");this.cm=Q("progress-visual");this.am=Q("progress-percent");this.Xl=Q("progress-count");this.$l=Q("progress-not-visual");this.Zl=Q("progress-not-percent");this.Yl=Q("progress-not-count");this.mj=Q("stats-docs-total");this.nj=Q("stats-docs-transed");this.pj=Q("stats-maps-total");this.oj=Q("stats-maps-georefed")}D(ve,W);
function ye(a){if(a.fh){var b=Lb("LI",a.fh);F(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=Lb("A",a)[0],f=gc(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),k=null;w(g)&&(g=g.split(","),k=[parseFloat(g[1]),parseFloat(g[0])]);this.xa.push({name:f,id:b,center:k,anchor:e,qd:a});U(e,"click",function(a){Ae(this,f);a.preventDefault()},!1,this)}}},a)}}
function Be(a,b){a.Yf&&qc(a.Yf.qd,"highlighted");if(b){var c=Qa(a.xa,function(a){return a.name==b});c&&(oc(c.qd,"highlighted"),a.Yf=c)}}
function Ae(a,b,c){if(a.Ja&&a.Ja.name==b)c&&c();else{var d=Qa(a.xa,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new he(new jd);U(f,"complete",function(){if(te(f)){var a=ue(f);Ce(this,a);c&&c()}},!1,a);f.send(e);dc(a.mj,"...");dc(a.pj,"...");dc(a.nj,"...");dc(a.oj,"...");var e="http://cynefin.georeferencer.com/collection/"+d.id+"/stats.json",g=new he(new jd);U(g,"complete",function(){if(te(g)){var a=ue(g);window.console.log(a);var b=
a.map,c=b.supplement,a=b.objects,b=a-b.products.georeference.fresh,d=c.objects,c=d-c.products.transcription.fresh;dc(this.mj,d);dc(this.pj,a);dc(this.nj,c);dc(this.oj,b);De(this,b,a)}},!1,a);g.send(e);dc(a.Xj,b);qc(a.Pg,"no-county-detail");De(a,null,null);a.Ja&&qc(a.Ja.qd,"active");oc(d.qd,"active");a.Ja=d;a.dispatchEvent({type:"opened",sn:b,center:d.center})}}}
function Ee(a){return a.title+"|"+Fe(new Ge(a.transcription_url||""))+"|"+Fe(new Ge(a.georeference_url||""))+"|"+Fe(new Ge(a.visualize_url||""))+"||"+Fe(new Ge(a.object_url||""))}
function He(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",Ee(b));return a}
function Ce(a,b){function c(a,b){dc(Q("map-count-"+a),b)}F(a.sd,function(a){F(a.keys,V);ac(a.node)});a.sd=[];we(a,"");ze(a,"all");var d=0,e=0,f=0,g=0,k=0;F(b,function(a){var b;var c=He(this.di,a),q=document;b=q.createElement("div");L?(b.innerHTML="\x3cbr\x3e"+c,b.removeChild(b.firstChild)):b.innerHTML=c;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(c=q.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b=c}b=b.firstElementChild;this.jl.appendChild(b);var t=a.georeference_status,
q=(c=null!=a.thumbnail_url)&&null==a.visualize_url,t=null===t||"fresh"==t;d++;c&&e++;q&&f++;g++;t&&k++;this.sd.push({title:Ie(a.title),Ml:a.identifier,node:b,keys:[],mm:c,Gl:q,Hl:!0,Fl:t})},a);c("all",d);c("scanned",e);c("notgeorefed",f);c("nottransed",g);c("notfin",k);Je(Q("map-filter-scanned-block"),d!=e)}
function De(a,b,c){var d=null===b||null===c?0:100*b/c;dc(a.bm,c||0);dc(a.Xl,b||0);dc(a.am,Math.floor(d)+"%");a.cm.style.width=d+"%";dc(a.Yl,(c||0)-(b||0));dc(a.Zl,100-Math.floor(d)+"%");a.$l.style.width=100-d+"%"}function xe(a,b,c){if(a.Ja){c="http://cynefin.georeferencer.com/collection/"+a.Ja.id+c;var d=new he(new jd);U(d,"complete",function(){if(te(d)){var a=ue(d),a=b+"#"+Ee(a);window.location=a}},!1,a);d.send(c)}}function we(a,b){a.Fe.value=b;Ke(a)}
function ze(a,b){qc(Q("map-filter-"+a.gc),"active");oc(Q("map-filter-"+b),"active");a.gc=b;Ke(a)}function Ke(a){var b=Ie(a.Fe.value).split(" or ");F(a.sd,function(a){var d=!("all"==this.gc||"scanned"==this.gc&&a.mm||"notgeorefed"==this.gc&&a.Gl||"nottransed"==this.gc&&a.Hl||"notfin"==this.gc&&a.Fl)||Pa(b,function(b){return-1==a.title.indexOf(b)});sc(a.node,"filtered",d)},a)}function Le(a,b){var c="";F(a.sd,function(a){0<=La(a.Ml.split("|"),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);we(a,c)}
function Ie(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function Me(a,b,c){W.call(this);this.Cb=a;this.Ad=c;this.ia=b;U(b,[Ne,Oe,Pe,Re],this.handleEvent,!1,this);this.Ha=null;this.I=[];this.zb=-1;this.Z=0;this.Mb=this.C=null;this.$h={}}D(Me,W);h=Me.prototype;h.ol=10;h.Rj=!0;h.Og=!1;h.Mj=!1;h.zj=!1;var Ne="hilite",Oe="select",Re="dismiss",Pe="canceldismiss";h=Me.prototype;
h.handleEvent=function(a){var b=this.Cb;if(a.target==this.ia)switch(a.type){case Ne:this.kb(a.Wa);break;case Oe:var c=!1;if(ja(a.Wa)){a=a.Wa;var d=this.I[Se(this,a)],c=!!d&&b.cg&&b.cg(d);d&&!c&&this.zb!=a&&this.kb(a)}c||Te(this);break;case Pe:Ue(this);break;case Re:Ve(this)}};h.Bg=function(a){this.Ha!=a&&(this.Ha=a,We(this.Cb,this.Ha,this.ol,C(this.kl,this)),Ue(this))};h.ub=function(){return this.C};h.Ag=function(a){this.C=a};
function Xe(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>=a.Z&&c<b)c++;else if(-1==c)c=a.Z;else if(a.Og&&c==b){a.kb(-1);break}else if(a.Mj&&c==b)c=a.Z;else break;if(a.kb(c))break}}function Ye(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>a.Z)c--;else if(a.Og&&c==a.Z){a.kb(-1);break}else if(!a.Mj||-1!=c&&c!=a.Z)break;else c=b;if(a.kb(c))break}}h.kb=function(a){var b=Se(this,a),c=this.I[b];return c&&this.Cb.cg&&this.Cb.cg(c)?!1:(this.zb=a,this.ia.kb(a),-1!=b)};
function Te(a){var b=Se(a,a.zb);if(-1!=b){var c=a.I[b],d=a.Ad;if(d.h){var e=c.toString();if(s(void 0)?0:d.Dc){var f=Ze(d,d.h.value,$e(d.h)),g=af(d,d.h.value);d.nm.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.Yj);d.$m&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.h;(sb||L&&N("9"))&&e.blur();e.value=g.join("");for(var k=0,m=0;m<=f;m++)k+=g[m].length;e.focus();f=k;g=d.h;e=f;bf(g)?g.selectionStart=e:L&&(k=cf(g),m=k[0],m.inRange(k[1])&&(e=df(g,e),m.collapse(!0),
m.move("character",e),m.select()));g=d.h;bf(g)?g.selectionEnd=f:L&&(k=cf(g),e=k[1],k[0].inRange(e)&&(f=df(g,f),g=df(g,$e(g)),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.h.value=e;d.wg=!0}a.zj?(a.Ha=null,Ve(a)):a.Na();a.dispatchEvent({type:"update",Wa:c,index:b});a.zj&&a.Ad.update(!0);return!0}a.Na();a.dispatchEvent({type:"update",Wa:null,index:null});return!1}
h.Na=function(){this.zb=-1;this.Ha=null;this.Z+=this.I.length;this.I=[];window.clearTimeout(this.Mb);this.Mb=null;this.ia.Na();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Re)};function Ve(a){a.Mb||(a.Mb=window.setTimeout(C(a.Na,a),100))}h.Zh=function(){return this.Mb?(window.clearTimeout(this.Mb),this.Mb=null,!0):!1};function Ue(a){a.Zh()||window.setTimeout(C(a.Zh,a),10)}h.c=function(){Me.g.c.call(this);delete this.$h;this.ia.eb();this.Ad.eb();this.Cb=null};
h.kl=function(a,b,c){this.Ha==a&&this.sg(b,c)};h.sg=function(a,b){var c="object"==ga(b)&&b,d=(c?c.Cn():b)?Se(this,this.zb):-1;this.Z+=this.I.length;this.I=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.Z+f,data:a[f]});f=null;this.C&&(f=this.$h[B(this.C)]||this.C);this.ia.Pj=f;this.ia.sg(e,this.Ha,this.C);f=this.Rj;c&&void 0!==c.jk()&&(f=c.jk());this.zb=-1;(f||0<=d)&&0!=e.length&&this.Ha&&(0<=d?this.kb(this.Z+d):Xe(this));this.dispatchEvent("suggestionsupdate")};
function Se(a,b){var c=b-a.Z;return 0>c||c>=a.I.length?-1:c}h.vf=function(a){var b=this.Ad;b.vf.apply(b,arguments)};h.update=function(a){this.Ad.update(a)};var ef;function ff(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function gf(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(ef||(ef={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=ef,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function hf(a,b){var c="";b&&(c=b.id);gf(a,"activedescendant",c)};function $e(a){var b;a:{var c=0,d=0;if(bf(a))c=a.selectionStart,d=-1;else if(L){var e=cf(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function cf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function df(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function bf(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function jf(a){wc.call(this);this.xb=a;this.p={}}D(jf,wc);var kf=[];h=jf.prototype;h.oa=function(a,b,c,d){ha(b)||(b&&(kf[0]=b.toString()),b=kf);for(var e=0;e<b.length;e++){var f=U(a,b[e],c||this.handleEvent,d||!1,this.xb||this);if(!f)break;this.p[f.key]=f}return this};h.kg=function(a,b,c,d){return lf(this,a,b,c,d)};function lf(a,b,c,d,e,f){if(ha(c))for(var g=0;g<c.length;g++)lf(a,b,c[g],d,e,f);else{b=Zc(b,c,d||a.handleEvent,e,f||a.xb||a);if(!b)return a;a.p[b.key]=b}return a}
h.Ya=function(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)this.Ya(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.xb||this,c=Tc(c),d=!!d,b=Jc(a)?a.jd(b,c,d,e):a?(a=Vc(a))?a.jd(b,c,d,e):null:null,b&&(V(b),delete this.p[b.key]);return this};h.Ue=function(){cb(this.p,V);this.p={}};h.c=function(){jf.g.c.call(this);this.Ue()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function mf(a,b,c,d,e){if(!(L||M&&N("525")))return!0;if(nb&&e)return nf(a);if(e&&!d)return!1;ja(b)&&(b=of(b));if(!c&&(17==b||18==b||nb&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(L&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!M}return nf(a)}
function nf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function of(a){if(sb)a=pf(a);else if(nb&&M)a:switch(a){case 93:a=91;break a}return a}
function pf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function qf(a,b){W.call(this);a&&rf(this,a,b)}D(qf,W);h=qf.prototype;h.a=null;h.we=null;h.dg=null;h.xe=null;h.na=-1;h.Ab=-1;h.sf=!1;
var sf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},tf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},uf=L||M&&N("525"),vf=nb&&sb;h=qf.prototype;
h.rk=function(a){M&&(17==this.na&&!a.ctrlKey||18==this.na&&!a.altKey||nb&&91==this.na&&!a.metaKey)&&(this.Ab=this.na=-1);-1==this.na&&(a.ctrlKey&&17!=a.keyCode?this.na=17:a.altKey&&18!=a.keyCode?this.na=18:a.metaKey&&91!=a.keyCode&&(this.na=91));uf&&!mf(a.keyCode,this.na,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ab=of(a.keyCode),vf&&(this.sf=a.altKey))};h.tk=function(a){this.Ab=this.na=-1;this.sf=a.altKey};
h.handleEvent=function(a){var b=a.l,c,d,e=b.altKey;L&&"keypress"==a.type?(c=this.Ab,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Ab,d=0<=b.charCode&&63232>b.charCode&&nf(c)?b.charCode:0):rb?(c=this.Ab,d=nf(c)?b.keyCode:0):(c=b.keyCode||this.Ab,d=b.charCode||0,vf&&(e=this.sf),nb&&63==d&&224==c&&(c=191));var f=c=of(c),g=b.keyIdentifier;c?63232<=c&&c in sf?f=sf[c]:25==c&&a.shiftKey&&(f=9):g&&g in tf&&(f=tf[g]);a=f==this.na;this.na=f;b=new wf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
h.fd=function(){return this.a};function rf(a,b,c){a.xe&&a.detach();a.a=b;a.we=U(a.a,"keypress",a,c);a.dg=U(a.a,"keydown",a.rk,c,a);a.xe=U(a.a,"keyup",a.tk,c,a)}h.detach=function(){this.we&&(V(this.we),V(this.dg),V(this.xe),this.xe=this.dg=this.we=null);this.a=null;this.Ab=this.na=-1};h.c=function(){qf.g.c.call(this);this.detach()};function wf(a,b,c,d){Fc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(wf,Fc);var xf,yf;yf=xf=!1;var zf=Za;zf&&(-1!=zf.indexOf("Firefox")||-1!=zf.indexOf("Camino")||(-1!=zf.indexOf("iPhone")||-1!=zf.indexOf("iPod")?xf=!0:-1!=zf.indexOf("iPad")&&(yf=!0)));var Af=xf,Bf=yf;function Cf(a,b,c,d){wc.call(this);d=d||150;this.Dc=null!=c?c:!0;this.Bd=a||",;";this.Yj=this.Bd.substring(0,1);a=this.Dc?"[\\s"+this.Bd+"]+":"[\\s]+";this.Aj=new RegExp("^"+a+"|"+a+"$","g");this.nm=new RegExp("\\s*["+this.Bd+"]$");this.oi=b||"";this.Wl=!1;this.Vl=this.Dc;this.r=0<d?new Vd(d):null;this.R=new jf(this);this.qf=new jf(this);this.Ua=new qf;this.hi=-1}D(Cf,wc);var Df=(Af||Bf)&&!N("533.17.9");h=Cf.prototype;h.$m=!0;h.ik=!0;h.Jj=!1;h.pm=!0;h.om=!0;h.rf=null;h.h=null;h.ig="";h.Hb=!1;
h.wg=!1;h.Hj=!0;h.vf=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];bc(c)&&gf(c,"haspopup",!0);this.R.oa(c,"focus",this.Mh);this.R.oa(c,"blur",this.nk);if(!this.h&&(this.qf.oa(c,"keydown",this.Il),bc(c))){var d;a:{var e=Kb(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&Ef(this,c)}}};h.c=function(){Cf.g.c.call(this);null!=this.rf&&window.clearTimeout(this.rf);this.R.eb();delete this.R;this.qf.eb();this.Ua.eb();Ac(this.r)};
function Ff(a){a.r?a.r.setInterval(300):a.r=new Vd(300)}
function Gf(a,b){switch(b.keyCode){case 40:if(a.w.ia.Za){a.Jj?Ye(a.w):Xe(a.w);b.preventDefault();return}if(!a.Dc){a.update(!0);b.preventDefault();return}break;case 38:if(a.w.ia.Za){a.Jj?Xe(a.w):Ye(a.w);b.preventDefault();return}break;case 9:if(!a.w.ia.Za||b.shiftKey||a.Wl)a.w.Na();else if(a.update(),Te(a.w)&&a.Vl){b.preventDefault();return}break;case 13:if(a.w.ia.Za){if(a.update(),Te(a.w)){b.preventDefault();b.stopPropagation();return}}else a.w.Na();break;case 27:if(a.w.ia.Za){a.w.Na();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.Hb){a.Hb||(a.R.oa(a.h,"keyup",a.Ci),a.R.oa(a.h,"keypress",a.Bi),a.Hb=!0);return}break;default:a.r&&!a.Hj&&(a.r.stop(),a.r.start())}Hf(a,b)}function Hf(a,b){var c=a.Dc&&b.charCode&&-1!=a.Bd.indexOf(String.fromCharCode(b.charCode));a.pm&&c&&a.update();a.om&&c&&Te(a.w)&&b.preventDefault()}h.sk=function(){return!1};h.Mh=function(a){Ef(this,a.target||null)};
function Ef(a,b){a.qf.Ue();a.w&&Ue(a.w);b!=a.h&&(a.h=b,a.r&&(a.r.start(),a.R.oa(a.r,Wd,a.Hi)),a.ig=a.h.value,rf(a.Ua,a.h),a.R.oa(a.Ua,"key",a.Di),a.R.oa(a.h,"mousedown",a.Ei),L&&a.R.oa(a.h,"keypress",a.Ai))}h.nk=function(){Df?this.rf=window.setTimeout(C(this.Oi,this),0):this.Oi()};
h.Oi=function(){this.h&&(this.R.Ya(this.Ua,"key",this.Di),this.Ua.detach(),this.R.Ya(this.h,"keyup",this.sk),this.R.Ya(this.h,"mousedown",this.Ei),L&&this.R.Ya(this.h,"keypress",this.Ai),this.Hb&&If(this),this.h=null,this.r&&(this.r.stop(),this.R.Ya(this.r,Wd,this.Hi)),this.w&&Ve(this.w))};h.Hi=function(){this.update()};h.Il=function(a){this.Mh(a)};h.Di=function(a){this.hi=a.keyCode;this.w&&Gf(this,a)};h.Bi=function(){this.Hb&&229!=this.hi&&If(this)};
h.Ci=function(a){this.Hb&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&If(this)};h.Ei=function(){};function If(a){a.Hb&&(a.Hb=!1,a.R.Ya(a.h,"keypress",a.Bi),a.R.Ya(a.h,"keyup",a.Ci))}h.Ai=function(a){Hf(this,a)};h.update=function(a){if(this.h&&(a||this.h.value!=this.ig)){if(a||!this.wg){a=$e(this.h);var b=this.h.value;a=af(this,b)[Ze(this,b,a)];a=this.Aj?String(a).replace(this.Aj,""):a;this.w&&(this.w.Ag(this.h),this.w.Bg(a,this.h.value))}this.ig=this.h.value}this.wg=!1};
function Ze(a,b,c){a=af(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}function af(a,b){if(!a.Dc)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.oi&&-1!=a.oi.indexOf(c[f])?(a.ik&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.Bd.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Jf(){W.call(this);this.j=Kf;this.endTime=this.startTime=null}D(Jf,W);var Kf=0;Jf.prototype.Yb=function(){this.Oa("begin")};Jf.prototype.Ec=function(){this.Oa("end")};Jf.prototype.Oa=function(a){this.dispatchEvent(a)};function Lf(a,b,c){wc.call(this);this.rd=a;this.xb=c;this.$a=b||window;this.Sc=C(this.Lf,this)}D(Lf,wc);h=Lf.prototype;h.u=null;h.Kg=!1;h.start=function(){this.stop();this.Kg=!1;var a=Mf(this),b=Nf(this);a&&!b&&this.$a.mozRequestAnimationFrame?(this.u=U(this.$a,"MozBeforePaint",this.Sc),this.$a.mozRequestAnimationFrame(null),this.Kg=!0):this.u=a&&b?a.call(this.$a,this.Sc):this.$a.setTimeout(td(this.Sc),20)};
h.stop=function(){if(this.Ac()){var a=Mf(this),b=Nf(this);a&&!b&&this.$a.mozRequestAnimationFrame?V(this.u):a&&b?b.call(this.$a,this.u):this.$a.clearTimeout(this.u)}this.u=null};h.Ac=function(){return null!=this.u};h.Lf=function(){this.Kg&&this.u&&V(this.u);this.u=null;this.rd.call(this.xb,ta())};h.c=function(){this.stop();Lf.g.c.call(this)};
function Mf(a){a=a.$a;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Nf(a){a=a.$a;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Of(a,b,c){wc.call(this);this.rd=a;this.Vb=b||0;this.xb=c;this.Sc=C(this.Lf,this)}D(Of,wc);h=Of.prototype;h.u=0;h.c=function(){Of.g.c.call(this);this.stop();delete this.rd;delete this.xb};h.start=function(a){this.stop();this.u=Xd(this.Sc,s(a)?a:this.Vb)};h.stop=function(){this.Ac()&&l.clearTimeout(this.u);this.u=0};h.Ac=function(){return 0!=this.u};h.Lf=function(){this.u=0;this.rd&&this.rd.call(this.xb)};var Pf={},Qf=null;function Rf(a){a=B(a);delete Pf[a];hb(Pf)&&Qf&&Qf.stop()}function Sf(){Qf||(Qf=new Of(function(){Tf()},20));var a=Qf;a.Ac()||a.start()}function Tf(){var a=ta();cb(Pf,function(b){Uf(b,a)});hb(Pf)||Sf()};function Vf(a,b,c,d){Jf.call(this);if(!ha(a)||!ha(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Gd=a;this.bk=b;this.duration=c;this.Lg=d;this.coords=[]}D(Vf,Jf);h=Vf.prototype;h.va=0;
h.play=function(a){if(a||this.j==Kf)this.va=0,this.coords=this.Gd;else if(1==this.j)return!1;Rf(this);this.startTime=a=ta();-1==this.j&&(this.startTime-=this.duration*this.va);this.endTime=this.startTime+this.duration;this.va||this.Yb();this.Oa("play");-1==this.j&&this.Oa("resume");this.j=1;var b=B(this);b in Pf||(Pf[b]=this);Sf();Uf(this,a);return!0};h.stop=function(a){Rf(this);this.j=Kf;a&&(this.va=1);Wf(this,this.va);this.Oa("stop");this.Ec()};
h.pause=function(){1==this.j&&(Rf(this),this.j=-1,this.Oa("pause"))};h.c=function(){this.j==Kf||this.stop(!1);this.Oa("destroy");Vf.g.c.call(this)};function Uf(a,b){a.va=(b-a.startTime)/(a.endTime-a.startTime);1<=a.va&&(a.va=1);Wf(a,a.va);1==a.va?(a.j=Kf,Rf(a),a.Oa("finish"),a.Ec()):1==a.j&&a.ng()}function Wf(a,b){ka(a.Lg)&&(b=a.Lg(b));a.coords=Array(a.Gd.length);for(var c=0;c<a.Gd.length;c++)a.coords[c]=(a.bk[c]-a.Gd[c])*b+a.Gd[c]}h.ng=function(){this.Oa("animate")};
h.Oa=function(a){this.dispatchEvent(new Xf(a,this))};function Xf(a,b){S.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.va=b.va;this.state=b.j}D(Xf,S);function Yf(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}h=Yf.prototype;h.vb=function(){return this.right-this.left};h.he=function(){return this.bottom-this.top};h.clone=function(){return new Yf(this.top,this.right,this.bottom,this.left)};h.contains=function(a){return this&&a?a instanceof Yf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
h.expand=function(a,b,c,d){la(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};h.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};h.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
h.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};h.translate=function(a,b){a instanceof P?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ja(b)&&(this.top+=b,this.bottom+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function Zf(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}h=Zf.prototype;h.clone=function(){return new Zf(this.left,this.top,this.width,this.height)};h.ci=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
h.contains=function(a){return a instanceof Zf?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function $f(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}h.distance=function(a){return Math.sqrt($f(this,a))};h.T=function(){return new Gb(this.width,this.height)};
h.ma=function(){return new P(this.left+this.width/2,this.top+this.height/2)};h.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.translate=function(a,b){a instanceof P?(this.left+=a.x,this.top+=a.y):(this.left+=a,ja(b)&&(this.top+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function ag(a,b){var c=Kb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function bg(a,b){return ag(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function cg(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}L&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function dg(a){if(L&&!(L&&8<=Ab))return a.offsetParent;var b=Kb(a),c=bg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=bg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function eg(a){for(var b=new Yf(0,Infinity,Infinity,0),c=Ib(a),d=c.fa.body,e=c.fa.documentElement,f=Pb(c.fa);a=dg(a);)if(!(L&&0==a.clientWidth||M&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=bg(a,"overflow")){var g=fg(a),k;k=a;if(sb&&!N("1.9")){var m=parseFloat(ag(k,"borderLeftWidth"));if(gg(k))var n=k.offsetWidth-k.clientWidth-m-parseFloat(ag(k,"borderRightWidth")),m=m+n;k=new P(m,parseFloat(ag(k,"borderTopWidth")))}else k=new P(k.clientLeft,k.clientTop);g.x+=k.x;g.y+=k.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=Ob(Qb(c.fa)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function fg(a){var b,c=Kb(a),d=bg(a,"position"),e=sb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new P(0,0),g;b=c?Kb(c):document;g=!L||L&&9<=Ab||kc(Ib(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=cg(a),a=lc(Ib(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(M&&"fixed"==bg(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(rb||M&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=dg(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,rb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function hg(a){var b;if(a.getBoundingClientRect)b=cg(a),b=new P(b.left,b.top);else{b=lc(Ib(a));var c=fg(a);b=new P(c.x-b.x,c.y-b.y)}if(sb&&!N(12)){b:{c=Ia();if(void 0===a.style[c]&&(c=(M?"Webkit":sb?"Moz":L?"ms":rb?"O":null)+Ja(c),void 0!==a.style[c])){c=(M?"-webkit":sb?"-moz":L?"-ms":rb?"-o":null)+"-transform";break b}c="transform"}a=(a=bg(a,c)||bg(a,"transform"))?(a=a.match(ig))?new P(parseFloat(a[1]),parseFloat(a[2])):new P(0,0):new P(0,0);a=new P(b.x+a.x,b.y+a.y)}else a=b;return a}
function jg(a){if(1==a.nodeType)return hg(a);var b=ka(a.kk),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.l.targetTouches&&a.l.targetTouches.length&&(c=a.l.targetTouches[0]);return new P(c.clientX,c.clientY)}function kg(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function lg(a){var b=mg;if("none"!=bg(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function mg(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;return s(b)&&!d||!a.getBoundingClientRect?new Gb(b,c):(a=cg(a),new Gb(a.right-a.left,a.bottom-a.top))}function Je(a,b){a.style.display=b?"":"none"}function gg(a){return"rtl"==bg(a,"direction")}
var ng=sb?"MozUserSelect":M?"WebkitUserSelect":null;function og(a){var b=a.getElementsByTagName("*");if(ng){var c="none";a.style[ng]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[ng]=c}}else if(L||rb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function pg(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function qg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?pg(a,c,"left","pixelLeft"):0}function rg(a){if(L){var b=qg(a,"paddingLeft"),c=qg(a,"paddingRight"),d=qg(a,"paddingTop");a=qg(a,"paddingBottom");return new Yf(d,c,a,b)}b=ag(a,"paddingLeft");c=ag(a,"paddingRight");d=ag(a,"paddingTop");a=ag(a,"paddingBottom");return new Yf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var sg={thin:2,medium:4,thick:6};
function tg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in sg?sg[c]:pg(a,c,"left","pixelLeft")}
function ug(a){if(L&&!(L&&9<=Ab)){var b=tg(a,"borderLeft"),c=tg(a,"borderRight"),d=tg(a,"borderTop");a=tg(a,"borderBottom");return new Yf(d,c,a,b)}b=ag(a,"borderLeftWidth");c=ag(a,"borderRightWidth");d=ag(a,"borderTopWidth");a=ag(a,"borderBottomWidth");return new Yf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var ig=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function vg(a,b,c,d,e){Vf.call(this,b,c,d,e);this.element=a}D(vg,Vf);vg.prototype.kf=ea;vg.prototype.ng=function(){this.kf();vg.g.ng.call(this)};vg.prototype.Ec=function(){this.kf();vg.g.Ec.call(this)};vg.prototype.Yb=function(){this.kf();vg.g.Yb.call(this)};function wg(a,b,c,d,e){ja(b)&&(b=[b]);ja(c)&&(c=[c]);vg.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(wg,vg);
wg.prototype.kf=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};wg.prototype.show=function(){this.element.style.display=""};function xg(a,b,c){wg.call(this,a,1,0,b,c)}D(xg,wg);xg.prototype.Yb=function(){this.show();xg.g.Yb.call(this)};xg.prototype.Ec=function(){this.element.style.display="none";xg.g.Ec.call(this)};function yg(a,b,c){wg.call(this,a,0,1,b,c)}D(yg,wg);
yg.prototype.Yb=function(){this.show();yg.g.Yb.call(this)};function zg(a,b){return(b&4&&gg(a)?b^2:b)&-5};function Ag(){}fa(Ag);Ag.prototype.vi=0;function Bg(a,b,c,d){W.call(this);this.aa=a||document.body;this.Pa=Ib(this.aa);this.km=!a;this.a=null;this.Ha="";this.I=[];this.ec=[];this.lj=this.re=-1;this.Za=!1;this.className="ac-renderer";this.vg="ac-row";this.ji="active";this.Mg="ac-active";this.Vk="ac-highlighted";this.pc=b||null;this.Wm=null!=d?d:!0;this.ll=!0;this.qe=!1;this.lm=!!c;this.ef=!1;this.Je=0;this.kj=!1}D(Bg,W);h=Bg.prototype;h.fd=function(){return this.a};
h.sg=function(a,b,c){this.Ha=b;this.I=a;this.re=-1;this.lj=ta();this.C=c;this.ec=[];Cg(this)};h.Na=function(){this.C&&hf(this.C,null);this.Za&&(this.Za=!1,this.C&&gf(this.C,"haspopup",!1),0<this.Je?(Ac(this.nc),this.nc=new xg(this.a,this.Je),this.nc.play()):Je(this.a,!1))};h.show=function(){this.Za||(this.Za=!0,this.C&&(ff(this.C,"combobox"),gf(this.C,"autocomplete","list"),gf(this.C,"haspopup",!0)),0<this.Je?(Ac(this.nc),this.nc=new yg(this.a,this.Je),this.nc.play()):Je(this.a,!0))};
function Dg(a,b){var c=0<=b&&b<a.I.length?a.I[b]:void 0,d=0<=b&&b<a.ec.length?a.ec[b]:void 0;if(a.dispatchEvent({type:"rowhilite",Gn:d,Wa:c?c.data:null})&&(0<=a.re&&rc(a.ec[a.re],[a.Mg,a.ji]),a.re=b,d)){pc(d,[a.Mg,a.ji]);a.C&&hf(a.C,d);var c=a.a,e=fg(d),f=fg(c),g=ug(c),k=e.x-f.x-g.left,e=e.y-f.y-g.top,f=c.clientHeight-d.offsetHeight,g=c.scrollLeft,m=c.scrollTop,g=g+Math.min(k,Math.max(k-(c.clientWidth-d.offsetWidth),0)),m=m+Math.min(e,Math.max(e-f,0)),d=new P(g,m);c.scrollLeft=d.x;c.scrollTop=d.y}}
h.kb=function(a){if(-1==a)Dg(this,-1);else for(var b=0;b<this.I.length;b++)if(this.I[b].id==a){Dg(this,b);break}};function Eg(a){if(!a.a){var b=a.Pa.gh("div",{style:"display:none"});a.kj&&(b.style.overflowY="auto");a.a=b;pc(b,wa(a.className).split(" "));ff(b,"listbox");b.id=":"+(Ag.hb().vi++).toString(36);a.Pa.appendChild(a.aa,b);U(b,"click",a.ib,!1,a);U(b,"mousedown",a.Oh,!1,a);U(b,"mouseover",a.Ph,!1,a)}}
function Cg(a){Eg(a);a.ef&&(a.a.style.visibility="hidden");a.an&&(a.a.style.minWidth=a.an.clientWidth+"px");a.ec.length=0;a.Pa.fm(a.a);if(a.pc&&a.pc.render)a.pc.render();else{var b=null;F(a.I,function(a){var d=this.Ha,e=this.Pa.gh("div",{className:this.vg,id:":"+(Ag.hb().vi++).toString(36)});ff(e,"option");this.pc&&this.pc.Ri?this.pc.Ri(a,d,e):dc(e,a.data.toString());d&&this.Wm&&(this.Lj=!1,Fg(this,e,d));oc(e,this.vg);this.ec.push(e);a=e;this.ef?this.a.insertBefore(a,b):this.Pa.appendChild(this.a,
a);b=a},a)}0==a.I.length?a.Na():(a.show(),Gg(a),og(a.a))}
function Gg(a){if(a.C&&a.km){var b=a.Pj||a.C,c,d=a.lm?3:1;a.ef&&(d^=1);c=d;var e=65;a.kj&&(a.a.style.height="",e|=32);var d=a.a,f=c^1,g,k;if(g=d.offsetParent){var m="HTML"==g.tagName||"BODY"==g.tagName;m&&"static"==bg(g,"position")||(k=fg(g),m||(m=(m=gg(g))&&sb?-g.scrollLeft:!m||L&&N("8")||"visible"==bg(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,k=Fb(k,new P(m,g.scrollTop))))}g=k||new P;k=fg(b);m=lg(b);k=new Zf(k.x,k.y,m.width,m.height);if(m=eg(b)){var n=new Zf(m.left,m.top,
m.right-m.left,m.bottom-m.top),m=Math.max(k.left,n.left),p=Math.min(k.left+k.width,n.left+n.width);if(m<=p){var q=Math.max(k.top,n.top),n=Math.min(k.top+k.height,n.top+n.height);q<=n&&(k.left=m,k.top=q,k.width=p-m,k.height=n-q)}}m=Ib(b);q=Ib(d);if(m.fa!=q.fa){var p=m.fa.body,q=Qb(q.fa),n=new P(0,0),t;t=(t=Kb(p))?Qb(t):window;var x=p;do{var u=t==q?fg(x):hg(x);n.x+=u.x;n.y+=u.y}while(t&&t!=q&&(x=t.frameElement)&&(t=t.parent));p=Fb(n,fg(p));!L||L&&9<=Ab||kc(m)||(p=Fb(p,lc(m)));k.left+=p.x;k.top+=p.y}var b=
zg(b,c),b=new P(b&2?k.left+k.width:k.left,b&1?k.top+k.height:k.top),b=Fb(b,g),r;e&&(r=eg(d))&&(r.top-=g.y,r.right-=g.x,r.bottom-=g.y,r.left-=g.x);b=b.clone();g=zg(d,f);f=lg(d);c=f.clone();b=b.clone();c=c.clone();k=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(r?(g=b,k=c,m=0,65==(e&65)&&(g.x<r.left||g.x>=r.right)&&(e&=-2),132==(e&132)&&(g.y<r.top||g.y>=r.bottom)&&(e&=-5),g.x<r.left&&e&1&&(g.x=r.left,m|=1),g.x<r.left&&g.x+k.width>r.right&&e&16&&(k.width=Math.max(k.width-(g.x+k.width-r.right),
0),m|=4),g.x+k.width>r.right&&e&1&&(g.x=Math.max(r.right-k.width,r.left),m|=1),e&2&&(m=m|(g.x<r.left?16:0)|(g.x+k.width>r.right?32:0)),g.y<r.top&&e&4&&(g.y=r.top,m|=2),g.y<=r.top&&g.y+k.height<r.bottom&&e&32&&(k.height=Math.max(k.height-(r.top-g.y),0),g.y=r.top,m|=8),g.y>=r.top&&g.y+k.height>r.bottom&&e&32&&(k.height=Math.max(k.height-(g.y+k.height-r.bottom),0),m|=8),g.y+k.height>r.bottom&&e&4&&(g.y=Math.max(r.bottom-k.height,r.top),m|=2),e&8&&(m=m|(g.y<r.top?64:0)|(g.y+k.height>r.bottom?128:0)),
e=m):e=256,k=e);e=new Zf(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;k&496||(c=new P(e.left,e.top),b=sb&&(nb||vb)&&N("1.9"),c instanceof P?(r=c.x,c=c.y):(r=c,c=void 0),d.style.left=kg(r,b),d.style.top=kg(c,b),c=e.T(),Hb(f,c)||(e=c,r=kc(Ib(Kb(d))),!L||N("10")||r&&N("8")?(d=d.style,sb?d.MozBoxSizing="border-box":M?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,r?(r=rg(d),d=ug(d),f.pixelWidth=
e.width-d.left-r.left-r.right-d.right,f.pixelHeight=e.height-d.top-r.top-r.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.ef&&(a.a.style.visibility="visible")}}h.ub=function(){return this.C};h.c=function(){this.a&&($c(this.a,"click",this.ib,!1,this),$c(this.a,"mousedown",this.Oh,!1,this),$c(this.a,"mouseover",this.Ph,!1,this),this.Pa.removeNode(this.a),this.a=null,this.Za=!1);Ac(this.nc);this.aa=null;Bg.g.c.call(this)};
function Fg(a,b,c){if(a.qe||!a.Lj)if(3==b.nodeType){var d=null;ha(c)&&1<c.length&&!a.qe&&(d=Va(c,1));c=Hg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.ll?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,k=f.exec(e),m=0;k;)m++,c.push(e.substring(g,k.index)),c.push(e.substring(k.index,f.lastIndex)),g=f.lastIndex,k=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.qe?m:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.Pa.createElement("b"),g.className=a.Vk,a.Pa.appendChild(g,a.Pa.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.Pa.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Va(c,2*d).join("");a.Lj=!0}else d&&Fg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Fg(a,b,c),b=d}
function Hg(a,b){var c="";if(!b)return c;ha(b)&&(b=Ma(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.qe?ha(b)?c=Na(b,Ga).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ga(c),c=c.replace(/ /g,"|")):ha(b)?c=0<b.length?Ga(b[0]):"":/^\W/.test(b)||(c=Ga(b));return c}function Ig(a,b){for(;b&&b!=a.a&&!nc(b,a.vg);)b=b.parentNode;return b?La(a.ec,b):-1}h.ib=function(a){var b=Ig(this,a.target);0<=b&&this.dispatchEvent({type:Oe,Wa:this.I[b].id});a.stopPropagation()};
h.Oh=function(a){a.stopPropagation();a.preventDefault()};h.Ph=function(a){a=Ig(this,a.target);0<=a&&!(300>ta()-this.lj)&&this.dispatchEvent({type:Ne,Wa:this.I[a].id})};function Ge(a,b){var c;if(a instanceof Ge)this.sa=s(b)?b:a.sa,Jg(this,a.Eb),c=a.ic,Kg(this),this.ic=c,c=a.fb,Kg(this),this.fb=c,Lg(this,a.Hc),c=a.Da,Kg(this),this.Da=c,Mg(this,a.Va.clone()),c=a.Pb,Kg(this),this.Pb=c;else if(a&&(c=fe(String(a)))){this.sa=!!b;Jg(this,c[1]||"",!0);var d=c[2]||"";Kg(this);this.ic=Ng(d);d=c[3]||"";Kg(this);this.fb=Ng(d,!0);Lg(this,c[4]);d=c[5]||"";Kg(this);this.Da=Ng(d,!0);Mg(this,c[6]||"",!0);c=c[7]||"";Kg(this);this.Pb=Ng(c)}else this.sa=!!b,this.Va=new Og(null,0,this.sa)}
h=Ge.prototype;h.Eb="";h.ic="";h.fb="";h.Hc=null;h.Da="";h.Pb="";h.bl=!1;h.sa=!1;h.toString=function(){var a=[],b=this.Eb;b&&a.push(Pg(b,Qg,!0),":");if(b=this.fb){a.push("//");var c=this.ic;c&&a.push(Pg(c,Qg,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Hc;null!=b&&a.push(":",String(b))}if(b=this.Da)this.fb&&"/"!=b.charAt(0)&&a.push("/"),a.push(Pg(b,"/"==b.charAt(0)?Rg:Sg,!0));(b=this.Va.toString())&&a.push("?",b);(b=this.Pb)&&a.push("#",Pg(b,Tg));return a.join("")};
h.resolve=function(a){var b=this.clone(),c=!!a.Eb;c?Jg(b,a.Eb):c=!!a.ic;if(c){var d=a.ic;Kg(b);b.ic=d}else c=!!a.fb;c?(d=a.fb,Kg(b),b.fb=d):c=null!=a.Hc;d=a.Da;if(c)Lg(b,a.Hc);else if(c=!!a.Da){if("/"!=d.charAt(0))if(this.fb&&!this.Da)d="/"+d;else{var e=b.Da.lastIndexOf("/");-1!=e&&(d=b.Da.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Kg(b),b.Da=d):c=""!==a.Va.toString();c?Mg(b,Ng(a.Va.toString())):c=!!a.Pb;c&&(a=a.Pb,Kg(b),b.Pb=a);return b};h.clone=function(){return new Ge(this)};function Jg(a,b,c){Kg(a);a.Eb=c?Ng(b,!0):b;a.Eb&&(a.Eb=a.Eb.replace(/:$/,""))}function Lg(a,b){Kg(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Hc=b}else a.Hc=null}function Fe(a){return a.Da}
function Mg(a,b,c){Kg(a);b instanceof Og?(a.Va=b,a.Va.xg(a.sa)):(c||(b=Pg(b,Ug)),a.Va=new Og(b,0,a.sa))}function Vg(a,b,c){Kg(a);ha(c)||(c=[String(c)]);Wg(a.Va,b,c)}function Kg(a){if(a.bl)throw Error("Tried to modify a read-only Uri");}h.xg=function(a){this.sa=a;this.Va&&this.Va.xg(a);return this};function Ng(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function Pg(a,b,c){return w(a)?(a=encodeURI(a).replace(b,Xg),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Xg(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qg=/[#\/\?@]/g,Sg=/[\#\?:]/g,Rg=/[\#\?]/g,Ug=/[\#\?@]/g,Tg=/#/g;function Og(a,b,c){this.la=a||null;this.sa=!!c}
function Yg(a){if(!a.F&&(a.F=new ae,a.i=0,a.la))for(var b=a.la.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Zg(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}h=Og.prototype;h.F=null;h.i=null;h.gb=function(){Yg(this);return this.i};h.add=function(a,b){Yg(this);this.la=null;a=Zg(this,a);var c=this.F.get(a);c||this.F.set(a,c=[]);c.push(b);this.i++;return this};
h.remove=function(a){Yg(this);a=Zg(this,a);return this.F.ea(a)?(this.la=null,this.i-=this.F.get(a).length,this.F.remove(a)):!1};h.clear=function(){this.F=this.la=null;this.i=0};h.lb=function(){Yg(this);return 0==this.i};h.ea=function(a){Yg(this);a=Zg(this,a);return this.F.ea(a)};h.Sa=function(){Yg(this);for(var a=this.F.Ta(),b=this.F.Sa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.Ta=function(a){Yg(this);var b=[];if(w(a))this.ea(a)&&(b=Sa(b,this.F.get(Zg(this,a))));else{a=this.F.Ta();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};h.set=function(a,b){Yg(this);this.la=null;a=Zg(this,a);this.ea(a)&&(this.i-=this.F.get(a).length);this.F.set(a,[b]);this.i++;return this};h.get=function(a,b){var c=a?this.Ta(a):[];return 0<c.length?String(c[0]):b};function Wg(a,b,c){a.remove(b);0<c.length&&(a.la=null,a.F.set(Zg(a,b),Ta(c)),a.i+=c.length)}
h.toString=function(){if(this.la)return this.la;if(!this.F)return"";for(var a=[],b=this.F.Sa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ta(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.la=a.join("\x26")};h.clone=function(){var a=new Og;a.la=this.la;this.F&&(a.F=this.F.clone(),a.i=this.i);return a};function Zg(a,b){var c=String(b);a.sa&&(c=c.toLowerCase());return c}
h.xg=function(a){a&&!this.sa&&(Yg(this),this.la=null,this.F.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Wg(this,d,a))},this));this.sa=a};h.extend=function(a){for(var b=0;b<arguments.length;b++)$d(arguments[b],function(a,b){this.add(b,a)},this)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function $g(a,b){this.$e=[];this.yi=a;this.hh=b||null;this.kd=this.rc=!1;this.pb=void 0;this.Cg=this.Sj=this.xf=!1;this.jf=0;this.aa=null;this.zf=0}$g.prototype.cancel=function(a){if(this.rc)this.pb instanceof $g&&this.pb.cancel();else{if(this.aa){var b=this.aa;delete this.aa;a?b.cancel(a):(b.zf--,0>=b.zf&&b.cancel())}this.yi?this.yi.call(this.hh,this):this.Cg=!0;this.rc||(a=new ah,bh(this),ch(this,!1,a))}};$g.prototype.bh=function(a,b){this.xf=!1;ch(this,a,b)};
function ch(a,b,c){a.rc=!0;a.pb=c;a.kd=!b;dh(a)}function bh(a){if(a.rc){if(!a.Cg)throw new eh;a.Cg=!1}}function fh(a,b,c,d){a.$e.push([b,c,d]);a.rc&&dh(a)}$g.prototype.then=function(a,b,c){var d,e,f=new Hd(function(a,b){d=a;e=b});fh(this,d,function(a){a instanceof ah?f.cancel():e(a)});return f.then(a,b,c)};md($g);function gh(a){return Oa(a.$e,function(a){return ka(a[1])})}
function dh(a){if(a.jf&&a.rc&&gh(a)){var b=a.jf,c=hh[b];c&&(l.clearTimeout(c.u),delete hh[b]);a.jf=0}a.aa&&(a.aa.zf--,delete a.aa);for(var b=a.pb,d=c=!1;a.$e.length&&!a.xf;){var e=a.$e.shift(),f=e[0],g=e[1],e=e[2];if(f=a.kd?g:f)try{var k=f.call(e||a.hh,b);s(k)&&(a.kd=a.kd&&(k==b||k instanceof Error),a.pb=b=k);nd(b)&&(d=!0,a.xf=!0)}catch(m){b=m,a.kd=!0,gh(a)||(c=!0)}}a.pb=b;d&&(k=C(a.bh,a,!0),d=C(a.bh,a,!1),b instanceof $g?(fh(b,k,d),b.Sj=!0):b.then(k,d));c&&(b=new ih(b),hh[b.u]=b,a.jf=b.u)}
function eh(){ua.call(this)}D(eh,ua);eh.prototype.message="Deferred has already fired";eh.prototype.name="AlreadyCalledError";function ah(){ua.call(this)}D(ah,ua);ah.prototype.message="Deferred was canceled";ah.prototype.name="CanceledError";function ih(a){this.u=l.setTimeout(C(this.Hm,this),0);this.ce=a}ih.prototype.Hm=function(){delete hh[this.u];throw this.ce;};var hh={};function jh(a,b){var c=b||{},d=c.document||document,e=Wb("SCRIPT"),f={bj:e,hc:void 0},g=new $g(kh,f),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){lh(e,!0);var b=new nh(oh,"Timeout reached for loading script "+a);bh(g);ch(g,!1,b)},m),f.hc=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(lh(e,c.Uj||!1,k),bh(g),ch(g,!0,null))};e.onerror=function(){lh(e,!0,k);var b=new nh(ph,"Error while loading script "+a);bh(g);
ch(g,!1,b)};Mb(e,{type:"text/javascript",charset:"UTF-8",src:a});qh(d).appendChild(e);return g}function qh(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function kh(){if(this&&this.bj){var a=this.bj;a&&"SCRIPT"==a.tagName&&lh(a,!0,this.hc)}}function lh(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){ac(a)},0)}var ph=0,oh=1;
function nh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);ua.call(this,c);this.code=a}D(nh,ua);function rh(a,b){this.Tm=new Ge(a);this.Tj=b?b:"callback";this.hc=5E3}var sh=0;rh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(sh++).toString(36)+ta().toString(36);l._callbacks_||(l._callbacks_={});var e=this.Tm.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Vg(e,f,a[f]);b&&(l._callbacks_[d]=th(d,b),Vg(e,this.Tj,"_callbacks_."+d));b=jh(e.toString(),{timeout:this.hc,Uj:!0});fh(b,null,uh(d,a,c),void 0);return{u:d,jh:b}};
rh.prototype.cancel=function(a){a&&(a.jh&&a.jh.cancel(),a.u&&vh(a.u,!1))};function uh(a,b,c){return function(){vh(a,!1);c&&c(b)}}function th(a,b){return function(c){vh(a,!0);b.apply(void 0,arguments)}}function vh(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ea)};function wh(a,b,c){this.Um=a||"http://open.mapquestapi.com/nominatim/v1/search";this.ac=b||{};if(this.kc=c||null)this.ac.viewboxlbrt=this.kc.join(","),this.ac.bounded=1;this.ei=new rh(this.Um,"json_callback")}
function We(a,b,c,d){a.ac.q=b;a.ac.format="json";a.ac.addressdetails=1;a.ac.limit=c;b&&1!=b.length?(null!==a.Ui&&a.ei.cancel(a.Ui),a.Ui=a.ei.send(a.ac,C(function(a){var c=Ma(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),g=Ma(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]}),k=C(function(a){var b=[];F(a,function(a){var c=a.boundingbox,c=c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:
null;this.kc&&c&&(this.kc[0]>c[2]||this.kc[1]>c[3]||this.kc[2]<c[0]||this.kc[3]<c[1])||b.push({formatted_address:a.display_name,type:a.type,bounds:c,lat:parseFloat(a.lat),lon:parseFloat(a.lon),viewport:null})},this);return b},this);0<c.length?(F(c,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;
if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,k(Sa(c,g)))):d(b,k(a))},a))):d(b,[])};function xh(a,b,c,d){var e=new Bg(null,{Ri:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.Cb=new wh(b,c,d);b=new Cf(null,null,!1);Ff(b);b.Hj=!1;b.w=this;b.vf(a);Me.call(this,this.Cb,e,b);this.oa("update",function(b){b.Wa&&(a.value=b.Wa.formatted_address)})}D(xh,Me);xh.prototype.search=function(a,b,c){We(this.Cb,a,b,c)};xh.prototype.Bg=function(a,b){this.Na();xh.g.Bg.call(this,a,b)};function yh(){this.Pi=ta()}new yh;yh.prototype.set=function(a){this.Pi=a};yh.prototype.reset=function(){this.set(ta())};yh.prototype.get=function(){return this.Pi};function zh(a){W.call(this);this.Qd=a||window;this.Ce=U(this.Qd,"resize",this.Lk,!1,this);this.Oc=Ob(this.Qd||window)}D(zh,W);h=zh.prototype;h.Ce=null;h.Qd=null;h.Oc=null;h.T=function(){return this.Oc?this.Oc.clone():null};h.c=function(){zh.g.c.call(this);this.Ce&&(V(this.Ce),this.Ce=null);this.Oc=this.Qd=null};h.Lk=function(){var a=Ob(this.Qd||window);Hb(a,this.Oc)||(this.Oc=a,this.dispatchEvent("resize"))};function Ah(a,b){W.call(this);this.a=a;var c=bc(this.a)?this.a:this.a?this.a.body:null;this.cl=!!c&&gg(c);this.ni=U(this.a,Cc,this,b)}D(Ah,W);
Ah.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.l;if("mousewheel"==a.type){c=1;if(L||M&&(ob||N("532.0")))c=40;d=Bh(-a.wheelDelta,c);s(a.wheelDeltaX)?(b=Bh(-a.wheelDeltaX,c),c=Bh(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),s(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.ri)&&(b=Db(b,-this.ri,this.ri));ja(this.si)&&(c=Db(c,-this.si,this.si));this.cl&&(b=-b);b=new Ch(d,a,b,c);this.dispatchEvent(b)};function Bh(a,b){return M&&(nb||pb)&&0!=a%b?a:a/b}
Ah.prototype.c=function(){Ah.g.c.call(this);V(this.ni);this.ni=null};function Ch(a,b,c,d){Fc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}D(Ch,Fc);function Dh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Dh.prototype.BYTES_PER_ELEMENT=4;Dh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Dh.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Dh.BYTES_PER_ELEMENT=4,Dh.prototype.BYTES_PER_ELEMENT=Dh.prototype.BYTES_PER_ELEMENT,Dh.prototype.set=Dh.prototype.set,Dh.prototype.toString=Dh.prototype.toString,da("Float32Array",Dh));function Eh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Eh.prototype.BYTES_PER_ELEMENT=8;Eh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Eh.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Eh.BYTES_PER_ELEMENT=8}catch(Fh){}Eh.prototype.BYTES_PER_ELEMENT=Eh.prototype.BYTES_PER_ELEMENT;Eh.prototype.set=Eh.prototype.set;Eh.prototype.toString=Eh.prototype.toString;da("Float64Array",Eh)};function Gh(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Hh(){var a=Array(16);Ih(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Jh(){var a=Array(16);Ih(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Ih(a,b,c,d,e,f,g,k,m,n,p,q,t,x,u,r,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=k;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=t;a[12]=x;a[13]=u;a[14]=r;a[15]=y}function Kh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Lh(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],k=a[4],m=a[5],n=a[6],p=a[7],q=a[8],t=a[9],x=a[10],u=a[11],r=a[12],y=a[13],v=a[14];a=a[15];var A=b[0],z=b[1],G=b[2],E=b[3],I=b[4],aa=b[5],K=b[6],ba=b[7],T=b[8],H=b[9],R=b[10],O=b[11],ya=b[12],pa=b[13],sa=b[14];b=b[15];c[0]=d*A+k*z+q*G+r*E;c[1]=e*A+m*z+t*G+y*E;c[2]=f*A+n*z+x*G+v*E;c[3]=g*A+p*z+u*G+a*E;c[4]=d*I+k*aa+q*K+r*ba;c[5]=e*I+m*aa+t*K+y*ba;c[6]=f*I+n*aa+x*K+v*ba;c[7]=g*I+p*aa+u*K+a*ba;c[8]=d*T+k*H+q*R+r*O;c[9]=e*T+m*H+t*R+y*O;c[10]=f*T+n*H+x*
R+v*O;c[11]=g*T+p*H+u*R+a*O;c[12]=d*ya+k*pa+q*sa+r*b;c[13]=e*ya+m*pa+t*sa+y*b;c[14]=f*ya+n*pa+x*sa+v*b;c[15]=g*ya+p*pa+u*sa+a*b}function Mh(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Nh(a,b,c){Ih(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Oh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],m=a[6],n=a[7],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+g*q;a[1]=d*p+k*q;a[2]=e*p+m*q;a[3]=f*p+n*q;a[4]=c*-q+g*p;a[5]=d*-q+k*p;a[6]=e*-q+m*p;a[7]=f*-q+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function Ph(){W.call(this);this.Ea=0}D(Ph,W);Ph.prototype.X=function(){++this.Ea;this.dispatchEvent("change")};function Qh(a,b,c,d){U(a,b,c,!1,d)}function Rh(a,b,c){Zc(a,"postrender",b,!1,c)};function Sh(a,b){S.call(this,a);this.key=b}D(Sh,S);function Th(a){Ph.call(this);B(this);this.Qc={};this.pf={};s(a)&&this.Dd(a)}D(Th,Ph);var Uh={},Vh={},Wh={};function Xh(a){return Uh.hasOwnProperty(a)?Uh[a]:Uh[a]="change:"+a}Th.prototype.get=function(a){var b,c=this.pf;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Fm,d=Vh.hasOwnProperty(c)?Vh[c]:Vh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=J(b,d);b=s(d)?d.call(b):b.get(c);b=a.Hn(b)}else this.Qc.hasOwnProperty(a)&&(b=this.Qc[a]);return b};
Th.prototype.Sa=function(){var a=this.pf,b;if(hb(this.Qc)){if(hb(a))return[];b=a}else if(hb(a))b=this.Qc;else{b={};for(var c in this.Qc)b[c]=!0;for(c in a)b[c]=!0}return gb(b)};
Th.prototype.set=function(a,b){this.dispatchEvent(new Sh("beforepropertychange",a));var c=this.pf;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.Fm;b=d.tn(b);d=Wh.hasOwnProperty(e)?Wh[e]:Wh[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=J(c,d);s(d)?d.call(c,b):c.set(e,b)}else this.Qc[a]=b,c=Xh(a),this.dispatchEvent(c),this.dispatchEvent(new Sh("propertychange",a))};Th.prototype.Dd=function(a){for(var b in a)this.set(b,a[b])};function Yh(a,b,c){S.call(this,a,c);this.element=b}D(Yh,S);function Zh(a){Th.call(this);this.bb=a||[];$h(this)}D(Zh,Th);h=Zh.prototype;h.clear=function(){for(;0<this.get("length");)this.pop()};h.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};h.forEach=function(a,b){F(this.bb,a,b)};h.dd=function(){return this.bb};h.item=function(a){return this.bb[a]};h.pop=function(){return ai(this,this.get("length")-1)};
h.push=function(a){var b=this.bb.length;Ua(this.bb,b,0,a);$h(this);this.dispatchEvent(new Yh("add",a,this));return b};h.remove=function(a){var b=this.bb,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return ai(this,c)};function ai(a,b){var c=a.bb[b];Ka.splice.call(a.bb,b,1);$h(a);a.dispatchEvent(new Yh("remove",c,a));return c}function $h(a){a.set("length",a.bb.length)};var bi=L&&!N("9.0")&&""!==xb;function ci(a,b){a[0]+=b[0];a[1]+=b[1]}function di(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function ei(a,b,c){S.call(this,a);this.map=b;this.frameState=s(c)?c:null}D(ei,S);function fi(a,b,c){S.call(this,a);this.Q=b;a=s(c)?c:{};this.buttons=gi(a);this.pressure=hi(a,this.buttons);this.bubbles=J(a,"bubbles",!1);this.cancelable=J(a,"cancelable",!1);this.view=J(a,"view",null);this.detail=J(a,"detail",null);this.screenX=J(a,"screenX",0);this.screenY=J(a,"screenY",0);this.clientX=J(a,"clientX",0);this.clientY=J(a,"clientY",0);this.ctrlKey=J(a,"ctrlKey",!1);this.altKey=J(a,"altKey",!1);this.shiftKey=J(a,"shiftKey",!1);this.metaKey=J(a,"metaKey",!1);this.button=J(a,"button",
0);this.relatedTarget=J(a,"relatedTarget",null);this.pointerId=J(a,"pointerId",0);this.width=J(a,"width",0);this.height=J(a,"height",0);this.tiltX=J(a,"tiltX",0);this.tiltY=J(a,"tiltY",0);this.pointerType=J(a,"pointerType","");this.hwTimestamp=J(a,"hwTimestamp",0);this.isPrimary=J(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}D(fi,S);
function gi(a){if(a.buttons||ii)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function hi(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var ii=!1;try{ii=1===(new MouseEvent("click",{buttons:1})).buttons}catch(ji){};function ki(a,b){var c=Wb("CANVAS");s(a)&&(c.width=a);s(b)&&(c.height=b);return c.getContext("2d")}
var li=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=Wb("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ac(b);a=c&&"none"!==c}else a=!1;return a}}(),mi=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=Wb("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ac(b);a=c&&"none"!==c}else a=!1;return a}}();function ni(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.fn=b;c.msTransform=b;c.transform=b;L&&!bi&&(a.style.transformOrigin="0 0")};var oi=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function pi(a,b){var c,d,e=oi.length;for(d=0;d<e;++d)try{if(c=a.getContext(oi[d],b),null!==c)return c}catch(f){}return null};var qi=l.devicePixelRatio||1,ri=!1,si=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=ki();if(null===a)return!1;s(a.setLineDash)&&(ri=!0);return!0}catch(b){return!1}}(),ti="ontouchstart"in l,ui="PointerEvent"in l,vi=!!l.navigator.msPointerEnabled,wi=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=Wb("CANVAS");return null!==pi(a,{ek:!0})}catch(b){return!1}}();function xi(a,b){this.f=a;this.Ie=b};function yi(a){xi.call(this,a,{mousedown:this.rl,mousemove:this.sl,mouseup:this.vl,mouseover:this.ul,mouseout:this.tl});this.H=a.H;this.ii=[]}D(yi,xi);function zi(a,b){for(var c=a.ii,d=b.clientX,e=b.clientY,f=0,g=c.length,k;f<g&&(k=c[f]);f++){var m=Math.abs(e-k[1]);if(25>=Math.abs(d-k[0])&&25>=m)return!0}return!1}function Ai(a){var b=Bi(a,a.l),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}h=yi.prototype;
h.rl=function(a){if(!zi(this,a)){(1).toString()in this.H&&this.cancel(a);var b=Ai(a);this.H[(1).toString()]=a;this.f.fireEvent(Ci,b,a)}};h.sl=function(a){if(!zi(this,a)){var b=Ai(a);this.f.move(b,a)}};h.vl=function(a){if(!zi(this,a)){var b=J(this.H,(1).toString());b&&b.button===a.button&&(b=Ai(a),this.f.fireEvent(Di,b,a),jb(this.H,(1).toString()))}};h.ul=function(a){if(!zi(this,a)){var b=Ai(a);Ei(this.f,b,a)}};h.tl=function(a){if(!zi(this,a)){var b=Ai(a);Fi(this.f,b,a)}};
h.cancel=function(a){var b=Ai(a);this.f.cancel(b,a);jb(this.H,(1).toString())};function Gi(a){xi.call(this,a,{MSPointerDown:this.Al,MSPointerMove:this.Bl,MSPointerUp:this.El,MSPointerOut:this.Cl,MSPointerOver:this.Dl,MSPointerCancel:this.zl,MSGotPointerCapture:this.xl,MSLostPointerCapture:this.yl});this.H=a.H;this.Nj=["","unavailable","touch","pen","mouse"]}D(Gi,xi);function Hi(a,b){var c=b;ja(b.l.pointerType)&&(c=Bi(b,b.l),c.pointerType=a.Nj[b.l.pointerType]);return c}h=Gi.prototype;h.Al=function(a){this.H[a.l.pointerId]=a;var b=Hi(this,a);this.f.fireEvent(Ci,b,a)};
h.Bl=function(a){var b=Hi(this,a);this.f.move(b,a)};h.El=function(a){var b=Hi(this,a);this.f.fireEvent(Di,b,a);jb(this.H,a.l.pointerId)};h.Cl=function(a){var b=Hi(this,a);Fi(this.f,b,a)};h.Dl=function(a){var b=Hi(this,a);Ei(this.f,b,a)};h.zl=function(a){var b=Hi(this,a);this.f.cancel(b,a);jb(this.H,a.l.pointerId)};h.yl=function(a){this.f.dispatchEvent(new fi("lostpointercapture",a,a.l))};h.xl=function(a){this.f.dispatchEvent(new fi("gotpointercapture",a,a.l))};function Ii(a){xi.call(this,a,{pointerdown:this.Ql,pointermove:this.Rl,pointerup:this.Ul,pointerout:this.Sl,pointerover:this.Tl,pointercancel:this.Pl,gotpointercapture:this.mk,lostpointercapture:this.hl})}D(Ii,xi);h=Ii.prototype;h.Ql=function(a){Ji(this.f,a)};h.Rl=function(a){Ji(this.f,a)};h.Ul=function(a){Ji(this.f,a)};h.Sl=function(a){Ji(this.f,a)};h.Tl=function(a){Ji(this.f,a)};h.Pl=function(a){Ji(this.f,a)};h.hl=function(a){Ji(this.f,a)};h.mk=function(a){Ji(this.f,a)};function Ki(a,b){xi.call(this,a,{touchstart:this.Pm,touchmove:this.Om,touchend:this.Nm,touchcancel:this.Mm});this.H=a.H;this.ql=b;this.cd=void 0;this.Cf=0;this.xd=void 0}D(Ki,xi);h=Ki.prototype;h.Vi=function(){this.Cf=0;this.xd=void 0};
function Li(a,b,c){b=Bi(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Cf;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.cd===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Mi(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.l.changedTouches),f=e.length,g,k;for(g=0;g<f;++g)k=Li(a,b,e[g]),k.preventDefault=d,c.call(a,b,k)}
h.Pm=function(a){var b=a.l.touches,c=gb(this.H),d=c.length;if(d>=b.length){var e=[],f,g,k;for(f=0;f<d;++f){g=c[f];k=this.H[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(k.$b)}for(f=0;f<e.length;++f)this.Af(a,e[f])}b=eb(this.H);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.H;c=b}c&&(this.cd=a.l.changedTouches[0].identifier,s(this.xd)&&l.clearTimeout(this.xd));Ni(this,a);this.Cf++;Mi(this,a,this.Ll)};
h.Ll=function(a,b){this.H[b.pointerId]={target:b.target,$b:b,Ki:b.target};var c=this.f;b.bubbles=!0;c.fireEvent(Oi,b,a);c=this.f;b.bubbles=!1;c.fireEvent(Pi,b,a);this.f.fireEvent(Ci,b,a)};h.Om=function(a){a.preventDefault();Mi(this,a,this.wl)};
h.wl=function(a,b){var c=J(this.H,b.pointerId);if(c){var d=c.$b,e=c.Ki;this.f.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Fi(this.f,d,a),Ei(this.f,b,a)):(b.target=e,b.relatedTarget=null,this.Af(a,b)));c.$b=b;c.Ki=b.target}};h.Nm=function(a){Ni(this,a);Mi(this,a,this.Sm)};
h.Sm=function(a,b){this.f.fireEvent(Di,b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Qi,b,a);jb(this.H,b.pointerId);b.isPrimary&&(this.cd=void 0,this.xd=l.setTimeout(C(this.Vi,this),200))};h.Mm=function(a){Mi(this,a,this.Af)};h.Af=function(a,b){this.f.cancel(b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Qi,b,a);jb(this.H,b.pointerId);b.isPrimary&&(this.cd=void 0,this.xd=l.setTimeout(C(this.Vi,this),200))};
function Ni(a,b){var c=a.ql.ii,d=b.l.changedTouches[0];if(a.cd===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ra(c,e)},2500)}};function Ri(a){W.call(this);this.a=a;this.H={};this.uh={};this.ad=[];ui?Si(this,new Ii(this)):vi?Si(this,new Gi(this)):(a=new yi(this),Si(this,a),ti&&Si(this,new Ki(this,a)));a=this.ad.length;for(var b,c=0;c<a;c++)b=this.ad[c],Ti(this,gb(b.Ie))}D(Ri,W);function Si(a,b){var c=gb(b.Ie);c&&(F(c,function(a){var c=b.Ie[a];c&&(this.uh[a]=C(c,b))},a),a.ad.push(b))}h=Ri.prototype;h.th=function(a){var b=this.uh[a.type];b&&b(a)};function Ti(a,b){F(b,function(a){U(this.a,a,this.th,!1,this)},a)}
function Ui(a,b){F(b,function(a){$c(this.a,a,this.th,!1,this)},a)}function Bi(a,b){for(var c={},d,e=0,f=Vi.length;e<f;e++)d=Vi[e][0],c[d]=a[d]||b[d]||Vi[e][1];return c}h.move=function(a,b){this.fireEvent(Wi,a,b)};h.$b=function(a,b){a.bubbles=!0;this.fireEvent(Xi,a,b)};h.cancel=function(a,b){this.fireEvent(Yi,a,b)};function Fi(a,b,c){a.$b(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Qi,b,c))}
function Ei(a,b,c){b.bubbles=!0;a.fireEvent(Oi,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Pi,b,c))}h.fireEvent=function(a,b,c){this.dispatchEvent(new fi(a,c,b))};function Ji(a,b){a.dispatchEvent(new fi(b.type,b,b.l))}h.c=function(){for(var a=this.ad.length,b,c=0;c<a;c++)b=this.ad[c],Ui(this,gb(b.Ie));Ri.g.c.call(this)};
var Wi="pointermove",Ci="pointerdown",Di="pointerup",Oi="pointerover",Xi="pointerout",Pi="pointerenter",Qi="pointerleave",Yi="pointercancel",Vi=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Zi(a,b,c,d){ei.call(this,a,b,d);this.Q=c;this.originalEvent=c.l;c=this.originalEvent;s(c.changedTouches)?(a=c.changedTouches[0],c=jg(b.M),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.M,c=jg(c),a=jg(a),a=new P(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.ed(this.pixel)}D(Zi,ei);Zi.prototype.preventDefault=function(){Zi.g.preventDefault.call(this);this.Q.preventDefault()};Zi.prototype.stopPropagation=function(){Zi.g.stopPropagation.call(this);this.Q.stopPropagation()};
function $i(a,b,c,d){Zi.call(this,a,b,c.Q,d);this.bc=c}D($i,Zi);function aj(a){W.call(this);this.b=a;this.Uc=0;this.Mf=!1;this.ae=this.Qe=this.Nb=null;a=this.b.M;this.Ng=0;this.Hg={};this.Gc=new Ri(a);this.sb=null;this.Qe=U(this.Gc,Ci,this.Fk,!1,this);this.rg=U(this.Gc,Wi,this.em,!1,this)}D(aj,W);
function bj(a,b){var c;c=new $i(cj,a.b,b);a.dispatchEvent(c);0!==a.Uc?(l.clearTimeout(a.Uc),a.Uc=0,c=new $i(dj,a.b,b),a.dispatchEvent(c)):a.Uc=l.setTimeout(C(function(){this.Uc=0;var a=new $i(ej,this.b,b);this.dispatchEvent(a)},a),250)}function fj(a,b){b.type==gj||b.type==hj?delete a.Hg[b.pointerId]:b.type==ij&&(a.Hg[b.pointerId]=!0);a.Ng=eb(a.Hg)}h=aj.prototype;
h.jb=function(a){fj(this,a);var b=new $i(gj,this.b,a);this.dispatchEvent(b);0===this.Ng&&(F(this.Nb,V),this.Nb=null,Ac(this.sb),this.sb=null);!this.Mf&&0===a.button&&bj(this,this.ae)};h.Fk=function(a){fj(this,a);var b=new $i(ij,this.b,a);this.dispatchEvent(b);this.ae=a;this.Mf=!1;null===this.Nb&&(this.sb=new Ri(document),this.Nb=[U(this.sb,jj,this.Gk,!1,this),U(this.sb,gj,this.jb,!1,this),U(this.Gc,hj,this.jb,!1,this)]);a.preventDefault()};
h.Gk=function(a){if(a.clientX!=this.ae.clientX||a.clientY!=this.ae.clientY){this.Mf=!0;var b=new $i(kj,this.b,a);this.dispatchEvent(b)}a.preventDefault()};h.em=function(a){this.dispatchEvent(new $i(a.type,this.b,a))};h.c=function(){null!==this.rg&&(V(this.rg),this.rg=null);null!==this.Qe&&(V(this.Qe),this.Qe=null);null!==this.Nb&&(F(this.Nb,V),this.Nb=null);null!==this.sb&&(Ac(this.sb),this.sb=null);null!==this.Gc&&(Ac(this.Gc),this.Gc=null);aj.g.c.call(this)};
var ej="singleclick",cj="click",dj="dblclick",kj="pointerdrag",jj="pointermove",ij="pointerdown",gj="pointerup",hj="pointercancel",lj={qn:ej,dn:cj,en:dj,jn:kj,mn:jj,hn:ij,pn:gj,on:"pointerover",nn:"pointerout",kn:"pointerenter",ln:"pointerleave",gn:hj};function mj(a,b,c,d){return s(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function nj(a,b,c){return a+"/"+b+"/"+c}function oj(a){return nj(a[0],a[1],a[2])};function pj(a,b,c,d){this.n=a;this.G=b;this.t=c;this.s=d}function qj(a,b,c,d,e){return s(e)?(e.n=a,e.G=b,e.t=c,e.s=d,e):new pj(a,b,c,d)}h=pj.prototype;h.contains=function(a){return this.Xc(a[1],a[2])};function rj(a,b){return a.n<=b.n&&b.G<=a.G&&a.t<=b.t&&b.s<=a.s}h.Xc=function(a,b){return this.n<=a&&a<=this.G&&this.t<=b&&b<=this.s};h.sh=function(a){return this.n==a.n&&this.t==a.t&&this.G==a.G&&this.s==a.s};
h.extend=function(a){a.n<this.n&&(this.n=a.n);a.G>this.G&&(this.G=a.G);a.t<this.t&&(this.t=a.t);a.s>this.s&&(this.s=a.s)};h.he=function(){return this.s-this.t+1};h.T=function(){return[this.vb(),this.he()]};h.vb=function(){return this.G-this.n+1};h.ci=function(a){return this.n<=a.G&&this.G>=a.n&&this.t<=a.s&&this.s>=a.t};function sj(a){this.Qh=a.html;this.cf=s(a.tileRanges)?a.tileRanges:null};function tj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return uj(c,d,e,f,void 0)}function vj(a){return s(void 0)?void 0:a.slice()}function wj(){return[Infinity,Infinity,-Infinity,-Infinity]}function uj(a,b,c,d,e){return s(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function xj(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function yj(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=zj(a):"top-right"===b&&(c=[a[2],a[3]]);return c}function Aj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,k;for(f=0;4>f;++f)g=e[f],k=d[f],e[f]=a[0]+g*b-k*c,d[f]=a[1]+g*c+k*b;return tj(e,d)}
function Bj(a,b){var c=s(void 0)?void 0:wj();Cj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function zj(a){return[a[0],a[3]]}function Cj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Dj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function Ej(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return tj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Fj(a){this.radius=a}Fj.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Gj={};Gj.degrees=2*Math.PI*(new Fj(6370997)).radius/360;Gj.ft=.3048;Gj.m=1;function Hj(a){this.Vc=a.code;this.Gj=a.units;this.Y=s(a.extent)?a.extent:null;this.ih=null}Hj.prototype.S=function(){return this.Y};Hj.prototype.dj=function(a){this.Y=a};var Ij={},Jj={};function Kj(a){Lj(a);F(a,function(b){F(a,function(a){b!==a&&Mj(b,a,Nj)})})}function Oj(a){Ij[a.Vc]=a;Mj(a,a,Nj)}function Lj(a){var b=[];F(a,function(a){b.push(Oj(a))})}function Pj(a){return null!=a?w(a)?Qj(a):a:Qj("EPSG:3857")}
function Mj(a,b,c){a=a.Vc;b=b.Vc;a in Jj||(Jj[a]={});Jj[a][b]=c}function Qj(a){return a instanceof Hj?a:w(a)?Ij[a]:null}function Rj(a,b){var c=Qj(a),d=Qj(b);return Sj(c,d)}function Sj(a,b){var c=a.Vc,d=b.Vc,e;c in Jj&&d in Jj[c]&&(e=Jj[c][d]);s(e)||(e=Tj);return e}function Tj(a,b){if(s(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Nj(a,b){var c;if(s(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Uj(a){var b=Rj("EPSG:4326","EPSG:3857");return Ej(a,b)};function Vj(a){Ph.call(this);this.Jc=Qj(a.projection);this.wf=s(a.attributions)?a.attributions:null;this.fl=a.logo;this.j=s(a.state)?a.state:"ready"}D(Vj,Ph);Vj.prototype.D=function(){return this.j};function X(a){Th.call(this);a=kb(a);a.brightness=s(a.brightness)?a.brightness:0;a.contrast=s(a.contrast)?a.contrast:1;a.hue=s(a.hue)?a.hue:0;a.opacity=s(a.opacity)?a.opacity:1;a.saturation=s(a.saturation)?a.saturation:1;a.visible=s(a.visible)?a.visible:!0;a.maxResolution=s(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=s(a.minResolution)?a.minResolution:0;this.Dd(a)}D(X,Th);X.prototype.Bh=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.Bh;
X.prototype.Ch=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.Ch;X.prototype.Dh=function(){return this.get("hue")};X.prototype.getHue=X.prototype.Dh;
function Wj(a){var b=a.Bh(),c=a.Ch(),d=a.Dh(),e=a.Hh(),f=a.Jh(),g=a.Kh(),k=a.Uf(),m=a.S(),n=a.Eh(),p=a.Fh();return{layer:a,brightness:s(b)?Db(b,-1,1):0,contrast:s(c)?Math.max(c,0):1,hue:s(d)?d:0,opacity:s(e)?Db(e,0,1):1,saturation:s(f)?Math.max(f,0):1,Dg:g,visible:s(k)?!!k:!0,extent:m,maxResolution:s(n)?n:Infinity,minResolution:s(p)?Math.max(p,0):0}}X.prototype.S=function(){return this.get("extent")};X.prototype.getExtent=X.prototype.S;X.prototype.Eh=function(){return this.get("maxResolution")};
X.prototype.getMaxResolution=X.prototype.Eh;X.prototype.Fh=function(){return this.get("minResolution")};X.prototype.getMinResolution=X.prototype.Fh;X.prototype.Hh=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.Hh;X.prototype.Jh=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.Jh;X.prototype.Uf=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.Uf;X.prototype.qm=function(a){this.set("brightness",a)};
X.prototype.setBrightness=X.prototype.qm;X.prototype.rm=function(a){this.set("contrast",a)};X.prototype.setContrast=X.prototype.rm;X.prototype.sm=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.sm;X.prototype.dj=function(a){this.set("extent",a)};X.prototype.setExtent=X.prototype.dj;X.prototype.um=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.um;X.prototype.vm=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.vm;
X.prototype.wm=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.wm;X.prototype.ym=function(a){this.set("saturation",a)};X.prototype.setSaturation=X.prototype.ym;X.prototype.Bm=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.Bm;function Xj(a){var b=kb(a);delete b.source;X.call(this,b);this.W=a.source;U(this.W,"change",this.Nk,!1,this)}D(Xj,X);Xj.prototype.Sf=function(a){a=s(a)?a:[];a.push(Wj(this));return a};Xj.prototype.Kh=function(){return this.W.D()};Xj.prototype.Nk=function(){this.X()};function Yj(a,b){W.call(this);this.o=a;this.state=b}D(Yj,W);Yj.prototype.X=function(){this.dispatchEvent("change")};Yj.prototype.getKey=function(){return B(this).toString()};Yj.prototype.D=function(){return this.state};function Zj(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function ak(a){this.minZoom=s(a.minZoom)?a.minZoom:0;this.Nc=a.resolutions;this.maxZoom=this.Nc.length-1;this.Le=s(a.origin)?a.origin:null;this.Ji=null;s(a.origins)&&(this.Ji=a.origins);this.Gg=null;s(a.tileSizes)&&(this.Gg=a.tileSizes);this.wj=s(a.tileSize)?a.tileSize:null===this.Gg?256:void 0}var bk=[0,0,0];ak.prototype.de=function(a,b,c,d,e){e=ck(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,dk(this,e,a,d)))return!0;--a}return!1};
ak.prototype.tc=function(a){return null===this.Le?this.Ji[a]:this.Le};ak.prototype.k=function(a){return this.Nc[a]};ak.prototype.ke=function(a,b,c){return a[0]<this.maxZoom?(c=ck(this,a,c),dk(this,c,a[0]+1,b)):null};function ek(a,b,c,d){fk(a,b[0],b[1],c,!1,bk);var e=bk[1],f=bk[2];fk(a,b[2],b[3],c,!0,bk);return qj(e,bk[1],f,bk[2],d)}function dk(a,b,c,d){c=a.k(c);return ek(a,b,c,d)}function gk(a,b){var c=a.tc(b[0]),d=a.k(b[0]),e=hk(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function ck(a,b,c){var d=a.tc(b[0]),e=a.k(b[0]);a=hk(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return uj(f,b,f+a*e,b+a*e,c)}function fk(a,b,c,d,e,f){var g=Zj(a.Nc,d,0),k=d/a.k(g),m=a.tc(g);a=hk(a,g);b=k*(b-m[0])/(d*a);c=k*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return mj(g,b,c,f)}function ik(a,b,c){c=a.k(c);return fk(a,b[0],b[1],c,!1,void 0)}function hk(a,b){return s(a.wj)?a.wj:a.Gg[b]}
function jk(a,b,c){b=s(b)?b:42;c=s(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function kk(a){a=Qj(a);var b=a.S();null===b&&(a=180*Gj.degrees/Gj[a.Gj],b=uj(-a,-a,a,a));return b};function lk(a){Vj.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.Kl=s(a.opaque)?a.opaque:!1;this.Lm=s(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=s(a.tileGrid)?a.tileGrid:null}D(lk,Vj);lk.prototype.Kb=pd;lk.prototype.Qf=function(a,b,c,d){var e=!0,f,g,k,m;for(k=d.n;k<=d.G;++k)for(m=d.t;m<=d.s;++m)g=this.gd(c,k,m),a[c]&&a[c][g]||(f=b(c,k,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};lk.prototype.gd=nj;
function mk(a,b){var c;if(null===a.tileGrid){if(c=b.ih,null===c){c=kk(b);var d=s(void 0)?void 0:256,e=s(void 0)?void 0:"bottom-left",f=jk(c,void 0,d);c=new ak({origin:yj(c,e),resolutions:f,tileSize:d});b.ih=c}}else c=a.tileGrid;return c}function nk(a,b,c){return hk(mk(a,c),b)*a.Lm}lk.prototype.Ig=ea;function ok(a,b){wc.call(this);this.He=a;this.od=b}D(ok,wc);ok.prototype.ha=function(){return this.He.ha()};function pk(a,b){b.Kb()&&a.postRenderFunctions.push(ra(function(a,b,e){b=B(a).toString();a.bd(e.usedTiles[b])},b))}function qk(a,b){var c=b.fl;s(c)&&(w(c)?a.logos[c]="":la(c)&&(a.logos[c.src]=c.href))}function rk(a,b,c,d){b=B(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function sk(a,b,c,d){return function(e,f,g){e=b.Rb(e,f,g,c,d);return a(e)?e:null}}function tk(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function uk(a,b,c,d,e,f,g,k,m,n){var p=B(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var q=a.wantedTiles[p];a=a.tileQueue;var t=c.minZoom,x,u,r,y,v,A;s(k)||(k=0);for(A=g;A>=t;--A)for(u=dk(c,f,A,u),r=c.k(A),y=u.n;y<=u.G;++y)for(v=u.t;v<=u.s;++v)g-A<=k?(x=b.Rb(A,y,v,d,e),0==x.D()&&(q[oj(x.o)]=!0,x.getKey()in a.Kc||vk(a,[x,p,gk(c,x.o),r])),s(m)&&m.call(n,x)):b.Ig(A,y,v)};function wk(){this.Jb={};this.Sd=0;this.ml=32}fa(wk);wk.prototype.clear=function(){this.Jb={};this.Sd=0};wk.prototype.get=function(a,b){var c=b+":"+a;return c in this.Jb?this.Jb[c]:null};wk.prototype.set=function(a,b,c){this.Jb[b+":"+a]=c;++this.Sd};function xk(a,b,c,d,e,f,g,k){Kh(a);0===b&&0===c||Mh(a,b,c);1==d&&1==e||Nh(a,d,e);0!==f&&Oh(a,f);0===g&&0===k||Mh(a,g,k);return a}function yk(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function zk(a,b){wc.call(this);this.b=b;this.Ba={}}D(zk,wc);
function Ak(a){var b=a.viewState,c=a.coordinateToPixelMatrix;xk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],m=c[6],n=c[7],p=c[8],q=c[9],t=c[10],x=c[11],u=c[12],r=c[13],y=c[14],c=c[15],v=b*k-d*g,A=b*m-e*g,z=b*n-f*g,G=d*m-e*k,E=d*n-f*k,I=e*n-f*m,aa=p*r-q*u,K=p*y-t*u,ba=p*c-x*u,T=q*y-t*r,H=q*c-x*r,R=t*c-x*y,O=v*R-A*H+z*T+G*ba-E*K+I*aa;0!=O&&(O=1/O,a[0]=(k*R-m*H+n*T)*O,a[1]=(-d*
R+e*H-f*T)*O,a[2]=(r*I-y*E+c*G)*O,a[3]=(-q*I+t*E-x*G)*O,a[4]=(-g*R+m*ba-n*K)*O,a[5]=(b*R-e*ba+f*K)*O,a[6]=(-u*I+y*z-c*A)*O,a[7]=(p*I-t*z+x*A)*O,a[8]=(g*H-k*ba+n*aa)*O,a[9]=(-b*H+d*ba-f*aa)*O,a[10]=(u*E-r*z+c*v)*O,a[11]=(-p*E+q*z-x*v)*O,a[12]=(-g*T+k*K-m*aa)*O,a[13]=(b*T-d*K+e*aa)*O,a[14]=(-u*G+r*A-y*v)*O,a[15]=(p*G-q*A+t*v)*O)}h=zk.prototype;h.Zd=function(a){return new ok(this,a)};h.c=function(){cb(this.Ba,Ac);zk.g.c.call(this)};
function Bk(){var a=wk.hb();if(a.Sd>a.ml){var b=0,c,d;for(c in a.Jb){d=a.Jb[c];var e;if(e=0===(b++&3))Jc(d)?d=d.yb(void 0,void 0):(d=Vc(d),d=!!d&&d.yb(void 0,void 0)),e=!d;e&&(delete a.Jb[c],--a.Sd)}}}function Ck(a,b){var c=B(b).toString();if(c in a.Ba)return a.Ba[c];var d=a.Zd(b);return a.Ba[c]=d}h.ha=function(){return this.b};h.Ve=ea;h.gm=function(a,b){for(var c in this.Ba)if(!(null!==b&&c in b.layerStates)){var d=this.Ba[c];delete this.Ba[c];Ac(d)}};
function Dk(a,b){for(var c in a.Ba)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.gm,a));break}};function Ek(a,b){this.Ni=a;this.eg=b;this.Qa=[];this.Ic=[];this.Kc={}}Ek.prototype.clear=function(){this.Qa.length=0;this.Ic.length=0;ib(this.Kc)};function Fk(a){var b=a.Qa,c=a.Ic,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Gk(a,0));b=a.eg(d);delete a.Kc[b];return d}function vk(a,b){var c=a.Ni(b);Infinity!=c&&(a.Qa.push(b),a.Ic.push(c),a.Kc[a.eg(b)]=!0,Hk(a,0,a.Qa.length-1))}Ek.prototype.gb=function(){return this.Qa.length};Ek.prototype.lb=function(){return 0===this.Qa.length};
function Gk(a,b){for(var c=a.Qa,d=a.Ic,e=c.length,f=c[b],g=d[b],k=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Hk(a,k,b)}function Hk(a,b,c){var d=a.Qa;a=a.Ic;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Ik(a){var b=a.Ni,c=a.Qa,d=a.Ic,e=0,f=c.length,g,k,m;for(k=0;k<f;++k)g=c[k],m=b(g),Infinity==m?delete a.Kc[a.eg(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.Qa.length>>1)-1;0<=b;b--)Gk(a,b)};function Jk(a,b){Ek.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Jm=b;this.Md=0}D(Jk,Ek);Jk.prototype.Pk=function(){--this.Md;this.Jm()};function Kk(a){return function(b){if(s(b))return[Db(b[0],a[0],a[2]),Db(b[1],a[1],a[3])]}}function Lk(a){return a};function Mk(a){return function(b,c,d){if(s(b))return b=Zj(a,b,d),b=Db(b+c,0,a.length-1),a[b]}}function Nk(a,b,c){return function(d,e,f){if(s(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),s(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Ok(a){if(s(a))return 0}function Pk(a,b){if(s(a))return a+b}function Qk(a){var b=2*Math.PI/a;return function(a,d){if(s(a))return a=Math.floor((a+d)/b+.5)*b}}function Rk(){var a=5*Math.PI/180;return function(b,c){if(s(b))return Math.abs(b+c)<=a?0:b+c}};function Sk(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Y(a){Th.call(this);a=s(a)?a:{};this.Zf=[0,0];var b={};b.center=s(a.center)?a.center:null;this.Jc=Pj(a.projection);var c,d,e,f=s(a.minZoom)?a.minZoom:0;c=s(a.maxZoom)?a.maxZoom:28;var g=s(a.zoomFactor)?a.zoomFactor:2;if(s(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Mk(c);else{d=Pj(a.projection);e=d.S();var k=(null===e?360*Gj.degrees/Gj[d.Gj]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=k/Math.pow(2,28);d=a.maxResolution;s(d)?f=0:d=k/Math.pow(g,f);e=a.minResolution;s(e)||
(e=s(a.maxZoom)?s(a.maxResolution)?d/Math.pow(g,c):k/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=Nk(g,d,c-f)}this.lg=d;this.pl=e;this.mg=f;f=s(a.extent)?Kk(a.extent):Lk;(s(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=s(d)&&!0!==d?!1===d?Pk:ja(d)?Qk(d):Pk:Rk()):d=Ok;this.Wc=new Sk(f,c,d);s(a.resolution)?b.resolution=a.resolution:s(a.zoom)&&(b.resolution=this.constrainResolution(this.lg,a.zoom-this.mg));b.rotation=s(a.rotation)?a.rotation:0;this.Dd(b)}
D(Y,Th);Y.prototype.constrainResolution=function(a,b,c){return this.Wc.resolution(a,b||0,c||0)};Y.prototype.constrainRotation=function(a,b){return this.Wc.rotation(a,b||0)};Y.prototype.ma=function(){return this.get("center")};Y.prototype.getCenter=Y.prototype.ma;Y.prototype.k=function(){return this.get("resolution")};Y.prototype.getResolution=Y.prototype.k;Y.prototype.Qb=function(){return this.get("rotation")};Y.prototype.getRotation=Y.prototype.Qb;
Y.prototype.D=function(){var a=this.ma(),b=this.Jc,c=this.k(),d=this.Qb();return{center:a.slice(),projection:s(b)?b:null,resolution:c,rotation:s(d)?d:0}};function Tk(a){var b,c=a.k();if(s(c)){var d,e=0;do{d=a.constrainResolution(a.lg,e);if(d==c){b=e;break}++e}while(d>a.pl)}return s(b)?a.mg+b:b}function Uk(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.Xa(xj(b)),b=Math.max((b[2]-b[0])/c[0],(b[3]-b[1])/c[1]),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.fc(c))}
Y.prototype.bg=function(){return null!=this.ma()&&s(this.k())};Y.prototype.rotate=function(a,b){if(s(b)){var c,d=this.ma();s(d)&&(c=[d[0]-b[0],d[1]-b[1]],di(c,a-this.Qb()),ci(c,b));this.Xa(c)}this.yg(a)};Y.prototype.Xa=function(a){this.set("center",a)};Y.prototype.setCenter=Y.prototype.Xa;function Vk(a,b){a.Zf[1]+=b}Y.prototype.fc=function(a){this.set("resolution",a)};Y.prototype.setResolution=Y.prototype.fc;Y.prototype.yg=function(a){this.set("rotation",a)};Y.prototype.setRotation=Y.prototype.yg;function Wk(a){Th.call(this);this.element=s(a.element)?a.element:null;this.C=s(a.target)?Q(a.target):null;this.b=null;this.De=[]}D(Wk,Th);Wk.prototype.c=function(){ac(this.element);Wk.g.c.call(this)};Wk.prototype.ha=function(){return this.b};Wk.prototype.uc=ea;
Wk.prototype.setMap=function(a){null===this.b||ac(this.element);0!=this.De.length&&(F(this.De,V),this.De.length=0);this.b=a;null!==this.b&&((null===this.C?a.Me:this.C).appendChild(this.element),this.uc!==ea&&this.De.push(U(a,"postrender",this.uc,!1,this)),a.render())};function Xk(a){a=s(a)?a:{};this.hf=Wb("UL");this.Ee=Wb("LI");this.hf.appendChild(this.Ee);Je(this.Ee,!1);this.oc=s(a.collapsed)?a.collapsed:!0;this.Wd=s(a.collapsible)?a.collapsible:!0;this.Wd||(this.oc=!1);var b=s(a.className)?a.className:"ol-attribution",c=Rb("SPAN",{role:"tooltip"},s(a.tipLabel)?a.tipLabel:"Attributions");this.Yg=s(a.collapseLabel)?a.collapseLabel:"\u00bb";this.Wb=s(a.label)?a.label:"i";this.gi=Rb("SPAN",{},this.Wd&&!this.oc?this.Yg:this.Wb);var d=Rb("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.gi);d.appendChild(c);c=new Ri(d);zc(this,c);U(c,Di,this.jb,!1,this);U(d,"click",this.ib,!1,this);U(d,["mouseout",Dc],function(){this.blur()},!1);b=Rb("DIV",{"class":b+" ol-unselectable ol-control"+(this.oc&&this.Wd?" ol-collapsed":"")+(this.Wd?"":" ol-uncollapsible")},this.hf,d);Wk.call(this,{element:b,target:a.target});this.v=!0;this.Ib={};this.qb={};this.el={}}D(Xk,Wk);
Xk.prototype.uc=function(a){a=a.frameState;if(null===a)this.v&&(Je(this.element,!1),this.v=!1);else{var b,c,d,e,f,g,k,m,n,p=a.layerStatesArray,q=kb(a.attributions),t={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.W,n=B(d).toString(),m=d.wf,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],k=B(g).toString(),!(k in q)){f=a.usedTiles[n];var x;if(x=s(f))a:if(null===g.cf)x=!0;else{var u=x=void 0,r=void 0,y=void 0;for(y in f)if(y in g.cf)for(r=f[y],x=0,u=g.cf[y].length;x<u;++x)if(g.cf[y][x].ci(r)){x=!0;break a}x=
!1}x?(k in t&&delete t[k],q[k]=g):t[k]=g}b=[q,t];c=b[0];b=b[1];for(var v in this.Ib)v in c?(this.qb[v]||(Je(this.Ib[v],!0),this.qb[v]=!0),delete c[v]):v in b?(this.qb[v]&&(Je(this.Ib[v],!1),delete this.qb[v]),delete b[v]):(ac(this.Ib[v]),delete this.Ib[v],delete this.qb[v]);for(v in c)n=Wb("LI"),n.innerHTML=c[v].Qh,this.hf.appendChild(n),this.Ib[v]=n,this.qb[v]=!0;for(v in b)n=Wb("LI"),n.innerHTML=b[v].Qh,Je(n,!1),this.hf.appendChild(n),this.Ib[v]=n;v=!hb(this.qb)||!hb(a.logos);this.v!=v&&(Je(this.element,
v),this.v=v);v&&hb(this.qb)?oc(this.element,"ol-logo-only"):qc(this.element,"ol-logo-only");var A;a=a.logos;v=this.el;for(A in v)A in a||(ac(v[A]),delete v[A]);for(var z in a)z in v||(A=new Image,A.src=z,c=a[z],""===c?c=A:(c=Rb("A",{href:c}),c.appendChild(A)),this.Ee.appendChild(c),v[z]=c);Je(this.Ee,!hb(a))}};Xk.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||Yk(this)};Xk.prototype.jb=function(a){a.Q.preventDefault();Yk(this)};
function Yk(a){var b=a.element,c=!nc(b,"ol-collapsed");sc(b,"ol-collapsed",c);dc(a.gi,a.oc?a.Yg:a.Wb);a.oc=!a.oc};function Zk(a){return 1-Math.pow(1-a,3)};function $k(a){return 3*a*a-2*a*a*a}function al(a){return a};function bl(a){var b=a.source,c=s(a.start)?a.start:ta(),d=b[0],e=b[1],f=s(a.duration)?a.duration:1E3,g=s(a.easing)?a.easing:$k;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],q=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*q;b.viewHints[0]+=1;return!0}return!1}}
function cl(a){var b=s(a.rotation)?a.rotation:0,c=s(a.start)?a.start:ta(),d=s(a.duration)?a.duration:1E3,e=s(a.easing)?a.easing:$k,f=s(a.anchor)?a.anchor:null;return function(a,k){if(k.time<c)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<c+d){var m=1-e((k.time-c)/d),m=(b-k.viewState.rotation)*m;k.animate=!0;k.viewState.rotation+=m;if(null!==f){var n=k.viewState.center;n[0]-=f[0];n[1]-=f[1];di(n,m);ci(n,f)}k.viewHints[0]+=1;return!0}return!1}}
function dl(a){var b=a.resolution,c=s(a.start)?a.start:ta(),d=s(a.duration)?a.duration:1E3,e=s(a.easing)?a.easing:$k;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var k=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=k*m;g.viewHints[0]+=1;return!0}return!1}};function el(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-rotate";this.Wb=Rb("SPAN",{"class":"ol-compass"},s(a.label)?a.label:"\u21e7");var c=Rb("SPAN",{role:"tooltip"},s(a.tipLabel)?a.tipLabel:"Reset rotation"),c=Rb("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.Wb),d=new Ri(c);zc(this,d);U(d,Di,el.prototype.jb,!1,this);U(c,"click",el.prototype.ib,!1,this);U(c,["mouseout",Dc],function(){this.blur()},!1);b=Rb("DIV",b+" ol-unselectable ol-control",c);Wk.call(this,
{element:b,target:a.target});this.ka=s(a.duration)?a.duration:250;this.Qg=s(a.autoHide)?a.autoHide:!0;this.Zi=void 0;this.Qg&&oc(this.element,"ol-hidden")}D(el,Wk);el.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||fl(this)};el.prototype.jb=function(a){a.Q.preventDefault();fl(this)};function fl(a){var b=a.ha(),c=b.B();if(null!==c){for(var d=c.Qb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;s(d)&&(0<a.ka&&b.Ka(cl({rotation:d,duration:a.ka,easing:Zk})),c.yg(0))}}
el.prototype.uc=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.Zi){var b="rotate("+180*a/Math.PI+"deg)";this.Qg&&sc(this.element,"ol-hidden",0===a);this.Wb.style.msTransform=b;this.Wb.style.webkitTransform=b;this.Wb.style.transform=b}this.Zi=a}};function gl(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-zoom",c=s(a.delta)?a.delta:1,d=s(a.zoomInLabel)?a.zoomInLabel:"+",e=s(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=s(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=Rb("SPAN",{role:"tooltip"},s(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=Rb("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Ri(d);zc(this,g);U(g,Di,ra(gl.prototype.jb,c),!1,this);U(d,"click",ra(gl.prototype.ib,c),!1,this);U(d,["mouseout",Dc],function(){this.blur()},
!1);f=Rb("SPAN",{role:"tooltip"},f);e=Rb("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Ri(e);zc(this,f);U(f,Di,ra(gl.prototype.jb,-c),!1,this);U(e,"click",ra(gl.prototype.ib,-c),!1,this);U(e,["mouseout",Dc],function(){this.blur()},!1);b=Rb("DIV",b+" ol-unselectable ol-control",d,e);Wk.call(this,{element:b,target:a.target});this.ka=s(a.duration)?a.duration:250}D(gl,Wk);gl.prototype.ib=function(a,b){0!==b.screenX&&0!==b.screenY||hl(this,a)};
gl.prototype.jb=function(a,b){b.Q.preventDefault();hl(this,a)};function hl(a,b){var c=a.ha(),d=c.B();if(null!==d){var e=d.k();s(e)&&(0<a.ka&&c.Ka(dl({resolution:e,duration:a.ka,easing:Zk})),c=d.constrainResolution(e,b),d.fc(c))}};function il(a,b,c){this.Jf=a;this.Ke=b;this.Zj=c;this.ua=[];this.zc=this.tf=0}il.prototype.update=function(a,b){this.ua.push(a,b,ta())};il.prototype.end=function(){if(6>this.ua.length)return!1;var a=ta()-this.Zj,b=this.ua.length-3;if(this.ua[b+2]<a)return!1;for(var c=b-3;0<c&&this.ua[c+2]>a;)c-=3;var a=this.ua[b+2]-this.ua[c+2],d=this.ua[b]-this.ua[c],b=this.ua[b+1]-this.ua[c+1];this.tf=Math.atan2(b,d);this.zc=Math.sqrt(d*d+b*b)/a;return this.zc>this.Ke};
function jl(a,b){var c=a.Jf,d=a.zc,e=a.Ke-d,f=kl(a);return bl({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function kl(a){return Math.log(a.Ke/a.zc)/a.Jf};function ll(){Ph.call(this);this.b=null;this.wa=!0}D(ll,Ph);ll.prototype.ha=function(){return this.b};ll.prototype.setActive=function(a){this.wa=a};ll.prototype.setMap=function(a){this.b=a};function ml(a,b,c,d,e){if(null!=c){var f=b.Qb(),g=b.ma();s(f)&&s(g)&&s(e)&&0<e&&(a.Ka(cl({rotation:f,duration:e,easing:Zk})),s(d)&&a.Ka(bl({source:g,duration:e,easing:Zk})));b.rotate(c,d)}}function nl(a,b,c,d,e){var f=b.k();c=b.constrainResolution(f,c,0);ol(a,b,c,d,e)}
function ol(a,b,c,d,e){if(null!=c){var f=b.k(),g=b.ma();s(f)&&s(g)&&s(e)&&0<e&&(a.Ka(dl({resolution:f,duration:e,easing:Zk})),s(d)&&a.Ka(bl({source:g,duration:e,easing:Zk})));if(null!=d){var k;a=b.ma();e=b.k();s(a)&&s(e)&&(k=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Xa(k)}b.fc(c)}};function pl(a){a=s(a)?a:{};this.Ma=s(a.delta)?a.delta:1;ll.call(this);this.ka=s(a.duration)?a.duration:250}D(pl,ll);pl.prototype.wb=function(a){var b=!1,c=a.Q;if(a.type==dj){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Ma:this.Ma,e=b.B();nl(b,e,c,d,this.ka);a.preventDefault();b=!0}return!b};function ql(a){a=a.Q;return a.altKey&&!a.Pe&&a.shiftKey}function rl(a){a=a.Q;return!a.altKey&&!a.Pe&&!a.shiftKey}function sl(a){a=a.Q;return!a.altKey&&!a.Pe&&a.shiftKey}function tl(a){a=a.Q.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function ul(){ll.call(this);this.yc=!1;this.Od={};this.ba=[]}D(ul,ll);function vl(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}h=ul.prototype;h.wc=ea;h.xc=pd;h.vc=pd;
h.wb=function(a){if(!(a instanceof $i))return!0;var b=!1,c=a.type;if(c===ij||c===kj||c===gj)c=a.bc,a.type==gj?delete this.Od[c.pointerId]:a.type==ij?this.Od[c.pointerId]=c:c.pointerId in this.Od&&(this.Od[c.pointerId]=c),this.ba=fb(this.Od);this.yc&&(a.type==kj?this.wc(a):a.type==gj&&(this.yc=this.xc(a)));a.type==ij&&(this.yc=a=this.vc(a),b=this.jj(a));return!b};h.jj=pd;function wl(a){ul.call(this);this.mb=(s(a)?a:{}).kinetic;this.Bc=this.md=null;this.cb=s(a.condition)?a.condition:rl;this.wi=!1}D(wl,ul);wl.prototype.wc=function(a){var b=vl(this.ba);this.mb&&this.mb.update(b[0],b[1]);if(null!==this.Bc){var c=this.Bc[0]-b[0],d=b[1]-this.Bc[1];a=a.map;var e=a.B(),f=e.D(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;di(c,f.rotation);ci(c,f.center);c=e.Wc.center(c);a.render();e.Xa(c)}this.Bc=b};
wl.prototype.xc=function(a){a=a.map;var b=a.B();if(0===this.ba.length){if(!this.wi&&this.mb&&this.mb.end()){var c;c=this.mb;c=(c.Ke-c.zc)/c.Jf;var d=this.mb.tf,e=b.ma();this.md=jl(this.mb,e);a.Ka(this.md);e=xl(a,e);c=a.ed([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.Wc.center(c);b.Xa(c)}Vk(b,-1);a.render();return!1}this.Bc=null;return!0};
wl.prototype.vc=function(a){if(0<this.ba.length&&this.cb(a)){var b=a.map,c=b.B();this.Bc=null;this.yc||Vk(c,1);b.render();null!==this.md&&Ra(b.Se,this.md)&&(c.Xa(a.frameState.viewState.center),this.md=null);this.mb&&(a=this.mb,a.ua.length=0,a.tf=0,a.zc=0);this.wi=1<this.ba.length;return!0}return!1};function yl(a){a=s(a)?a:{};ul.call(this);this.cb=s(a.condition)?a.condition:ql;this.nb=void 0}D(yl,ul);yl.prototype.wc=function(a){if(1==a.bc.pointerId){var b=a.map,c=b.T();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(s(this.nb)){a=c-this.nb;var d=b.B(),e=d.D();b.render();ml(b,d,e.rotation-a)}this.nb=c}};yl.prototype.xc=function(a){if(1!=a.bc.pointerId)return!0;a=a.map;var b=a.B();Vk(b,-1);var c=b.D().rotation,c=b.constrainRotation(c,0);ml(a,b,c,void 0,250);return!1};
yl.prototype.vc=function(a){return 1==a.bc.pointerId&&Hc(a.Q)&&this.cb(a)?(a=a.map,Vk(a.B(),1),a.render(),this.nb=void 0,!0):!1};function zl(){Ph.call(this);this.extent=void 0;this.vh=-1}D(zl,Ph);zl.prototype.Xc=pd;zl.prototype.transform=function(a,b){var c=Rj(a,b);null!==this.N&&(c(this.N,this.N,this.O),this.X());return this};function Al(a,b,c,d,e,f){var g=e[0],k=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=s(f)?f:[],t=0;b<c;b+=d){var x=a[b],u=a[b+1];q[t++]=g*x+m*u+p;q[t++]=k*x+n*u+e}s(f)&&q.length!=t&&(q.length=t);return q};function Bl(){zl.call(this);this.pd="XY";this.O=2;this.N=null}D(Bl,zl);function Cl(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Bl.prototype.Xc=pd;
Bl.prototype.S=function(a){if(this.vh!=this.Ea){for(var b=this.N,c=this.N.length,d=this.O,e=uj(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,k=b[f],m=b[f+1];g[0]=Math.min(g[0],k);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],k);g[3]=Math.max(g[3],m)}this.extent=e;this.vh=this.Ea}b=this.extent;s(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function Dl(a,b,c,d,e,f){for(var g=!1,k=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-k)*(f-m)/(p-m)+k&&(g=!g);k=n;m=p}return g}function El(a,b,c,d,e){if(0===b.length||!Dl(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(Dl(a,b[f-1],b[f],c,d,e))return!1;return!0};function Fl(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var k=a[b],m=a[b+1],e=e+(k-f)*(m+g),f=k,g=m;return 0<e};function Gl(a,b){Bl.call(this);this.za=[];this.xh=-1;this.yh=null;this.Ii=-1;this.td=null;if(null===a){var c=this.za;this.O=Cl("XY");this.pd="XY";this.N=null;this.za=c}else{a:{var c=b,d=a;if(s(c))d=Cl(c);else{for(c=0;2>c;++c){if(0===d.length){this.pd="XY";this.O=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.pd=c;this.O=d}null===this.N&&(this.N=[]);var c=this.N,d=this.O,e=this.za,f=0,e=s(e)?e:[],g=0,k,m;k=0;for(m=a.length;k<m;++k){var n;n=c;for(var p=a[k],q=d,t=void 0,
x=void 0,t=0,x=p.length;t<x;++t){var u=p[t],r;for(r=0;r<q;++r)n[f++]=u[r]}n=f;f=e[g++]=n}e.length=g;this.N.length=0===e.length?0:e[e.length-1]}this.X()}D(Gl,Bl);Gl.prototype.clone=function(){var a=new Gl(null),b=this.pd,c=this.N.slice(),d=this.za.slice();a.O=Cl(b);a.pd=b;a.N=c;a.za=d;a.X();return a};Gl.prototype.Xc=function(a,b){return El(Hl(this),this.za,this.O,a,b)};
function Hl(a){if(a.Ii!=a.Ea){var b=a.N,c;a:{c=a.za;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=Fl(b,d,g,a.O);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.td=b;else{a.td=b.slice();c=b=a.td;e=a.za;f=a.O;for(var k=0,g=0,d=e.length;g<d;++g){var m=e[g],n=Fl(c,k,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;k<p-q;){var t;for(t=0;t<q;++t){var x=n[k+t];n[k+t]=n[p-q+t];n[p-q+t]=x}k+=q;p-=q}k=m}b.length=k}a.Ii=a.Ea}return a.td}Gl.prototype.Sb=function(){return"Polygon"};function Il(a,b,c,d,e,f,g){S.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}D(Il,S);function Jl(a){this.ge=this.be=this.Fa=this.Re=this.b=null;this.Em=a}D(Jl,wc);function Kl(a){var b=a.Fa,c=a.be;a=Na([b,[b[0],c[1]],c,[c[0],b[1]]],a.b.ed,a.b);a[4]=a[0].slice();return new Gl([a])}Jl.prototype.c=function(){this.setMap(null)};Jl.prototype.Ck=function(a){var b=this.ge,c=this.Em;a.vectorContext.kh(Infinity,function(a){a.ej(c.wh,c.qj);a.ij(c.ca);a.Nf(b,null)})};Jl.prototype.Rf=function(){return this.ge};function Ll(a){null===a.b||null===a.Fa||null===a.be||a.b.render()}
Jl.prototype.setMap=function(a){null!==this.Re&&(V(this.Re),this.Re=null,this.b.render(),this.b=null);this.b=a;null!==this.b&&(this.Re=U(a,"postcompose",this.Ck,!1,this),Ll(this))};function Ml(a,b){S.call(this,a);this.coordinate=b}D(Ml,S);function Nl(a){ul.call(this);a=s(a)?a:{};this.Rc=new Jl(s(a.style)?a.style:null);this.Fa=null;this.cb=s(a.condition)?a.condition:qd}D(Nl,ul);h=Nl.prototype;h.wc=function(a){if(1==a.bc.pointerId){var b=this.Rc;a=a.pixel;b.Fa=this.Fa;b.be=a;b.ge=Kl(b);Ll(b)}};h.Rf=function(){return this.Rc.Rf()};h.xi=ea;
h.xc=function(a){if(1!=a.bc.pointerId)return!0;this.Rc.setMap(null);var b=a.pixel[0]-this.Fa[0],c=a.pixel[1]-this.Fa[1];64<=b*b+c*c&&(this.xi(a),this.dispatchEvent(new Ml("boxend",a.coordinate)));return!1};h.vc=function(a){if(1==a.bc.pointerId&&Hc(a.Q)&&this.cb(a)){this.Fa=a.pixel;this.Rc.setMap(a.map);var b=this.Rc,c=this.Fa;b.Fa=this.Fa;b.be=c;b.ge=Kl(b);Ll(b);this.dispatchEvent(new Ml("boxstart",a.coordinate));return!0}return!1};h.jj=sd;function Ol(a){a=s(a)?a:{};this.Yd=s(a.color)?a.color:null;this.ki=a.lineCap;this.li=s(a.lineDash)?a.lineDash:null;this.mi=a.lineJoin;this.ui=a.miterLimit;this.bn=a.width}Ol.prototype.getLineDash=function(){return this.li};Ol.prototype.vb=function(){return this.bn};Ol.prototype.setLineDash=function(a){this.li=a};function Pl(a){if(!w(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var Ql=[0,0,0,1],Rl=[],Sl=[0,0,0,1];function Tl(a){a=s(a)?a:{};this.wh=s(a.fill)?a.fill:null;this.$=s(a.image)?a.image:null;this.qj=s(a.stroke)?a.stroke:null;this.ca=s(a.text)?a.text:null}Tl.prototype.Aa=function(){return this.$};function Ul(a){a=s(a)?a:{};Nl.call(this,{condition:s(a.condition)?a.condition:sl,style:s(a.style)?a.style:new Tl({stroke:new Ol({color:[0,0,255,1]})})})}D(Ul,Nl);Ul.prototype.xi=function(){var a=this.ha(),b=a.B(),c=this.Rf().S(),d=xj(c),e=a.T(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);ol(a,b,c,d,200)};function Vl(a){ll.call(this);a=s(a)?a:{};this.cb=s(a.condition)?a.condition:ud(rl,tl);this.Nl=s(a.pixelDelta)?a.pixelDelta:128}D(Vl,ll);
Vl.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.keyCode;if(this.cb(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.B(),e=b.D(),f=e.resolution*this.Nl,g=0,k=0;40==c?k=-f:37==c?g=-f:39==c?g=f:k=f;c=[g,k];di(c,e.rotation);e=b.ma();s(e)&&(s(100)&&d.Ka(bl({source:e,duration:100,easing:al})),d=b.Wc.center([e[0]+c[0],e[1]+c[1]]),b.Xa(d));a.preventDefault();b=!0}}return!b};function Wl(a){ll.call(this);a=s(a)?a:{};this.cb=s(a.condition)?a.condition:tl;this.Ma=s(a.delta)?a.delta:1;this.ka=s(a.duration)?a.duration:100}D(Wl,ll);Wl.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.charCode;if(this.cb(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Ma:-this.Ma;b.render();var d=b.B();nl(b,d,c,void 0,this.ka);a.preventDefault();b=!0}}return!b};function Xl(a){a=s(a)?a:{};ll.call(this);this.Ma=0;this.ka=s(a.duration)?a.duration:250;this.fg=null;this.Gb=this.af=void 0}D(Xl,ll);Xl.prototype.wb=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.Q;this.fg=a.coordinate;this.Ma+=c.deltaY;s(this.af)||(this.af=ta());c=Math.max(80-(ta()-this.af),0);l.clearTimeout(this.Gb);this.Gb=l.setTimeout(C(this.ak,this,b),c);a.preventDefault();b=!0}return!b};
Xl.prototype.ak=function(a){var b=Db(this.Ma,-1,1),c=a.B();a.render();nl(a,c,-b,this.fg,this.ka);this.Ma=0;this.fg=null;this.Gb=this.af=void 0};function Yl(a){ul.call(this);a=s(a)?a:{};this.ab=null;this.nb=void 0;this.yd=!1;this.Ze=0;this.Gm=s(a.threshold)?a.threshold:.3}D(Yl,ul);Yl.prototype.wc=function(a){var b=0,c=this.ba[0],d=this.ba[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);s(this.nb)&&(b=c-this.nb,this.Ze+=b,!this.yd&&Math.abs(this.Ze)>this.Gm&&(this.yd=!0));this.nb=c;a=a.map;c=jg(a.M);d=vl(this.ba);d[0]-=c.x;d[1]-=c.y;this.ab=a.ed(d);this.yd&&(c=a.B(),d=c.D(),a.render(),ml(a,c,d.rotation+b,this.ab))};
Yl.prototype.xc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Vk(b,-1);if(this.yd){var c=b.D().rotation,d=this.ab,c=b.constrainRotation(c,0);ml(a,b,c,d,250)}return!1}return!0};Yl.prototype.vc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.nb=void 0,this.yd=!1,this.Ze=0,this.yc||Vk(a.B(),1),a.render(),!0):!1};function Zl(a){a=s(a)?a:{};ul.call(this);this.ab=null;this.ka=s(a.duration)?a.duration:400;this.ze=void 0;this.gg=1}D(Zl,ul);Zl.prototype.wc=function(a){var b=1,c=this.ba[0],d=this.ba[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);s(this.ze)&&(b=this.ze/e);this.ze=e;1!=b&&(this.gg=b);a=a.map;var e=a.B(),c=e.D(),d=jg(a.M),f=vl(this.ba);f[0]-=d.x;f[1]-=d.y;this.ab=a.ed(f);a.render();ol(a,e,c.resolution*b,this.ab)};
Zl.prototype.xc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Vk(b,-1);var c=b.D().resolution,d=this.ab,e=this.ka,c=b.constrainResolution(c,0,this.gg-1);ol(a,b,c,d,e);return!1}return!0};Zl.prototype.vc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.ze=void 0,this.gg=1,this.yc||Vk(a.B(),1),a.render(),!0):!1};function $l(a){var b=s(a)?a:{};a=kb(b);delete a.layers;b=b.layers;X.call(this,a);this.Bb=null;U(this,Xh("layers"),this.yk,!1,this);null!=b?ha(b)&&(b=new Zh(Ta(b))):b=new Zh;this.fj(b)}D($l,X);h=$l.prototype;h.Nh=function(){this.Uf()&&this.X()};
h.yk=function(){null!==this.Bb&&(F(fb(this.Bb),V),this.Bb=null);var a=this.hd();if(null!=a){this.Bb={add:U(a,"add",this.xk,!1,this),remove:U(a,"remove",this.zk,!1,this)};var a=a.dd(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Bb[B(d).toString()]=U(d,["propertychange","change"],this.Nh,!1,this)}this.X()};h.xk=function(a){a=a.element;this.Bb[B(a).toString()]=U(a,["propertychange","change"],this.Nh,!1,this);this.X()};h.zk=function(a){a=B(a.element).toString();V(this.Bb[a]);delete this.Bb[a];this.X()};
h.hd=function(){return this.get("layers")};$l.prototype.getLayers=$l.prototype.hd;$l.prototype.fj=function(a){this.set("layers",a)};$l.prototype.setLayers=$l.prototype.fj;
$l.prototype.Sf=function(a){var b=s(a)?a:[],c=b.length;this.hd().forEach(function(a){a.Sf(b)});a=Wj(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=Db(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),s(a.extent)&&s(e.extent)&&(e.extent=Bj(e.extent,a.extent));return b};
$l.prototype.Kh=function(){return"ready"};function am(a){Hj.call(this,{code:a,units:"m",extent:bm,global:!0,worldExtent:cm})}D(am,Hj);var dm=6378137*Math.PI,bm=[-dm,-dm,dm,dm],cm=[-180,-85,180,85],em=Na("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new am(a)});
function fm(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function gm(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function hm(a,b){Hj.call(this,{code:a,units:"degrees",extent:im,axisOrientation:b,global:!0,worldExtent:im})}D(hm,Hj);var im=[-180,-90,180,90],jm=[new hm("CRS:84"),new hm("EPSG:4326","neu"),new hm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new hm("urn:ogc:def:crs:OGC:1.3:CRS84"),new hm("urn:ogc:def:crs:OGC:2:84"),new hm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new hm("urn:x-ogc:def:crs:EPSG:4326","neu")];function km(a){Xj.call(this,a)}D(km,Xj);km.prototype.je=function(){return this.get("preload")};km.prototype.getPreload=km.prototype.je;km.prototype.xm=function(a){this.set("preload",a)};km.prototype.setPreload=km.prototype.xm;km.prototype.le=function(){return this.get("useInterimTilesOnError")};km.prototype.getUseInterimTilesOnError=km.prototype.le;km.prototype.zm=function(a){this.set("useInterimTilesOnError",a)};km.prototype.setUseInterimTilesOnError=km.prototype.zm;function lm(a,b,c,d,e){this.Ud={};this.A=a;this.Fc=b;this.Y=c;this.qa=d;this.Zm=e;this.$=this.P=this.ga=this.ah=this.$g=this.Zg=null;this.Xk=this.Wk=this.$f=this.Wh=this.Vh=this.Uh=0;this.Yk=!1;this.te=this.Zk=0;this.$k=!1;this.Yh=0;this.ca="";this.Id=this.bf=this.tj=this.sj=0;this.Eg=this.Jd=this.Hd=null;this.Oe=[];this.xj=Hh()}
function mm(a,b,c){if(null!==a.$){b=Al(b,0,c,2,a.qa,a.Oe);c=a.A;var d=a.xj,e=c.globalAlpha;1!=a.$f&&(c.globalAlpha=e*a.$f);var f=a.Zk;a.Yk&&(f+=a.Zm);var g,k;g=0;for(k=b.length;g<k;g+=2){var m=b[g]-a.Uh,n=b[g+1]-a.Vh;a.$k&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.te){var p=m+a.Uh,q=n+a.Vh;xk(d,p,q,a.te,a.te,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.$,a.Wk,a.Xk,a.Yh,a.Wh,m,n,a.Yh,a.Wh)}0===f&&1==a.te||c.setTransform(1,0,0,1,0,0);1!=a.$f&&(c.globalAlpha=e)}}
function nm(a,b,c,d){var e=0;if(null!==a.Eg&&""!==a.ca){null===a.Hd||om(a,a.Hd);null===a.Jd||pm(a,a.Jd);var f=a.Eg,g=a.A,k=a.ah;null===k?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.ah={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(k.font!=f.font&&(k.font=g.font=f.font),k.textAlign!=f.textAlign&&(k.textAlign=g.textAlign=f.textAlign),k.textBaseline!=f.textBaseline&&(k.textBaseline=g.textBaseline=f.textBaseline));b=Al(b,e,c,d,a.qa,a.Oe);for(f=a.A;e<c;e+=
d){g=b[e]+a.sj;k=b[e+1]+a.tj;if(0!==a.bf||1!=a.Id){var m=xk(a.xj,g,k,a.Id,a.Id,a.bf,-g,-k);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Jd||f.strokeText(a.ca,g,k);null===a.Hd||f.fillText(a.ca,g,k)}0===a.bf&&1==a.Id||f.setTransform(1,0,0,1,0,0)}}function qm(a,b,c,d,e,f){var g=a.A;a=Al(b,c,d,e,a.qa,a.Oe);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function rm(a,b,c,d,e){var f=a.A,g,k;g=0;for(k=d.length;g<k;++g)c=qm(a,b,c,d[g],e,!0),f.closePath();return c}h=lm.prototype;h.kh=function(a,b){var c=a.toString(),d=this.Ud[c];s(d)?d.push(b):this.Ud[c]=[b]};
h.lh=function(a){if(Cj(this.Y,a.S())){if(null!==this.ga||null!==this.P){null===this.ga||om(this,this.ga);null===this.P||pm(this,this.P);var b;b=a.N;b=null===b?null:Al(b,0,b.length,a.O,this.qa,this.Oe);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.A;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.ga||d.fill();null===this.P||d.stroke()}""!==this.ca&&nm(this,a.ma(),2,2)}};h.mh=function(a,b){var c=a.zn(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];sm[f.Sb()].call(this,f,b)}};
h.rh=function(a){var b=a.N;a=a.O;null===this.$||mm(this,b,b.length);""!==this.ca&&nm(this,b,b.length,a)};h.ph=function(a){var b=a.N;a=a.O;null===this.$||mm(this,b,b.length);""!==this.ca&&nm(this,b,b.length,a)};h.nh=function(a){if(Cj(this.Y,a.S())){if(null!==this.P){pm(this,this.P);var b=this.A,c=a.N;b.beginPath();qm(this,c,0,c.length,a.O,!1);b.stroke()}""!==this.ca&&(a=a.wn(),nm(this,a,2,2))}};
h.oh=function(a){var b=a.S();if(Cj(this.Y,b)){if(null!==this.P){pm(this,this.P);var b=this.A,c=a.N,d=0,e=a.za,f=a.O;b.beginPath();var g,k;g=0;for(k=e.length;g<k;++g)d=qm(this,c,d,e[g],f,!1);b.stroke()}""!==this.ca&&(a=a.xn(),nm(this,a,a.length,2))}};
h.Nf=function(a){if(Cj(this.Y,a.S())){if(null!==this.P||null!==this.ga){null===this.ga||om(this,this.ga);null===this.P||pm(this,this.P);var b=this.A;b.beginPath();rm(this,Hl(a),0,a.za,a.O);null===this.ga||b.fill();null===this.P||b.stroke()}if(""!==this.ca){if(a.xh!=a.Ea){b=xj(a.S());var c=Hl(a),d=a.za,e=a.O,f,g,k,m,n,p=b[1],q=[],t=d[0];k=c[t-e];n=c[t-e+1];for(f=0;f<t;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)k=(p-n)/(g-n)*(m-k)+k,q.push(k);k=m;n=g}t=NaN;n=-Infinity;q.sort();k=q[0];f=1;for(g=
q.length;f<g;++f){m=q[f];var x=Math.abs(m-k);x>n&&(k=(k+m)/2,El(c,d,e,k,p)&&(t=k,n=x));k=m}isNaN(t)&&(t=b[0]);s(void 0)?((void 0).push(t,p),b=void 0):b=[t,p];a.yh=b;a.xh=a.Ea}nm(this,a.yh,2,2)}}};
h.qh=function(a){if(Cj(this.Y,a.S())){if(null!==this.P||null!==this.ga){null===this.ga||om(this,this.ga);null===this.P||pm(this,this.P);var b=this.A,c=Hl(a),d=0,e=a.un(),f=a.O,g,k;g=0;for(k=e.length;g<k;++g){var m=e[g];b.beginPath();d=rm(this,c,d,m,f);null===this.ga||b.fill();null===this.P||b.stroke()}}""!==this.ca&&(a=a.vn(),nm(this,a,a.length,2))}};
h.flush=function(){var a=Na(gb(this.Ud),Number);a.sort(Ya);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Ud[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function om(a,b){var c=a.A,d=a.Zg;null===d?(c.fillStyle=b.fillStyle,a.Zg={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function pm(a,b){var c=a.A,d=a.$g;null===d?(c.lineCap=b.lineCap,ri&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.$g={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),ri&&!Wa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
h.ej=function(a,b){if(null===a)this.ga=null;else{var c=a.Yd;this.ga={fillStyle:Pl(null===c?Ql:c)}}if(null===b)this.P=null;else{var c=b.Yd,d=b.ki,e=b.getLineDash(),f=b.mi,g=b.vb(),k=b.ui;this.P={lineCap:s(d)?d:"round",lineDash:null!=e?e:Rl,lineJoin:s(f)?f:"round",lineWidth:this.Fc*(s(g)?g:1),miterLimit:s(k)?k:10,strokeStyle:Pl(null===c?Sl:c)}}};
h.ij=function(a){if(null===a)this.ca="";else{var b=a.wh;null===b?this.Hd=null:(b=b.Yd,this.Hd={fillStyle:Pl(null===b?Ql:b)});var c=a.qj;if(null===c)this.Jd=null;else{var b=c.Yd,d=c.ki,e=c.getLineDash(),f=c.mi,g=c.vb(),c=c.ui;this.Jd={lineCap:s(d)?d:"round",lineDash:null!=e?e:Rl,lineJoin:s(f)?f:"round",lineWidth:s(g)?g:1,miterLimit:s(c)?c:10,strokeStyle:Pl(null===b?Sl:b)}}var b=a.yn(),d=a.An(),e=a.Bn(),f=a.Qb(),g=a.Dn(),c=a.ca,k=a.En();a=a.Fn();this.Eg={font:s(b)?b:"10px sans-serif",textAlign:s(k)?
k:"center",textBaseline:s(a)?a:"middle"};this.ca=s(c)?c:"";this.sj=s(d)?this.Fc*d:0;this.tj=s(e)?this.Fc*e:0;this.bf=s(f)?f:0;this.Id=this.Fc*(s(g)?g:1)}};var sm={Point:lm.prototype.rh,LineString:lm.prototype.nh,Polygon:lm.prototype.Nf,MultiPoint:lm.prototype.ph,MultiLineString:lm.prototype.oh,MultiPolygon:lm.prototype.qh,GeometryCollection:lm.prototype.mh,Circle:lm.prototype.lh};var tm=["Polygon","LineString","Image","Text"];function um(a,b,c){this.nl=b;this.Wi=c;this.wd={};ki(1,1);Hh()}um.prototype.Ti=function(a,b,c,d,e,f){var g=Na(gb(this.wd),Number);g.sort(Ya);return this.jm(g,a,b,c,d,e,f)};
um.prototype.jm=function(a,b,c,d,e,f,g){var k=this.nl,m=k[0],n=k[1],p=k[2],k=k[3],m=Al([m,n,m,k,p,k,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,t,m=0,n=a.length;m<n;++m)for(q=this.wd[a[m].toString()],p=0,k=tm.length;p<k;++p)if(t=q[tm[p]],s(t)&&Cj(c,t.S())&&(t=t.Ti(b,d,e,f,g)))return t;b.restore()};um.prototype.finish=function(){for(var a in this.wd){var b=this.wd[a],c;for(c in b)b[c].finish()}};
um.prototype.lb=function(){return hb(this.wd)};function vm(a,b){ok.call(this,a,b);this.qa=Hh()}D(vm,ok);
vm.prototype.Ef=function(a,b,c){this.ya("precompose",c,a,void 0);var d=this.Aa();if(null!==d){var e=this.Xh,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],k=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(k))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.ya("postcompose",c,a,void 0)};
vm.prototype.ya=function(a,b,c,d){var e=this.od;if(e.yb(a)){if(!s(d)){d=c.viewState;var f=c.pixelRatio;d=xk(this.qa,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new lm(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new Il(a,e,d,0,c,b,null));d.flush()}};
var wm=function(){var a=null,b=null;return function(c){if(null===a){a=ki(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Wa(b.data,c.data));return e}}();function xm(a,b){vm.call(this,a,b);this.La=this.d=null;this.Bf=!1;this.A=null;this.Xh=Hh();this.tg=NaN;this.Xe=this.dc=null}D(xm,vm);xm.prototype.Aa=function(){return this.d};
xm.prototype.ud=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.od,g=f.W,k=mk(g,e),m=Zj(k.Nc,d.resolution,0),n=nk(g,m,e),p=n/hk(k,m),q=k.k(m),p=q/p,t=d.center,x;q==d.resolution?(t=tk(t,q,a.size),x=Aj(t,q,d.rotation,a.size)):x=a.extent;s(b.extent)&&(x=Bj(x,b.extent));if(x[2]<x[0]||x[3]<x[1])return!1;var u=ek(k,x,q),r=n*u.vb(),y=n*u.he(),v,A;null===this.d?(A=ki(r,y),this.d=A.canvas,this.La=[r,y],this.A=A,this.Bf=!wm(this.La)):(v=this.d,A=this.A,this.La[0]<r||this.La[1]<y||this.Bf&&
(this.La[0]>r||this.La[1]>y)?(v.width=r,v.height=y,this.La=[r,y],this.Bf=!wm(this.La),this.dc=null):(r=this.La[0],y=this.La[1],m==this.tg&&rj(this.dc,u)||(this.dc=null,m<this.tg&&this.A.clearRect(0,0,r,y))));var z,G;null===this.dc?(r/=n,y/=n,z=u.n-Math.floor((r-u.vb())/2),G=u.t-Math.floor((y-u.he())/2),this.tg=m,this.dc=new pj(z,z+r-1,G,G+y-1),this.Xe=Array(r*y),y=this.dc):(y=this.dc,r=y.vb());v={};v[m]={};var E=[],I=C(g.Qf,g,v,sk(function(a){return null!==a&&2==a.D()},g,c,e)),aa=f.le();s(aa)||(aa=
!0);var K=wj(),ba=new pj(0,0,0,0),T,H,R;for(G=u.n;G<=u.G;++G)for(R=u.t;R<=u.s;++R)H=g.Rb(m,G,R,c,e),z=H.D(),2==z||4==z||3==z&&!aa?v[m][oj(H.o)]=H:(T=k.de(H.o,I,null,ba,K),T||(E.push(H),T=k.ke(H.o,ba,K),null===T||I(m+1,T)));I=0;for(T=E.length;I<T;++I)H=E[I],G=n*(H.o[1]-y.n),R=n*(y.s-H.o[2]),A.clearRect(G,R,n,n);E=Na(gb(v),Number);E.sort(Ya);var O=g.Kl,ya=zj(ck(k,[m,y.n,y.s],K)),pa,sa,Qe,rd,Sb,mh,I=0;for(T=E.length;I<T;++I)if(pa=E[I],n=nk(g,pa,e),rd=v[pa],pa==m)for(Qe in rd)H=rd[Qe],sa=(H.o[2]-y.t)*
r+(H.o[1]-y.n),this.Xe[sa]!=H&&(G=n*(H.o[1]-y.n),R=n*(y.s-H.o[2]),z=H.D(),4!=z&&(3!=z||aa)&&O||A.clearRect(G,R,n,n),2==z&&A.drawImage(H.Aa(),0,0,n,n,G,R,n,n),this.Xe[sa]=H);else for(Qe in pa=k.k(pa)/q,rd)for(H=rd[Qe],sa=ck(k,H.o,K),G=(sa[0]-ya[0])/p,R=(ya[1]-sa[3])/p,mh=pa*n,Sb=pa*n,z=H.D(),4!=z&&O||A.clearRect(G,R,mh,Sb),2==z&&A.drawImage(H.Aa(),0,0,n,n,G,R,mh,Sb),H=dk(k,sa,m,ba),z=Math.max(H.n,y.n),R=Math.min(H.G,y.G),G=Math.max(H.t,y.t),H=Math.min(H.s,y.s);z<=R;++z)for(Sb=G;Sb<=H;++Sb)sa=(Sb-y.t)*
r+(z-y.n),this.Xe[sa]=void 0;rk(a.usedTiles,g,m,u);uk(a,g,k,c,e,x,m,f.je());pk(a,g);qk(a,g);xk(this.Xh,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(ya[0]-t[0])/p,(t[1]-ya[1])/p);return!0};function ym(a,b){zk.call(this,0,b);this.A=ki();this.d=this.A.canvas;this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";$b(a,this.d,0);this.v=!0;this.qa=Hh()}D(ym,zk);ym.prototype.Zd=function(a){return a instanceof km?new xm(this,a):null};
ym.prototype.ya=function(a,b){var c=this.ha(),d=this.A;if(c.yb(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,k=g.resolution,m=g.rotation;xk(this.qa,this.d.width/2,this.d.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new lm(d,f,e,this.qa,m);k=new um(0,e,k);c.dispatchEvent(new Il(a,c,g,0,b,d,null));k.finish();k.lb()||k.Ti(d,e,f,this.qa,m,{});g.flush()}};ym.prototype.Sb=function(){return"canvas"};
ym.prototype.Ve=function(a){if(null===a)this.v&&(Je(this.d,!1),this.v=!1);else{var b=this.A,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.d.width!=c||this.d.height!=d?(this.d.width=c,this.d.height=d):b.clearRect(0,0,this.d.width,this.d.height);Ak(a);this.ya("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,k;e=0;for(f=c.length;e<f;++e)k=c[e],g=k.layer,g=Ck(this,g),k.visible&&d>=k.minResolution&&d<k.maxResolution&&"ready"==k.Dg&&g.ud(a,k)&&g.Ef(a,k,b);this.ya("postcompose",
a);this.v||(Je(this.d,!0),this.v=!0);Dk(this,a);a.postRenderFunctions.push(Bk)}};function zm(a,b,c){ok.call(this,a,b);this.target=c}D(zm,ok);zm.prototype.ub=function(){return this.target};function Am(a,b){var c=Wb("DIV");c.style.position="absolute";zm.call(this,a,b,c);this.v=!0;this.Si=1;this.Mc=0;this.Ga={}}D(Am,zm);
Am.prototype.ud=function(a,b){if(!b.visible)return this.v&&(Je(this.target,!1),this.v=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.od,g=f.W,k=mk(g,e),m=Zj(k.Nc,d.resolution,0),n=k.k(m),p=d.center,q;n==d.resolution?(p=tk(p,n,a.size),q=Aj(p,n,d.rotation,a.size)):q=a.extent;s(b.extent)&&(q=Bj(q,b.extent));var n=ek(k,q,n),t={};t[m]={};var x=C(g.Qf,g,t,sk(function(a){return null!==a&&2==a.D()},g,c,e)),u=f.le();s(u)||(u=!0);var r=wj(),y=new pj(0,0,0,0),v,A,z,G;for(z=n.n;z<=n.G;++z)for(G=
n.t;G<=n.s;++G)v=g.Rb(m,z,G,c,e),A=v.D(),2==A?t[m][oj(v.o)]=v:4==A||3==A&&!u||(A=k.de(v.o,x,null,y,r),A||(v=k.ke(v.o,y,r),null===v||x(m+1,v)));var E;if(this.Mc!=g.Ea){for(E in this.Ga)u=this.Ga[+E],ac(u.target);this.Ga={};this.Mc=g.Ea}r=Na(gb(t),Number);r.sort(Ya);var x={},I;z=0;for(G=r.length;z<G;++z){E=r[z];E in this.Ga?u=this.Ga[E]:(u=ik(k,p,E),u=new Bm(k,u),x[E]=!0,this.Ga[E]=u);E=t[E];for(I in E)Cm(u,E[I]);Dm(u)}I=Na(gb(this.Ga),Number);I.sort(Ya);G=Hh();r=0;for(z=I.length;r<z;++r)if(E=I[r],
u=this.Ga[E],E in t)if(A=u.k(),v=u.tc(),xk(G,a.size[0]/2,a.size[1]/2,A/d.resolution,A/d.resolution,d.rotation,(v[0]-p[0])/A,(p[1]-v[1])/A),u.setTransform(G),E in x){for(E-=1;0<=E;--E)if(E in this.Ga){Zb(u.target,this.Ga[E].target);break}0>E&&$b(this.target,u.target,0)}else a.viewHints[0]||a.viewHints[1]||Em(u,q,y);else ac(u.target),delete this.Ga[E];b.opacity!=this.Si&&(this.Si=this.target.style.opacity=b.opacity);b.visible&&!this.v&&(Je(this.target,!0),this.v=!0);rk(a.usedTiles,g,m,n);uk(a,g,k,c,
e,q,m,f.je());pk(a,g);qk(a,g);return!0};function Bm(a,b){this.target=Wb("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.uj=a;this.Fg=b;this.Le=zj(ck(a,b));this.Wi=a.k(b[0]);this.Nd={};this.qc=null;this.qa=Jh()}
function Cm(a,b){var c=b.o,d=c[0],e=c[1],f=c[2],c=oj(c);if(!(c in a.Nd)){var d=hk(a.uj,d),g=b.Aa(a),k=g.style;k.maxWidth="none";k.width=d+"px";k.height=d+"px";k.position="absolute";k.left=(e-a.Fg[1])*d+"px";k.top=(a.Fg[2]-f)*d+"px";null===a.qc&&(a.qc=document.createDocumentFragment());a.qc.appendChild(g);a.Nd[c]=b}}function Dm(a){null!==a.qc&&(a.target.appendChild(a.qc),a.qc=null)}Bm.prototype.tc=function(){return this.Le};Bm.prototype.k=function(){return this.Wi};
function Em(a,b,c){var d=dk(a.uj,b,a.Fg[0],c);b=[];for(var e in a.Nd)c=a.Nd[e],d.contains(c.o)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=oj(c.o),ac(c.Aa(a)),delete a.Nd[e]}
Bm.prototype.setTransform=function(a){var b=this.qa;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(mi()){if(s(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");ni(b,"matrix3d("+c+")")}else if(li()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(s(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");ni(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.qa;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function Fm(a,b){zk.call(this,0,b);this.Cc=Wb("DIV");this.Cc.className="ol-unselectable";var c=this.Cc.style;c.position="absolute";c.width="100%";c.height="100%";$b(a,this.Cc,0);this.v=!0}D(Fm,zk);Fm.prototype.Zd=function(a){if(a instanceof km)a=new Am(this,a);else return null;return a};Fm.prototype.Sb=function(){return"dom"};
Fm.prototype.Ve=function(a){if(null===a)this.v&&(Je(this.Cc,!1),this.v=!1);else{var b;b=function(a,b){$b(this.Cc,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=Ck(this,f),b.call(this,f.ub(),d),"ready"==g.Dg&&f.ud(a,g);b=a.layerStates;for(var k in this.Ba)k in b||(f=this.Ba[k],ac(f.ub()));this.v||(Je(this.Cc,!0),this.v=!0);Ak(a);Dk(this,a);a.postRenderFunctions.push(Bk)}};function Gm(){}h=Gm.prototype;h.kh=function(){};h.lh=function(){};h.mh=function(){};h.rh=function(){};h.nh=function(){};h.oh=function(){};h.ph=function(){};h.qh=function(){};h.Nf=function(){};h.ej=function(){};h.ij=function(){};function Hm(){this.Xd=Hh();this.Sg=void 0;this.Rg=Hh();this.eh=void 0;this.dh=Hh();this.Sh=void 0;this.Rh=Hh();this.aj=void 0;this.$i=Hh()}
function Im(a,b,c,d,e){var f=!1;s(b)&&b!==a.Sg&&(f=a.Rg,Kh(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.Sg=b,f=!0);if(s(c)&&c!==a.eh){f=a.dh;Kh(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.eh=c;f=!0}s(d)&&d!==a.Sh&&(f=Math.cos(d),g=Math.sin(d),Ih(a.Rh,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.Sh=d,f=!0);s(e)&&e!==a.aj&&(Ih(a.$i,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.aj=e,f=!0);f&&(f=a.Xd,Kh(f),s(c)&&Lh(f,a.dh,f),s(b)&&Lh(f,a.Rg,f),s(e)&&Lh(f,a.$i,f),s(d)&&Lh(f,a.Rh,f));return a.Xd};function Jm(a){this.W=a}function Km(a){this.W=a}D(Km,Jm);Km.prototype.Sb=function(){return 35632};function Lm(a){this.W=a}D(Lm,Jm);Lm.prototype.Sb=function(){return 35633};function Mm(){this.W="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}D(Mm,Km);fa(Mm);function Nm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Nm,Lm);fa(Nm);
function Om(a,b){this.Qm=a.getUniformLocation(b,"f");this.Bj=a.getUniformLocation(b,"g");this.Cj=a.getUniformLocation(b,"e");this.Dj=a.getUniformLocation(b,"d");this.gf=a.getUniformLocation(b,"h");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function Pm(){this.W="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}D(Pm,Km);fa(Pm);function Qm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Qm,Lm);fa(Qm);
function Rm(a,b){this.Bj=a.getUniformLocation(b,"f");this.Cj=a.getUniformLocation(b,"e");this.Dj=a.getUniformLocation(b,"d");this.gf=a.getUniformLocation(b,"g");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function Sm(a){this.K=s(a)?a:[]}h=Sm.prototype;h.addRange=function(a,b){if(a!=b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Tm(this);return}c.push(a,b);Tm(this)}};h.clear=function(){this.K.length=0};function Tm(a){a=a.K;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}h.zh=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};h.dd=function(){return this.K};
h.T=function(){var a=this.K,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};h.lb=function(){return 0===this.K.length};
h.removeRange=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Tm(this)};function Um(a,b,c){this.K=s(a)?a:[];this.Lb=[];this.sc=new Sm;a=s(b)?b:this.K.length;a<this.K.length&&this.sc.addRange(a,this.K.length);this.Vm=s(c)?c:35044}h=Um.prototype;h.add=function(a){var b=a.length,c;a:{c=this.sc.K;var d=c.length,e=-1,f,g,k;for(g=0;g<d;g+=2){k=c[g+1]-c[g];if(k==b){c=c[g];break a}k>b&&(-1==e||k<f)&&(e=c[g],f=k)}c=e}this.sc.removeRange(c,c+b);for(d=0;d<b;++d)this.K[c+d]=a[d];Vm(this,b,c);return c};
h.zh=function(a,b){if(0!==this.K.length){var c=this.K.length,d=this.sc.K,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};h.dd=function(){return this.K};h.gb=function(){return this.K.length-this.sc.T()};function Vm(a,b,c){var d,e;d=0;for(e=a.Lb.length;d<e;++d)a.Lb[d].addRange(c,c+b)}h.remove=function(a,b){var c,d;this.sc.addRange(b,b+a);c=0;for(d=this.Lb.length;c<d;++c)this.Lb[c].removeRange(b,b+a)};
h.set=function(a,b){var c=this.K,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Vm(this,d,b)};function Wm(a,b){ok.call(this,a,b);this.Qj=new Um([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.ee=this.Fb=null;this.fe=void 0;this.rj=Hh();this.dm=Jh();this.Xd=new Hm;this.Kf=this.Df=null}D(Wm,ok);
Wm.prototype.bindFramebuffer=function(a,b){var c=this.He.U;if(s(this.fe)&&this.fe==b)c.bindFramebuffer(36160,this.ee);else{a.postRenderFunctions.push(ra(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.ee,this.Fb));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.Fb=d;this.ee=e;this.fe=b}};
Wm.prototype.Ef=function(a,b,c){this.ya("precompose",c,a);c.bindBuffer(34962,this.Qj);var d=c.U,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=Mm.hb(),g=Nm.hb()):(f=Pm.hb(),g=Qm.hb());f=Xm(c,f,g);e?null===this.Df?this.Df=g=new Om(d,f):g=this.Df:null===this.Kf?this.Kf=g=new Rm(d,f):g=this.Kf;c.useProgram(f)&&(d.enableVertexAttribArray(g.lc),d.vertexAttribPointer(g.lc,2,5126,!1,16,0),d.enableVertexAttribArray(g.mc),d.vertexAttribPointer(g.mc,2,5126,!1,16,8),d.uniform1i(g.gf,0));d.uniformMatrix4fv(g.Dj,
!1,this.rj);d.uniformMatrix4fv(g.Cj,!1,this.dm);e&&d.uniformMatrix4fv(g.Qm,!1,Im(this.Xd,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.Bj,b.opacity);d.bindTexture(3553,this.Fb);d.drawArrays(5,0,4);this.ya("postcompose",c,a)};Wm.prototype.ya=function(a,b,c){var d=this.od;d.yb(a)&&d.dispatchEvent(new Il(a,d,new Gm,0,c,null,b))};Wm.prototype.Tb=function(){this.ee=this.Fb=null;this.fe=void 0};function Ym(){this.W="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}D(Ym,Km);fa(Ym);function Zm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}D(Zm,Lm);fa(Zm);function $m(a,b){this.gf=a.getUniformLocation(b,"e");this.Rm=a.getUniformLocation(b,"d");this.lc=a.getAttribLocation(b,"b");this.mc=a.getAttribLocation(b,"c")};function an(a,b){Wm.call(this,a,b);this.gk=Ym.hb();this.Ym=Zm.hb();this.ob=null;this.Qi=new Um([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.ug=this.We=null;this.Mc=-1}D(an,Wm);an.prototype.c=function(){this.He.getContext().deleteBuffer(this.Qi);an.g.c.call(this)};an.prototype.Tb=function(){an.g.Tb.call(this);this.ob=null};
an.prototype.ud=function(a,b){var c=this.He,d=c.getContext(),e=c.U,f=a.viewState,g=f.projection,k=this.od,m=k.W,n=mk(m,g),p=Zj(n.Nc,f.resolution,0),q=n.k(p),t=nk(m,p,g),x=t/hk(n,p),u=q/x,r=f.center,y;q==f.resolution?(r=tk(r,q,a.size),y=Aj(r,q,f.rotation,a.size)):y=a.extent;q=ek(n,y,q);if(null!==this.We&&this.We.sh(q)&&this.Mc==m.Ea)u=this.ug;else{var v=q.T(),v=Math.max(v[0]*t,v[1]*t),A=Math.pow(2,Math.ceil(Math.log(v)/Math.LN2)),v=u*A,z=n.tc(p),G=z[0]+q.n*t*u,u=z[1]+q.t*t*u,u=[G,u,G+v,u+v];this.bindFramebuffer(a,
A);e.viewport(0,0,A,A);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);A=Xm(d,this.gk,this.Ym);d.useProgram(A);null===this.ob&&(this.ob=new $m(e,A));d.bindBuffer(34962,this.Qi);e.enableVertexAttribArray(this.ob.lc);e.vertexAttribPointer(this.ob.lc,2,5126,!1,16,0);e.enableVertexAttribArray(this.ob.mc);e.vertexAttribPointer(this.ob.mc,2,5126,!1,16,8);e.uniform1i(this.ob.gf,0);d={};d[p]={};var E=C(m.Qf,m,d,sk(function(a){return null!==a&&2==a.D()&&c.ja.ea(a.getKey())},m,x,g)),I=k.le();s(I)||(I=
!0);var A=!0,G=wj(),aa=new pj(0,0,0,0),K,ba,T;for(ba=q.n;ba<=q.G;++ba)for(T=q.t;T<=q.s;++T){z=m.Rb(p,ba,T,x,g);if(s(b.extent)&&(K=ck(n,z.o,G),!Cj(K,b.extent)))continue;K=z.D();if(2==K){if(c.ja.ea(z.getKey())){d[p][oj(z.o)]=z;continue}}else if(4==K||3==K&&!I)continue;A=!1;K=n.de(z.o,E,null,aa,G);K||(z=n.ke(z.o,aa,G),null===z||E(p+1,z))}E=Na(gb(d),Number);E.sort(Ya);var I=new Float32Array(4),H,R,O,ya,aa=0;for(ba=E.length;aa<ba;++aa)for(R in O=d[E[aa]],O)z=O[R],K=ck(n,z.o,G),T=2*(K[2]-K[0])/v,H=2*(K[3]-
K[1])/v,ya=2*(K[0]-u[0])/v-1,K=2*(K[1]-u[1])/v-1,Gh(I,T,H,ya,K),e.uniform4fv(this.ob.Rm,I),bn(c,z,t,0*x),e.drawArrays(5,0,4);A?(this.We=q,this.ug=u,this.Mc=m.Ea):(this.ug=this.We=null,this.Mc=-1,a.animate=!0)}rk(a.usedTiles,m,p,q);var pa=c.Ld;uk(a,m,n,x,g,y,p,k.je(),function(a){var b;(b=2!=a.D()||c.ja.ea(a.getKey()))||(b=a.getKey()in pa.Kc);b||vk(pa,[a,gk(n,a.o),n.k(a.o[0]),t,0*x])},this);pk(a,m);qk(a,m);e=this.rj;Kh(e);Mh(e,(r[0]-u[0])/(u[2]-u[0]),(r[1]-u[1])/(u[3]-u[1]));0!==f.rotation&&Oh(e,f.rotation);
Nh(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1]));Mh(e,-.5,-.5);return!0};function cn(){this.i=0;this.$c={};this.ta=this.pa=null}h=cn.prototype;h.clear=function(){this.i=0;this.$c={};this.ta=this.pa=null};h.ea=function(a){return this.$c.hasOwnProperty(a)};h.forEach=function(a,b){for(var c=this.pa;null!==c;)a.call(b,c.jc,c.ye,this),c=c.Ca};h.get=function(a){a=this.$c[a];if(a===this.ta)return a.jc;a===this.pa?(this.pa=this.pa.Ca,this.pa.Db=null):(a.Ca.Db=a.Db,a.Db.Ca=a.Ca);a.Ca=null;a.Db=this.ta;this.ta=this.ta.Ca=a;return a.jc};h.gb=function(){return this.i};
h.Sa=function(){var a=Array(this.i),b=0,c;for(c=this.ta;null!==c;c=c.Db)a[b++]=c.ye;return a};h.Ta=function(){var a=Array(this.i),b=0,c;for(c=this.ta;null!==c;c=c.Db)a[b++]=c.jc;return a};h.pop=function(){var a=this.pa;delete this.$c[a.ye];null!==a.Ca&&(a.Ca.Db=null);this.pa=a.Ca;null===this.pa&&(this.ta=null);--this.i;return a.jc};h.set=function(a,b){var c={ye:a,Ca:null,Db:this.ta,jc:b};null===this.ta?this.pa=c:this.ta.Ca=c;this.ta=c;this.$c[a]=c;++this.i};function dn(a,b){this.d=a;this.U=b;this.rb={};this.Ed={};this.vd={};this.Hf=null;U(this.d,"webglcontextlost",this.Tb,!1,this);U(this.d,"webglcontextrestored",this.Xf,!1,this)}h=dn.prototype;
h.bindBuffer=function(a,b){var c=this.U,d=b.dd(),e=B(b);if(e in this.rb)e=this.rb[e],c.bindBuffer(a,e.buffer),e.$d.zh(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.$d.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.Vm);var g=new Sm;b.Lb.push(g);this.rb[e]={Tg:b,buffer:f,$d:g}}};
h.deleteBuffer=function(a){var b=this.U;a=B(a);var c=this.rb[a];Ra(c.Tg.Lb,c.$d);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.rb[a]};h.c=function(){cb(this.rb,function(a){Ra(a.Tg.Lb,a.$d)});var a=this.U;a.isContextLost()||(cb(this.rb,function(b){a.deleteBuffer(b.buffer)}),cb(this.vd,function(b){a.deleteProgram(b)}),cb(this.Ed,function(b){a.deleteShader(b)}))};
function en(a,b){var c=B(b);if(c in a.Ed)return a.Ed[c];var d=a.U,e=d.createShader(b.Sb());d.shaderSource(e,b.W);d.compileShader(e);return a.Ed[c]=e}function Xm(a,b,c){var d=B(b)+"/"+B(c);if(d in a.vd)return a.vd[d];var e=a.U,f=e.createProgram();e.attachShader(f,en(a,b));e.attachShader(f,en(a,c));e.linkProgram(f);return a.vd[d]=f}h.Tb=function(){ib(this.rb);ib(this.Ed);ib(this.vd);this.Hf=null};h.Xf=function(){};h.useProgram=function(a){if(a==this.Hf)return!1;this.U.useProgram(a);this.Hf=a;return!0};function fn(a,b){zk.call(this,0,b);this.d=Wb("CANVAS");this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";$b(a,this.d,0);this.Wg=0;this.Xg=ki();this.v=!0;this.U=pi(this.d,{antialias:!0,depth:!1,ek:!0,preserveDrawingBuffer:!1,stencil:!0});this.A=new dn(this.d,this.U);U(this.d,"webglcontextlost",this.Tb,!1,this);U(this.d,"webglcontextrestored",this.Xf,!1,this);this.ja=new cn;this.Ob=null;this.Ld=new Ek(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.Ob[0],b=b[1]-
this.Ob[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.dl=C(function(){if(!this.Ld.lb()){Ik(this.Ld);var a=Fk(this.Ld);bn(this,a[0],a[3],a[4])}},this);this.Kd=0;gn(this)}D(fn,zk);
function bn(a,b,c,d){var e=a.U,f=b.getKey();if(a.ja.ea(f))a=a.ja.get(f),e.bindTexture(3553,a.Fb),9729!=a.pi&&(e.texParameteri(3553,10240,9729),a.pi=9729),9729!=a.ti&&(e.texParameteri(3553,10240,9729),a.ti=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var k=a.Xg.canvas,m=a.Xg;a.Wg!=c?(k.width=c,k.height=c,a.Wg=c):m.clearRect(0,0,c,c);m.drawImage(b.Aa(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,k)}else e.texImage2D(3553,0,6408,6408,5121,b.Aa());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.ja.set(f,{Fb:g,pi:9729,ti:9729})}}h=fn.prototype;h.Zd=function(a){return a instanceof km?new an(this,a):null};h.ya=function(a,b){var c=this.ha();if(c.yb(a)){var d=this.getContext();c.dispatchEvent(new Il(a,c,new Gm,0,b,null,d))}};h.c=function(){var a=this.U;a.isContextLost()||this.ja.forEach(function(b){null===b||a.deleteTexture(b.Fb)});Ac(this.A);fn.g.c.call(this)};
h.dk=function(a,b){for(var c=this.U,d;1024<this.ja.gb()-this.Kd;){d=this.ja.pa.jc;if(null===d)if(+this.ja.pa.ye==b.index)break;else--this.Kd;else c.deleteTexture(d.Fb);this.ja.pop()}};h.getContext=function(){return this.A};h.Sb=function(){return"webgl"};h.Tb=function(a){a.preventDefault();this.ja.clear();this.Kd=0;cb(this.Ba,function(a){a.Tb()})};h.Xf=function(){gn(this);this.ha().render()};
function gn(a){a=a.U;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
h.Ve=function(a){var b=this.getContext(),c=this.U;if(c.isContextLost())return!1;if(null===a)return this.v&&(Je(this.d,!1),this.v=!1),!1;this.Ob=a.focus;this.ja.set((-a.index).toString(),null);++this.Kd;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,k,m,n;g=0;for(k=e.length;g<k;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.Dg&&(m=Ck(this,n.layer),m.ud(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.d.width!=e||this.d.height!=f)this.d.width=
e,this.d.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.d.width,this.d.height);this.ya("precompose",a);g=0;for(k=d.length;g<k;++g)n=d[g],m=Ck(this,n.layer),m.Ef(a,n,b);this.v||(Je(this.d,!0),this.v=!0);Ak(a);1024<this.ja.gb()-this.Kd&&a.postRenderFunctions.push(C(this.dk,this));this.Ld.lb()||(a.postRenderFunctions.push(this.dl),a.animate=!0);this.ya("postcompose",a);Dk(this,a);a.postRenderFunctions.push(Bk)};var hn=["canvas","webgl","dom"];
function Z(a){Th.call(this);var b=jn(a);this.Fc=s(a.pixelRatio)?a.pixelRatio:qi;this.gl=b.logos;this.uf=new Lf(this.hm,void 0,this);zc(this,this.uf);this.Vj=Hh();this.Ol=Hh();this.hk=0;this.nd=this.mf=this.qg=this.tb=null;this.M=Rb("DIV","ol-viewport");this.M.style.position="relative";this.M.style.overflow="hidden";this.M.style.width="100%";this.M.style.height="100%";this.M.style.msTouchAction="none";ti&&(this.M.className="ol-touch");this.Li=Rb("DIV","ol-overlaycontainer");this.M.appendChild(this.Li);
this.Me=Rb("DIV","ol-overlaycontainer-stopevent");U(this.Me,["click","dblclick","mousedown","touchstart","MSPointerDown",ij,Cc],Bc);this.M.appendChild(this.Me);a=new aj(this);U(a,fb(lj),this.wb,!1,this);zc(this,a);this.fi=b.keyboardEventTarget;this.Ua=new qf;U(this.Ua,"key",this.Lh,!1,this);zc(this,this.Ua);a=new Ah(this.M);U(a,"mousewheel",this.Lh,!1,this);zc(this,a);this.Ff=b.controls;this.$j=b.deviceOptions;this.ve=b.interactions;this.Ne=b.overlays;this.ia=new b.im(this.M,this);zc(this,this.ia);
this.Kj=new zh;zc(this,this.Kj);U(this.Kj,"resize",this.Ij,!1,this);this.Ob=null;this.Se=[];this.Mi=[];this.vj=new Jk(C(this.lk,this),C(this.Qk,this));this.Cm={};U(this,Xh("layergroup"),this.uk,!1,this);U(this,Xh("view"),this.Sk,!1,this);U(this,Xh("size"),this.Mk,!1,this);U(this,Xh("target"),this.Ok,!1,this);this.Dd(b.Xm);this.Ff.forEach(function(a){a.setMap(this)},this);U(this.Ff,"add",function(a){a.element.setMap(this)},!1,this);U(this.Ff,"remove",function(a){a.element.setMap(null)},!1,this);this.ve.forEach(function(a){a.setMap(this)},
this);U(this.ve,"add",function(a){a.element.setMap(this)},!1,this);U(this.ve,"remove",function(a){a.element.setMap(null)},!1,this);this.Ne.forEach(function(a){a.setMap(this)},this);U(this.Ne,"add",function(a){a.element.setMap(this)},!1,this);U(this.Ne,"remove",function(a){a.element.setMap(null)},!1,this)}D(Z,Th);Z.prototype.Ka=function(a){this.render();Array.prototype.push.apply(this.Se,arguments)};Z.prototype.c=function(){ac(this.M);Z.g.c.call(this)};Z.prototype.ub=function(){return this.get("target")};
Z.prototype.getTarget=Z.prototype.ub;Z.prototype.ed=function(a){var b=this.tb;if(null===b)return null;a=a.slice();return yk(b.pixelToCoordinateMatrix,a,a)};Z.prototype.ie=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.ie;Z.prototype.hd=function(){return this.ie().hd()};function xl(a,b){var c=a.tb;if(null===c)return null;var d=b.slice(0,2);return yk(c.coordinateToPixelMatrix,d,d)}Z.prototype.T=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.T;
Z.prototype.B=function(){return this.get("view")};Z.prototype.getView=Z.prototype.B;h=Z.prototype;h.lk=function(a,b,c,d){var e=this.tb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][oj(a.o)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};h.Lh=function(a,b){var c=new Zi(b||a.type,this,a);this.wb(c)};
h.wb=function(a){if(null!==this.tb){this.Ob=a.coordinate;a.frameState=this.tb;var b=this.ve.dd(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.wa&&!d.wb(a))break}}};
h.Jk=function(){var a=this.tb,b=this.vj;if(!b.lb()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.$j;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=eb(a.wantedTiles)}c*=e;d*=e;if(b.Md<c){Ik(b);c=Math.min(c-b.Md,d,b.gb());for(d=0;d<c;++d)e=Fk(b)[0],Zc(e,"change",b.Pk,!1,b),e.load();b.Md+=c}}b=this.Mi;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};h.Mk=function(){this.render()};
h.Ok=function(){var a=this.ub(),a=s(a)?Q(a):null;this.Ua.detach();null===a?ac(this.M):(a.appendChild(this.M),rf(this.Ua,null===this.fi?a:this.fi));this.Ij()};h.Qk=function(){this.render()};h.Tk=function(){this.render()};h.Sk=function(){null!==this.mf&&(V(this.mf),this.mf=null);var a=this.B();null!==a&&(this.mf=U(a,"propertychange",this.Tk,!1,this));this.render()};h.vk=function(){this.render()};h.wk=function(){this.render()};
h.uk=function(){if(null!==this.nd){for(var a=this.nd.length,b=0;b<a;++b)V(this.nd[b]);this.nd=null}a=this.ie();null!=a&&(this.nd=[U(a,"propertychange",this.wk,!1,this),U(a,"change",this.vk,!1,this)]);this.render()};h.bg=function(){if(!cc(document,this.M)||"none"==this.M.style.display)return!1;var a=this.T();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.B();return null!==a&&a.bg()?!0:!1};h.render=function(){this.uf.Ac()||this.uf.start()};
h.hm=function(a){var b,c,d,e=this.T(),f=this.B(),g=null;if(s(e)&&0<e[0]&&0<e[1]&&null!==f&&f.bg()){var g=Ta(f.Zf),k=this.ie().Sf(),m={};b=0;for(c=k.length;b<c;++b)m[B(k[b].layer)]=k[b];d=f.D();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Vj,extent:null,focus:null===this.Ob?d.center:this.Ob,index:this.hk++,layerStates:m,layerStatesArray:k,logos:this.gl,pixelRatio:this.Fc,pixelToCoordinateMatrix:this.Ol,postRenderFunctions:[],size:e,skippedFeatureUids:this.Cm,tileQueue:this.vj,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Se;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=Aj(d.center,d.resolution,d.rotation,g.size)}this.tb=g;this.ia.Ve(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Mi,g.postRenderFunctions),!(b=0!==this.Se.length||g.viewHints[0]||g.viewHints[1])&&(b=this.qg)&&(b=g.extent,c=this.qg,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new ei("moveend",this,
g)),this.qg=vj(g.extent)));this.dispatchEvent(new ei("postrender",this,g));wd(this.Jk,this)};h.tm=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.tm;Z.prototype.zg=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.zg;Z.prototype.Ag=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Ag;Z.prototype.Am=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.Am;
Z.prototype.Ij=function(){var a=this.ub(),a=s(a)?Q(a):null;if(null===a)this.zg(void 0);else{var b=Kb(a),c=L&&a.currentStyle;c&&kc(Ib(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=pg(a,c.width,"width","pixelWidth"),a=pg(a,c.height,"height","pixelHeight"),a=new Gb(b,a)):(c=new Gb(a.offsetWidth,a.offsetHeight),b=rg(a),a=ug(a),a=new Gb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.zg([a.width,a.height])}};
function jn(a){var b=null;s(a.keyboardEventTarget)&&(b=w(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!s(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;w(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.layers instanceof $l?a.layers:new $l({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=s(a.view)?a.view:new Y;var e=zk,f;s(a.renderer)?ha(a.renderer)?f=a.renderer:w(a.renderer)&&(f=[a.renderer]):f=hn;var g,k;g=0;for(k=f.length;g<k;++g){var m=f[g];if("canvas"==m){if(si){e=ym;break}}else if("dom"==m){e=Fm;break}else if("webgl"==m&&wi){e=fn;break}}s(a.controls)?f=ha(a.controls)?new Zh(Ta(a.controls)):a.controls:
(f=s(void 0)?void 0:{},g=new Zh,(s(f.zoom)?f.zoom:1)&&g.push(new gl(f.zoomOptions)),(s(f.rotate)?f.rotate:1)&&g.push(new el(f.rotateOptions)),(s(f.attribution)?f.attribution:1)&&g.push(new Xk(f.attributionOptions)),f=g);g=s(a.deviceOptions)?a.deviceOptions:{};if(s(a.interactions))k=ha(a.interactions)?new Zh(Ta(a.interactions)):a.interactions;else{k=s(void 0)?void 0:{};var m=new Zh,n=new il(-.005,.05,100);(s(k.altShiftDragRotate)?k.altShiftDragRotate:1)&&m.push(new yl);(s(k.doubleClickZoom)?k.doubleClickZoom:
1)&&m.push(new pl({delta:k.zoomDelta,duration:k.zoomDuration}));(s(k.dragPan)?k.dragPan:1)&&m.push(new wl({kinetic:n}));(s(k.pinchRotate)?k.pinchRotate:1)&&m.push(new Yl);(s(k.pinchZoom)?k.pinchZoom:1)&&m.push(new Zl({duration:k.zoomDuration}));if(s(k.keyboard)?k.keyboard:1)m.push(new Vl),m.push(new Wl({delta:k.zoomDelta,duration:k.zoomDuration}));(s(k.mouseWheelZoom)?k.mouseWheelZoom:1)&&m.push(new Xl({duration:k.zoomDuration}));(s(k.shiftDragZoom)?k.shiftDragZoom:1)&&m.push(new Ul);k=m}a=s(a.overlays)?
ha(a.overlays)?new Zh(Ta(a.overlays)):a.overlays:new Zh;return{controls:f,deviceOptions:g,interactions:k,keyboardEventTarget:b,logos:d,overlays:a,im:e,Xm:c}}Kj(em);Kj(jm);F(jm,function(a){F(em,function(b){Mj(a,b,fm);Mj(b,a,gm)})});function $(a){Th.call(this);this.al=s(a.insertFirst)?a.insertFirst:!0;this.Dm=s(a.stopEvent)?a.stopEvent:!0;this.a=Wb("DIV");this.a.style.position="absolute";this.L={Rd:"",Be:"",Ye:"",ff:"",visible:!0};this.Ge=null;U(this,Xh("element"),this.ok,!1,this);U(this,Xh("map"),this.Ak,!1,this);U(this,Xh("offset"),this.Ek,!1,this);U(this,Xh("position"),this.Hk,!1,this);U(this,Xh("positioning"),this.Ik,!1,this);s(a.element)&&this.cj(a.element);this.gj(s(a.offset)?a.offset:[0,0]);this.hj(s(a.positioning)?a.positioning:
"top-left");s(a.position)&&this.Cd(a.position)}D($,Th);$.prototype.fd=function(){return this.get("element")};$.prototype.getElement=$.prototype.fd;$.prototype.ha=function(){return this.get("map")};$.prototype.getMap=$.prototype.ha;$.prototype.Gh=function(){return this.get("offset")};$.prototype.getOffset=$.prototype.Gh;$.prototype.Tf=function(){return this.get("position")};$.prototype.getPosition=$.prototype.Tf;$.prototype.Ih=function(){return this.get("positioning")};$.prototype.getPositioning=$.prototype.Ih;
h=$.prototype;h.ok=function(){Yb(this.a);var a=this.fd();null!=a&&Xb(this.a,a)};h.Ak=function(){null!==this.Ge&&(ac(this.a),V(this.Ge),this.Ge=null);var a=this.ha();null!=a&&(this.Ge=U(a,"postrender",this.uc,!1,this),kn(this),a=this.Dm?a.Me:a.Li,this.al?$b(a,this.a,0):Xb(a,this.a))};h.uc=function(){kn(this)};h.Ek=function(){kn(this)};h.Hk=function(){kn(this)};h.Ik=function(){kn(this)};h.cj=function(a){this.set("element",a)};$.prototype.setElement=$.prototype.cj;
$.prototype.setMap=function(a){this.set("map",a)};$.prototype.setMap=$.prototype.setMap;$.prototype.gj=function(a){this.set("offset",a)};$.prototype.setOffset=$.prototype.gj;$.prototype.Cd=function(a){this.set("position",a)};$.prototype.setPosition=$.prototype.Cd;$.prototype.hj=function(a){this.set("positioning",a)};$.prototype.setPositioning=$.prototype.hj;
function kn(a){var b=a.ha(),c=a.Tf();if(s(b)&&null!==b.tb&&s(c)){var c=xl(b,c),d=b.T(),b=a.a.style,e=a.Gh(),f=a.Ih(),g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.L.Be&&(a.L.Be=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.L.Ye!=g&&(a.L.Ye=b.right=g);else{""!==a.L.Ye&&(a.L.Ye=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=lg(a.a).width/2;g=Math.round(c[0]+g)+"px";a.L.Be!=g&&(a.L.Be=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.L.ff&&(a.L.ff=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.L.Rd!=c&&(a.L.Rd=b.bottom=c);else{""!==a.L.Rd&&(a.L.Rd=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=lg(a.a).height/2;c=Math.round(c[1]+e)+"px";a.L.ff!=c&&(a.L.ff=b.top=c)}a.L.visible||(Je(a.a,!0),a.L.visible=!0)}else a.L.visible&&(Je(a.a,!1),a.L.visible=!1)};function ln(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function mn(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[Eb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function nn(){}function on(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function pn(a,b,c,d,e){Yj.call(this,a,b);this.Fd=c;this.$=new Image;null!==d&&(this.$.crossOrigin=d);this.se={};this.ld=null;this.Km=e}D(pn,Yj);h=pn.prototype;h.Aa=function(a){if(s(a)){var b=B(a);if(b in this.se)return this.se[b];a=hb(this.se)?this.$:this.$.cloneNode(!1);return this.se[b]=a}return this.$};h.getKey=function(){return this.Fd};h.pk=function(){this.state=3;F(this.ld,V);this.ld=null;this.X()};
h.qk=function(){this.state=this.$.naturalWidth&&this.$.naturalHeight?2:4;F(this.ld,V);this.ld=null;this.X()};h.load=function(){0==this.state&&(this.state=1,this.ld=[Zc(this.$,"error",this.pk,!1,this),Zc(this.$,"load",this.qk,!1,this)],this.Km(this,this.Fd))};function qn(a){cn.call(this);this.Uk=s(a)?a:2048}D(qn,cn);qn.prototype.Kb=function(){return this.gb()>this.Uk};qn.prototype.bd=function(a){for(var b,c;this.Kb()&&!(b=this.pa.jc,c=b.o[0].toString(),c in a&&a[c].contains(b.o));)this.pop().eb()};function rn(a){lk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:s(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=s(a.tileUrlFunction)?a.tileUrlFunction:nn;this.crossOrigin=s(a.crossOrigin)?a.crossOrigin:null;this.da=new qn;this.tileLoadFunction=s(a.tileLoadFunction)?a.tileLoadFunction:sn;this.tileClass=s(a.tileClass)?a.tileClass:pn}D(rn,lk);function sn(a,b){a.Aa().src=b}
rn.prototype.Kb=function(){return this.da.Kb()};rn.prototype.bd=function(a){this.da.bd(a)};rn.prototype.Rb=function(a,b,c,d,e){var f=this.gd(a,b,c);if(this.da.ea(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,s(d)?0:4,s(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.da.set(f,d);return d};rn.prototype.Ig=function(a,b,c){a=this.gd(a,b,c);this.da.ea(a)&&this.da.get(a)};function tn(a){var b=s(a.extent)?a.extent:bm,c=jk(b,a.maxZoom,a.tileSize);ak.call(this,{minZoom:a.minZoom,origin:yj(b,"top-left"),resolutions:c,tileSize:a.tileSize})}D(tn,ak);
function un(a,b){var c=s(b)?b:{},d=a.minZoom,e=a.maxZoom,f=s(c.wrapX)?c.wrapX:!0,g=null;if(s(c.extent)){var g=Array(e+1),k;for(k=0;k<=e;++k)g[k]=k<d?null:dk(a,c.extent,k)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var k=Math.pow(2,b),t=a[1];if(f)t=Eb(t,k);else if(0>t||k<=t)return null;a=a[2];return a<-k||-1<a||null!==g&&!g[b].Xc(t,a)?null:mj(b,t,-a-1,c)}}tn.prototype.ke=function(a,b){return a[0]<this.maxZoom?qj(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
tn.prototype.de=function(a,b,c,d){d=qj(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.n=d.G>>=1,d.t=d.s>>=1,b.call(c,a,d))return!0;return!1};function vn(a){rn.call(this,{crossOrigin:a.crossOrigin,projection:Qj("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new rh(a.url)).send(void 0,C(this.Wf,this))}D(vn,rn);
vn.prototype.Wf=function(a){var b=Qj("EPSG:4326"),c=this.Jc,d;s(a.bounds)&&(d=Ej(a.bounds,Sj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new tn({extent:kk(c),maxZoom:f,minZoom:e});this.tileUrlFunction=on(un(c,{extent:d}),mn(Na(a.tiles,ln)));if(s(a.attribution)){b=s(d)?d:b.S();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[dk(c,b,e)];this.wf=[new sj({html:a.attribution,tileRanges:d})]}this.j="ready";this.X()};function wn(a){lk.call(this,{projection:Qj("EPSG:3857"),state:"loading"});this.pg=s(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=nn;this.da=new qn;(new rh(a.url)).send(void 0,C(this.Wf,this))}D(wn,lk);h=wn.prototype;h.Kb=function(){return this.da.Kb()};h.bd=function(a){this.da.bd(a)};function xn(a,b,c,d,e){null!==a.tileGrid&&(c=fk(a.tileGrid,b[0],b[1],c,!1,void 0),yn(a.Rb(c[0],c[1],c[2],1,a.Jc),b,d,e))}
h.Wf=function(a){var b=Qj("EPSG:4326"),c=this.Jc,d;s(a.bounds)&&(d=Ej(a.bounds,Sj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new tn({extent:kk(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=on(un(c,{extent:d}),mn(Na(g,ln)));if(s(a.attribution)){b=s(d)?d:b.S();for(d={};e<=f;++e)g=e.toString(),d[g]=[dk(c,b,e)];this.wf=[new sj({html:a.attribution,tileRanges:d})]}this.j="ready"}else this.j="error";this.X()};
h.Rb=function(a,b,c,d,e){var f=this.gd(a,b,c);if(this.da.ea(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new zn(a,s(d)?0:4,s(d)?d:"",ck(this.tileGrid,a),this.pg);this.da.set(f,d);return d};h.Ig=function(a,b,c){a=this.gd(a,b,c);this.da.ea(a)&&this.da.get(a)};function zn(a,b,c,d,e){Yj.call(this,a,b);this.Fd=c;this.Y=d;this.pg=e;this.If=this.p=this.me=null}D(zn,Yj);h=zn.prototype;h.Aa=function(){return null};
h.getData=function(a){if(null!==this.me&&null!==this.p&&null!==this.If){var b=this.me[Math.floor((1-(a[1]-this.Y[1])/(this.Y[3]-this.Y[1]))*this.me.length)];if(w(b))return a=b.charCodeAt(Math.floor((a[0]-this.Y[0])/(this.Y[2]-this.Y[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.p[a-32],null!=a?this.If[a]:void 0}};function yn(a,b,c,d){0==a.state?(a.kg("change",function(){c.call(d,this.getData(b))},!1,a),An(a)):c.call(d,a.getData(b))}h.getKey=function(){return this.Fd};h.oe=function(){this.state=3;this.X()};
h.Vf=function(a){this.me=a.grid;this.p=a.keys;this.If=a.data;this.state=4;this.X()};function An(a){0==a.state&&(a.state=1,(new rh(a.Fd)).send(void 0,C(a.Vf,a),C(a.oe,a)))}h.load=function(){this.pg&&An(this)};function Bn(){var a=[-5.3642,51.3776,-2.6334,53.4369],b=Uj(a),c=vj(b);Dj(c,2);var d=vj(b);Dj(d,1.2);this.qi=Q("map");this.lf=new wn({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.J=new Y({extent:c,zoom:7,minZoom:6,maxZoom:14});this.b=new Z({target:this.qi,controls:[],layers:[new km({source:new vn({url:"http://cynefin.tileserver.com/cynefin-counties.json"}),minResolution:500}),new km({source:new vn({url:"http://cynefin.tileserver.com/cynefin-parishes.json"}),
maxResolution:500}),new km({source:this.lf})],view:this.J});Qh(this.b,jj,function(a){var b=this.J.k()||1;xn(this.lf,a.coordinate,b,this.Bk,this)},this);Qh(this.b,ej,function(a){var b=this.J.k()||1;xn(this.lf,a.coordinate,b,this.Dk,this)},this);Rh(this.b,function(){var a=this.b.T();a?Uk(this.J,d,a):Cn(this,[-3.9001,52.3118],!0)},this);var e=C(function(a,b){var c=this.J.k()||1;this.b.Ka(dl({resolution:c,duration:250,easing:Zk}));this.J.fc(this.J.constrainResolution(c,a));b.preventDefault()},this);U(Q("map-zoom-in"),
"click",function(a){e(1,a)});U(Q("map-zoom-out"),"click",function(a){e(-1,a)});var f=Q("nominatim-input");if(f){var g=new xh(f,void 0,void 0,a),k=C(function(a){this.zd.Cd(void 0);if(a){var b=Rj("EPSG:4326",this.J.Jc),c=a.bounds||a.viewport,d=Dn(this);c&&d&&(c=Ej(c,b),Dj(c,1.33),Uk(this.J,c,d),Cn(this,this.J.ma()),this.J.fc(this.J.constrainResolution(this.J.k())));if(a=[a.lon,a.lat],9<Tk(this.J)){var e=b(a),b=this.J.k()||1;xn(this.lf,e,b,function(a){if(a){var b=a.County,c=a.SHAPE_ID;b&&c&&(this.Zc=
!0,Ae(this.xa,b,C(function(){Le(this.xa,c.toString())},this)),Cn(this,e),this.Zc=!1,this.zd.Cd(e))}},this)}}},this);U(g,"update",function(a){k(a.Wa);a.preventDefault()});a=ic(f);U(a,"submit",function(a){a.preventDefault();g.search(f.value,1,function(a,b){k(b[0])})})}this.zd=new $({element:Rb("DIV",{"class":"search-marker"})});this.b.Ne.push(this.zd);Qh(this.J,"propertychange",function(){null!=this.zd.Tf()&&(this.zd.Cd(void 0),f.value="")},this);this.xa=new ve;this.Zc=!1;this.xa.oa("opened",function(a){if(!this.Zc){var b=
Tk(this.J);if(10!=b){var c=this.J,d=c.constrainResolution(c.lg,10-c.mg,0);c.fc(d)}Cn(this,a.center,!0,10==b)}},!1,this)}function En(){var a=Q("application-panel");return a?lg(a).width+30:0}function Dn(a){(a=a.b.T())&&(a=[a[0]-En(),a[1]]);return a}
function Cn(a,b,c,d){if(b)if(c&&(c=b,b=Rj("EPSG:4326","EPSG:3857")(c)),c=a.J.ma(),d&&c&&a.b.Ka(bl({duration:300,source:c})),d=a.b.T(),c=[(d[0]+En())/2,d[1]/2],d){a=a.J;var e=b,f=a.Qb();b=Math.cos(-f);var f=Math.sin(-f),g=e[0]*b-e[1]*f,e=e[1]*b+e[0]*f,k=a.k(),g=g+(d[0]/2-c[0])*k,e=e+(c[1]-d[1]/2)*k,f=-f;a.Xa([g*b-e*f,e*b+g*f])}else a.J.Xa(b)}Bn.prototype.Bk=function(a){this.qi.style.cursor=a?"pointer":"";Be(this.xa,a?a.County:null)};
Bn.prototype.Dk=function(a){if(a){var b=a.County;if(w(b)){var c=9<Tk(this.J),d=C(function(){c?Le(this.xa,a.SHAPE_ID.toString()):we(this.xa,"")},this);this.Zc=c;Ae(this.xa,b,d);this.Zc=!1}}};da("TitheMaps",Bn);
