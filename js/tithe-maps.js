var k,aa=aa||{},l=this;function r(a){return void 0!==a}function ba(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ca(){}function da(a){a.lb=function(){return a.yg?a.yg:a.yg=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==ea(a)}function ha(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function x(a){return"string"==typeof a}function ia(a){return"number"==typeof a}function ja(a){return"function"==ea(a)}function ka(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function A(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function oa(a,b,c){return a.call.apply(a.bind,arguments)}function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return C.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function G(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ak=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}G(sa,Error);sa.prototype.name="CustomError";var ta;function va(a){if(!wa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(xa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ya,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(za,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Aa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ba,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ca,"\x26#0;"));return a}var xa=/&/g,ya=/</g,za=/>/g,Aa=/"/g,Ba=/'/g,Ca=/\x00/g,wa=/[\x00&<>"']/;function Da(a,b){return a<b?-1:a>b?1:0}
function Ea(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Fa(a){var b=x(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var H=Array.prototype,Ga=H.indexOf?function(a,b,c){return H.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},K=H.forEach?function(a,b,c){H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ha=H.filter?function(a,b,c){return H.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=x(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ia=H.map?function(a,b,c){return H.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ja=H.some?function(a,b,c){return H.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ka=H.every?function(a,b,c){return H.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function La(a,b){var c;a:{c=a.length;for(var d=x(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:x(a)?a.charAt(c):a[c]}function Ma(a,b){var c=Ga(a,b),d;(d=0<=c)&&H.splice.call(a,c,1);return d}function Na(a){return H.concat.apply(H,arguments)}function Oa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Pa(a,b,c,d){H.splice.apply(a,Qa(arguments,1))}function Qa(a,b,c){return 2>=arguments.length?H.slice.call(a,b):H.slice.call(a,b,c)}function Ra(a,b){if(!ha(a)||!ha(b)||a.length!=b.length)return!1;for(var c=a.length,d=Sa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ta(a,b){return a>b?1:a<b?-1:0}function Sa(a,b){return a===b};var Ua;a:{var Va=l.navigator;if(Va){var Wa=Va.userAgent;if(Wa){Ua=Wa;break a}}Ua=""}function Xa(a){return-1!=Ua.indexOf(a)};function Ya(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Za(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function $a(a){var b=0,c;for(c in a)b++;return b}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function cb(a){for(var b in a)return!1;return!0}function db(a){for(var b in a)delete a[b]}function eb(a,b){b in a&&delete a[b]}function M(a,b,c){return b in a?a[b]:c}
function fb(a){var b={},c;for(c in a)b[c]=a[c];return b}var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gb.length;f++)c=gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ib,jb,kb=Xa("Opera")||Xa("OPR"),P=Xa("Trident")||Xa("MSIE"),lb=Xa("Gecko")&&-1==Ua.toLowerCase().indexOf("webkit")&&!(Xa("Trident")||Xa("MSIE")),Q=-1!=Ua.toLowerCase().indexOf("webkit"),mb,nb=l.navigator||null;mb=nb&&nb.platform||"";ib=-1!=mb.indexOf("Mac");jb=-1!=mb.indexOf("Win");var ob=-1!=mb.indexOf("Linux");function pb(){var a=l.document;return a?a.documentMode:void 0}
var qb=function(){var a="",b;if(kb&&l.opera)return a=l.opera.version,ja(a)?a():a;lb?b=/rv\:([^\);]+)(\)|;)/:P?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Q&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ua))?a[1]:"");return P&&(b=pb(),b>parseFloat(a))?String(b):a}(),rb={};
function sb(a){var b;if(!(b=rb[a])){b=0;for(var c=String(qb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=Da(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||Da(0==p[2].length,0==q[2].length)||
Da(p[2],q[2])}while(0==b)}b=rb[a]=0<=b}return b}var tb=l.document,ub=tb&&P?pb()||("CSS1Compat"==tb.compatMode?parseInt(qb,10):5):void 0;var vb=!P||P&&9<=ub;!lb&&!P||P&&P&&9<=ub||lb&&sb("1.9.1");var wb=P&&!sb("9");function xb(a,b,c){return Math.min(Math.max(a,b),c)}function yb(a,b){var c=a%b;return 0>c*b?c+b:c};function zb(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}k=zb.prototype;k.clone=function(){return new zb(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof zb?(this.x+=a.x,this.y+=a.y):(this.x+=a,ia(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=ia(b)?b:a;this.x*=a;this.y*=c;return this};function Ab(a,b){this.width=a;this.height=b}k=Ab.prototype;k.clone=function(){return new Ab(this.width,this.height)};k.Ma=function(){return!(this.width*this.height)};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(a,b){var c=ia(b)?b:a;this.width*=a;this.height*=c;return this};function Bb(a){return a?new Cb(Db(a)):ta||(ta=new Cb)}function Eb(a){var b=document;return x(a)?b.getElementById(a):a}function Fb(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function Gb(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Hb?a.setAttribute(Hb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Hb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Jb(a){a=a.document;a=Kb(a)?a.documentElement:a.body;return new Ab(a.clientWidth,a.clientHeight)}function Lb(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!vb&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',va(g.name),'"');if(g.type){f.push(' type\x3d"',va(g.type),'"');var h={};hb(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(x(g)?f.className=g:ga(g)?f.className=g.join(" "):Gb(f,g));2<d.length&&Mb(e,f,d,2);return f}
function Mb(a,b,c,d){function e(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ha(f)||ka(f)&&0<f.nodeType?e(f):K(Nb(f)?Oa(f):f,e)}}function Ob(a){return document.createElement(a)}function Kb(a){return"CSS1Compat"==a.compatMode}function Pb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Qb(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Rb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Sb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Db(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Tb(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(Db(a).createTextNode(String(b)))}}var Ub={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Vb={IMG:" ",BR:"\n"};
function Wb(a){if(wb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Xb(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");wb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Xb(a,b,c){if(!(a.nodeName in Ub))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Vb)b.push(Vb[a.nodeName]);else for(a=a.firstChild;a;)Xb(a,b,c),a=a.nextSibling}function Nb(a){if(a&&"number"==typeof a.length){if(ka(a))return"function"==typeof a.item||"string"==typeof a.item;if(ja(a))return"function"==typeof a.item}return!1}function Cb(a){this.hc=a||l.document||document}k=Cb.prototype;k.Fc=Gb;k.createElement=function(a){return this.hc.createElement(a)};
k.createTextNode=function(a){return this.hc.createTextNode(String(a))};function Yb(a){var b=a.hc;a=!Q&&Kb(b)?b.documentElement:b.body||b.documentElement;b=b.parentWindow||b.defaultView;return P&&sb("10")&&b.pageYOffset!=a.scrollTop?new zb(a.scrollLeft,a.scrollTop):new zb(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}k.appendChild=function(a,b){a.appendChild(b)};k.append=function(a,b){Mb(Db(a),a,arguments,1)};k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=Rb;k.contains=Sb;function Zb(a){if(a.classList)return a.classList;a=a.className;return x(a)&&a.match(/\S+/g)||[]}function $b(a,b){var c;a.classList?c=a.classList.contains(b):(c=Zb(a),c=0<=Ga(c,b));return c}function ac(a,b){a.classList?a.classList.add(b):$b(a,b)||(a.className+=0<a.className.length?" "+b:b)}function bc(a,b){a.classList?a.classList.remove(b):$b(a,b)&&(a.className=Ha(Zb(a),function(a){return a!=b}).join(" "))}function cc(a,b,c){c?ac(a,b):bc(a,b)};var dc=!P||P&&9<=ub,ec=!P||P&&9<=ub,fc=P&&!sb("9");!Q||sb("528");lb&&sb("1.9b")||P&&sb("8")||kb&&sb("9.5")||Q&&sb("528");lb&&!sb("8")||P&&sb("9");function gc(){0!=hc&&(ic[A(this)]=this);this.gc=this.gc;this.tb=this.tb}var hc=0,ic={};gc.prototype.gc=!1;gc.prototype.bd=function(){if(!this.gc&&(this.gc=!0,this.f(),0!=hc)){var a=A(this);delete ic[a]}};function jc(a,b){var c=qa(kc,b);a.tb||(a.tb=[]);a.tb.push(r(void 0)?C(c,void 0):c)}gc.prototype.f=function(){if(this.tb)for(;this.tb.length;)this.tb.shift()()};function kc(a){a&&"function"==typeof a.bd&&a.bd()};function R(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.wb=!1;this.hh=!0}R.prototype.f=function(){};R.prototype.bd=function(){};R.prototype.stopPropagation=function(){this.wb=!0};R.prototype.preventDefault=function(){this.defaultPrevented=!0;this.hh=!1};function lc(a){a.stopPropagation()};var mc=lb?"DOMMouseScroll":"mousewheel",nc=P?"focusout":"DOMFocusOut";function oc(a){oc[" "](a);return a}oc[" "]=ca;function pc(a,b){R.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Md=!1;this.g=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(lb){var e;a:{try{oc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Q||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Q||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Md=ib?a.metaKey:a.ctrlKey;this.state=a.state;this.g=a;a.defaultPrevented&&this.preventDefault()}}G(pc,R);var qc=[1,4,2];function rc(a){return(dc?0==a.g.button:"click"==a.type?!0:!!(a.g.button&qc[0]))&&!(Q&&ib&&a.ctrlKey)}pc.prototype.stopPropagation=function(){pc.F.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};
pc.prototype.preventDefault=function(){pc.F.preventDefault.call(this);var a=this.g;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};pc.prototype.bi=function(){return this.g};pc.prototype.f=function(){};var sc="closure_listenable_"+(1E6*Math.random()|0);function tc(a){return!(!a||!a[sc])}var uc=0;function vc(a,b,c,d,e){this.sb=a;this.Qd=null;this.src=b;this.type=c;this.bc=!!d;this.td=e;this.key=++uc;this.Wb=this.Uc=!1}function wc(a){a.Wb=!0;a.sb=null;a.Qd=null;a.src=null;a.td=null};function xc(a){this.src=a;this.K={};this.Rc=0}xc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.K[f];a||(a=this.K[f]=[],this.Rc++);var g=yc(a,b,d,e);-1<g?(b=a[g],c||(b.Uc=!1)):(b=new vc(b,this.src,f,!!d,e),b.Uc=c,a.push(b));return b};xc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.K))return!1;var e=this.K[a];b=yc(e,b,c,d);return-1<b?(wc(e[b]),H.splice.call(e,b,1),0==e.length&&(delete this.K[a],this.Rc--),!0):!1};
function zc(a,b){var c=b.type;if(!(c in a.K))return!1;var d=Ma(a.K[c],b);d&&(wc(b),0==a.K[c].length&&(delete a.K[c],a.Rc--));return d}xc.prototype.Ge=function(a,b,c,d){a=this.K[a.toString()];var e=-1;a&&(e=yc(a,b,c,d));return-1<e?a[e]:null};xc.prototype.Wa=function(a,b){var c=r(a),d=c?a.toString():"",e=r(b);return Za(this.K,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].bc!=b))return!0;return!1})};
function yc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Wb&&f.sb==b&&f.bc==!!c&&f.td==d)return e}return-1};var Ac="closure_lm_"+(1E6*Math.random()|0),Bc={},Cc=0;function S(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)S(a,b[f],c,d,e);return null}c=Dc(c);return tc(a)?Ec(a,b,c,d,e):Fc(a,b,c,!1,d,e)}function Fc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Gc(a);h||(a[Ac]=h=new xc(a));c=h.add(b,c,d,e,f);if(c.Qd)return c;d=Hc();c.Qd=d;d.src=a;d.sb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Ic(b.toString()),d);Cc++;return c}
function Hc(){var a=Jc,b=ec?function(c){return a.call(b.src,b.sb,c)}:function(c){c=a.call(b.src,b.sb,c);if(!c)return c};return b}function Kc(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)Kc(a,b[f],c,d,e);return null}c=Dc(c);return tc(a)?Lc(a,b,c,d,e):Fc(a,b,c,!0,d,e)}function Mc(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)Mc(a,b[f],c,d,e);else c=Dc(c),tc(a)?a.wa.remove(String(b),c,d,e):a&&(a=Gc(a))&&(b=a.Ge(b,c,!!d,e))&&T(b)}
function T(a){if(ia(a)||!a||a.Wb)return!1;var b=a.src;if(tc(b))return zc(b.wa,a);var c=a.type,d=a.Qd;b.removeEventListener?b.removeEventListener(c,d,a.bc):b.detachEvent&&b.detachEvent(Ic(c),d);Cc--;(c=Gc(b))?(zc(c,a),0==c.Rc&&(c.src=null,b[Ac]=null)):wc(a);return!0}function Ic(a){return a in Bc?Bc[a]:Bc[a]="on"+a}function Nc(a,b,c,d){var e=1;if(a=Gc(a))if(b=a.K[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.bc==c&&!f.Wb&&(e&=!1!==Oc(f,d))}return Boolean(e)}
function Oc(a,b){var c=a.sb,d=a.td||a.src;a.Uc&&T(a);return c.call(d,b)}
function Jc(a,b){if(a.Wb)return!0;if(!ec){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new pc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.wb&&0<=h;h--)c.currentTarget=e[h],d&=Nc(e[h],f,!0,c);for(h=0;!c.wb&&h<e.length;h++)c.currentTarget=
e[h],d&=Nc(e[h],f,!1,c)}return d}return Oc(a,new pc(b,this))}function Gc(a){a=a[Ac];return a instanceof xc?a:null}var Pc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Dc(a){if(ja(a))return a;a[Pc]||(a[Pc]=function(b){return a.handleEvent(b)});return a[Pc]};function U(){gc.call(this);this.wa=new xc(this);this.Kh=this;this.af=null}G(U,gc);U.prototype[sc]=!0;k=U.prototype;k.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Mc(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.af;if(c)for(b=[];c;c=c.af)b.push(c);var c=this.Kh,d=a.type||a;if(x(a))a=new R(a,c);else if(a instanceof R)a.target=a.target||c;else{var e=a;a=new R(d,c);hb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.wb&&0<=g;g--)f=a.currentTarget=b[g],e=Qc(f,d,!0,a)&&e;a.wb||(f=a.currentTarget=c,e=Qc(f,d,!0,a)&&e,a.wb||(e=Qc(f,d,!1,a)&&e));if(b)for(g=0;!a.wb&&g<b.length;g++)f=a.currentTarget=b[g],e=Qc(f,d,!1,a)&&e;return e};
k.f=function(){U.F.f.call(this);if(this.wa){var a=this.wa,b=0,c;for(c in a.K){for(var d=a.K[c],e=0;e<d.length;e++)++b,wc(d[e]);delete a.K[c];a.Rc--}}this.af=null};function Ec(a,b,c,d,e){return a.wa.add(String(b),c,!1,d,e)}function Lc(a,b,c,d,e){return a.wa.add(String(b),c,!0,d,e)}function Qc(a,b,c,d){b=a.wa.K[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Wb&&g.bc==c){var h=g.sb,m=g.td||g.src;g.Uc&&zc(a.wa,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.hh}
k.Ge=function(a,b,c,d){return this.wa.Ge(String(a),b,c,d)};k.Wa=function(a,b){return this.wa.Wa(r(a)?String(a):void 0,b)};function Rc(){}Rc.prototype.Af=null;function Tc(a){return a.Af||(a.Af=a.zg())};var Uc;function Vc(){}G(Vc,Rc);Vc.prototype.te=function(){var a=Wc(this);return a?new ActiveXObject(a):new XMLHttpRequest};Vc.prototype.zg=function(){var a={};Wc(this)&&(a[0]=!0,a[1]=!0);return a};
function Wc(a){if(!a.sg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.sg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.sg}Uc=new Vc;function Xc(){}G(Xc,Rc);Xc.prototype.te=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Yc;throw Error("Unsupported browser");};Xc.prototype.zg=function(){return{}};
function Yc(){this.ra=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.ra.onload=C(this.Ie,this);this.ra.onerror=C(this.rd,this);this.ra.onprogress=C(this.ui,this);this.ra.ontimeout=C(this.Bi,this)}k=Yc.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.ra.open(a,b)};
k.send=function(a){if(a)if("string"==typeof a)this.ra.send(a);else throw Error("Only string data is supported");else this.ra.send()};k.abort=function(){this.ra.abort()};k.setRequestHeader=function(){};k.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.ra.contentType:""};k.Ie=function(){this.status=200;this.responseText=this.ra.responseText;Zc(this,4)};k.rd=function(){this.status=500;this.responseText=null;Zc(this,4)};k.Bi=function(){this.rd()};
k.ui=function(){this.status=200;Zc(this,1)};function Zc(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}k.getAllResponseHeaders=function(){return"content-type: "+this.ra.contentType};function $c(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function ad(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function bd(a){return function(){return a}}var cd=bd(!1),dd=bd(!0);function ed(a){return a}function fd(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function gd(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function hd(a){l.setTimeout(function(){throw a;},0)}function id(a,b){var c=a;b&&(c=C(a,b));c=jd(c);!ja(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(kd||(kd=ld()),kd(c)):l.setImmediate(c)}var kd;
function ld(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Xa("Trident")&&!Xa("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Bf;c.Bf=null;a()};return function(a){d.next={Bf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var jd=ed;function md(a,b){nd||od();pd||(nd(),pd=!0);qd.push(new rd(a,b))}var nd;function od(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();nd=function(){a.then(sd)}}else nd=function(){id(sd)}}var pd=!1,qd=[];function sd(){for(;qd.length;){var a=qd;qd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Zh.call(c.scope)}catch(d){hd(d)}}}pd=!1}function rd(a,b){this.Zh=a;this.scope=b};function td(a,b){this.H=ud;this.Qa=void 0;this.aa=this.ma=null;this.qd=this.Ce=!1;try{var c=this;a.call(b,function(a){vd(c,wd,a)},function(a){vd(c,xd,a)})}catch(d){vd(this,xd,d)}}var ud=0,wd=2,xd=3;td.prototype.then=function(a,b,c){return yd(this,ja(a)?a:null,ja(b)?b:null,c)};$c(td);td.prototype.cancel=function(a){this.H==ud&&md(function(){var b=new zd(a);Ad(this,b)},this)};
function Ad(a,b){if(a.H==ud)if(a.ma){var c=a.ma;if(c.aa){for(var d=0,e=-1,f=0,g;g=c.aa[f];f++)if(g=g.Wc)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.H==ud&&1==d?Ad(c,b):(d=c.aa.splice(e,1)[0],Bd(c,d,xd,b)))}}else vd(a,xd,b)}function Cd(a,b){a.aa&&a.aa.length||a.H!=wd&&a.H!=xd||Dd(a);a.aa||(a.aa=[]);a.aa.push(b)}
function yd(a,b,c,d){var e={Wc:null,Rg:null,Tg:null};e.Wc=new td(function(a,g){e.Rg=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Tg=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof zd?g(b):a(e)}catch(n){g(n)}}:g});e.Wc.ma=a;Cd(a,e);return e.Wc}td.prototype.Eh=function(a){this.H=ud;vd(this,wd,a)};td.prototype.Fh=function(a){this.H=ud;vd(this,xd,a)};
function vd(a,b,c){if(a.H==ud){if(a==c)b=xd,c=new TypeError("Promise cannot resolve to itself");else{if(ad(c)){a.H=1;c.then(a.Eh,a.Fh,a);return}if(ka(c))try{var d=c.then;if(ja(d)){Ed(a,c,d);return}}catch(e){b=xd,c=e}}a.Qa=c;a.H=b;Dd(a);b!=xd||c instanceof zd||Fd(a,c)}}function Ed(a,b,c){function d(b){f||(f=!0,a.Fh(b))}function e(b){f||(f=!0,a.Eh(b))}a.H=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Dd(a){a.Ce||(a.Ce=!0,md(a.Wh,a))}
td.prototype.Wh=function(){for(;this.aa&&this.aa.length;){var a=this.aa;this.aa=[];for(var b=0;b<a.length;b++)Bd(this,a[b],this.H,this.Qa)}this.Ce=!1};function Bd(a,b,c,d){if(c==wd)b.Rg(d);else{for(;a&&a.qd;a=a.ma)a.qd=!1;b.Tg(d)}}function Fd(a,b){a.qd=!0;md(function(){a.qd&&Gd.call(null,b)})}var Gd=hd;function zd(a){sa.call(this,a)}G(zd,sa);zd.prototype.name="cancel";function Hd(a,b,c){if(ja(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Id(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Jd(a){if("function"==typeof a.za)return a.za();if(x(a))return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}function Kd(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ha(a)||x(a))K(a,b,c);else{var d;if("function"==typeof a.xa)d=a.xa();else if("function"!=typeof a.za)if(ha(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=bb(a);else d=void 0;for(var e=Jd(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Ld(a,b){this.a={};this.u=[];this.e=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ld?(c=a.xa(),d=a.za()):(c=bb(a),d=ab(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Ld.prototype;k.Ka=function(){return this.e};k.za=function(){Md(this);for(var a=[],b=0;b<this.u.length;b++)a.push(this.a[this.u[b]]);return a};k.xa=function(){Md(this);return this.u.concat()};
k.S=function(a){return Nd(this.a,a)};k.Xf=function(a,b){if(this===a)return!0;if(this.e!=a.Ka())return!1;var c=b||Od;Md(this);for(var d,e=0;d=this.u[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Od(a,b){return a===b}k.Ma=function(){return 0==this.e};k.clear=function(){this.a={};this.e=this.u.length=0};k.remove=function(a){return Nd(this.a,a)?(delete this.a[a],this.e--,this.u.length>2*this.e&&Md(this),!0):!1};
function Md(a){if(a.e!=a.u.length){for(var b=0,c=0;b<a.u.length;){var d=a.u[b];Nd(a.a,d)&&(a.u[c++]=d);b++}a.u.length=c}if(a.e!=a.u.length){for(var e={},c=b=0;b<a.u.length;)d=a.u[b],Nd(e,d)||(a.u[c++]=d,e[d]=1),b++;a.u.length=c}}k.get=function(a,b){return Nd(this.a,a)?this.a[a]:b};k.set=function(a,b){Nd(this.a,a)||(this.e++,this.u.push(a));this.a[a]=b};k.forEach=function(a,b){for(var c=this.xa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Ld(this)};
function Nd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Pd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Qd(a){if(Rd){Rd=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Qd(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Rd=!0,Error();}}return a.match(Pd)}var Rd=Q;function Sd(a){U.call(this);this.headers=new Ld;this.ee=a||null;this.fa=!1;this.de=this.c=null;this.Dd=this.Ve="";this.qb=this.Oe=this.wd=this.Be=!1;this.Zd=0;this.bb=null;this.gh=Td;this.rf=this.mk=!1}G(Sd,U);var Td="",Ud=/^https?$/i,Vd=["POST","PUT"];k=Sd.prototype;
k.send=function(a,b,c,d){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Ve+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Ve=a;this.Dd="";this.Be=!1;this.fa=!0;this.c=this.ee?this.ee.te():Uc.te();this.de=this.ee?Tc(this.ee):Tc(Uc);this.c.onreadystatechange=C(this.Sg,this);try{this.Oe=!0,this.c.open(b,String(a),!0),this.Oe=!1}catch(e){this.ed(5,e);return}a=c||"";var f=this.headers.clone();d&&Kd(d,function(a,b){f.set(b,a)});d=La(f.xa(),Wd);c=l.FormData&&a instanceof
l.FormData;!(0<=Ga(Vd,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.c.setRequestHeader(b,a)},this);this.gh&&(this.c.responseType=this.gh);"withCredentials"in this.c&&(this.c.withCredentials=this.mk);try{Xd(this),0<this.Zd&&((this.rf=Yd(this.c))?(this.c.timeout=this.Zd,this.c.ontimeout=C(this.yb,this)):this.bb=Hd(this.yb,this.Zd,this)),this.wd=!0,this.c.send(a),this.wd=!1}catch(g){this.ed(5,g)}};
function Yd(a){return P&&sb(9)&&ia(a.timeout)&&r(a.ontimeout)}function Wd(a){return"content-type"==a.toLowerCase()}k.yb=function(){"undefined"!=typeof aa&&this.c&&(this.Dd="Timed out after "+this.Zd+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};k.ed=function(a,b){this.fa=!1;this.c&&(this.qb=!0,this.c.abort(),this.qb=!1);this.Dd=b;$d(this);ae(this)};function $d(a){a.Be||(a.Be=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(){this.c&&this.fa&&(this.fa=!1,this.qb=!0,this.c.abort(),this.qb=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ae(this))};k.f=function(){this.c&&(this.fa&&(this.fa=!1,this.qb=!0,this.c.abort(),this.qb=!1),ae(this,!0));Sd.F.f.call(this)};k.Sg=function(){this.gc||(this.Oe||this.wd||this.qb?be(this):this.mj())};k.mj=function(){be(this)};
function be(a){if(a.fa&&"undefined"!=typeof aa&&(!a.de[1]||4!=ce(a)||2!=de(a)))if(a.wd&&4==ce(a))Hd(a.Sg,0,a);else if(a.dispatchEvent("readystatechange"),4==ce(a)){a.fa=!1;try{if(ee(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<ce(a)?a.c.statusText:""}catch(c){b=""}a.Dd=b+" ["+de(a)+"]";$d(a)}}finally{ae(a)}}}function ae(a,b){if(a.c){Xd(a);var c=a.c,d=a.de[0]?ca:null;a.c=null;a.de=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Xd(a){a.c&&a.rf&&(a.c.ontimeout=null);ia(a.bb)&&(l.clearTimeout(a.bb),a.bb=null)}k.Pe=function(){return!!this.c};function ee(a){var b=de(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Qd(String(a.Ve))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Ud.test(a?a.toLowerCase():"");c=b}return c}function ce(a){return a.c?a.c.readyState:0}
function de(a){try{return 2<ce(a)?a.c.status:-1}catch(b){return-1}}function fe(a){if(a.c)return Id(a.c.responseText)}k.getResponseHeader=function(a){return this.c&&4==ce(this)?this.c.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.c&&4==ce(this)?this.c.getAllResponseHeaders():""};function ge(){U.call(this);this.Lf=Eb("counties-list");this.vf=Eb("application-panel");this.Rh=Eb("county-detail-name");this.Qh=Eb("county-detail-hide");S(this.Qh,"click",function(a){this.sa&&bc(this.sa.wc,"active");this.sa=null;ac(this.vf,"no-county-detail");a.preventDefault()},!1,this);this.Ui=Eb("map-list");this.Ag="";var a=Eb("item-template");a&&(this.Ag=a.innerHTML,Rb(a));this.We=Eb("map-filter");this.Ti=Eb("map-filter-clear");S(this.We,"input",function(){he(this,this.We.value)},!1,this);S(this.Ti,
"click",function(){he(this,"")},!1,this);this.eg=Eb("georeference-random");S(this.eg,"click",function(a){ie(this,this.eg.href,"/random/public/georeference/json");a.preventDefault()},!1,this);this.Ah=Eb("transcribe-random");S(this.Ah,"click",function(a){ie(this,this.Ah.href,"/random/public/transcription/json");a.preventDefault()},!1,this);this.Ia=[];this.Le=this.sa=null;this.xc=[];je(this)}G(ge,U);
function je(a){if(a.Lf){var b=Fb("LI",a.Lf);K(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=Fb("A",a)[0],f=Wb(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),h=null;x(g)&&(g=g.split(","),h=[parseFloat(g[1]),parseFloat(g[0])]);this.Ia.push({name:f,id:b,center:h,anchor:e,wc:a});S(e,"click",function(a){ke(this,f);a.preventDefault()},!1,this)}}},a)}}function le(a){return a.sa?a.sa.name:null}
function me(a,b){a.Le&&bc(a.Le.wc,"highlighted");if(b){var c=La(a.Ia,function(a){return a.name==b});c&&(ac(c.wc,"highlighted"),a.Le=c)}}
function ke(a,b,c){var d=La(a.Ia,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new Sd(new Xc);S(f,"complete",function(){if(ee(f)){var a=fe(f);ne(this,a);c&&c()}},!1,a);f.send(e);Tb(a.Rh,b);bc(a.vf,"no-county-detail");a.sa&&bc(a.sa.wc,"active");ac(d.wc,"active");a.sa=d;a.dispatchEvent({type:"opened",Bk:b,center:d.center})}}
function oe(a){return a.title+"|"+pe(new qe(a.transcription_url||""))+"|"+pe(new qe(a.georeference_url||""))+"|"+pe(new qe(a.visualize_url||""))+"||"+pe(new qe(a.object_url||""))}
function re(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",oe(b));return a}
function ne(a,b){K(a.xc,function(a){K(a.keys,T);Rb(a.node)});a.xc=[];he(a,"");K(b,function(a){var b;var e=re(this.Ag,a),f=document;b=f.createElement("div");P?(b.innerHTML="\x3cbr\x3e"+e,b.removeChild(b.firstChild)):b.innerHTML=e;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(e=f.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);b=e}b=b.firstElementChild;this.Ui.appendChild(b);this.xc.push({title:se(a.title),qj:a.identifier,node:b,keys:[]})},a)}
function ie(a,b,c){if(a.sa){c="http://cynefin.georeferencer.com/collection/"+a.sa.id+c;var d=new Sd(new Xc);S(d,"complete",function(){if(ee(d)){var a=fe(d),a=b+"#"+oe(a);window.location=a}},!1,a);d.send(c)}}function he(a,b){a.We.value=b;b=se(b);var c=b.split(" or ");K(a.xc,function(a){cc(a.node,"hidden",Ka(c,function(b){return-1==a.title.indexOf(b)}))})}function te(a,b){var c="";K(a.xc,function(a){0<=Ga(a.qj.split(","),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);he(a,c)}
function se(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function qe(a,b){var c;if(a instanceof qe)this.ca=r(b)?b:a.ca,ue(this,a.$a),c=a.zb,ve(this),this.zb=c,c=a.Ja,ve(this),this.Ja=c,we(this,a.Tb),c=a.na,ve(this),this.na=c,xe(this,a.Aa.clone()),c=a.jb,ve(this),this.jb=c;else if(a&&(c=Qd(String(a)))){this.ca=!!b;ue(this,c[1]||"",!0);var d=c[2]||"";ve(this);this.zb=ye(d);d=c[3]||"";ve(this);this.Ja=ye(d,!0);we(this,c[4]);d=c[5]||"";ve(this);this.na=ye(d,!0);xe(this,c[6]||"",!0);c=c[7]||"";ve(this);this.jb=ye(c)}else this.ca=!!b,this.Aa=new ze(null,0,this.ca)}
k=qe.prototype;k.$a="";k.zb="";k.Ja="";k.Tb=null;k.na="";k.jb="";k.Li=!1;k.ca=!1;k.toString=function(){var a=[],b=this.$a;b&&a.push(Ae(b,Be,!0),":");if(b=this.Ja){a.push("//");var c=this.zb;c&&a.push(Ae(c,Be,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Tb;null!=b&&a.push(":",String(b))}if(b=this.na)this.Ja&&"/"!=b.charAt(0)&&a.push("/"),a.push(Ae(b,"/"==b.charAt(0)?Ce:De,!0));(b=this.Aa.toString())&&a.push("?",b);(b=this.jb)&&a.push("#",Ae(b,Ee));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.$a;c?ue(b,a.$a):c=!!a.zb;if(c){var d=a.zb;ve(b);b.zb=d}else c=!!a.Ja;c?(d=a.Ja,ve(b),b.Ja=d):c=null!=a.Tb;d=a.na;if(c)we(b,a.Tb);else if(c=!!a.na){if("/"!=d.charAt(0))if(this.Ja&&!this.na)d="/"+d;else{var e=b.na.lastIndexOf("/");-1!=e&&(d=b.na.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(ve(b),b.na=d):c=""!==a.Aa.toString();c?xe(b,ye(a.Aa.toString())):c=!!a.jb;c&&(a=a.jb,ve(b),b.jb=a);return b};k.clone=function(){return new qe(this)};function ue(a,b,c){ve(a);a.$a=c?ye(b,!0):b;a.$a&&(a.$a=a.$a.replace(/:$/,""))}function we(a,b){ve(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Tb=b}else a.Tb=null}function pe(a){return a.na}
function xe(a,b,c){ve(a);b instanceof ze?(a.Aa=b,a.Aa.gf(a.ca)):(c||(b=Ae(b,Fe)),a.Aa=new ze(b,0,a.ca))}function Ge(a,b,c){ve(a);ga(c)||(c=[String(c)]);He(a.Aa,b,c)}function ve(a){if(a.Li)throw Error("Tried to modify a read-only Uri");}k.gf=function(a){this.ca=a;this.Aa&&this.Aa.gf(a);return this};function ye(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function Ae(a,b,c){return x(a)?(a=encodeURI(a).replace(b,Ie),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Ie(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Be=/[#\/\?@]/g,De=/[\#\?:]/g,Ce=/[\#\?]/g,Fe=/[\#\?@]/g,Ee=/#/g;function ze(a,b,c){this.X=a||null;this.ca=!!c}
function Je(a){if(!a.r&&(a.r=new Ld,a.e=0,a.X))for(var b=a.X.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Ke(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}k=ze.prototype;k.r=null;k.e=null;k.Ka=function(){Je(this);return this.e};k.add=function(a,b){Je(this);this.X=null;a=Ke(this,a);var c=this.r.get(a);c||this.r.set(a,c=[]);c.push(b);this.e++;return this};
k.remove=function(a){Je(this);a=Ke(this,a);return this.r.S(a)?(this.X=null,this.e-=this.r.get(a).length,this.r.remove(a)):!1};k.clear=function(){this.r=this.X=null;this.e=0};k.Ma=function(){Je(this);return 0==this.e};k.S=function(a){Je(this);a=Ke(this,a);return this.r.S(a)};k.xa=function(){Je(this);for(var a=this.r.za(),b=this.r.xa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.za=function(a){Je(this);var b=[];if(x(a))this.S(a)&&(b=Na(b,this.r.get(Ke(this,a))));else{a=this.r.za();for(var c=0;c<a.length;c++)b=Na(b,a[c])}return b};k.set=function(a,b){Je(this);this.X=null;a=Ke(this,a);this.S(a)&&(this.e-=this.r.get(a).length);this.r.set(a,[b]);this.e++;return this};k.get=function(a,b){var c=a?this.za(a):[];return 0<c.length?String(c[0]):b};function He(a,b,c){a.remove(b);0<c.length&&(a.X=null,a.r.set(Ke(a,b),Oa(c)),a.e+=c.length)}
k.toString=function(){if(this.X)return this.X;if(!this.r)return"";for(var a=[],b=this.r.xa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.za(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.X=a.join("\x26")};k.clone=function(){var a=new ze;a.X=this.X;this.r&&(a.r=this.r.clone(),a.e=this.e);return a};function Ke(a,b){var c=String(b);a.ca&&(c=c.toLowerCase());return c}
k.gf=function(a){a&&!this.ca&&(Je(this),this.X=null,this.r.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),He(this,d,a))},this));this.ca=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)Kd(arguments[b],function(a,b){this.add(b,a)},this)};function Le(a,b,c){gc.call(this);this.Ni=a;this.Ei=c;this.Da=b||window;this.me=C(this.Uh,this)}G(Le,gc);k=Le.prototype;k.B=null;k.sf=!1;k.start=function(){this.stop();this.sf=!1;var a=Me(this),b=Ne(this);a&&!b&&this.Da.mozRequestAnimationFrame?(this.B=S(this.Da,"MozBeforePaint",this.me),this.Da.mozRequestAnimationFrame(null),this.sf=!0):this.B=a&&b?a.call(this.Da,this.me):this.Da.setTimeout(fd(this.me),20)};
k.stop=function(){if(this.Pe()){var a=Me(this),b=Ne(this);a&&!b&&this.Da.mozRequestAnimationFrame?T(this.B):a&&b?b.call(this.Da,this.B):this.Da.clearTimeout(this.B)}this.B=null};k.Pe=function(){return null!=this.B};k.Uh=function(){this.sf&&this.B&&T(this.B);this.B=null;this.Ni.call(this.Ei,ra())};k.f=function(){this.stop();Le.F.f.call(this)};
function Me(a){a=a.Da;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Ne(a){a=a.Da;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Oe(){this.Zg=ra()}new Oe;Oe.prototype.set=function(a){this.Zg=a};Oe.prototype.reset=function(){this.set(ra())};Oe.prototype.get=function(){return this.Zg};function Pe(a){U.call(this);this.Sc=a||window;this.Ed=S(this.Sc,"resize",this.vi,!1,this);this.Zb=Jb(this.Sc||window)}G(Pe,U);k=Pe.prototype;k.Ed=null;k.Sc=null;k.Zb=null;k.ba=function(){return this.Zb?this.Zb.clone():null};k.f=function(){Pe.F.f.call(this);this.Ed&&(T(this.Ed),this.Ed=null);this.Zb=this.Sc=null};k.vi=function(){var a=Jb(this.Sc||window),b=this.Zb;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.Zb=a,this.dispatchEvent("resize"))};function Qe(a,b,c,d,e){if(!(P||Q&&sb("525")))return!0;if(ib&&e)return Re(a);if(e&&!d)return!1;ia(b)&&(b=Se(b));if(!c&&(17==b||18==b||ib&&91==b))return!1;if(Q&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(P&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!Q}return Re(a)}
function Re(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||Q&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Se(a){if(lb)a=Te(a);else if(ib&&Q)a:switch(a){case 93:a=91;break a}return a}
function Te(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Ue(a,b){U.call(this);a&&Ve(this,a,b)}G(Ue,U);k=Ue.prototype;k.T=null;k.zd=null;k.Re=null;k.Ad=null;k.Y=-1;k.Xa=-1;k.ge=!1;
var We={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xe={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ye=P||Q&&sb("525"),Ze=ib&&lb;k=Ue.prototype;
k.gi=function(a){Q&&(17==this.Y&&!a.ctrlKey||18==this.Y&&!a.altKey||ib&&91==this.Y&&!a.metaKey)&&(this.Xa=this.Y=-1);-1==this.Y&&(a.ctrlKey&&17!=a.keyCode?this.Y=17:a.altKey&&18!=a.keyCode?this.Y=18:a.metaKey&&91!=a.keyCode&&(this.Y=91));Ye&&!Qe(a.keyCode,this.Y,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Xa=Se(a.keyCode),Ze&&(this.ge=a.altKey))};k.hi=function(a){this.Xa=this.Y=-1;this.ge=a.altKey};
k.handleEvent=function(a){var b=a.g,c,d,e=b.altKey;P&&"keypress"==a.type?(c=this.Xa,d=13!=c&&27!=c?b.keyCode:0):Q&&"keypress"==a.type?(c=this.Xa,d=0<=b.charCode&&63232>b.charCode&&Re(c)?b.charCode:0):kb?(c=this.Xa,d=Re(c)?b.keyCode:0):(c=b.keyCode||this.Xa,d=b.charCode||0,Ze&&(e=this.ge),ib&&63==d&&224==c&&(c=191));var f=c=Se(c),g=b.keyIdentifier;c?63232<=c&&c in We?f=We[c]:25==c&&a.shiftKey&&(f=9):g&&g in Xe&&(f=Xe[g]);a=f==this.Y;this.Y=f;b=new $e(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function Ve(a,b,c){a.Ad&&a.detach();a.T=b;a.zd=S(a.T,"keypress",a,c);a.Re=S(a.T,"keydown",a.gi,c,a);a.Ad=S(a.T,"keyup",a.hi,c,a)}k.detach=function(){this.zd&&(T(this.zd),T(this.Re),T(this.Ad),this.Ad=this.Re=this.zd=null);this.T=null;this.Xa=this.Y=-1};k.f=function(){Ue.F.f.call(this);this.detach()};function $e(a,b,c,d){pc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}G($e,pc);function af(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=af.prototype;k.Ua=function(){return this.right-this.left};k.kd=function(){return this.bottom-this.top};k.clone=function(){return new af(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof af?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){ka(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof zb?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ia(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=ia(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function bf(a,b){var c=Db(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function cf(a,b){return bf(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function df(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}P&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ef(a){if(P&&!(P&&8<=ub))return a.offsetParent;var b=Db(a),c=cf(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=cf(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function ff(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=df(a),b=new zb(b.left,b.top);else{b=Yb(Bb(a));var c,d=Db(a),e=cf(a,"position"),f=lb&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new zb(0,0),h;c=d?Db(d):document;(h=!P||P&&9<=ub)||(h=Bb(c),h=Kb(h.hc));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=df(a),d=Yb(Bb(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(Q&&"fixed"==cf(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(kb||Q&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=ef(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,kb&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new zb(g.x-b.x,g.y-b.y)}if(lb&&!sb(12)){b:{g=Ea();if(void 0===a.style[g]&&(g=
(Q?"Webkit":lb?"Moz":P?"ms":kb?"O":null)+Fa(g),void 0!==a.style[g])){g=(Q?"-webkit":lb?"-moz":P?"-ms":kb?"-o":null)+"-transform";break b}g="transform"}a=(a=cf(a,g)||cf(a,"transform"))?(a=a.match(gf))?new zb(parseFloat(a[1]),parseFloat(a[2])):new zb(0,0):new zb(0,0);a=new zb(b.x+a.x,b.y+a.y)}else a=b;return a}b=ja(a.bi);g=a;a.targetTouches&&a.targetTouches.length?g=a.targetTouches[0]:b&&a.g.targetTouches&&a.g.targetTouches.length&&(g=a.g.targetTouches[0]);return new zb(g.clientX,g.clientY)}
function hf(a){var b=a.offsetWidth,c=a.offsetHeight,d=Q&&!b&&!c;return r(b)&&!d||!a.getBoundingClientRect?new Ab(b,c):(a=df(a),new Ab(a.right-a.left,a.bottom-a.top))}function jf(a,b){a.style.display=b?"":"none"}function kf(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function lf(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?kf(a,c,"left","pixelLeft"):0}var mf={thin:2,medium:4,thick:6};function nf(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in mf?mf[c]:kf(a,c,"left","pixelLeft")}var gf=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function of(a,b){U.call(this);var c=this.T=a,c=ka(c)&&1==c.nodeType?this.T:this.T?this.T.body:null;this.Mi=!!c&&"rtl"==cf(c,"direction");this.Hg=S(this.T,mc,this,b)}G(of,U);
of.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.g;if("mousewheel"==a.type){c=1;if(P||Q&&(jb||sb("532.0")))c=40;d=pf(-a.wheelDelta,c);r(a.wheelDeltaX)?(b=pf(-a.wheelDeltaX,c),c=pf(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),r(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ia(this.Kg)&&(b=xb(b,-this.Kg,this.Kg));ia(this.Lg)&&(c=xb(c,-this.Lg,this.Lg));this.Mi&&(b=-b);b=new qf(d,a,b,c);this.dispatchEvent(b)};function pf(a,b){return Q&&(ib||ob)&&0!=a%b?a:a/b}
of.prototype.f=function(){of.F.f.call(this);T(this.Hg);this.Hg=null};function qf(a,b,c,d){pc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}G(qf,pc);function rf(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}rf.prototype.BYTES_PER_ELEMENT=4;rf.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};rf.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(rf.BYTES_PER_ELEMENT=4,rf.prototype.BYTES_PER_ELEMENT=rf.prototype.BYTES_PER_ELEMENT,rf.prototype.set=rf.prototype.set,rf.prototype.toString=rf.prototype.toString,ba("Float32Array",rf));function sf(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}sf.prototype.BYTES_PER_ELEMENT=8;sf.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};sf.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{sf.BYTES_PER_ELEMENT=8}catch(tf){}sf.prototype.BYTES_PER_ELEMENT=sf.prototype.BYTES_PER_ELEMENT;sf.prototype.set=sf.prototype.set;sf.prototype.toString=sf.prototype.toString;ba("Float64Array",sf)};function uf(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function vf(){var a=Array(16);wf(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function xf(){var a=Array(16);wf(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function wf(a,b,c,d,e,f,g,h,m,n,p,q,u,v,s,z,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=u;a[12]=v;a[13]=s;a[14]=z;a[15]=y}function yf(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function zf(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],m=a[5],n=a[6],p=a[7],q=a[8],u=a[9],v=a[10],s=a[11],z=a[12],y=a[13],B=a[14];a=a[15];var t=b[0],w=b[1],D=b[2],E=b[3],I=b[4],W=b[5],J=b[6],Y=b[7],O=b[8],F=b[9],N=b[10],L=b[11],ua=b[12],fa=b[13],la=b[14];b=b[15];c[0]=d*t+h*w+q*D+z*E;c[1]=e*t+m*w+u*D+y*E;c[2]=f*t+n*w+v*D+B*E;c[3]=g*t+p*w+s*D+a*E;c[4]=d*I+h*W+q*J+z*Y;c[5]=e*I+m*W+u*J+y*Y;c[6]=f*I+n*W+v*J+B*Y;c[7]=g*I+p*W+s*J+a*Y;c[8]=d*O+h*F+q*N+z*L;c[9]=e*O+m*F+u*N+y*L;c[10]=f*O+n*F+v*N+B*L;c[11]=
g*O+p*F+s*N+a*L;c[12]=d*ua+h*fa+q*la+z*b;c[13]=e*ua+m*fa+u*la+y*b;c[14]=f*ua+n*fa+v*la+B*b;c[15]=g*ua+p*fa+s*la+a*b}function Af(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Bf(a,b,c){wf(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Cf(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],m=a[6],n=a[7],p=Math.cos(b),q=Math.sin(b);a[0]=c*p+g*q;a[1]=d*p+h*q;a[2]=e*p+m*q;a[3]=f*p+n*q;a[4]=c*-q+g*p;a[5]=d*-q+h*p;a[6]=e*-q+m*p;a[7]=f*-q+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function Df(){U.call(this);this.oa=0}G(Df,U);Df.prototype.M=function(){++this.oa;this.dispatchEvent("change")};function Ef(a,b,c,d){S(a,b,c,!1,d)}function Ff(a,b,c){Kc(a,"postrender",b,!1,c)};function Gf(a,b){R.call(this,a);this.key=b}G(Gf,R);function Hf(a){Df.call(this);A(this);this.$b={};this.fe={};r(a)&&this.Fc(a)}G(Hf,Df);var If={},Jf={},Kf={};function Lf(a){return If.hasOwnProperty(a)?If[a]:If[a]="change:"+a}Hf.prototype.get=function(a){var b,c=this.fe;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Uj,d=Jf.hasOwnProperty(c)?Jf[c]:Jf[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=M(b,d);b=r(d)?d.call(b):b.get(c);b=a.Ok(b)}else this.$b.hasOwnProperty(a)&&(b=this.$b[a]);return b};
Hf.prototype.xa=function(){var a=this.fe,b;if(cb(this.$b)){if(cb(a))return[];b=a}else if(cb(a))b=this.$b;else{b={};for(var c in this.$b)b[c]=!0;for(c in a)b[c]=!0}return bb(b)};
Hf.prototype.set=function(a,b){this.dispatchEvent(new Gf("beforepropertychange",a));var c=this.fe;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.Uj;b=d.Ck(b);d=Kf.hasOwnProperty(e)?Kf[e]:Kf[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=M(c,d);r(d)?d.call(c,b):c.set(e,b)}else this.$b[a]=b,c=Lf(a),this.dispatchEvent(c),this.dispatchEvent(new Gf("propertychange",a))};Hf.prototype.Fc=function(a){for(var b in a)this.set(b,a[b])};function Mf(a,b,c){R.call(this,a,c);this.element=b}G(Mf,R);function Nf(a){Hf.call(this);this.Fa=a||[];Of(this)}G(Nf,Hf);k=Nf.prototype;k.clear=function(){for(;0<this.get("length");)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){K(this.Fa,a,b)};k.mc=function(){return this.Fa};k.item=function(a){return this.Fa[a]};k.pop=function(){return Pf(this,this.get("length")-1)};
k.push=function(a){var b=this.Fa.length;Pa(this.Fa,b,0,a);Of(this);this.dispatchEvent(new Mf("add",a,this));return b};k.remove=function(a){var b=this.Fa,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return Pf(this,c)};function Pf(a,b){var c=a.Fa[b];H.splice.call(a.Fa,b,1);Of(a);a.dispatchEvent(new Mf("remove",c,a));return c}function Of(a){a.set("length",a.Fa.length)};var Qf=P&&!sb("9.0")&&""!==qb;function Sf(a,b){a[0]+=b[0];a[1]+=b[1]}function Tf(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function Uf(a,b,c){R.call(this,a);this.map=b;this.frameState=r(c)?c:null}G(Uf,R);function Vf(a,b,c){R.call(this,a);this.G=b;a=r(c)?c:{};this.buttons=Wf(a);this.pressure=Xf(a,this.buttons);this.bubbles=M(a,"bubbles",!1);this.cancelable=M(a,"cancelable",!1);this.view=M(a,"view",null);this.detail=M(a,"detail",null);this.screenX=M(a,"screenX",0);this.screenY=M(a,"screenY",0);this.clientX=M(a,"clientX",0);this.clientY=M(a,"clientY",0);this.ctrlKey=M(a,"ctrlKey",!1);this.altKey=M(a,"altKey",!1);this.shiftKey=M(a,"shiftKey",!1);this.metaKey=M(a,"metaKey",!1);this.button=M(a,"button",
0);this.relatedTarget=M(a,"relatedTarget",null);this.pointerId=M(a,"pointerId",0);this.width=M(a,"width",0);this.height=M(a,"height",0);this.tiltX=M(a,"tiltX",0);this.tiltY=M(a,"tiltY",0);this.pointerType=M(a,"pointerType","");this.hwTimestamp=M(a,"hwTimestamp",0);this.isPrimary=M(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}G(Vf,R);
function Wf(a){if(a.buttons||Yf)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Xf(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var Yf=!1;try{Yf=1===(new MouseEvent("click",{buttons:1})).buttons}catch(Zf){};function $f(a,b){var c=Ob("CANVAS");r(a)&&(c.width=a);r(b)&&(c.height=b);return c.getContext("2d")}
var ag=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Ob("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Rb(b);a=c&&"none"!==c}else a=!1;return a}}(),bg=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Ob("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Rb(b);a=c&&"none"!==c}else a=!1;return a}}();function cg(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.pk=b;c.msTransform=b;c.transform=b;P&&!Qf&&(a.style.transformOrigin="0 0")};var dg=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function eg(a,b){var c,d,e=dg.length;for(d=0;d<e;++d)try{if(c=a.getContext(dg[d],b),null!==c)return c}catch(f){}return null};var fg=l.devicePixelRatio||1,gg=!1,hg=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=$f();if(null===a)return!1;r(a.setLineDash)&&(gg=!0);return!0}catch(b){return!1}}(),ig="ontouchstart"in l,jg="PointerEvent"in l,kg=!!l.navigator.msPointerEnabled,lg=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=Ob("CANVAS");return null!==eg(a,{Yh:!0})}catch(b){return!1}}();function mg(a,b){this.d=a;this.Id=b};function ng(a){mg.call(this,a,{mousedown:this.Zi,mousemove:this.$i,mouseup:this.cj,mouseover:this.bj,mouseout:this.aj});this.t=a.t;this.Dg=[]}G(ng,mg);function og(a,b){for(var c=a.Dg,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}function pg(a){var b=qg(a,a.g),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=ng.prototype;
k.Zi=function(a){if(!og(this,a)){(1).toString()in this.t&&this.cancel(a);var b=pg(a);this.t[(1).toString()]=a;this.d.fireEvent(rg,b,a)}};k.$i=function(a){if(!og(this,a)){var b=pg(a);this.d.move(b,a)}};k.cj=function(a){if(!og(this,a)){var b=M(this.t,(1).toString());b&&b.button===a.button&&(b=pg(a),this.d.fireEvent(sg,b,a),eb(this.t,(1).toString()))}};k.bj=function(a){if(!og(this,a)){var b=pg(a);tg(this.d,b,a)}};k.aj=function(a){if(!og(this,a)){var b=pg(a);ug(this.d,b,a)}};
k.cancel=function(a){var b=pg(a);this.d.cancel(b,a);eb(this.t,(1).toString())};function vg(a){mg.call(this,a,{MSPointerDown:this.hj,MSPointerMove:this.ij,MSPointerUp:this.lj,MSPointerOut:this.jj,MSPointerOver:this.kj,MSPointerCancel:this.gj,MSGotPointerCapture:this.ej,MSLostPointerCapture:this.fj});this.t=a.t;this.Jh=["","unavailable","touch","pen","mouse"]}G(vg,mg);function wg(a,b){var c=b;ia(b.g.pointerType)&&(c=qg(b,b.g),c.pointerType=a.Jh[b.g.pointerType]);return c}k=vg.prototype;k.hj=function(a){this.t[a.g.pointerId]=a;var b=wg(this,a);this.d.fireEvent(rg,b,a)};
k.ij=function(a){var b=wg(this,a);this.d.move(b,a)};k.lj=function(a){var b=wg(this,a);this.d.fireEvent(sg,b,a);eb(this.t,a.g.pointerId)};k.jj=function(a){var b=wg(this,a);ug(this.d,b,a)};k.kj=function(a){var b=wg(this,a);tg(this.d,b,a)};k.gj=function(a){var b=wg(this,a);this.d.cancel(b,a);eb(this.t,a.g.pointerId)};k.fj=function(a){this.d.dispatchEvent(new Vf("lostpointercapture",a,a.g))};k.ej=function(a){this.d.dispatchEvent(new Vf("gotpointercapture",a,a.g))};function xg(a){mg.call(this,a,{pointerdown:this.uj,pointermove:this.vj,pointerup:this.yj,pointerout:this.wj,pointerover:this.xj,pointercancel:this.tj,gotpointercapture:this.di,lostpointercapture:this.Si})}G(xg,mg);k=xg.prototype;k.uj=function(a){yg(this.d,a)};k.vj=function(a){yg(this.d,a)};k.yj=function(a){yg(this.d,a)};k.wj=function(a){yg(this.d,a)};k.xj=function(a){yg(this.d,a)};k.tj=function(a){yg(this.d,a)};k.Si=function(a){yg(this.d,a)};k.di=function(a){yg(this.d,a)};function zg(a,b){mg.call(this,a,{touchstart:this.ck,touchmove:this.bk,touchend:this.ak,touchcancel:this.$j});this.t=a.t;this.Yi=b;this.lc=void 0;this.pe=0;this.Dc=void 0}G(zg,mg);k=zg.prototype;k.eh=function(){this.pe=0;this.Dc=void 0};
function Ag(a,b,c){b=qg(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.pe;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.lc===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Bg(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.g.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=Ag(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.ck=function(a){var b=a.g.touches,c=bb(this.t),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.t[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.ub)}for(f=0;f<e.length;++f)this.ne(a,e[f])}b=$a(this.t);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.t;c=b}c&&(this.lc=a.g.changedTouches[0].identifier,r(this.Dc)&&l.clearTimeout(this.Dc));Cg(this,a);this.pe++;Bg(this,a,this.oj)};
k.oj=function(a,b){this.t[b.pointerId]={target:b.target,ub:b,Wg:b.target};var c=this.d;b.bubbles=!0;c.fireEvent(Dg,b,a);c=this.d;b.bubbles=!1;c.fireEvent(Eg,b,a);this.d.fireEvent(rg,b,a)};k.bk=function(a){a.preventDefault();Bg(this,a,this.dj)};
k.dj=function(a,b){var c=M(this.t,b.pointerId);if(c){var d=c.ub,e=c.Wg;this.d.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(ug(this.d,d,a),tg(this.d,b,a)):(b.target=e,b.relatedTarget=null,this.ne(a,b)));c.ub=b;c.Wg=b.target}};k.ak=function(a){Cg(this,a);Bg(this,a,this.fk)};
k.fk=function(a,b){this.d.fireEvent(sg,b,a);this.d.ub(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(Fg,b,a);eb(this.t,b.pointerId);b.isPrimary&&(this.lc=void 0,this.Dc=l.setTimeout(C(this.eh,this),200))};k.$j=function(a){Bg(this,a,this.ne)};k.ne=function(a,b){this.d.cancel(b,a);this.d.ub(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(Fg,b,a);eb(this.t,b.pointerId);b.isPrimary&&(this.lc=void 0,this.Dc=l.setTimeout(C(this.eh,this),200))};
function Cg(a,b){var c=a.Yi.Dg,d=b.g.changedTouches[0];if(a.lc===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ma(c,e)},2500)}};function Gg(a){U.call(this);this.T=a;this.t={};this.Zf={};this.jc=[];jg?Hg(this,new xg(this)):kg?Hg(this,new vg(this)):(a=new ng(this),Hg(this,a),ig&&Hg(this,new zg(this,a)));a=this.jc.length;for(var b,c=0;c<a;c++)b=this.jc[c],Ig(this,bb(b.Id))}G(Gg,U);function Hg(a,b){var c=bb(b.Id);c&&(K(c,function(a){var c=b.Id[a];c&&(this.Zf[a]=C(c,b))},a),a.jc.push(b))}k=Gg.prototype;k.Yf=function(a){var b=this.Zf[a.type];b&&b(a)};function Ig(a,b){K(b,function(a){S(this.T,a,this.Yf,!1,this)},a)}
function Jg(a,b){K(b,function(a){Mc(this.T,a,this.Yf,!1,this)},a)}function qg(a,b){for(var c={},d,e=0,f=Kg.length;e<f;e++)d=Kg[e][0],c[d]=a[d]||b[d]||Kg[e][1];return c}k.move=function(a,b){this.fireEvent(Lg,a,b)};k.ub=function(a,b){a.bubbles=!0;this.fireEvent(Mg,a,b)};k.cancel=function(a,b){this.fireEvent(Ng,a,b)};function ug(a,b,c){a.ub(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Fg,b,c))}
function tg(a,b,c){b.bubbles=!0;a.fireEvent(Dg,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Eg,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new Vf(a,c,b))};function yg(a,b){a.dispatchEvent(new Vf(b.type,b,b.g))}k.f=function(){for(var a=this.jc.length,b,c=0;c<a;c++)b=this.jc[c],Jg(this,bb(b.Id));Gg.F.f.call(this)};
var Lg="pointermove",rg="pointerdown",sg="pointerup",Dg="pointerover",Mg="pointerout",Eg="pointerenter",Fg="pointerleave",Ng="pointercancel",Kg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Og(a,b,c,d){Uf.call(this,a,b,d);this.G=c;this.originalEvent=c.g;c=this.originalEvent;r(c.changedTouches)?(a=c.changedTouches[0],c=ff(b.w),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.w,c=ff(c),a=ff(a),a=new zb(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.nc(this.pixel)}G(Og,Uf);Og.prototype.preventDefault=function(){Og.F.preventDefault.call(this);this.G.preventDefault()};Og.prototype.stopPropagation=function(){Og.F.stopPropagation.call(this);this.G.stopPropagation()};
function Pg(a,b,c,d){Og.call(this,a,b,c.G,d);this.vb=c}G(Pg,Og);function Qg(a){U.call(this);this.a=a;this.cc=0;this.ze=!1;this.cd=this.Nd=this.hb=null;a=this.a.w;this.uf=0;this.pf={};this.Sb=new Gg(a);this.Ta=null;this.Nd=S(this.Sb,rg,this.ri,!1,this);this.df=S(this.Sb,Lg,this.Aj,!1,this)}G(Qg,U);
function Rg(a,b){var c;c=new Pg(Sg,a.a,b);a.dispatchEvent(c);0!==a.cc?(l.clearTimeout(a.cc),a.cc=0,c=new Pg(Tg,a.a,b),a.dispatchEvent(c)):a.cc=l.setTimeout(C(function(){this.cc=0;var a=new Pg(Ug,this.a,b);this.dispatchEvent(a)},a),250)}function Vg(a,b){b.type==Wg||b.type==Xg?delete a.pf[b.pointerId]:b.type==Yg&&(a.pf[b.pointerId]=!0);a.uf=$a(a.pf)}k=Qg.prototype;
k.La=function(a){Vg(this,a);var b=new Pg(Wg,this.a,a);this.dispatchEvent(b);0===this.uf&&(K(this.hb,T),this.hb=null,kc(this.Ta),this.Ta=null);!this.ze&&0===a.button&&Rg(this,this.cd)};k.ri=function(a){Vg(this,a);var b=new Pg(Yg,this.a,a);this.dispatchEvent(b);this.cd=a;this.ze=!1;null===this.hb&&(this.Ta=new Gg(document),this.hb=[S(this.Ta,Zg,this.si,!1,this),S(this.Ta,Wg,this.La,!1,this),S(this.Sb,Xg,this.La,!1,this)]);a.preventDefault()};
k.si=function(a){if(a.clientX!=this.cd.clientX||a.clientY!=this.cd.clientY){this.ze=!0;var b=new Pg($g,this.a,a);this.dispatchEvent(b)}a.preventDefault()};k.Aj=function(a){this.dispatchEvent(new Pg(a.type,this.a,a))};k.f=function(){null!==this.df&&(T(this.df),this.df=null);null!==this.Nd&&(T(this.Nd),this.Nd=null);null!==this.hb&&(K(this.hb,T),this.hb=null);null!==this.Ta&&(kc(this.Ta),this.Ta=null);null!==this.Sb&&(kc(this.Sb),this.Sb=null);Qg.F.f.call(this)};
var Ug="singleclick",Sg="click",Tg="dblclick",$g="pointerdrag",Zg="pointermove",Yg="pointerdown",Wg="pointerup",Xg="pointercancel",ah={zk:Ug,nk:Sg,ok:Tg,sk:$g,vk:Zg,rk:Yg,yk:Wg,xk:"pointerover",wk:"pointerout",tk:"pointerenter",uk:"pointerleave",qk:Xg};function bh(a,b,c,d){return r(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function ch(a,b,c){return a+"/"+b+"/"+c}function dh(a){return ch(a[0],a[1],a[2])};function eh(a,b,c,d){this.h=a;this.s=b;this.l=c;this.k=d}function fh(a,b,c,d,e){return r(e)?(e.h=a,e.s=b,e.l=c,e.k=d,e):new eh(a,b,c,d)}k=eh.prototype;k.contains=function(a){return this.fc(a[1],a[2])};function gh(a,b){return a.h<=b.h&&b.s<=a.s&&a.l<=b.l&&b.k<=a.k}k.fc=function(a,b){return this.h<=a&&a<=this.s&&this.l<=b&&b<=this.k};k.Xf=function(a){return this.h==a.h&&this.l==a.l&&this.s==a.s&&this.k==a.k};
k.extend=function(a){a.h<this.h&&(this.h=a.h);a.s>this.s&&(this.s=a.s);a.l<this.l&&(this.l=a.l);a.k>this.k&&(this.k=a.k)};k.kd=function(){return this.k-this.l+1};k.ba=function(){return[this.Ua(),this.kd()]};k.Ua=function(){return this.s-this.h+1};function hh(a){this.pg=a.html;this.Yd=r(a.tileRanges)?a.tileRanges:null};function ih(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return jh(c,d,e,f,void 0)}function kh(){return[Infinity,Infinity,-Infinity,-Infinity]}function jh(a,b,c,d,e){return r(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function lh(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function mh(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=nh(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function oh(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,h;for(f=0;4>f;++f)g=e[f],h=d[f],e[f]=a[0]+g*b-h*c,d[f]=a[1]+g*c+h*b;return ih(e,d)}function ph(a,b){var c=r(void 0)?void 0:kh();qh(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function nh(a){return[a[0],a[3]]}function qh(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}
function rh(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return ih([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function sh(a){this.radius=a}sh.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var th={};th.degrees=2*Math.PI*(new sh(6370997)).radius/360;th.ft=.3048;th.m=1;function uh(a){this.dc=a.code;this.Gh=a.units;this.N=r(a.extent)?a.extent:null;this.Nf=null}uh.prototype.I=function(){return this.N};uh.prototype.mh=function(a){this.N=a};var vh={},wh={};function xh(a){yh(a);K(a,function(b){K(a,function(a){b!==a&&zh(b,a,Ah)})})}function Bh(a){vh[a.dc]=a;zh(a,a,Ah)}function yh(a){var b=[];K(a,function(a){b.push(Bh(a))})}function Ch(a){return null!=a?x(a)?Dh(a):a:Dh("EPSG:3857")}
function zh(a,b,c){a=a.dc;b=b.dc;a in wh||(wh[a]={});wh[a][b]=c}function Dh(a){return a instanceof uh?a:x(a)?vh[a]:null}function Eh(a,b){var c=Dh(a),d=Dh(b);return Fh(c,d)}function Fh(a,b){var c=a.dc,d=b.dc,e;c in wh&&d in wh[c]&&(e=wh[c][d]);r(e)||(e=Gh);return e}function Gh(a,b){if(r(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Ah(a,b){var c;if(r(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Hh(){var a=Eh("EPSG:4326","EPSG:3857");return rh([-8.2178,50.646,.1318,54.3742],a)};function Ih(a){Df.call(this);this.Bc=Dh(a.projection);this.je=r(a.attributions)?a.attributions:null;this.Qi=a.logo;this.H=r(a.state)?a.state:"ready"}G(Ih,Df);Ih.prototype.q=function(){return this.H};function V(a){Hf.call(this);a=fb(a);a.brightness=r(a.brightness)?a.brightness:0;a.contrast=r(a.contrast)?a.contrast:1;a.hue=r(a.hue)?a.hue:0;a.opacity=r(a.opacity)?a.opacity:1;a.saturation=r(a.saturation)?a.saturation:1;a.visible=r(a.visible)?a.visible:!0;a.maxResolution=r(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=r(a.minResolution)?a.minResolution:0;this.Fc(a)}G(V,Hf);V.prototype.fg=function(){return this.get("brightness")};V.prototype.getBrightness=V.prototype.fg;
V.prototype.gg=function(){return this.get("contrast")};V.prototype.getContrast=V.prototype.gg;V.prototype.hg=function(){return this.get("hue")};V.prototype.getHue=V.prototype.hg;
function Jh(a){var b=a.fg(),c=a.gg(),d=a.hg(),e=a.kg(),f=a.lg(),g=a.mg(),h=a.He(),m=a.I(),n=a.ig(),p=a.jg();return{layer:a,brightness:r(b)?xb(b,-1,1):0,contrast:r(c)?Math.max(c,0):1,hue:r(d)?d:0,opacity:r(e)?xb(e,0,1):1,saturation:r(f)?Math.max(f,0):1,lf:g,visible:r(h)?!!h:!0,extent:m,maxResolution:r(n)?n:Infinity,minResolution:r(p)?Math.max(p,0):0}}V.prototype.I=function(){return this.get("extent")};V.prototype.getExtent=V.prototype.I;V.prototype.ig=function(){return this.get("maxResolution")};
V.prototype.getMaxResolution=V.prototype.ig;V.prototype.jg=function(){return this.get("minResolution")};V.prototype.getMinResolution=V.prototype.jg;V.prototype.kg=function(){return this.get("opacity")};V.prototype.getOpacity=V.prototype.kg;V.prototype.lg=function(){return this.get("saturation")};V.prototype.getSaturation=V.prototype.lg;V.prototype.He=function(){return this.get("visible")};V.prototype.getVisible=V.prototype.He;V.prototype.Fj=function(a){this.set("brightness",a)};
V.prototype.setBrightness=V.prototype.Fj;V.prototype.Gj=function(a){this.set("contrast",a)};V.prototype.setContrast=V.prototype.Gj;V.prototype.Hj=function(a){this.set("hue",a)};V.prototype.setHue=V.prototype.Hj;V.prototype.mh=function(a){this.set("extent",a)};V.prototype.setExtent=V.prototype.mh;V.prototype.Jj=function(a){this.set("maxResolution",a)};V.prototype.setMaxResolution=V.prototype.Jj;V.prototype.Kj=function(a){this.set("minResolution",a)};V.prototype.setMinResolution=V.prototype.Kj;
V.prototype.Lj=function(a){this.set("opacity",a)};V.prototype.setOpacity=V.prototype.Lj;V.prototype.Nj=function(a){this.set("saturation",a)};V.prototype.setSaturation=V.prototype.Nj;V.prototype.Rj=function(a){this.set("visible",a)};V.prototype.setVisible=V.prototype.Rj;function Kh(a){var b=fb(a);delete b.source;V.call(this,b);this.L=a.source;S(this.L,"change",this.xi,!1,this)}G(Kh,V);Kh.prototype.Fe=function(a){a=r(a)?a:[];a.push(Jh(this));return a};Kh.prototype.mg=function(){return this.L.q()};Kh.prototype.xi=function(){this.M()};function Lh(a,b){U.call(this);this.i=a;this.state=b}G(Lh,U);Lh.prototype.M=function(){this.dispatchEvent("change")};Lh.prototype.getKey=function(){return A(this).toString()};Lh.prototype.q=function(){return this.state};function Mh(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Nh(a){this.minZoom=r(a.minZoom)?a.minZoom:0;this.Yb=a.resolutions;this.maxZoom=this.Yb.length-1;this.Kd=r(a.origin)?a.origin:null;this.Vg=null;r(a.origins)&&(this.Vg=a.origins);this.of=null;r(a.tileSizes)&&(this.of=a.tileSizes);this.yh=r(a.tileSize)?a.tileSize:null===this.of?256:void 0}var Oh=[0,0,0];Nh.prototype.fd=function(a,b,c,d,e){e=Ph(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,Qh(this,e,a,d)))return!0;--a}return!1};
Nh.prototype.Hb=function(a){return null===this.Kd?this.Vg[a]:this.Kd};Nh.prototype.j=function(a){return this.Yb[a]};Nh.prototype.nd=function(a,b,c){return a[0]<this.maxZoom?(c=Ph(this,a,c),Qh(this,c,a[0]+1,b)):null};function Rh(a,b,c,d){Sh(a,b[0],b[1],c,!1,Oh);var e=Oh[1],f=Oh[2];Sh(a,b[2],b[3],c,!0,Oh);return fh(e,Oh[1],f,Oh[2],d)}function Qh(a,b,c,d){c=a.j(c);return Rh(a,b,c,d)}function Th(a,b){var c=a.Hb(b[0]),d=a.j(b[0]),e=Uh(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function Ph(a,b,c){var d=a.Hb(b[0]),e=a.j(b[0]);a=Uh(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return jh(f,b,f+a*e,b+a*e,c)}function Sh(a,b,c,d,e,f){var g=Mh(a.Yb,d,0),h=d/a.j(g),m=a.Hb(g);a=Uh(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return bh(g,b,c,f)}function Vh(a,b,c){c=a.j(c);return Sh(a,b[0],b[1],c,!1,void 0)}function Uh(a,b){return r(a.yh)?a.yh:a.of[b]}
function Wh(a,b,c){b=r(b)?b:42;c=r(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function Xh(a){a=Dh(a);var b=a.I();null===b&&(a=180*th.degrees/th[a.Gh],b=jh(-a,-a,a,a));return b};function Yh(a){Ih.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.nj=r(a.opaque)?a.opaque:!1;this.Zj=r(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=r(a.tileGrid)?a.tileGrid:null}G(Yh,Ih);Yh.prototype.fb=cd;Yh.prototype.De=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.h;h<=d.s;++h)for(m=d.l;m<=d.k;++m)g=this.oc(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};Yh.prototype.oc=ch;
function Zh(a,b){var c;if(null===a.tileGrid){if(c=b.Nf,null===c){c=Xh(b);var d=r(void 0)?void 0:256,e=r(void 0)?void 0:"bottom-left",f=Wh(c,void 0,d);c=new Nh({origin:mh(c,e),resolutions:f,tileSize:d});b.Nf=c}}else c=a.tileGrid;return c}function $h(a,b,c){return Uh(Zh(a,c),b)*a.Zj}Yh.prototype.qf=ca;function ai(a,b){gc.call(this);this.Hd=a;this.uc=b}G(ai,gc);ai.prototype.ya=function(){return this.Hd.ya()};function bi(a,b){b.fb()&&a.postRenderFunctions.push(qa(function(a,b,e){b=A(a).toString();a.kc(e.usedTiles[b])},b))}function ci(a,b){var c=b.Qi;r(c)&&(x(c)?a.logos[c]="":ka(c)&&(a.logos[c.src]=c.href))}function di(a,b,c,d){b=A(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function ei(a,b,c,d){return function(e,f,g){e=b.nb(e,f,g,c,d);return a(e)?e:null}}function fi(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function gi(a,b,c,d,e,f,g,h,m,n){var p=A(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var q=a.wantedTiles[p];a=a.tileQueue;var u=c.minZoom,v,s,z,y,B,t;r(h)||(h=0);for(t=g;t>=u;--t)for(s=Qh(c,f,t,s),z=c.j(t),y=s.h;y<=s.s;++y)for(B=s.l;B<=s.k;++B)g-t<=h?(v=b.nb(t,y,B,d,e),0==v.q()&&(q[dh(v.i)]=!0,v.getKey()in a.Vb||hi(a,[v,p,Th(c,v.i),z])),r(m)&&m.call(n,v)):b.qf(t,y,B)};function ii(){this.eb={};this.Tc=0;this.Vi=32}da(ii);ii.prototype.clear=function(){this.eb={};this.Tc=0};ii.prototype.get=function(a,b){var c=b+":"+a;return c in this.eb?this.eb[c]:null};ii.prototype.set=function(a,b,c){this.eb[b+":"+a]=c;++this.Tc};function ji(a,b,c,d,e,f,g,h){yf(a);0===b&&0===c||Af(a,b,c);1==d&&1==e||Bf(a,d,e);0!==f&&Cf(a,f);0===g&&0===h||Af(a,g,h);return a}function ki(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function li(a,b){gc.call(this);this.a=b;this.ka={}}G(li,gc);
function mi(a){var b=a.viewState,c=a.coordinateToPixelMatrix;ji(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],u=c[10],v=c[11],s=c[12],z=c[13],y=c[14],c=c[15],B=b*h-d*g,t=b*m-e*g,w=b*n-f*g,D=d*m-e*h,E=d*n-f*h,I=e*n-f*m,W=p*z-q*s,J=p*y-u*s,Y=p*c-v*s,O=q*y-u*z,F=q*c-v*z,N=u*c-v*y,L=B*N-t*F+w*O+D*Y-E*J+I*W;0!=L&&(L=1/L,a[0]=(h*N-m*F+n*O)*L,a[1]=(-d*N+
e*F-f*O)*L,a[2]=(z*I-y*E+c*D)*L,a[3]=(-q*I+u*E-v*D)*L,a[4]=(-g*N+m*Y-n*J)*L,a[5]=(b*N-e*Y+f*J)*L,a[6]=(-s*I+y*w-c*t)*L,a[7]=(p*I-u*w+v*t)*L,a[8]=(g*F-h*Y+n*W)*L,a[9]=(-b*F+d*Y-f*W)*L,a[10]=(s*E-z*w+c*B)*L,a[11]=(-p*E+q*w-v*B)*L,a[12]=(-g*O+h*J-m*W)*L,a[13]=(b*O-d*J+e*W)*L,a[14]=(-s*D+z*t-y*B)*L,a[15]=(p*D-q*t+u*B)*L)}k=li.prototype;k.$c=function(a){return new ai(this,a)};k.f=function(){Ya(this.ka,kc);li.F.f.call(this)};
function ni(){var a=ii.lb();if(a.Tc>a.Vi){var b=0,c,d;for(c in a.eb){d=a.eb[c];var e;if(e=0===(b++&3))tc(d)?d=d.Wa(void 0,void 0):(d=Gc(d),d=!!d&&d.Wa(void 0,void 0)),e=!d;e&&(delete a.eb[c],--a.Tc)}}}function oi(a,b){var c=A(b).toString();if(c in a.ka)return a.ka[c];var d=a.$c(b);return a.ka[c]=d}k.ya=function(){return this.a};k.Rd=ca;k.Bj=function(a,b){for(var c in this.ka)if(!(null!==b&&c in b.layerStates)){var d=this.ka[c];delete this.ka[c];kc(d)}};
function pi(a,b){for(var c in a.ka)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.Bj,a));break}};function qi(a,b){this.Yg=a;this.Se=b;this.va=[];this.Ub=[];this.Vb={}}qi.prototype.clear=function(){this.va.length=0;this.Ub.length=0;db(this.Vb)};function ri(a){var b=a.va,c=a.Ub,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),si(a,0));b=a.Se(d);delete a.Vb[b];return d}function hi(a,b){var c=a.Yg(b);Infinity!=c&&(a.va.push(b),a.Ub.push(c),a.Vb[a.Se(b)]=!0,ti(a,0,a.va.length-1))}qi.prototype.Ka=function(){return this.va.length};qi.prototype.Ma=function(){return 0===this.va.length};
function si(a,b){for(var c=a.va,d=a.Ub,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;ti(a,h,b)}function ti(a,b,c){var d=a.va;a=a.Ub;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function ui(a){var b=a.Yg,c=a.va,d=a.Ub,e=0,f=c.length,g,h,m;for(h=0;h<f;++h)g=c[h],m=b(g),Infinity==m?delete a.Vb[a.Se(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.va.length>>1)-1;0<=b;b--)si(a,b)};function vi(a,b){qi.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Xj=b;this.Oc=0}G(vi,qi);vi.prototype.zi=function(){--this.Oc;this.Xj()};function wi(a){return function(b){if(r(b))return[xb(b[0],a[0],a[2]),xb(b[1],a[1],a[3])]}}function xi(a){return a};function yi(a){return function(b,c,d){if(r(b))return b=Mh(a,b,d),b=xb(b+c,0,a.length-1),a[b]}}function zi(a,b,c){return function(d,e,f){if(r(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),r(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Ai(a){if(r(a))return 0}function Bi(a,b){if(r(a))return a+b}function Ci(a){var b=2*Math.PI/a;return function(a,d){if(r(a))return a=Math.floor((a+d)/b+.5)*b}}function Di(){var a=5*Math.PI/180;return function(b,c){if(r(b))return Math.abs(b+c)<=a?0:b+c}};function Ei(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function X(a){Hf.call(this);a=r(a)?a:{};this.Me=[0,0];var b={};b.center=r(a.center)?a.center:null;this.Bc=Ch(a.projection);var c,d,e,f=r(a.minZoom)?a.minZoom:0;c=r(a.maxZoom)?a.maxZoom:28;var g=r(a.zoomFactor)?a.zoomFactor:2;if(r(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=yi(c);else{d=Ch(a.projection);e=d.I();var h=(null===e?360*th.degrees/th[d.Gh]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.maxResolution;r(d)?f=0:d=h/Math.pow(g,f);e=a.minResolution;r(e)||
(e=r(a.maxZoom)?r(a.maxResolution)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=zi(g,d,c-f)}this.Xe=d;this.Xi=e;this.Ye=f;f=r(a.extent)?wi(a.extent):xi;(r(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=r(d)&&!0!==d?!1===d?Bi:ia(d)?Ci(d):Bi:Di()):d=Ai;this.ec=new Ei(f,c,d);r(a.resolution)?b.resolution=a.resolution:r(a.zoom)&&(b.resolution=this.constrainResolution(this.Xe,a.zoom-this.Ye));b.rotation=r(a.rotation)?a.rotation:0;this.Fc(b)}
G(X,Hf);X.prototype.constrainResolution=function(a,b,c){return this.ec.resolution(a,b||0,c||0)};X.prototype.constrainRotation=function(a,b){return this.ec.rotation(a,b||0)};X.prototype.ia=function(){return this.get("center")};X.prototype.getCenter=X.prototype.ia;X.prototype.j=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.j;X.prototype.mb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.mb;
X.prototype.q=function(){var a=this.ia(),b=this.Bc,c=this.j(),d=this.mb();return{center:a.slice(),projection:r(b)?b:null,resolution:c,rotation:r(d)?d:0}};function Fi(a){var b,c=a.j();if(r(c)){var d,e=0;do{d=a.constrainResolution(a.Xe,e);if(d==c){b=e;break}++e}while(d>a.Xi)}return r(b)?a.Ye+b:b}X.prototype.Qe=function(){return null!=this.ia()&&r(this.j())};X.prototype.rotate=function(a,b){if(r(b)){var c,d=this.ia();r(d)&&(c=[d[0]-b[0],d[1]-b[1]],Tf(c,a-this.mb()),Sf(c,b));this.Ba(c)}this.hf(a)};
X.prototype.Ba=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.Ba;function Gi(a,b){a.Me[1]+=b}X.prototype.Gc=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.Gc;X.prototype.hf=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.hf;function Hi(a){Hf.call(this);this.element=r(a.element)?a.element:null;this.sh=r(a.target)?Eb(a.target):null;this.a=null;this.Fd=[]}G(Hi,Hf);Hi.prototype.f=function(){Rb(this.element);Hi.F.f.call(this)};Hi.prototype.ya=function(){return this.a};Hi.prototype.sd=ca;
Hi.prototype.setMap=function(a){null===this.a||Rb(this.element);0!=this.Fd.length&&(K(this.Fd,T),this.Fd.length=0);this.a=a;null!==this.a&&((null===this.sh?a.Ze:this.sh).appendChild(this.element),this.sd!==ca&&this.Fd.push(S(a,"postrender",this.sd,!1,this)),Z(a))};function Ii(a){a=r(a)?a:{};this.ae=Ob("UL");this.Gd=Ob("LI");this.ae.appendChild(this.Gd);jf(this.Gd,!1);this.Db=r(a.collapsed)?a.collapsed:!0;this.Xc=r(a.collapsible)?a.collapsible:!0;this.Xc||(this.Db=!1);var b=r(a.className)?a.className:"ol-attribution",c=Lb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Attributions");this.Ef=r(a.collapseLabel)?a.collapseLabel:"\u00bb";this.rb=r(a.label)?a.label:"i";this.Cg=Lb("SPAN",{},this.Xc&&!this.Db?this.Ef:this.rb);var d=Lb("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.Cg);d.appendChild(c);c=new Gg(d);jc(this,c);S(c,sg,this.La,!1,this);S(d,"click",this.Jb,!1,this);S(d,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",{"class":b+" ol-unselectable ol-control"+(this.Db&&this.Xc?" ol-collapsed":"")+(this.Xc?"":" ol-uncollapsible")},this.ae,d);Hi.call(this,{element:b,target:a.target});this.n=!0;this.cb={};this.Ra={};this.Pi={}}G(Ii,Hi);
Ii.prototype.sd=function(a){a=a.frameState;if(null===a)this.n&&(jf(this.element,!1),this.n=!1);else{var b,c,d,e,f,g,h,m,n,p=a.layerStatesArray,q=fb(a.attributions),u={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.L,n=A(d).toString(),m=d.je,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],h=A(g).toString(),!(h in q)){f=a.usedTiles[n];var v;if(v=r(f))a:if(null===g.Yd)v=!0;else{var s=v=void 0,z=void 0,y=void 0;for(y in f)if(y in g.Yd)for(z=f[y],v=0,s=g.Yd[y].length;v<s;++v){var B=g.Yd[y][v];if(B.h<=z.s&&
B.s>=z.h&&B.l<=z.k&&B.k>=z.l){v=!0;break a}}v=!1}v?(h in u&&delete u[h],q[h]=g):u[h]=g}b=[q,u];c=b[0];b=b[1];for(var t in this.cb)t in c?(this.Ra[t]||(jf(this.cb[t],!0),this.Ra[t]=!0),delete c[t]):t in b?(this.Ra[t]&&(jf(this.cb[t],!1),delete this.Ra[t]),delete b[t]):(Rb(this.cb[t]),delete this.cb[t],delete this.Ra[t]);for(t in c)n=Ob("LI"),n.innerHTML=c[t].pg,this.ae.appendChild(n),this.cb[t]=n,this.Ra[t]=!0;for(t in b)n=Ob("LI"),n.innerHTML=b[t].pg,jf(n,!1),this.ae.appendChild(n),this.cb[t]=n;t=
!cb(this.Ra)||!cb(a.logos);this.n!=t&&(jf(this.element,t),this.n=t);t&&cb(this.Ra)?ac(this.element,"ol-logo-only"):bc(this.element,"ol-logo-only");var w;a=a.logos;t=this.Pi;for(w in t)w in a||(Rb(t[w]),delete t[w]);for(var D in a)D in t||(w=new Image,w.src=D,c=a[D],""===c?c=w:(c=Lb("A",{href:c}),c.appendChild(w)),this.Gd.appendChild(c),t[D]=c);jf(this.Gd,!cb(a))}};Ii.prototype.Jb=function(a){0!==a.screenX&&0!==a.screenY||Ji(this)};Ii.prototype.La=function(a){a.G.preventDefault();Ji(this)};
function Ji(a){var b=a.element,c=!$b(b,"ol-collapsed");cc(b,"ol-collapsed",c);Tb(a.Cg,a.Db?a.Ef:a.rb);a.Db=!a.Db};function Ki(a){return 1-Math.pow(1-a,3)};function Li(a){return 3*a*a-2*a*a*a}function Mi(a){return a};function Ni(a){var b=a.source,c=r(a.start)?a.start:ra(),d=b[0],e=b[1],f=r(a.duration)?a.duration:1E3,g=r(a.easing)?a.easing:Li;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],q=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*q;b.viewHints[0]+=1;return!0}return!1}}
function Oi(a){var b=r(a.rotation)?a.rotation:0,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Li,f=r(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.viewState.rotation)*m;h.animate=!0;h.viewState.rotation+=m;if(null!==f){var n=h.viewState.center;n[0]-=f[0];n[1]-=f[1];Tf(n,m);Sf(n,f)}h.viewHints[0]+=1;return!0}return!1}}
function Pi(a){var b=a.resolution,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Li;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*m;g.viewHints[0]+=1;return!0}return!1}};function Qi(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-rotate";this.rb=Lb("SPAN",{"class":"ol-compass"},r(a.label)?a.label:"\u21e7");var c=Lb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Reset rotation"),c=Lb("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.rb),d=new Gg(c);jc(this,d);S(d,sg,Qi.prototype.La,!1,this);S(c,"click",Qi.prototype.Jb,!1,this);S(c,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",b+" ol-unselectable ol-control",c);Hi.call(this,
{element:b,target:a.target});this.W=r(a.duration)?a.duration:250;this.wf=r(a.autoHide)?a.autoHide:!0;this.ih=void 0;this.wf&&ac(this.element,"ol-hidden")}G(Qi,Hi);Qi.prototype.Jb=function(a){0!==a.screenX&&0!==a.screenY||Ri(this)};Qi.prototype.La=function(a){a.G.preventDefault();Ri(this)};function Ri(a){var b=a.ya(),c=b.p();if(null!==c){for(var d=c.mb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;r(d)&&(0<a.W&&b.Ga(Oi({rotation:d,duration:a.W,easing:Ki})),c.hf(0))}}
Qi.prototype.sd=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.ih){var b="rotate("+180*a/Math.PI+"deg)";this.wf&&cc(this.element,"ol-hidden",0===a);this.rb.style.msTransform=b;this.rb.style.webkitTransform=b;this.rb.style.transform=b}this.ih=a}};function Si(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-zoom",c=r(a.delta)?a.delta:1,d=r(a.zoomInLabel)?a.zoomInLabel:"+",e=r(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=r(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=Lb("SPAN",{role:"tooltip"},r(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=Lb("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Gg(d);jc(this,g);S(g,sg,qa(Si.prototype.La,c),!1,this);S(d,"click",qa(Si.prototype.Jb,c),!1,this);S(d,["mouseout",nc],function(){this.blur()},
!1);f=Lb("SPAN",{role:"tooltip"},f);e=Lb("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Gg(e);jc(this,f);S(f,sg,qa(Si.prototype.La,-c),!1,this);S(e,"click",qa(Si.prototype.Jb,-c),!1,this);S(e,["mouseout",nc],function(){this.blur()},!1);b=Lb("DIV",b+" ol-unselectable ol-control",d,e);Hi.call(this,{element:b,target:a.target});this.W=r(a.duration)?a.duration:250}G(Si,Hi);Si.prototype.Jb=function(a,b){0!==b.screenX&&0!==b.screenY||Ti(this,a)};
Si.prototype.La=function(a,b){b.G.preventDefault();Ti(this,a)};function Ti(a,b){var c=a.ya(),d=c.p();if(null!==d){var e=d.j();r(e)&&(0<a.W&&c.Ga(Pi({resolution:e,duration:a.W,easing:Ki})),c=d.constrainResolution(e,b),d.Gc(c))}};function Ui(a,b,c){this.we=a;this.Jd=b;this.Sh=c;this.ea=[];this.Ob=this.he=0}Ui.prototype.update=function(a,b){this.ea.push(a,b,ra())};Ui.prototype.end=function(){if(6>this.ea.length)return!1;var a=ra()-this.Sh,b=this.ea.length-3;if(this.ea[b+2]<a)return!1;for(var c=b-3;0<c&&this.ea[c+2]>a;)c-=3;var a=this.ea[b+2]-this.ea[c+2],d=this.ea[b]-this.ea[c],b=this.ea[b+1]-this.ea[c+1];this.he=Math.atan2(b,d);this.Ob=Math.sqrt(d*d+b*b)/a;return this.Ob>this.Jd};
function Vi(a,b){var c=a.we,d=a.Ob,e=a.Jd-d,f=Wi(a);return Ni({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Wi(a){return Math.log(a.Jd/a.Ob)/a.we};function Xi(){Df.call(this);this.a=null;this.fa=!0}G(Xi,Df);Xi.prototype.ya=function(){return this.a};Xi.prototype.setActive=function(a){this.fa=a};Xi.prototype.setMap=function(a){this.a=a};function Yi(a,b,c,d,e){if(null!=c){var f=b.mb(),g=b.ia();r(f)&&r(g)&&r(e)&&0<e&&(a.Ga(Oi({rotation:f,duration:e,easing:Ki})),r(d)&&a.Ga(Ni({source:g,duration:e,easing:Ki})));b.rotate(c,d)}}function Zi(a,b,c,d,e){var f=b.j();c=b.constrainResolution(f,c,0);$i(a,b,c,d,e)}
function $i(a,b,c,d,e){if(null!=c){var f=b.j(),g=b.ia();r(f)&&r(g)&&r(e)&&0<e&&(a.Ga(Pi({resolution:f,duration:e,easing:Ki})),r(d)&&a.Ga(Ni({source:g,duration:e,easing:Ki})));if(null!=d){var h;a=b.ia();e=b.j();r(a)&&r(e)&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Ba(h)}b.Gc(c)}};function aj(a){a=r(a)?a:{};this.ua=r(a.delta)?a.delta:1;Xi.call(this);this.W=r(a.duration)?a.duration:250}G(aj,Xi);aj.prototype.Va=function(a){var b=!1,c=a.G;if(a.type==Tg){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.ua:this.ua,e=b.p();Zi(b,e,c,d,this.W);a.preventDefault();b=!0}return!b};function bj(a){a=a.G;return a.altKey&&!a.Md&&a.shiftKey}function cj(a){a=a.G;return!a.altKey&&!a.Md&&!a.shiftKey}function dj(a){a=a.G;return!a.altKey&&!a.Md&&a.shiftKey}function ej(a){a=a.G.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function fj(){Xi.call(this);this.Nb=!1;this.Qc={};this.P=[]}G(fj,Xi);function gj(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}k=fj.prototype;k.Lb=ca;k.Mb=cd;k.Kb=cd;
k.Va=function(a){if(!(a instanceof Pg))return!0;var b=!1,c=a.type;if(c===Yg||c===$g||c===Wg)c=a.vb,a.type==Wg?delete this.Qc[c.pointerId]:a.type==Yg?this.Qc[c.pointerId]=c:c.pointerId in this.Qc&&(this.Qc[c.pointerId]=c),this.P=ab(this.Qc);this.Nb&&(a.type==$g?this.Lb(a):a.type==Wg&&(this.Nb=this.Mb(a)));a.type==Yg&&(this.Nb=a=this.Kb(a),b=this.qh(a));return!b};k.qh=cd;function hj(a){fj.call(this);this.Na=(r(a)?a:{}).kinetic;this.Pb=this.sc=null;this.Ha=r(a.condition)?a.condition:cj;this.Og=!1}G(hj,fj);hj.prototype.Lb=function(a){var b=gj(this.P);this.Na&&this.Na.update(b[0],b[1]);if(null!==this.Pb){var c=this.Pb[0]-b[0],d=b[1]-this.Pb[1];a=a.map;var e=a.p(),f=e.q(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;Tf(c,f.rotation);Sf(c,f.center);c=e.ec.center(c);Z(a);e.Ba(c)}this.Pb=b};
hj.prototype.Mb=function(a){a=a.map;var b=a.p();if(0===this.P.length){if(!this.Og&&this.Na&&this.Na.end()){var c;c=this.Na;c=(c.Jd-c.Ob)/c.we;var d=this.Na.he,e=b.ia();this.sc=Vi(this.Na,e);a.Ga(this.sc);var f;f=a.kb;null===f?f=null:(e=e.slice(0,2),f=ki(f.coordinateToPixelMatrix,e,e));c=a.nc([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.ec.center(c);b.Ba(c)}Gi(b,-1);Z(a);return!1}this.Pb=null;return!0};
hj.prototype.Kb=function(a){if(0<this.P.length&&this.Ha(a)){var b=a.map,c=b.p();this.Pb=null;this.Nb||Gi(c,1);Z(b);null!==this.sc&&Ma(b.Pd,this.sc)&&(c.Ba(a.frameState.viewState.center),this.sc=null);this.Na&&(a=this.Na,a.ea.length=0,a.he=0,a.Ob=0);this.Og=1<this.P.length;return!0}return!1};function ij(a){a=r(a)?a:{};fj.call(this);this.Ha=r(a.condition)?a.condition:bj;this.Oa=void 0}G(ij,fj);ij.prototype.Lb=function(a){if(1==a.vb.pointerId){var b=a.map,c=b.ba();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(r(this.Oa)){a=c-this.Oa;var d=b.p(),e=d.q();Z(b);Yi(b,d,e.rotation-a)}this.Oa=c}};ij.prototype.Mb=function(a){if(1!=a.vb.pointerId)return!0;a=a.map;var b=a.p();Gi(b,-1);var c=b.q().rotation,c=b.constrainRotation(c,0);Yi(a,b,c,void 0,250);return!1};
ij.prototype.Kb=function(a){return 1==a.vb.pointerId&&rc(a.G)&&this.Ha(a)?(a=a.map,Gi(a.p(),1),Z(a),this.Oa=void 0,!0):!1};function jj(){Df.call(this);this.extent=void 0;this.$f=-1}G(jj,Df);jj.prototype.fc=cd;jj.prototype.transform=function(a,b){var c=Eh(a,b);null!==this.A&&(c(this.A,this.A,this.C),this.M());return this};function kj(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=r(f)?f:[],u=0;b<c;b+=d){var v=a[b],s=a[b+1];q[u++]=g*v+m*s+p;q[u++]=h*v+n*s+e}r(f)&&q.length!=u&&(q.length=u);return q};function lj(){jj.call(this);this.vc="XY";this.C=2;this.A=null}G(lj,jj);function mj(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}lj.prototype.fc=cd;
lj.prototype.I=function(a){if(this.$f!=this.oa){for(var b=this.A,c=this.A.length,d=this.C,e=jh(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.extent=e;this.$f=this.oa}b=this.extent;r(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function nj(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function oj(a,b,c,d,e){if(0===b.length||!nj(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(nj(a,b[f-1],b[f],c,d,e))return!1;return!0};function pj(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function qj(a,b){lj.call(this);this.ha=[];this.bg=-1;this.cg=null;this.Ug=-1;this.yc=null;if(null===a){var c=this.ha;this.C=mj("XY");this.vc="XY";this.A=null;this.ha=c}else{a:{var c=b,d=a;if(r(c))d=mj(c);else{for(c=0;2>c;++c){if(0===d.length){this.vc="XY";this.C=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.vc=c;this.C=d}null===this.A&&(this.A=[]);var c=this.A,d=this.C,e=this.ha,f=0,e=r(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],q=d,u=void 0,
v=void 0,u=0,v=p.length;u<v;++u){var s=p[u],z;for(z=0;z<q;++z)n[f++]=s[z]}n=f;f=e[g++]=n}e.length=g;this.A.length=0===e.length?0:e[e.length-1]}this.M()}G(qj,lj);qj.prototype.clone=function(){var a=new qj(null),b=this.vc,c=this.A.slice(),d=this.ha.slice();a.C=mj(b);a.vc=b;a.A=c;a.ha=d;a.M();return a};qj.prototype.fc=function(a,b){return oj(rj(this),this.ha,this.C,a,b)};
function rj(a){if(a.Ug!=a.oa){var b=a.A,c;a:{c=a.ha;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=pj(b,d,g,a.C);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.yc=b;else{a.yc=b.slice();c=b=a.yc;e=a.ha;f=a.C;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=pj(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var u;for(u=0;u<q;++u){var v=n[h+u];n[h+u]=n[p-q+u];n[p-q+u]=v}h+=q;p-=q}h=m}b.length=h}a.Ug=a.oa}return a.yc}qj.prototype.ob=function(){return"Polygon"};function sj(a,b,c,d,e,f,g){R.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}G(sj,R);function tj(a){this.jd=this.dd=this.pa=this.Od=this.a=null;this.Tj=a}G(tj,gc);function uj(a){var b=a.pa,c=a.dd;a=Ia([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.nc,a.a);a[4]=a[0].slice();return new qj([a])}tj.prototype.f=function(){this.setMap(null)};tj.prototype.pi=function(a){var b=this.jd,c=this.Tj;a.vectorContext.Pf(Infinity,function(a){a.nh(c.ag,c.rh);a.ph(c.Q);a.Ae(b,null)})};tj.prototype.Ee=function(){return this.jd};function vj(a){null===a.a||null===a.pa||null===a.dd||Z(a.a)}
tj.prototype.setMap=function(a){null!==this.Od&&(T(this.Od),this.Od=null,Z(this.a),this.a=null);this.a=a;null!==this.a&&(this.Od=S(a,"postcompose",this.pi,!1,this),vj(this))};function wj(a,b){R.call(this,a);this.coordinate=b}G(wj,R);function xj(a){fj.call(this);a=r(a)?a:{};this.ac=new tj(r(a.style)?a.style:null);this.pa=null;this.Ha=r(a.condition)?a.condition:dd}G(xj,fj);k=xj.prototype;k.Lb=function(a){if(1==a.vb.pointerId){var b=this.ac;a=a.pixel;b.pa=this.pa;b.dd=a;b.jd=uj(b);vj(b)}};k.Ee=function(){return this.ac.Ee()};k.Pg=ca;
k.Mb=function(a){if(1!=a.vb.pointerId)return!0;this.ac.setMap(null);var b=a.pixel[0]-this.pa[0],c=a.pixel[1]-this.pa[1];64<=b*b+c*c&&(this.Pg(a),this.dispatchEvent(new wj("boxend",a.coordinate)));return!1};k.Kb=function(a){if(1==a.vb.pointerId&&rc(a.G)&&this.Ha(a)){this.pa=a.pixel;this.ac.setMap(a.map);var b=this.ac,c=this.pa;b.pa=this.pa;b.dd=c;b.jd=uj(b);vj(b);this.dispatchEvent(new wj("boxstart",a.coordinate));return!0}return!1};k.qh=ed;function yj(a){a=r(a)?a:{};this.Zc=r(a.color)?a.color:null;this.Eg=a.lineCap;this.Fg=r(a.lineDash)?a.lineDash:null;this.Gg=a.lineJoin;this.Ng=a.miterLimit;this.lk=a.width}yj.prototype.getLineDash=function(){return this.Fg};yj.prototype.Ua=function(){return this.lk};yj.prototype.setLineDash=function(a){this.Fg=a};function zj(a){if(!x(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var Aj=[0,0,0,1],Bj=[],Cj=[0,0,0,1];function Dj(a){a=r(a)?a:{};this.ag=r(a.fill)?a.fill:null;this.O=r(a.image)?a.image:null;this.rh=r(a.stroke)?a.stroke:null;this.Q=r(a.text)?a.text:null}Dj.prototype.ja=function(){return this.O};function Ej(a){a=r(a)?a:{};xj.call(this,{condition:r(a.condition)?a.condition:dj,style:r(a.style)?a.style:new Dj({stroke:new yj({color:[0,0,255,1]})})})}G(Ej,xj);Ej.prototype.Pg=function(){var a=this.ya(),b=a.p(),c=this.Ee().I(),d=lh(c),e=a.ba(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);$i(a,b,c,d,200)};function Fj(a){Xi.call(this);a=r(a)?a:{};this.Ha=r(a.condition)?a.condition:gd(cj,ej);this.rj=r(a.pixelDelta)?a.pixelDelta:128}G(Fj,Xi);
Fj.prototype.Va=function(a){var b=!1;if("key"==a.type){var c=a.G.keyCode;if(this.Ha(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.p(),e=b.q(),f=e.resolution*this.rj,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];Tf(c,e.rotation);e=b.ia();r(e)&&(r(100)&&d.Ga(Ni({source:e,duration:100,easing:Mi})),d=b.ec.center([e[0]+c[0],e[1]+c[1]]),b.Ba(d));a.preventDefault();b=!0}}return!b};function Gj(a){Xi.call(this);a=r(a)?a:{};this.Ha=r(a.condition)?a.condition:ej;this.ua=r(a.delta)?a.delta:1;this.W=r(a.duration)?a.duration:100}G(Gj,Xi);Gj.prototype.Va=function(a){var b=!1;if("key"==a.type){var c=a.G.charCode;if(this.Ha(a)&&(43==c||45==c)){b=a.map;c=43==c?this.ua:-this.ua;Z(b);var d=b.p();Zi(b,d,c,void 0,this.W);a.preventDefault();b=!0}}return!b};function Hj(a){a=r(a)?a:{};Xi.call(this);this.ua=0;this.W=r(a.duration)?a.duration:250;this.Te=null;this.bb=this.Wd=void 0}G(Hj,Xi);Hj.prototype.Va=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.G;this.Te=a.coordinate;this.ua+=c.deltaY;r(this.Wd)||(this.Wd=ra());c=Math.max(80-(ra()-this.Wd),0);l.clearTimeout(this.bb);this.bb=l.setTimeout(C(this.Vh,this,b),c);a.preventDefault();b=!0}return!b};
Hj.prototype.Vh=function(a){var b=xb(this.ua,-1,1),c=a.p();Z(a);Zi(a,c,-b,this.Te,this.W);this.ua=0;this.Te=null;this.bb=this.Wd=void 0};function Ij(a){fj.call(this);a=r(a)?a:{};this.Ea=null;this.Oa=void 0;this.Ec=!1;this.Ud=0;this.Vj=r(a.threshold)?a.threshold:.3}G(Ij,fj);Ij.prototype.Lb=function(a){var b=0,c=this.P[0],d=this.P[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);r(this.Oa)&&(b=c-this.Oa,this.Ud+=b,!this.Ec&&Math.abs(this.Ud)>this.Vj&&(this.Ec=!0));this.Oa=c;a=a.map;c=ff(a.w);d=gj(this.P);d[0]-=c.x;d[1]-=c.y;this.Ea=a.nc(d);this.Ec&&(c=a.p(),d=c.q(),Z(a),Yi(a,c,d.rotation+b,this.Ea))};
Ij.prototype.Mb=function(a){if(2>this.P.length){a=a.map;var b=a.p();Gi(b,-1);if(this.Ec){var c=b.q().rotation,d=this.Ea,c=b.constrainRotation(c,0);Yi(a,b,c,d,250)}return!1}return!0};Ij.prototype.Kb=function(a){return 2<=this.P.length?(a=a.map,this.Ea=null,this.Oa=void 0,this.Ec=!1,this.Ud=0,this.Nb||Gi(a.p(),1),Z(a),!0):!1};function Jj(a){a=r(a)?a:{};fj.call(this);this.Ea=null;this.W=r(a.duration)?a.duration:400;this.Cd=void 0;this.Ue=1}G(Jj,fj);Jj.prototype.Lb=function(a){var b=1,c=this.P[0],d=this.P[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);r(this.Cd)&&(b=this.Cd/e);this.Cd=e;1!=b&&(this.Ue=b);a=a.map;var e=a.p(),c=e.q(),d=ff(a.w),f=gj(this.P);f[0]-=d.x;f[1]-=d.y;this.Ea=a.nc(f);Z(a);$i(a,e,c.resolution*b,this.Ea)};
Jj.prototype.Mb=function(a){if(2>this.P.length){a=a.map;var b=a.p();Gi(b,-1);var c=b.q().resolution,d=this.Ea,e=this.W,c=b.constrainResolution(c,0,this.Ue-1);$i(a,b,c,d,e);return!1}return!0};Jj.prototype.Kb=function(a){return 2<=this.P.length?(a=a.map,this.Ea=null,this.Cd=void 0,this.Ue=1,this.Nb||Gi(a.p(),1),Z(a),!0):!1};function Kj(a){var b=r(a)?a:{};a=fb(b);delete a.layers;b=b.layers;V.call(this,a);this.Ya=null;S(this,Lf("layers"),this.mi,!1,this);null!=b?ga(b)&&(b=new Nf(Oa(b))):b=new Nf;this.oh(b)}G(Kj,V);k=Kj.prototype;k.og=function(){this.He()&&this.M()};
k.mi=function(){null!==this.Ya&&(K(ab(this.Ya),T),this.Ya=null);var a=this.pc();if(null!=a){this.Ya={add:S(a,"add",this.li,!1,this),remove:S(a,"remove",this.ni,!1,this)};var a=a.mc(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Ya[A(d).toString()]=S(d,["propertychange","change"],this.og,!1,this)}this.M()};k.li=function(a){a=a.element;this.Ya[A(a).toString()]=S(a,["propertychange","change"],this.og,!1,this);this.M()};k.ni=function(a){a=A(a.element).toString();T(this.Ya[a]);delete this.Ya[a];this.M()};
k.pc=function(){return this.get("layers")};Kj.prototype.getLayers=Kj.prototype.pc;Kj.prototype.oh=function(a){this.set("layers",a)};Kj.prototype.setLayers=Kj.prototype.oh;
Kj.prototype.Fe=function(a){var b=r(a)?a:[],c=b.length;this.pc().forEach(function(a){a.Fe(b)});a=Jh(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=xb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),r(a.extent)&&r(e.extent)&&(e.extent=ph(e.extent,a.extent));return b};
Kj.prototype.mg=function(){return"ready"};function Lj(a){uh.call(this,{code:a,units:"m",extent:Mj,global:!0,worldExtent:Nj})}G(Lj,uh);var Oj=6378137*Math.PI,Mj=[-Oj,-Oj,Oj,Oj],Nj=[-180,-85,180,85],Pj=Ia("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new Lj(a)});
function Qj(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Rj(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Sj(a,b){uh.call(this,{code:a,units:"degrees",extent:Tj,axisOrientation:b,global:!0,worldExtent:Tj})}G(Sj,uh);var Tj=[-180,-90,180,90],Uj=[new Sj("CRS:84"),new Sj("EPSG:4326","neu"),new Sj("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Sj("urn:ogc:def:crs:OGC:1.3:CRS84"),new Sj("urn:ogc:def:crs:OGC:2:84"),new Sj("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Sj("urn:x-ogc:def:crs:EPSG:4326","neu")];function Vj(a){Kh.call(this,a)}G(Vj,Kh);Vj.prototype.md=function(){return this.get("preload")};Vj.prototype.getPreload=Vj.prototype.md;Vj.prototype.Mj=function(a){this.set("preload",a)};Vj.prototype.setPreload=Vj.prototype.Mj;Vj.prototype.od=function(){return this.get("useInterimTilesOnError")};Vj.prototype.getUseInterimTilesOnError=Vj.prototype.od;Vj.prototype.Pj=function(a){this.set("useInterimTilesOnError",a)};Vj.prototype.setUseInterimTilesOnError=Vj.prototype.Pj;function Wj(a,b,c,d,e){this.Vc={};this.o=a;this.Rb=b;this.N=c;this.$=d;this.kk=e;this.O=this.D=this.U=this.Hf=this.Gf=this.Ff=null;this.Hi=this.Gi=this.Ne=this.vg=this.ug=this.tg=0;this.Ii=!1;this.vd=this.Ji=0;this.Ki=!1;this.xg=0;this.Q="";this.Kc=this.Xd=this.vh=this.uh=0;this.mf=this.Lc=this.Jc=null;this.Ld=[];this.zh=vf()}
function Xj(a,b,c){if(null!==a.O){b=kj(b,0,c,2,a.$,a.Ld);c=a.o;var d=a.zh,e=c.globalAlpha;1!=a.Ne&&(c.globalAlpha=e*a.Ne);var f=a.Ji;a.Ii&&(f+=a.kk);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.tg,n=b[g+1]-a.ug;a.Ki&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.vd){var p=m+a.tg,q=n+a.ug;ji(d,p,q,a.vd,a.vd,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.O,a.Gi,a.Hi,a.xg,a.vg,m,n,a.xg,a.vg)}0===f&&1==a.vd||c.setTransform(1,0,0,1,0,0);1!=a.Ne&&(c.globalAlpha=e)}}
function Yj(a,b,c,d){var e=0;if(null!==a.mf&&""!==a.Q){null===a.Jc||Zj(a,a.Jc);null===a.Lc||ak(a,a.Lc);var f=a.mf,g=a.o,h=a.Hf;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Hf={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=kj(b,e,c,d,a.$,a.Ld);for(f=a.o;e<c;e+=d){g=
b[e]+a.uh;h=b[e+1]+a.vh;if(0!==a.Xd||1!=a.Kc){var m=ji(a.zh,g,h,a.Kc,a.Kc,a.Xd,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Lc||f.strokeText(a.Q,g,h);null===a.Jc||f.fillText(a.Q,g,h)}0===a.Xd&&1==a.Kc||f.setTransform(1,0,0,1,0,0)}}function bk(a,b,c,d,e,f){var g=a.o;a=kj(b,c,d,e,a.$,a.Ld);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function ck(a,b,c,d,e){var f=a.o,g,h;g=0;for(h=d.length;g<h;++g)c=bk(a,b,c,d[g],e,!0),f.closePath();return c}k=Wj.prototype;k.Pf=function(a,b){var c=a.toString(),d=this.Vc[c];r(d)?d.push(b):this.Vc[c]=[b]};
k.Qf=function(a){if(qh(this.N,a.I())){if(null!==this.U||null!==this.D){null===this.U||Zj(this,this.U);null===this.D||ak(this,this.D);var b;b=a.A;b=null===b?null:kj(b,0,b.length,a.C,this.$,this.Ld);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.o;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.U||d.fill();null===this.D||d.stroke()}""!==this.Q&&Yj(this,a.ia(),2,2)}};k.Rf=function(a,b){var c=a.Ik(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];dk[f.ob()].call(this,f,b)}};
k.Wf=function(a){var b=a.A;a=a.C;null===this.O||Xj(this,b,b.length);""!==this.Q&&Yj(this,b,b.length,a)};k.Uf=function(a){var b=a.A;a=a.C;null===this.O||Xj(this,b,b.length);""!==this.Q&&Yj(this,b,b.length,a)};k.Sf=function(a){if(qh(this.N,a.I())){if(null!==this.D){ak(this,this.D);var b=this.o,c=a.A;b.beginPath();bk(this,c,0,c.length,a.C,!1);b.stroke()}""!==this.Q&&(a=a.Fk(),Yj(this,a,2,2))}};
k.Tf=function(a){var b=a.I();if(qh(this.N,b)){if(null!==this.D){ak(this,this.D);var b=this.o,c=a.A,d=0,e=a.ha,f=a.C;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=bk(this,c,d,e[g],f,!1);b.stroke()}""!==this.Q&&(a=a.Gk(),Yj(this,a,a.length,2))}};
k.Ae=function(a){if(qh(this.N,a.I())){if(null!==this.D||null!==this.U){null===this.U||Zj(this,this.U);null===this.D||ak(this,this.D);var b=this.o;b.beginPath();ck(this,rj(a),0,a.ha,a.C);null===this.U||b.fill();null===this.D||b.stroke()}if(""!==this.Q){if(a.bg!=a.oa){b=lh(a.I());var c=rj(a),d=a.ha,e=a.C,f,g,h,m,n,p=b[1],q=[],u=d[0];h=c[u-e];n=c[u-e+1];for(f=0;f<u;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}u=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var v=Math.abs(m-h);v>n&&(h=(h+m)/2,oj(c,d,e,h,p)&&(u=h,n=v));h=m}isNaN(u)&&(u=b[0]);r(void 0)?((void 0).push(u,p),b=void 0):b=[u,p];a.cg=b;a.bg=a.oa}Yj(this,a.cg,2,2)}}};
k.Vf=function(a){if(qh(this.N,a.I())){if(null!==this.D||null!==this.U){null===this.U||Zj(this,this.U);null===this.D||ak(this,this.D);var b=this.o,c=rj(a),d=0,e=a.Dk(),f=a.C,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=ck(this,c,d,m,f);null===this.U||b.fill();null===this.D||b.stroke()}}""!==this.Q&&(a=a.Ek(),Yj(this,a,a.length,2))}};k.flush=function(){var a=Ia(bb(this.Vc),Number);a.sort(Ta);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Vc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function Zj(a,b){var c=a.o,d=a.Ff;null===d?(c.fillStyle=b.fillStyle,a.Ff={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function ak(a,b){var c=a.o,d=a.Gf;null===d?(c.lineCap=b.lineCap,gg&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Gf={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),gg&&!Ra(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
k.nh=function(a,b){if(null===a)this.U=null;else{var c=a.Zc;this.U={fillStyle:zj(null===c?Aj:c)}}if(null===b)this.D=null;else{var c=b.Zc,d=b.Eg,e=b.getLineDash(),f=b.Gg,g=b.Ua(),h=b.Ng;this.D={lineCap:r(d)?d:"round",lineDash:null!=e?e:Bj,lineJoin:r(f)?f:"round",lineWidth:this.Rb*(r(g)?g:1),miterLimit:r(h)?h:10,strokeStyle:zj(null===c?Cj:c)}}};
k.ph=function(a){if(null===a)this.Q="";else{var b=a.ag;null===b?this.Jc=null:(b=b.Zc,this.Jc={fillStyle:zj(null===b?Aj:b)});var c=a.rh;if(null===c)this.Lc=null;else{var b=c.Zc,d=c.Eg,e=c.getLineDash(),f=c.Gg,g=c.Ua(),c=c.Ng;this.Lc={lineCap:r(d)?d:"round",lineDash:null!=e?e:Bj,lineJoin:r(f)?f:"round",lineWidth:r(g)?g:1,miterLimit:r(c)?c:10,strokeStyle:zj(null===b?Cj:b)}}var b=a.Hk(),d=a.Jk(),e=a.Kk(),f=a.mb(),g=a.Lk(),c=a.Q,h=a.Mk();a=a.Nk();this.mf={font:r(b)?b:"10px sans-serif",textAlign:r(h)?h:
"center",textBaseline:r(a)?a:"middle"};this.Q=r(c)?c:"";this.uh=r(d)?this.Rb*d:0;this.vh=r(e)?this.Rb*e:0;this.Xd=r(f)?f:0;this.Kc=this.Rb*(r(g)?g:1)}};var dk={Point:Wj.prototype.Wf,LineString:Wj.prototype.Sf,Polygon:Wj.prototype.Ae,MultiPoint:Wj.prototype.Uf,MultiLineString:Wj.prototype.Tf,MultiPolygon:Wj.prototype.Vf,GeometryCollection:Wj.prototype.Rf,Circle:Wj.prototype.Qf};var ek=["Polygon","LineString","Image","Text"];function fk(a,b,c){this.Wi=b;this.fh=c;this.Cc={};$f(1,1);vf()}fk.prototype.dh=function(a,b,c,d,e,f){var g=Ia(bb(this.Cc),Number);g.sort(Ta);return this.Ej(g,a,b,c,d,e,f)};
fk.prototype.Ej=function(a,b,c,d,e,f,g){var h=this.Wi,m=h[0],n=h[1],p=h[2],h=h[3],m=kj([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,u,m=0,n=a.length;m<n;++m)for(q=this.Cc[a[m].toString()],p=0,h=ek.length;p<h;++p)if(u=q[ek[p]],r(u)&&qh(c,u.I())&&(u=u.dh(b,d,e,f,g)))return u;b.restore()};fk.prototype.finish=function(){for(var a in this.Cc){var b=this.Cc[a],c;for(c in b)b[c].finish()}};
fk.prototype.Ma=function(){return cb(this.Cc)};function gk(a,b){ai.call(this,a,b);this.$=vf()}G(gk,ai);
gk.prototype.re=function(a,b,c){this.ga("precompose",c,a,void 0);var d=this.ja();if(null!==d){var e=this.wg,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],h=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(h))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.ga("postcompose",c,a,void 0)};
gk.prototype.ga=function(a,b,c,d){var e=this.uc;if(e.Wa(a)){if(!r(d)){d=c.viewState;var f=c.pixelRatio;d=ji(this.$,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new Wj(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new sj(a,e,d,0,c,b,null));d.flush()}};
var hk=function(){var a=null,b=null;return function(c){if(null===a){a=$f(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Ra(b.data,c.data));return e}}();function ik(a,b){gk.call(this,a,b);this.ta=this.b=null;this.oe=!1;this.o=null;this.wg=vf();this.ef=NaN;this.Td=this.xb=null}G(ik,gk);ik.prototype.ja=function(){return this.b};
ik.prototype.zc=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.uc,g=f.L,h=Zh(g,e),m=Mh(h.Yb,d.resolution,0),n=$h(g,m,e),p=n/Uh(h,m),q=h.j(m),p=q/p,u=d.center,v;q==d.resolution?(u=fi(u,q,a.size),v=oh(u,q,d.rotation,a.size)):v=a.extent;r(b.extent)&&(v=ph(v,b.extent));if(v[2]<v[0]||v[3]<v[1])return!1;var s=Rh(h,v,q),z=n*s.Ua(),y=n*s.kd(),B,t;null===this.b?(t=$f(z,y),this.b=t.canvas,this.ta=[z,y],this.o=t,this.oe=!hk(this.ta)):(B=this.b,t=this.o,this.ta[0]<z||this.ta[1]<y||this.oe&&
(this.ta[0]>z||this.ta[1]>y)?(B.width=z,B.height=y,this.ta=[z,y],this.oe=!hk(this.ta),this.xb=null):(z=this.ta[0],y=this.ta[1],m==this.ef&&gh(this.xb,s)||(this.xb=null,m<this.ef&&this.o.clearRect(0,0,z,y))));var w,D;null===this.xb?(z/=n,y/=n,w=s.h-Math.floor((z-s.Ua())/2),D=s.l-Math.floor((y-s.kd())/2),this.ef=m,this.xb=new eh(w,w+z-1,D,D+y-1),this.Td=Array(z*y),y=this.xb):(y=this.xb,z=y.Ua());B={};B[m]={};var E=[],I=C(g.De,g,B,ei(function(a){return null!==a&&2==a.q()},g,c,e)),W=f.od();r(W)||(W=!0);
var J=kh(),Y=new eh(0,0,0,0),O,F,N;for(D=s.h;D<=s.s;++D)for(N=s.l;N<=s.k;++N)F=g.nb(m,D,N,c,e),w=F.q(),2==w||4==w||3==w&&!W?B[m][dh(F.i)]=F:(O=h.fd(F.i,I,null,Y,J),O||(E.push(F),O=h.nd(F.i,Y,J),null===O||I(m+1,O)));I=0;for(O=E.length;I<O;++I)F=E[I],D=n*(F.i[1]-y.h),N=n*(y.k-F.i[2]),t.clearRect(D,N,n,n);E=Ia(bb(B),Number);E.sort(Ta);var L=g.nj,ua=nh(Ph(h,[m,y.h,y.k],J)),fa,la,Zd,Sc,Ib,Rf,I=0;for(O=E.length;I<O;++I)if(fa=E[I],n=$h(g,fa,e),Sc=B[fa],fa==m)for(Zd in Sc)F=Sc[Zd],la=(F.i[2]-y.l)*z+(F.i[1]-
y.h),this.Td[la]!=F&&(D=n*(F.i[1]-y.h),N=n*(y.k-F.i[2]),w=F.q(),4!=w&&(3!=w||W)&&L||t.clearRect(D,N,n,n),2==w&&t.drawImage(F.ja(),0,0,n,n,D,N,n,n),this.Td[la]=F);else for(Zd in fa=h.j(fa)/q,Sc)for(F=Sc[Zd],la=Ph(h,F.i,J),D=(la[0]-ua[0])/p,N=(ua[1]-la[3])/p,Rf=fa*n,Ib=fa*n,w=F.q(),4!=w&&L||t.clearRect(D,N,Rf,Ib),2==w&&t.drawImage(F.ja(),0,0,n,n,D,N,Rf,Ib),F=Qh(h,la,m,Y),w=Math.max(F.h,y.h),N=Math.min(F.s,y.s),D=Math.max(F.l,y.l),F=Math.min(F.k,y.k);w<=N;++w)for(Ib=D;Ib<=F;++Ib)la=(Ib-y.l)*z+(w-y.h),
this.Td[la]=void 0;di(a.usedTiles,g,m,s);gi(a,g,h,c,e,v,m,f.md());bi(a,g);ci(a,g);ji(this.wg,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(ua[0]-u[0])/p,(u[1]-ua[1])/p);return!0};function jk(a,b){li.call(this,0,b);this.o=$f();this.b=this.o.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Qb(a,this.b,0);this.n=!0;this.$=vf()}G(jk,li);jk.prototype.$c=function(a){return a instanceof Vj?new ik(this,a):null};
jk.prototype.ga=function(a,b){var c=this.ya(),d=this.o;if(c.Wa(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,h=g.resolution,m=g.rotation;ji(this.$,this.b.width/2,this.b.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new Wj(d,f,e,this.$,m);h=new fk(0,e,h);c.dispatchEvent(new sj(a,c,g,0,b,d,null));h.finish();h.Ma()||h.dh(d,e,f,this.$,m,{});g.flush()}};jk.prototype.ob=function(){return"canvas"};
jk.prototype.Rd=function(a){if(null===a)this.n&&(jf(this.b,!1),this.n=!1);else{var b=this.o,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.b.width!=c||this.b.height!=d?(this.b.width=c,this.b.height=d):b.clearRect(0,0,this.b.width,this.b.height);mi(a);this.ga("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,h;e=0;for(f=c.length;e<f;++e)h=c[e],g=h.layer,g=oi(this,g),h.visible&&d>=h.minResolution&&d<h.maxResolution&&"ready"==h.lf&&g.zc(a,h)&&g.re(a,h,b);this.ga("postcompose",
a);this.n||(jf(this.b,!0),this.n=!0);pi(this,a);a.postRenderFunctions.push(ni)}};function kk(a,b,c){ai.call(this,a,b);this.target=c}G(kk,ai);kk.prototype.Ib=function(){return this.target};function lk(a,b){var c=Ob("DIV");c.style.position="absolute";kk.call(this,a,b,c);this.n=!0;this.ah=1;this.Xb=0;this.qa={}}G(lk,kk);
lk.prototype.zc=function(a,b){if(!b.visible)return this.n&&(jf(this.target,!1),this.n=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.uc,g=f.L,h=Zh(g,e),m=Mh(h.Yb,d.resolution,0),n=h.j(m),p=d.center,q;n==d.resolution?(p=fi(p,n,a.size),q=oh(p,n,d.rotation,a.size)):q=a.extent;r(b.extent)&&(q=ph(q,b.extent));var n=Rh(h,q,n),u={};u[m]={};var v=C(g.De,g,u,ei(function(a){return null!==a&&2==a.q()},g,c,e)),s=f.od();r(s)||(s=!0);var z=kh(),y=new eh(0,0,0,0),B,t,w,D;for(w=n.h;w<=n.s;++w)for(D=
n.l;D<=n.k;++D)B=g.nb(m,w,D,c,e),t=B.q(),2==t?u[m][dh(B.i)]=B:4==t||3==t&&!s||(t=h.fd(B.i,v,null,y,z),t||(B=h.nd(B.i,y,z),null===B||v(m+1,B)));var E;if(this.Xb!=g.oa){for(E in this.qa)s=this.qa[+E],Rb(s.target);this.qa={};this.Xb=g.oa}z=Ia(bb(u),Number);z.sort(Ta);var v={},I;w=0;for(D=z.length;w<D;++w){E=z[w];E in this.qa?s=this.qa[E]:(s=Vh(h,p,E),s=new mk(h,s),v[E]=!0,this.qa[E]=s);E=u[E];for(I in E)nk(s,E[I]);ok(s)}I=Ia(bb(this.qa),Number);I.sort(Ta);D=vf();z=0;for(w=I.length;z<w;++z)if(E=I[z],
s=this.qa[E],E in u)if(t=s.j(),B=s.Hb(),ji(D,a.size[0]/2,a.size[1]/2,t/d.resolution,t/d.resolution,d.rotation,(B[0]-p[0])/t,(p[1]-B[1])/t),s.setTransform(D),E in v){for(E-=1;0<=E;--E)if(E in this.qa){Pb(s.target,this.qa[E].target);break}0>E&&Qb(this.target,s.target,0)}else a.viewHints[0]||a.viewHints[1]||pk(s,q,y);else Rb(s.target),delete this.qa[E];b.opacity!=this.ah&&(this.ah=this.target.style.opacity=b.opacity);b.visible&&!this.n&&(jf(this.target,!0),this.n=!0);di(a.usedTiles,g,m,n);gi(a,g,h,c,
e,q,m,f.md());bi(a,g);ci(a,g);return!0};function mk(a,b){this.target=Ob("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.wh=a;this.nf=b;this.Kd=nh(Ph(a,b));this.fh=a.j(b[0]);this.Pc={};this.Eb=null;this.$=xf()}
function nk(a,b){var c=b.i,d=c[0],e=c[1],f=c[2],c=dh(c);if(!(c in a.Pc)){var d=Uh(a.wh,d),g=b.ja(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.nf[1])*d+"px";h.top=(a.nf[2]-f)*d+"px";null===a.Eb&&(a.Eb=document.createDocumentFragment());a.Eb.appendChild(g);a.Pc[c]=b}}function ok(a){null!==a.Eb&&(a.target.appendChild(a.Eb),a.Eb=null)}mk.prototype.Hb=function(){return this.Kd};mk.prototype.j=function(){return this.fh};
function pk(a,b,c){var d=Qh(a.wh,b,a.nf[0],c);b=[];for(var e in a.Pc)c=a.Pc[e],d.contains(c.i)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=dh(c.i),Rb(c.ja(a)),delete a.Pc[e]}
mk.prototype.setTransform=function(a){var b=this.$;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(bg()){if(r(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");cg(b,"matrix3d("+c+")")}else if(ag()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(r(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");cg(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.$;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function qk(a,b){li.call(this,0,b);this.Qb=Ob("DIV");this.Qb.className="ol-unselectable";var c=this.Qb.style;c.position="absolute";c.width="100%";c.height="100%";Qb(a,this.Qb,0);this.n=!0}G(qk,li);qk.prototype.$c=function(a){if(a instanceof Vj)a=new lk(this,a);else return null;return a};qk.prototype.ob=function(){return"dom"};
qk.prototype.Rd=function(a){if(null===a)this.n&&(jf(this.Qb,!1),this.n=!1);else{var b;b=function(a,b){Qb(this.Qb,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=oi(this,f),b.call(this,f.Ib(),d),"ready"==g.lf&&f.zc(a,g);b=a.layerStates;for(var h in this.ka)h in b||(f=this.ka[h],Rb(f.Ib()));this.n||(jf(this.Qb,!0),this.n=!0);mi(a);pi(this,a);a.postRenderFunctions.push(ni)}};function rk(){}k=rk.prototype;k.Pf=function(){};k.Qf=function(){};k.Rf=function(){};k.Wf=function(){};k.Sf=function(){};k.Tf=function(){};k.Uf=function(){};k.Vf=function(){};k.Ae=function(){};k.nh=function(){};k.ph=function(){};function sk(){this.Yc=vf();this.yf=void 0;this.xf=vf();this.Kf=void 0;this.Jf=vf();this.rg=void 0;this.qg=vf();this.kh=void 0;this.jh=vf()}
function tk(a,b,c,d,e){var f=!1;r(b)&&b!==a.yf&&(f=a.xf,yf(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.yf=b,f=!0);if(r(c)&&c!==a.Kf){f=a.Jf;yf(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.Kf=c;f=!0}r(d)&&d!==a.rg&&(f=Math.cos(d),g=Math.sin(d),wf(a.qg,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.rg=d,f=!0);r(e)&&e!==a.kh&&(wf(a.jh,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.kh=e,f=!0);f&&(f=a.Yc,yf(f),r(c)&&zf(f,a.Jf,f),r(b)&&zf(f,a.xf,f),r(e)&&zf(f,a.jh,f),r(d)&&zf(f,a.qg,f));return a.Yc};function uk(a){this.L=a}function vk(a){this.L=a}G(vk,uk);vk.prototype.ob=function(){return 35632};function wk(a){this.L=a}G(wk,uk);wk.prototype.ob=function(){return 35633};function xk(){this.L="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}G(xk,vk);da(xk);function yk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(yk,wk);da(yk);
function zk(a,b){this.dk=a.getUniformLocation(b,"f");this.Bh=a.getUniformLocation(b,"g");this.Ch=a.getUniformLocation(b,"e");this.Dh=a.getUniformLocation(b,"d");this.$d=a.getUniformLocation(b,"h");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function Ak(){this.L="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}G(Ak,vk);da(Ak);function Bk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}G(Bk,wk);da(Bk);
function Ck(a,b){this.Bh=a.getUniformLocation(b,"f");this.Ch=a.getUniformLocation(b,"e");this.Dh=a.getUniformLocation(b,"d");this.$d=a.getUniformLocation(b,"g");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function Dk(a){this.v=r(a)?a:[]}k=Dk.prototype;k.addRange=function(a,b){if(a!=b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Ek(this);return}c.push(a,b);Ek(this)}};k.clear=function(){this.v.length=0};function Ek(a){a=a.v;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}k.dg=function(a,b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};k.mc=function(){return this.v};
k.ba=function(){var a=this.v,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};k.Ma=function(){return 0===this.v.length};
k.removeRange=function(a,b){var c=this.v,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Ek(this)};function Fk(a,b,c){this.v=r(a)?a:[];this.gb=[];this.Gb=new Dk;a=r(b)?b:this.v.length;a<this.v.length&&this.Gb.addRange(a,this.v.length);this.hk=r(c)?c:35044}k=Fk.prototype;k.add=function(a){var b=a.length,c;a:{c=this.Gb.v;var d=c.length,e=-1,f,g,h;for(g=0;g<d;g+=2){h=c[g+1]-c[g];if(h==b){c=c[g];break a}h>b&&(-1==e||h<f)&&(e=c[g],f=h)}c=e}this.Gb.removeRange(c,c+b);for(d=0;d<b;++d)this.v[c+d]=a[d];Gk(this,b,c);return c};
k.dg=function(a,b){if(0!==this.v.length){var c=this.v.length,d=this.Gb.v,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};k.mc=function(){return this.v};k.Ka=function(){return this.v.length-this.Gb.ba()};function Gk(a,b,c){var d,e;d=0;for(e=a.gb.length;d<e;++d)a.gb[d].addRange(c,c+b)}k.remove=function(a,b){var c,d;this.Gb.addRange(b,b+a);c=0;for(d=this.gb.length;c<d;++c)this.gb[c].removeRange(b,b+a)};
k.set=function(a,b){var c=this.v,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Gk(this,d,b)};function Hk(a,b){ai.call(this,a,b);this.Lh=new Fk([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.gd=this.ab=null;this.hd=void 0;this.th=vf();this.zj=xf();this.Yc=new sk;this.xe=this.qe=null}G(Hk,ai);
Hk.prototype.bindFramebuffer=function(a,b){var c=this.Hd.J;if(r(this.hd)&&this.hd==b)c.bindFramebuffer(36160,this.gd);else{a.postRenderFunctions.push(qa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.gd,this.ab));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.ab=d;this.gd=e;this.hd=b}};
Hk.prototype.re=function(a,b,c){this.ga("precompose",c,a);c.bindBuffer(34962,this.Lh);var d=c.J,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=xk.lb(),g=yk.lb()):(f=Ak.lb(),g=Bk.lb());f=Ik(c,f,g);e?null===this.qe?this.qe=g=new zk(d,f):g=this.qe:null===this.xe?this.xe=g=new Ck(d,f):g=this.xe;c.useProgram(f)&&(d.enableVertexAttribArray(g.Bb),d.vertexAttribPointer(g.Bb,2,5126,!1,16,0),d.enableVertexAttribArray(g.Cb),d.vertexAttribPointer(g.Cb,2,5126,!1,16,8),d.uniform1i(g.$d,0));d.uniformMatrix4fv(g.Dh,
!1,this.th);d.uniformMatrix4fv(g.Ch,!1,this.zj);e&&d.uniformMatrix4fv(g.dk,!1,tk(this.Yc,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.Bh,b.opacity);d.bindTexture(3553,this.ab);d.drawArrays(5,0,4);this.ga("postcompose",c,a)};Hk.prototype.ga=function(a,b,c){var d=this.uc;d.Wa(a)&&d.dispatchEvent(new sj(a,d,new rk,0,c,null,b))};Hk.prototype.pb=function(){this.gd=this.ab=null;this.hd=void 0};function Jk(){this.L="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}G(Jk,vk);da(Jk);function Kk(){this.L="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}G(Kk,wk);da(Kk);function Lk(a,b){this.$d=a.getUniformLocation(b,"e");this.ek=a.getUniformLocation(b,"d");this.Bb=a.getAttribLocation(b,"b");this.Cb=a.getAttribLocation(b,"c")};function Mk(a,b){Hk.call(this,a,b);this.$h=Jk.lb();this.jk=Kk.lb();this.Pa=null;this.$g=new Fk([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.ff=this.Sd=null;this.Xb=-1}G(Mk,Hk);Mk.prototype.f=function(){this.Hd.getContext().deleteBuffer(this.$g);Mk.F.f.call(this)};Mk.prototype.pb=function(){Mk.F.pb.call(this);this.Pa=null};
Mk.prototype.zc=function(a,b){var c=this.Hd,d=c.getContext(),e=c.J,f=a.viewState,g=f.projection,h=this.uc,m=h.L,n=Zh(m,g),p=Mh(n.Yb,f.resolution,0),q=n.j(p),u=$h(m,p,g),v=u/Uh(n,p),s=q/v,z=f.center,y;q==f.resolution?(z=fi(z,q,a.size),y=oh(z,q,f.rotation,a.size)):y=a.extent;q=Rh(n,y,q);if(null!==this.Sd&&this.Sd.Xf(q)&&this.Xb==m.oa)s=this.ff;else{var B=q.ba(),B=Math.max(B[0]*u,B[1]*u),t=Math.pow(2,Math.ceil(Math.log(B)/Math.LN2)),B=s*t,w=n.Hb(p),D=w[0]+q.h*u*s,s=w[1]+q.l*u*s,s=[D,s,D+B,s+B];this.bindFramebuffer(a,
t);e.viewport(0,0,t,t);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);t=Ik(d,this.$h,this.jk);d.useProgram(t);null===this.Pa&&(this.Pa=new Lk(e,t));d.bindBuffer(34962,this.$g);e.enableVertexAttribArray(this.Pa.Bb);e.vertexAttribPointer(this.Pa.Bb,2,5126,!1,16,0);e.enableVertexAttribArray(this.Pa.Cb);e.vertexAttribPointer(this.Pa.Cb,2,5126,!1,16,8);e.uniform1i(this.Pa.$d,0);d={};d[p]={};var E=C(m.De,m,d,ei(function(a){return null!==a&&2==a.q()&&c.V.S(a.getKey())},m,v,g)),I=h.od();r(I)||(I=!0);
var t=!0,D=kh(),W=new eh(0,0,0,0),J,Y,O;for(Y=q.h;Y<=q.s;++Y)for(O=q.l;O<=q.k;++O){w=m.nb(p,Y,O,v,g);if(r(b.extent)&&(J=Ph(n,w.i,D),!qh(J,b.extent)))continue;J=w.q();if(2==J){if(c.V.S(w.getKey())){d[p][dh(w.i)]=w;continue}}else if(4==J||3==J&&!I)continue;t=!1;J=n.fd(w.i,E,null,W,D);J||(w=n.nd(w.i,W,D),null===w||E(p+1,w))}E=Ia(bb(d),Number);E.sort(Ta);var I=new Float32Array(4),F,N,L,ua,W=0;for(Y=E.length;W<Y;++W)for(N in L=d[E[W]],L)w=L[N],J=Ph(n,w.i,D),O=2*(J[2]-J[0])/B,F=2*(J[3]-J[1])/B,ua=2*(J[0]-
s[0])/B-1,J=2*(J[1]-s[1])/B-1,uf(I,O,F,ua,J),e.uniform4fv(this.Pa.ek,I),Nk(c,w,u,0*v),e.drawArrays(5,0,4);t?(this.Sd=q,this.ff=s,this.Xb=m.oa):(this.ff=this.Sd=null,this.Xb=-1,a.animate=!0)}di(a.usedTiles,m,p,q);var fa=c.Nc;gi(a,m,n,v,g,y,p,h.md(),function(a){var b;(b=2!=a.q()||c.V.S(a.getKey()))||(b=a.getKey()in fa.Vb);b||hi(fa,[a,Th(n,a.i),n.j(a.i[0]),u,0*v])},this);bi(a,m);ci(a,m);e=this.th;yf(e);Af(e,(z[0]-s[0])/(s[2]-s[0]),(z[1]-s[1])/(s[3]-s[1]));0!==f.rotation&&Cf(e,f.rotation);Bf(e,a.size[0]*
f.resolution/(s[2]-s[0]),a.size[1]*f.resolution/(s[3]-s[1]));Af(e,-.5,-.5);return!0};function Ok(){this.e=0;this.ic={};this.da=this.Z=null}k=Ok.prototype;k.clear=function(){this.e=0;this.ic={};this.da=this.Z=null};k.S=function(a){return this.ic.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.Z;null!==c;)a.call(b,c.Ab,c.Bd,this),c=c.la};k.get=function(a){a=this.ic[a];if(a===this.da)return a.Ab;a===this.Z?(this.Z=this.Z.la,this.Z.Za=null):(a.la.Za=a.Za,a.Za.la=a.la);a.la=null;a.Za=this.da;this.da=this.da.la=a;return a.Ab};k.Ka=function(){return this.e};
k.xa=function(){var a=Array(this.e),b=0,c;for(c=this.da;null!==c;c=c.Za)a[b++]=c.Bd;return a};k.za=function(){var a=Array(this.e),b=0,c;for(c=this.da;null!==c;c=c.Za)a[b++]=c.Ab;return a};k.pop=function(){var a=this.Z;delete this.ic[a.Bd];null!==a.la&&(a.la.Za=null);this.Z=a.la;null===this.Z&&(this.da=null);--this.e;return a.Ab};k.set=function(a,b){var c={Bd:a,la:null,Za:this.da,Ab:b};null===this.da?this.Z=c:this.da.la=c;this.da=c;this.ic[a]=c;++this.e};function Pk(a,b){this.b=a;this.J=b;this.Sa={};this.Hc={};this.Ac={};this.ue=null;S(this.b,"webglcontextlost",this.pb,!1,this);S(this.b,"webglcontextrestored",this.Ke,!1,this)}k=Pk.prototype;
k.bindBuffer=function(a,b){var c=this.J,d=b.mc(),e=A(b);if(e in this.Sa)e=this.Sa[e],c.bindBuffer(a,e.buffer),e.ad.dg(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.ad.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.hk);var g=new Dk;b.gb.push(g);this.Sa[e]={zf:b,buffer:f,ad:g}}};
k.deleteBuffer=function(a){var b=this.J;a=A(a);var c=this.Sa[a];Ma(c.zf.gb,c.ad);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.Sa[a]};k.f=function(){Ya(this.Sa,function(a){Ma(a.zf.gb,a.ad)});var a=this.J;a.isContextLost()||(Ya(this.Sa,function(b){a.deleteBuffer(b.buffer)}),Ya(this.Ac,function(b){a.deleteProgram(b)}),Ya(this.Hc,function(b){a.deleteShader(b)}))};
function Qk(a,b){var c=A(b);if(c in a.Hc)return a.Hc[c];var d=a.J,e=d.createShader(b.ob());d.shaderSource(e,b.L);d.compileShader(e);return a.Hc[c]=e}function Ik(a,b,c){var d=A(b)+"/"+A(c);if(d in a.Ac)return a.Ac[d];var e=a.J,f=e.createProgram();e.attachShader(f,Qk(a,b));e.attachShader(f,Qk(a,c));e.linkProgram(f);return a.Ac[d]=f}k.pb=function(){db(this.Sa);db(this.Hc);db(this.Ac);this.ue=null};k.Ke=function(){};k.useProgram=function(a){if(a==this.ue)return!1;this.J.useProgram(a);this.ue=a;return!0};function Rk(a,b){li.call(this,0,b);this.b=Ob("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Qb(a,this.b,0);this.Cf=0;this.Df=$f();this.n=!0;this.J=eg(this.b,{antialias:!0,depth:!1,Yh:!0,preserveDrawingBuffer:!1,stencil:!0});this.o=new Pk(this.b,this.J);S(this.b,"webglcontextlost",this.pb,!1,this);S(this.b,"webglcontextrestored",this.Ke,!1,this);this.V=new Ok;this.ib=null;this.Nc=new qi(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.ib[0],b=b[1]-
this.ib[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Oi=C(function(){if(!this.Nc.Ma()){ui(this.Nc);var a=ri(this.Nc);Nk(this,a[0],a[3],a[4])}},this);this.Mc=0;Sk(this)}G(Rk,li);
function Nk(a,b,c,d){var e=a.J,f=b.getKey();if(a.V.S(f))a=a.V.get(f),e.bindTexture(3553,a.ab),9729!=a.Ig&&(e.texParameteri(3553,10240,9729),a.Ig=9729),9729!=a.Mg&&(e.texParameteri(3553,10240,9729),a.Mg=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.Df.canvas,m=a.Df;a.Cf!=c?(h.width=c,h.height=c,a.Cf=c):m.clearRect(0,0,c,c);m.drawImage(b.ja(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.ja());e.texParameteri(3553,10240,9729);
e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.V.set(f,{ab:g,Ig:9729,Mg:9729})}}k=Rk.prototype;k.$c=function(a){return a instanceof Vj?new Mk(this,a):null};k.ga=function(a,b){var c=this.ya();if(c.Wa(a)){var d=this.getContext();c.dispatchEvent(new sj(a,c,new rk,0,b,null,d))}};k.f=function(){var a=this.J;a.isContextLost()||this.V.forEach(function(b){null===b||a.deleteTexture(b.ab)});kc(this.o);Rk.F.f.call(this)};
k.Xh=function(a,b){for(var c=this.J,d;1024<this.V.Ka()-this.Mc;){d=this.V.Z.Ab;if(null===d)if(+this.V.Z.Bd==b.index)break;else--this.Mc;else c.deleteTexture(d.ab);this.V.pop()}};k.getContext=function(){return this.o};k.ob=function(){return"webgl"};k.pb=function(a){a.preventDefault();this.V.clear();this.Mc=0;Ya(this.ka,function(a){a.pb()})};k.Ke=function(){Sk(this);Z(this.ya())};
function Sk(a){a=a.J;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.Rd=function(a){var b=this.getContext(),c=this.J;if(c.isContextLost())return!1;if(null===a)return this.n&&(jf(this.b,!1),this.n=!1),!1;this.ib=a.focus;this.V.set((-a.index).toString(),null);++this.Mc;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,h,m,n;g=0;for(h=e.length;g<h;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.lf&&(m=oi(this,n.layer),m.zc(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=
e,this.b.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);this.ga("precompose",a);g=0;for(h=d.length;g<h;++g)n=d[g],m=oi(this,n.layer),m.re(a,n,b);this.n||(jf(this.b,!0),this.n=!0);mi(a);1024<this.V.Ka()-this.Mc&&a.postRenderFunctions.push(C(this.Xh,this));this.Nc.Ma()||(a.postRenderFunctions.push(this.Oi),a.animate=!0);this.ga("postcompose",a);pi(this,a);a.postRenderFunctions.push(ni)};var Tk=["canvas","webgl","dom"];
function $(a){Hf.call(this);var b=Uk(a);this.Rb=r(a.pixelRatio)?a.pixelRatio:fg;this.Ri=b.logos;this.ie=new Le(this.Cj,void 0,this);jc(this,this.ie);this.Ph=vf();this.sj=vf();this.ai=0;this.tc=this.ce=this.cf=this.kb=null;this.w=Lb("DIV","ol-viewport");this.w.style.position="relative";this.w.style.overflow="hidden";this.w.style.width="100%";this.w.style.height="100%";this.w.style.msTouchAction="none";ig&&(this.w.className="ol-touch");this.pj=Lb("DIV","ol-overlaycontainer");this.w.appendChild(this.pj);
this.Ze=Lb("DIV","ol-overlaycontainer-stopevent");S(this.Ze,["click","dblclick","mousedown","touchstart","MSPointerDown",Yg,mc],lc);this.w.appendChild(this.Ze);a=new Qg(this);S(a,ab(ah),this.Va,!1,this);jc(this,a);this.Bg=b.keyboardEventTarget;this.yd=new Ue;S(this.yd,"key",this.ng,!1,this);jc(this,this.yd);a=new of(this.w);S(a,"mousewheel",this.ng,!1,this);jc(this,a);this.se=b.controls;this.Th=b.deviceOptions;this.xd=b.interactions;this.$e=b.overlays;this.bh=new b.Dj(this.w,this);jc(this,this.bh);
this.Ih=new Pe;jc(this,this.Ih);S(this.Ih,"resize",this.Hh,!1,this);this.ib=null;this.Pd=[];this.Xg=[];this.xh=new vi(C(this.ci,this),C(this.Ai,this));this.Sj={};S(this,Lf("layergroup"),this.ii,!1,this);S(this,Lf("view"),this.Ci,!1,this);S(this,Lf("size"),this.wi,!1,this);S(this,Lf("target"),this.yi,!1,this);this.Fc(b.ik);this.se.forEach(function(a){a.setMap(this)},this);S(this.se,"add",function(a){a.element.setMap(this)},!1,this);S(this.se,"remove",function(a){a.element.setMap(null)},!1,this);this.xd.forEach(function(a){a.setMap(this)},
this);S(this.xd,"add",function(a){a.element.setMap(this)},!1,this);S(this.xd,"remove",function(a){a.element.setMap(null)},!1,this);this.$e.forEach(function(a){a.setMap(this)},this);S(this.$e,"add",function(a){a.element.setMap(this)},!1,this);S(this.$e,"remove",function(a){a.element.setMap(null)},!1,this)}G($,Hf);$.prototype.Ga=function(a){Z(this);Array.prototype.push.apply(this.Pd,arguments)};$.prototype.f=function(){Rb(this.w);$.F.f.call(this)};$.prototype.Ib=function(){return this.get("target")};
$.prototype.getTarget=$.prototype.Ib;$.prototype.nc=function(a){var b=this.kb;if(null===b)return null;a=a.slice();return ki(b.pixelToCoordinateMatrix,a,a)};$.prototype.ld=function(){return this.get("layergroup")};$.prototype.getLayerGroup=$.prototype.ld;$.prototype.pc=function(){return this.ld().pc()};$.prototype.ba=function(){return this.get("size")};$.prototype.getSize=$.prototype.ba;$.prototype.p=function(){return this.get("view")};$.prototype.getView=$.prototype.p;k=$.prototype;
k.ci=function(a,b,c,d){var e=this.kb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][dh(a.i)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.ng=function(a,b){var c=new Og(b||a.type,this,a);this.Va(c)};k.Va=function(a){if(null!==this.kb){this.ib=a.coordinate;a.frameState=this.kb;var b=this.xd.mc(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.fa&&!d.Va(a))break}}};
k.ti=function(){var a=this.kb,b=this.xh;if(!b.Ma()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.Th;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=$a(a.wantedTiles)}c*=e;d*=e;if(b.Oc<c){ui(b);c=Math.min(c-b.Oc,d,b.Ka());for(d=0;d<c;++d)e=ri(b)[0],Kc(e,"change",b.zi,!1,b),e.load();b.Oc+=c}}b=this.Xg;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.wi=function(){Z(this)};
k.yi=function(){var a=this.Ib(),a=r(a)?Eb(a):null;this.yd.detach();null===a?Rb(this.w):(a.appendChild(this.w),Ve(this.yd,null===this.Bg?a:this.Bg));this.Hh()};k.Ai=function(){Z(this)};k.Di=function(){Z(this)};k.Ci=function(){null!==this.ce&&(T(this.ce),this.ce=null);var a=this.p();null!==a&&(this.ce=S(a,"propertychange",this.Di,!1,this));Z(this)};k.ji=function(){Z(this)};k.ki=function(){Z(this)};
k.ii=function(){if(null!==this.tc){for(var a=this.tc.length,b=0;b<a;++b)T(this.tc[b]);this.tc=null}a=this.ld();null!=a&&(this.tc=[S(a,"propertychange",this.ki,!1,this),S(a,"change",this.ji,!1,this)]);Z(this)};k.Qe=function(){if(!Sb(document,this.w)||"none"==this.w.style.display)return!1;var a=this.ba();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.p();return null!==a&&a.Qe()?!0:!1};function Z(a){a.ie.Pe()||a.ie.start()}
k.Cj=function(a){var b,c,d,e=this.ba(),f=this.p(),g=null;if(r(e)&&0<e[0]&&0<e[1]&&null!==f&&f.Qe()){var g=Oa(f.Me),h=this.ld().Fe(),m={};b=0;for(c=h.length;b<c;++b)m[A(h[b].layer)]=h[b];d=f.q();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Ph,extent:null,focus:null===this.ib?d.center:this.ib,index:this.ai++,layerStates:m,layerStatesArray:h,logos:this.Ri,pixelRatio:this.Rb,pixelToCoordinateMatrix:this.sj,postRenderFunctions:[],size:e,skippedFeatureUids:this.Sj,tileQueue:this.xh,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Pd;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=oh(d.center,d.resolution,d.rotation,g.size)}this.kb=g;this.bh.Rd(g);null!==g&&(g.animate&&Z(this),Array.prototype.push.apply(this.Xg,g.postRenderFunctions),!(b=0!==this.Pd.length||g.viewHints[0]||g.viewHints[1])&&(b=this.cf)&&(b=g.extent,c=this.cf,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new Uf("moveend",this,g)),
this.cf=r(void 0)?void 0:g.extent.slice()));this.dispatchEvent(new Uf("postrender",this,g));id(this.ti,this)};k.Ij=function(a){this.set("layergroup",a)};$.prototype.setLayerGroup=$.prototype.Ij;$.prototype.jf=function(a){this.set("size",a)};$.prototype.setSize=$.prototype.jf;$.prototype.Oj=function(a){this.set("target",a)};$.prototype.setTarget=$.prototype.Oj;$.prototype.Qj=function(a){this.set("view",a)};$.prototype.setView=$.prototype.Qj;
$.prototype.Hh=function(){var a=this.Ib(),a=r(a)?Eb(a):null;if(null===a)this.jf(void 0);else{var b=Db(a),c=P&&a.currentStyle,d;if(d=c)b=Bb(b),d=Kb(b.hc);if(d&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)b=kf(a,c.width,"width","pixelWidth"),a=kf(a,c.height,"height","pixelHeight"),a=new Ab(b,a);else{c=new Ab(a.offsetWidth,a.offsetHeight);if(P){b=lf(a,"paddingLeft");d=lf(a,"paddingRight");var e=lf(a,"paddingTop"),f=lf(a,"paddingBottom"),b=new af(e,d,f,b)}else b=bf(a,"paddingLeft"),d=bf(a,"paddingRight"),
e=bf(a,"paddingTop"),f=bf(a,"paddingBottom"),b=new af(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!P||P&&9<=ub?(d=bf(a,"borderLeftWidth"),e=bf(a,"borderRightWidth"),f=bf(a,"borderTopWidth"),a=bf(a,"borderBottomWidth"),a=new af(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=nf(a,"borderLeft"),e=nf(a,"borderRight"),f=nf(a,"borderTop"),a=nf(a,"borderBottom"),a=new af(f,e,a,d));a=new Ab(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.jf([a.width,
a.height])}};
function Uk(a){var b=null;r(a.keyboardEventTarget)&&(b=x(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!r(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var e=a.logo;x(e)?d[e]="":ka(e)&&(d[e.src]=e.href)}e=a.layers instanceof Kj?a.layers:new Kj({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=r(a.view)?a.view:new X;var e=li,f;r(a.renderer)?ga(a.renderer)?f=a.renderer:x(a.renderer)&&(f=[a.renderer]):f=Tk;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(hg){e=jk;break}}else if("dom"==m){e=qk;break}else if("webgl"==m&&lg){e=Rk;break}}r(a.controls)?f=ga(a.controls)?new Nf(Oa(a.controls)):a.controls:(f=r(void 0)?void 0:
{},g=new Nf,(r(f.zoom)?f.zoom:1)&&g.push(new Si(f.zoomOptions)),(r(f.rotate)?f.rotate:1)&&g.push(new Qi(f.rotateOptions)),(r(f.attribution)?f.attribution:1)&&g.push(new Ii(f.attributionOptions)),f=g);g=r(a.deviceOptions)?a.deviceOptions:{};if(r(a.interactions))h=ga(a.interactions)?new Nf(Oa(a.interactions)):a.interactions;else{h=r(void 0)?void 0:{};var m=new Nf,n=new Ui(-.005,.05,100);(r(h.altShiftDragRotate)?h.altShiftDragRotate:1)&&m.push(new ij);(r(h.doubleClickZoom)?h.doubleClickZoom:1)&&m.push(new aj({delta:h.zoomDelta,
duration:h.zoomDuration}));(r(h.dragPan)?h.dragPan:1)&&m.push(new hj({kinetic:n}));(r(h.pinchRotate)?h.pinchRotate:1)&&m.push(new Ij);(r(h.pinchZoom)?h.pinchZoom:1)&&m.push(new Jj({duration:h.zoomDuration}));if(r(h.keyboard)?h.keyboard:1)m.push(new Fj),m.push(new Gj({delta:h.zoomDelta,duration:h.zoomDuration}));(r(h.mouseWheelZoom)?h.mouseWheelZoom:1)&&m.push(new Hj({duration:h.zoomDuration}));(r(h.shiftDragZoom)?h.shiftDragZoom:1)&&m.push(new Ej);h=m}a=r(a.overlays)?ga(a.overlays)?new Nf(Oa(a.overlays)):
a.overlays:new Nf;return{controls:f,deviceOptions:g,interactions:h,keyboardEventTarget:b,logos:d,overlays:a,Dj:e,ik:c}}xh(Pj);xh(Uj);K(Uj,function(a){K(Pj,function(b){zh(a,b,Qj);zh(b,a,Rj)})});/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Vk(a,b){this.Vd=[];this.Qg=a;this.Mf=b||null;this.qc=this.Fb=!1;this.Qa=void 0;this.kf=this.Mh=this.ke=!1;this.be=0;this.ma=null;this.le=0}Vk.prototype.cancel=function(a){if(this.Fb)this.Qa instanceof Vk&&this.Qa.cancel();else{if(this.ma){var b=this.ma;delete this.ma;a?b.cancel(a):(b.le--,0>=b.le&&b.cancel())}this.Qg?this.Qg.call(this.Mf,this):this.kf=!0;this.Fb||(a=new Wk,Xk(this),Yk(this,!1,a))}};Vk.prototype.If=function(a,b){this.ke=!1;Yk(this,a,b)};
function Yk(a,b,c){a.Fb=!0;a.Qa=c;a.qc=!b;Zk(a)}function Xk(a){if(a.Fb){if(!a.kf)throw new $k;a.kf=!1}}function al(a,b,c,d){a.Vd.push([b,c,d]);a.Fb&&Zk(a)}Vk.prototype.then=function(a,b,c){var d,e,f=new td(function(a,b){d=a;e=b});al(this,d,function(a){a instanceof Wk?f.cancel():e(a)});return f.then(a,b,c)};$c(Vk);function bl(a){return Ja(a.Vd,function(a){return ja(a[1])})}
function Zk(a){if(a.be&&a.Fb&&bl(a)){var b=a.be,c=cl[b];c&&(l.clearTimeout(c.B),delete cl[b]);a.be=0}a.ma&&(a.ma.le--,delete a.ma);for(var b=a.Qa,d=c=!1;a.Vd.length&&!a.ke;){var e=a.Vd.shift(),f=e[0],g=e[1],e=e[2];if(f=a.qc?g:f)try{var h=f.call(e||a.Mf,b);r(h)&&(a.qc=a.qc&&(h==b||h instanceof Error),a.Qa=b=h);ad(b)&&(d=!0,a.ke=!0)}catch(m){b=m,a.qc=!0,bl(a)||(c=!0)}}a.Qa=b;d&&(h=C(a.If,a,!0),d=C(a.If,a,!1),b instanceof Vk?(al(b,h,d),b.Mh=!0):b.then(h,d));c&&(b=new dl(b),cl[b.B]=b,a.be=b.B)}
function $k(){sa.call(this)}G($k,sa);$k.prototype.message="Deferred has already fired";$k.prototype.name="AlreadyCalledError";function Wk(){sa.call(this)}G(Wk,sa);Wk.prototype.message="Deferred was canceled";Wk.prototype.name="CanceledError";function dl(a){this.B=l.setTimeout(C(this.Wj,this),0);this.ed=a}dl.prototype.Wj=function(){delete cl[this.B];throw this.ed;};var cl={};function el(a,b){var c=b||{},d=c.document||document,e=Ob("SCRIPT"),f={lh:e,yb:void 0},g=new Vk(fl,f),h=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(h=window.setTimeout(function(){gl(e,!0);var b=new hl(il,"Timeout reached for loading script "+a);Xk(g);Yk(g,!1,b)},m),f.yb=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(gl(e,c.Oh||!1,h),Xk(g),Yk(g,!0,null))};e.onerror=function(){gl(e,!0,h);var b=new hl(jl,"Error while loading script "+a);Xk(g);
Yk(g,!1,b)};Gb(e,{type:"text/javascript",charset:"UTF-8",src:a});kl(d).appendChild(e);return g}function kl(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function fl(){if(this&&this.lh){var a=this.lh;a&&"SCRIPT"==a.tagName&&gl(a,!0,this.yb)}}function gl(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ca;a.onerror=ca;a.onreadystatechange=ca;b&&window.setTimeout(function(){Rb(a)},0)}var jl=0,il=1;
function hl(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);sa.call(this,c);this.code=a}G(hl,sa);function ll(a,b){this.gk=new qe(a);this.Nh=b?b:"callback";this.yb=5E3}var ml=0;ll.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(ml++).toString(36)+ra().toString(36);l._callbacks_||(l._callbacks_={});var e=this.gk.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Ge(e,f,a[f]);b&&(l._callbacks_[d]=nl(d,b),Ge(e,this.Nh,"_callbacks_."+d));b=el(e.toString(),{timeout:this.yb,Oh:!0});al(b,null,ol(d,a,c),void 0);return{B:d,Of:b}};
ll.prototype.cancel=function(a){a&&(a.Of&&a.Of.cancel(),a.B&&pl(a.B,!1))};function ol(a,b,c){return function(){pl(a,!1);c&&c(b)}}function nl(a,b){return function(c){pl(a,!0);b.apply(void 0,arguments)}}function pl(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ca)};function ql(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function rl(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[yb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function sl(){}function tl(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function ul(a,b,c,d,e){Lh.call(this,a,b);this.Ic=c;this.O=new Image;null!==d&&(this.O.crossOrigin=d);this.ud={};this.rc=null;this.Yj=e}G(ul,Lh);k=ul.prototype;k.ja=function(a){if(r(a)){var b=A(a);if(b in this.ud)return this.ud[b];a=cb(this.ud)?this.O:this.O.cloneNode(!1);return this.ud[b]=a}return this.O};k.getKey=function(){return this.Ic};k.ei=function(){this.state=3;K(this.rc,T);this.rc=null;this.M()};
k.fi=function(){this.state=this.O.naturalWidth&&this.O.naturalHeight?2:4;K(this.rc,T);this.rc=null;this.M()};k.load=function(){0==this.state&&(this.state=1,this.rc=[Kc(this.O,"error",this.ei,!1,this),Kc(this.O,"load",this.fi,!1,this)],this.Yj(this,this.Ic))};function vl(a){Ok.call(this);this.Fi=r(a)?a:2048}G(vl,Ok);vl.prototype.fb=function(){return this.Ka()>this.Fi};vl.prototype.kc=function(a){for(var b,c;this.fb()&&!(b=this.Z.Ab,c=b.i[0].toString(),c in a&&a[c].contains(b.i));)this.pop().bd()};function wl(a){Yh.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:r(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=r(a.tileUrlFunction)?a.tileUrlFunction:sl;this.crossOrigin=r(a.crossOrigin)?a.crossOrigin:null;this.R=new vl;this.tileLoadFunction=r(a.tileLoadFunction)?a.tileLoadFunction:xl;this.tileClass=r(a.tileClass)?a.tileClass:ul}G(wl,Yh);function xl(a,b){a.ja().src=b}
wl.prototype.fb=function(){return this.R.fb()};wl.prototype.kc=function(a){this.R.kc(a)};wl.prototype.nb=function(a,b,c,d,e){var f=this.oc(a,b,c);if(this.R.S(f))return this.R.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,r(d)?0:4,r(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.R.set(f,d);return d};wl.prototype.qf=function(a,b,c){a=this.oc(a,b,c);this.R.S(a)&&this.R.get(a)};function yl(a){var b=r(a.extent)?a.extent:Mj,c=Wh(b,a.maxZoom,a.tileSize);Nh.call(this,{minZoom:a.minZoom,origin:mh(b,"top-left"),resolutions:c,tileSize:a.tileSize})}G(yl,Nh);
function zl(a,b){var c=r(b)?b:{},d=a.minZoom,e=a.maxZoom,f=r(c.wrapX)?c.wrapX:!0,g=null;if(r(c.extent)){var g=Array(e+1),h;for(h=0;h<=e;++h)g[h]=h<d?null:Qh(a,c.extent,h)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var h=Math.pow(2,b),u=a[1];if(f)u=yb(u,h);else if(0>u||h<=u)return null;a=a[2];return a<-h||-1<a||null!==g&&!g[b].fc(u,a)?null:bh(b,u,-a-1,c)}}yl.prototype.nd=function(a,b){return a[0]<this.maxZoom?fh(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
yl.prototype.fd=function(a,b,c,d){d=fh(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.h=d.s>>=1,d.l=d.k>>=1,b.call(c,a,d))return!0;return!1};function Al(a){wl.call(this,{crossOrigin:a.crossOrigin,projection:Dh("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new ll(a.url)).send(void 0,C(this.Je,this))}G(Al,wl);
Al.prototype.Je=function(a){var b=Dh("EPSG:4326"),c=this.Bc,d;r(a.bounds)&&(d=rh(a.bounds,Fh(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new yl({extent:Xh(c),maxZoom:f,minZoom:e});this.tileUrlFunction=tl(zl(c,{extent:d}),rl(Ia(a.tiles,ql)));if(r(a.attribution)){b=r(d)?d:b.I();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[Qh(c,b,e)];this.je=[new hh({html:a.attribution,tileRanges:d})]}this.H="ready";this.M()};function Bl(a){Yh.call(this,{projection:Dh("EPSG:3857"),state:"loading"});this.bf=r(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=sl;this.R=new vl;(new ll(a.url)).send(void 0,C(this.Je,this))}G(Bl,Yh);k=Bl.prototype;k.fb=function(){return this.R.fb()};k.kc=function(a){this.R.kc(a)};function Cl(a,b,c,d,e){null!==a.tileGrid&&(c=Sh(a.tileGrid,b[0],b[1],c,!1,void 0),Dl(a.nb(c[0],c[1],c[2],1,a.Bc),b,d,e))}
k.Je=function(a){var b=Dh("EPSG:4326"),c=this.Bc,d;r(a.bounds)&&(d=rh(a.bounds,Fh(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new yl({extent:Xh(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=tl(zl(c,{extent:d}),rl(Ia(g,ql)));if(r(a.attribution)){b=r(d)?d:b.I();for(d={};e<=f;++e)g=e.toString(),d[g]=[Qh(c,b,e)];this.je=[new hh({html:a.attribution,tileRanges:d})]}this.H="ready"}else this.H="error";this.M()};
k.nb=function(a,b,c,d,e){var f=this.oc(a,b,c);if(this.R.S(f))return this.R.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new El(a,r(d)?0:4,r(d)?d:"",Ph(this.tileGrid,a),this.bf);this.R.set(f,d);return d};k.qf=function(a,b,c){a=this.oc(a,b,c);this.R.S(a)&&this.R.get(a)};function El(a,b,c,d,e){Lh.call(this,a,b);this.Ic=c;this.N=d;this.bf=e;this.ve=this.u=this.pd=null}G(El,Lh);k=El.prototype;k.ja=function(){return null};
k.getData=function(a){if(null!==this.pd&&null!==this.u&&null!==this.ve){var b=this.pd[Math.floor((1-(a[1]-this.N[1])/(this.N[3]-this.N[1]))*this.pd.length)];if(x(b))return a=b.charCodeAt(Math.floor((a[0]-this.N[0])/(this.N[2]-this.N[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.u[a-32],null!=a?this.ve[a]:void 0}};function Dl(a,b,c,d){0==a.state?(Lc(a,"change",function(){c.call(d,this.getData(b))},!1,a),Fl(a)):c.call(d,a.getData(b))}k.getKey=function(){return this.Ic};k.rd=function(){this.state=3;this.M()};
k.Ie=function(a){this.pd=a.grid;this.u=a.keys;this.ve=a.data;this.state=4;this.M()};function Fl(a){0==a.state&&(a.state=1,(new ll(a.Ic)).send(void 0,C(a.Ie,a),C(a.rd,a)))}k.load=function(){this.bf&&Fl(this)};function Gl(){var a=Hh();this.Jg=Eb("map");this.tf=new Bl({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.Ca=new X({extent:a,zoom:7,minZoom:6});this.a=new $({target:this.Jg,controls:[],layers:[new Vj({source:new Al({url:"http://cynefin.tileserver.com/cynefin-counties.json"})}),new Vj({source:new Al({url:"http://cynefin.tileserver.com/cynefin-parishes.json"})}),new Vj({source:this.tf})],view:this.Ca});Ef(this.a,Zg,function(a){var c=this.Ca.j()||1;Cl(this.tf,a.coordinate,
c,this.oi,this)},this);Ef(this.a,Ug,function(a){var c=this.Ca.j()||1;Cl(this.tf,a.coordinate,c,this.qi,this)},this);Ff(this.a,function(){var b=this.a.ba();if(b){var c=this.Ca;if(!(a[2]<a[0]||a[3]<a[1])){c.Ba(lh(a));var b=Math.max((a[2]-a[0])/b[0],(a[3]-a[1])/b[1]),d=c.constrainResolution(b,0,0);d<b&&(d=c.constrainResolution(d,-1,0));c.Gc(d)}}else Hl(this,[-3.9001,52.3118])},this);this.Ia=new ge;this.ye=!1;Ec(this.Ia,"opened",function(a){if(!this.ye){var c=Fi(this.Ca);if(10!=c){var d=this.Ca,e=d.constrainResolution(d.Xe,
10-d.Ye,0);d.Gc(e)}Hl(this,a.center,10==c)}},!1,this)}
function Hl(a,b,c){if(b=Eh("EPSG:4326","EPSG:3857")(b)){var d=a.Ca.ia();c&&d&&a.a.Ga(Ni({duration:300,source:d}));c=a.a.ba();var e;if(d=Eb("application-panel")){e=c[0];if("none"!=cf(d,"display"))d=hf(d);else{var f=d.style,g=f.display,h=f.visibility,m=f.position;f.visibility="hidden";f.position="absolute";f.display="inline";d=hf(d);f.display=g;f.position=m;f.visibility=h}e=[(e+d.width)/2,c[1]/2]}e&&c?(a=a.Ca,d=b,b=e,f=a.mb(),e=Math.cos(-f),f=Math.sin(-f),g=d[0]*e-d[1]*f,d=d[1]*e+d[0]*f,h=a.j(),g+=
(c[0]/2-b[0])*h,d+=(b[1]-c[1]/2)*h,f=-f,a.Ba([g*e-d*f,d*e+g*f])):a.Ca.Ba(b)}}Gl.prototype.oi=function(a){this.Jg.style.cursor=a?"pointer":"";me(this.Ia,a?a.County:null)};Gl.prototype.qi=function(a){if(a){var b=a.County;if(x(b)){var c=C(function(){9<Fi(this.Ca)&&te(this.Ia,a.SHAPE_ID.toString())},this);b!=le(this.Ia)?(this.ye=!0,ke(this.Ia,b,c),this.ye=!1):c()}}};ba("TitheMaps",Gl);
