var h,aa=aa||{},l=this;function r(a){return void 0!==a}function ba(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ca(){}function da(a){a.gb=function(){return a.Mh?a.Mh:a.Mh=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return"array"==ea(a)}function ga(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){return"function"==ea(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function B(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;
function na(a,b,c){return a.call.apply(a.bind,arguments)}function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return C.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Em=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(sa,Error);sa.prototype.name="CustomError";var ta;function ua(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function va(a){if(!xa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ya,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(za,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Aa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ba,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ca,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Da,"\x26#0;"));return a}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/"/g,Ca=/'/g,Da=/\x00/g,xa=/[\x00&<>"']/;
function Ea(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Fa(a,b){return a<b?-1:a>b?1:0}function Ga(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ha(a){var b=w(void 0)?Ea(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Ia=Array.prototype,Ja=Ia.indexOf?function(a,b,c){return Ia.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},G=Ia.forEach?function(a,b,c){Ia.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=Ia.filter?function(a,b,c){return Ia.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=w(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},La=Ia.map?function(a,b,c){return Ia.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ma=Ia.some?function(a,b,c){return Ia.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Na=Ia.every?function(a,b,c){return Ia.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c;a:{c=a.length;for(var d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:w(a)?a.charAt(c):a[c]}function Pa(a,b){var c=Ja(a,b),d;(d=0<=c)&&Ia.splice.call(a,c,1);return d}function Qa(a){return Ia.concat.apply(Ia,arguments)}function Ra(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Sa(a,b,c,d){Ia.splice.apply(a,Ta(arguments,1))}function Ta(a,b,c){return 2>=arguments.length?Ia.slice.call(a,b):Ia.slice.call(a,b,c)}function Ua(a,b){if(!ga(a)||!ga(b)||a.length!=b.length)return!1;for(var c=a.length,d=Va,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Wa(a,b){return a>b?1:a<b?-1:0}function Va(a,b){return a===b};var Xa;a:{var Ya=l.navigator;if(Ya){var Za=Ya.userAgent;if(Za){Xa=Za;break a}}Xa=""}function $a(a){return-1!=Xa.indexOf(a)};function ab(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function bb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function cb(a){var b=0,c;for(c in a)b++;return b}function db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function fb(a){for(var b in a)return!1;return!0}function gb(a){for(var b in a)delete a[b]}function hb(a,b){b in a&&delete a[b]}function K(a,b,c){return b in a?a[b]:c}
function ib(a){var b={},c;for(c in a)b[c]=a[c];return b}var jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<jb.length;f++)c=jb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var lb,mb,nb;function ob(){return l.navigator||null}var pb=$a("Opera")||$a("OPR"),M=$a("Trident")||$a("MSIE"),qb=$a("Gecko")&&-1==Xa.toLowerCase().indexOf("webkit")&&!($a("Trident")||$a("MSIE")),N=-1!=Xa.toLowerCase().indexOf("webkit"),rb,sb=ob();rb=sb&&sb.platform||"";lb=-1!=rb.indexOf("Mac");mb=-1!=rb.indexOf("Win");nb=-1!=rb.indexOf("Linux");var tb=!!ob()&&-1!=(ob().appVersion||"").indexOf("X11");function ub(){var a=l.document;return a?a.documentMode:void 0}
var vb=function(){var a="",b;if(pb&&l.opera)return a=l.opera.version,ia(a)?a():a;qb?b=/rv\:([^\);]+)(\)|;)/:M?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:N&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Xa))?a[1]:"");return M&&(b=ub(),b>parseFloat(a))?String(b):a}(),wb={};
function O(a){var b;if(!(b=wb[a])){b=0;for(var c=ua(String(vb)).split("."),d=ua(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],s=n.exec(k)||["","",""];if(0==p[0].length&&0==s[0].length)break;b=Fa(0==p[1].length?0:parseInt(p[1],10),0==s[1].length?0:parseInt(s[1],10))||Fa(0==p[2].length,0==s[2].length)||Fa(p[2],s[2])}while(0==b)}b=wb[a]=0<=b}return b}
var xb=l.document,yb=xb&&M?ub()||("CSS1Compat"==xb.compatMode?parseInt(vb,10):5):void 0;var zb=!M||M&&9<=yb;!qb&&!M||M&&M&&9<=yb||qb&&O("1.9.1");var Ab=M&&!O("9");function Bb(a,b,c){return Math.min(Math.max(a,b),c)}function Cb(a,b){var c=a%b;return 0>c*b?c+b:c};function Q(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}h=Q.prototype;h.clone=function(){return new Q(this.x,this.y)};function Db(a,b){return new Q(a.x-b.x,a.y-b.y)}h.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};h.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};h.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
h.translate=function(a,b){a instanceof Q?(this.x+=a.x,this.y+=a.y):(this.x+=a,ha(b)&&(this.y+=b));return this};h.scale=function(a,b){var c=ha(b)?b:a;this.x*=a;this.y*=c;return this};function Eb(a,b){this.width=a;this.height=b}function Fb(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}h=Eb.prototype;h.clone=function(){return new Eb(this.width,this.height)};h.kb=function(){return!(this.width*this.height)};h.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.scale=function(a,b){var c=ha(b)?b:a;this.width*=a;this.height*=c;return this};function Gb(a){return a?new Hb(Ib(a)):ta||(ta=new Hb)}function Jb(a){var b=document;return w(a)?b.getElementById(a):a}function Kb(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function Lb(a,b){ab(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Mb?a.setAttribute(Mb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Mb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Nb(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Eb(a.clientWidth,a.clientHeight)}function Ob(a){return N||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Qb(a){return a.parentWindow||a.defaultView}function Rb(a,b,c){return Sb(document,arguments)}
function Sb(a,b){var c=b[0],d=b[1];if(!zb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',va(d.name),'"');if(d.type){c.push(' type\x3d"',va(d.type),'"');var e={};kb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:fa(d)?c.className=d.join(" "):Lb(c,d));2<b.length&&Tb(a,c,b,2);return c}
function Tb(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ga(f)||ja(f)&&0<f.nodeType?e(f):G(Ub(f)?Ra(f):f,e)}}function Vb(a){return document.createElement(a)}function Wb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Xb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Yb(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Zb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function $b(a){return ja(a)&&1==a.nodeType}function ac(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ib(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function bc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Wb(a),a.appendChild(Ib(a).createTextNode(String(b)))}var cc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},dc={IMG:" ",BR:"\n"};
function ec(a){if(Ab&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];fc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ab||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function fc(a,b,c){if(!(a.nodeName in cc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in dc)b.push(dc[a.nodeName]);else for(a=a.firstChild;a;)fc(a,b,c),a=a.nextSibling}function Ub(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;if(ia(a))return"function"==typeof a.item}return!1}function gc(a){return hc(a,function(a){return"FORM"==a.nodeName&&!0})}
function hc(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Hb(a){this.ha=a||l.document||document}h=Hb.prototype;h.vd=Lb;h.Tg=function(a,b,c){return Sb(this.ha,arguments)};h.createElement=function(a){return this.ha.createElement(a)};h.createTextNode=function(a){return this.ha.createTextNode(String(a))};function ic(a){return"CSS1Compat"==a.ha.compatMode}
function jc(a){var b=a.ha;a=Ob(b);b=Qb(b);return M&&O("10")&&b.pageYOffset!=a.scrollTop?new Q(a.scrollLeft,a.scrollTop):new Q(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}h.appendChild=function(a,b){a.appendChild(b)};h.append=function(a,b){Tb(Ib(a),a,arguments,1)};h.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
h.vl=Wb;h.removeNode=Zb;h.contains=ac;function kc(a){if(a.classList)return a.classList;a=a.className;return w(a)&&a.match(/\S+/g)||[]}function lc(a,b){var c;a.classList?c=a.classList.contains(b):(c=kc(a),c=0<=Ja(c,b));return c}function mc(a,b){a.classList?a.classList.add(b):lc(a,b)||(a.className+=0<a.className.length?" "+b:b)}function nc(a,b){if(a.classList)G(b,function(b){mc(a,b)});else{var c={};G(kc(a),function(a){c[a]=!0});G(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function oc(a,b){a.classList?a.classList.remove(b):lc(a,b)&&(a.className=Ka(kc(a),function(a){return a!=b}).join(" "))}function pc(a,b){a.classList?G(b,function(b){oc(a,b)}):a.className=Ka(kc(a),function(a){return!(0<=Ja(b,a))}).join(" ")}function qc(a,b,c){c?mc(a,b):oc(a,b)};var rc=!M||M&&9<=yb,sc=!M||M&&9<=yb,tc=M&&!O("9");!N||O("528");qb&&O("1.9b")||M&&O("8")||pb&&O("9.5")||N&&O("528");qb&&!O("8")||M&&O("9");function uc(){0!=vc&&(wc[B(this)]=this);this.Tc=this.Tc;this.Yb=this.Yb}var vc=0,wc={};uc.prototype.Tc=!1;uc.prototype.cb=function(){if(!this.Tc&&(this.Tc=!0,this.b(),0!=vc)){var a=B(this);delete wc[a]}};function xc(a,b){var c=qa(yc,b);a.Yb||(a.Yb=[]);a.Yb.push(r(void 0)?C(c,void 0):c)}uc.prototype.b=function(){if(this.Yb)for(;this.Yb.length;)this.Yb.shift()()};function yc(a){a&&"function"==typeof a.cb&&a.cb()};function S(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ac=!1;this.Ii=!0}S.prototype.b=function(){};S.prototype.cb=function(){};S.prototype.stopPropagation=function(){this.ac=!0};S.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ii=!1};function zc(a){a.stopPropagation()};var Ac=qb?"DOMMouseScroll":"mousewheel",Bc=M?"focusout":"DOMFocusOut";function Cc(a){Cc[" "](a);return a}Cc[" "]=ca;function Dc(a,b){S.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Ce=!1;this.k=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(qb){var e;a:{try{Cc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=N||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=N||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Ce=lb?a.metaKey:a.ctrlKey;this.state=a.state;this.k=a;a.defaultPrevented&&this.preventDefault()}}D(Dc,S);var Ec=[1,4,2];function Fc(a){return(rc?0==a.k.button:"click"==a.type?!0:!!(a.k.button&Ec[0]))&&!(N&&lb&&a.ctrlKey)}Dc.prototype.stopPropagation=function(){Dc.h.stopPropagation.call(this);this.k.stopPropagation?this.k.stopPropagation():this.k.cancelBubble=!0};
Dc.prototype.preventDefault=function(){Dc.h.preventDefault.call(this);var a=this.k;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Dc.prototype.Oj=function(){return this.k};Dc.prototype.b=function(){};var Gc="closure_listenable_"+(1E6*Math.random()|0);function Hc(a){return!(!a||!a[Gc])}var Ic=0;function Jc(a,b,c,d,e){this.Wb=a;this.Ge=null;this.src=b;this.type=c;this.Oc=!!d;this.he=e;this.key=++Ic;this.Gc=this.Kd=!1}function Kc(a){a.Gc=!0;a.Wb=null;a.Ge=null;a.src=null;a.he=null};function Lc(a){this.src=a;this.T={};this.Hd=0}h=Lc.prototype;h.add=function(a,b,c,d,e){var f=a.toString();a=this.T[f];a||(a=this.T[f]=[],this.Hd++);var g=Mc(a,b,d,e);-1<g?(b=a[g],c||(b.Kd=!1)):(b=new Jc(b,this.src,f,!!d,e),b.Kd=c,a.push(b));return b};h.remove=function(a,b,c,d){a=a.toString();if(!(a in this.T))return!1;var e=this.T[a];b=Mc(e,b,c,d);return-1<b?(Kc(e[b]),Ia.splice.call(e,b,1),0==e.length&&(delete this.T[a],this.Hd--),!0):!1};
function Nc(a,b){var c=b.type;if(!(c in a.T))return!1;var d=Pa(a.T[c],b);d&&(Kc(b),0==a.T[c].length&&(delete a.T[c],a.Hd--));return d}h.He=function(a){a=a&&a.toString();var b=0,c;for(c in this.T)if(!a||c==a){for(var d=this.T[c],e=0;e<d.length;e++)++b,Kc(d[e]);delete this.T[c];this.Hd--}return b};h.bd=function(a,b,c,d){a=this.T[a.toString()];var e=-1;a&&(e=Mc(a,b,c,d));return-1<e?a[e]:null};
h.wb=function(a,b){var c=r(a),d=c?a.toString():"",e=r(b);return bb(this.T,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Oc!=b))return!0;return!1})};function Mc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Gc&&f.Wb==b&&f.Oc==!!c&&f.he==d)return e}return-1};var Oc="closure_lm_"+(1E6*Math.random()|0),Pc={},Qc=0;function T(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)T(a,b[f],c,d,e);return null}c=Rc(c);return Hc(a)?a.ma(b,c,d,e):Sc(a,b,c,!1,d,e)}function Sc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Tc(a);k||(a[Oc]=k=new Lc(a));c=k.add(b,c,d,e,f);if(c.Ge)return c;d=Uc();c.Ge=d;d.src=a;d.Wb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Vc(b.toString()),d);Qc++;return c}
function Uc(){var a=Wc,b=sc?function(c){return a.call(b.src,b.Wb,c)}:function(c){c=a.call(b.src,b.Wb,c);if(!c)return c};return b}function Xc(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)Xc(a,b[f],c,d,e);return null}c=Rc(c);return Hc(a)?a.Vf(b,c,d,e):Sc(a,b,c,!0,d,e)}function Yc(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)Yc(a,b[f],c,d,e);else c=Rc(c),Hc(a)?a.Va(b,c,d,e):a&&(a=Tc(a))&&(b=a.bd(b,c,!!d,e))&&U(b)}
function U(a){if(ha(a)||!a||a.Gc)return!1;var b=a.src;if(Hc(b))return Nc(b.Na,a);var c=a.type,d=a.Ge;b.removeEventListener?b.removeEventListener(c,d,a.Oc):b.detachEvent&&b.detachEvent(Vc(c),d);Qc--;(c=Tc(b))?(Nc(c,a),0==c.Hd&&(c.src=null,b[Oc]=null)):Kc(a);return!0}function Vc(a){return a in Pc?Pc[a]:Pc[a]="on"+a}function Zc(a,b,c,d){var e=1;if(a=Tc(a))if(b=a.T[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Oc==c&&!f.Gc&&(e&=!1!==$c(f,d))}return Boolean(e)}
function $c(a,b){var c=a.Wb,d=a.he||a.src;a.Kd&&U(a);return c.call(d,b)}
function Wc(a,b){if(a.Gc)return!0;if(!sc){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Dc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.ac&&0<=k;k--)c.currentTarget=e[k],d&=Zc(e[k],f,!0,c);for(k=0;!c.ac&&k<e.length;k++)c.currentTarget=
e[k],d&=Zc(e[k],f,!1,c)}return d}return $c(a,new Dc(b,this))}function Tc(a){a=a[Oc];return a instanceof Lc?a:null}var ad="__closure_events_fn_"+(1E9*Math.random()>>>0);function Rc(a){if(ia(a))return a;a[ad]||(a[ad]=function(b){return a.handleEvent(b)});return a[ad]};function V(){uc.call(this);this.Na=new Lc(this);this.rj=this;this.bg=null}D(V,uc);V.prototype[Gc]=!0;h=V.prototype;h.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){Yc(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.bg;if(c)for(b=[];c;c=c.bg)b.push(c);var c=this.rj,d=a.type||a;if(w(a))a=new S(a,c);else if(a instanceof S)a.target=a.target||c;else{var e=a;a=new S(d,c);kb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.ac&&0<=g;g--)f=a.currentTarget=b[g],e=bd(f,d,!0,a)&&e;a.ac||(f=a.currentTarget=c,e=bd(f,d,!0,a)&&e,a.ac||(e=bd(f,d,!1,a)&&e));if(b)for(g=0;!a.ac&&g<b.length;g++)f=a.currentTarget=b[g],e=bd(f,d,!1,a)&&e;return e};
h.b=function(){V.h.b.call(this);this.Na&&this.Na.He(void 0);this.bg=null};h.ma=function(a,b,c,d){return this.Na.add(String(a),b,!1,c,d)};h.Vf=function(a,b,c,d){return this.Na.add(String(a),b,!0,c,d)};h.Va=function(a,b,c,d){return this.Na.remove(String(a),b,c,d)};function bd(a,b,c,d){b=a.Na.T[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Gc&&g.Oc==c){var k=g.Wb,m=g.he||g.src;g.Kd&&Nc(a.Na,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Ii}
h.bd=function(a,b,c,d){return this.Na.bd(String(a),b,c,d)};h.wb=function(a,b){return this.Na.wb(r(a)?String(a):void 0,b)};function cd(){}cd.prototype.Hg=null;function dd(a){return a.Hg||(a.Hg=a.Nh())};var ed;function fd(){}D(fd,cd);fd.prototype.qf=function(){var a=gd(this);return a?new ActiveXObject(a):new XMLHttpRequest};fd.prototype.Nh=function(){var a={};gd(this)&&(a[0]=!0,a[1]=!0);return a};
function gd(a){if(!a.Eh&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Eh=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Eh}ed=new fd;function hd(){}D(hd,cd);hd.prototype.qf=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new id;throw Error("Unsupported browser");};hd.prototype.Nh=function(){return{}};
function id(){this.Fa=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Fa.onload=C(this.Ff,this);this.Fa.onerror=C(this.fe,this);this.Fa.onprogress=C(this.ik,this);this.Fa.ontimeout=C(this.pk,this)}h=id.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Fa.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.Fa.send(a);else throw Error("Only string data is supported");else this.Fa.send()};h.abort=function(){this.Fa.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Fa.contentType:""};h.Ff=function(){this.status=200;this.responseText=this.Fa.responseText;jd(this,4)};h.fe=function(){this.status=500;this.responseText=null;jd(this,4)};h.pk=function(){this.fe()};
h.ik=function(){this.status=200;jd(this,1)};function jd(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return"content-type: "+this.Fa.contentType};function kd(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function ld(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function nd(a){return function(){return a}}var od=nd(!1),pd=nd(!0);function qd(a){return a}function rd(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function sd(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function td(a){l.setTimeout(function(){throw a;},0)}function ud(a,b){var c=a;b&&(c=C(a,b));c=vd(c);!ia(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(wd||(wd=xd()),wd(c)):l.setImmediate(c)}var wd;
function xd(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!$a("Trident")&&!$a("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Ig;c.Ig=null;a()};return function(a){d.next={Ig:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var vd=qd;function yd(a,b){zd||Ad();Bd||(zd(),Bd=!0);Cd.push(new Dd(a,b))}var zd;function Ad(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();zd=function(){a.then(Ed)}}else zd=function(){ud(Ed)}}var Bd=!1,Cd=[];function Ed(){for(;Cd.length;){var a=Cd;Cd=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Jj.call(c.scope)}catch(d){td(d)}}}Bd=!1}function Dd(a,b){this.Jj=a;this.scope=b};function Fd(a,b){this.j=Gd;this.ob=void 0;this.pa=this.$=null;this.ee=this.Af=!1;try{var c=this;a.call(b,function(a){Hd(c,Id,a)},function(a){Hd(c,Jd,a)})}catch(d){Hd(this,Jd,d)}}var Gd=0,Id=2,Jd=3;Fd.prototype.then=function(a,b,c){return Kd(this,ia(a)?a:null,ia(b)?b:null,c)};kd(Fd);Fd.prototype.cancel=function(a){this.j==Gd&&yd(function(){var b=new Ld(a);Md(this,b)},this)};
function Md(a,b){if(a.j==Gd)if(a.$){var c=a.$;if(c.pa){for(var d=0,e=-1,f=0,g;g=c.pa[f];f++)if(g=g.Md)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.j==Gd&&1==d?Md(c,b):(d=c.pa.splice(e,1)[0],Nd(c,d,Jd,b)))}}else Hd(a,Jd,b)}function Od(a,b){a.pa&&a.pa.length||a.j!=Id&&a.j!=Jd||Pd(a);a.pa||(a.pa=[]);a.pa.push(b)}
function Kd(a,b,c,d){var e={Md:null,ki:null,ri:null};e.Md=new Fd(function(a,g){e.ki=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.ri=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof Ld?g(b):a(e)}catch(n){g(n)}}:g});e.Md.$=a;Od(a,e);return e.Md}Fd.prototype.hj=function(a){this.j=Gd;Hd(this,Id,a)};Fd.prototype.ij=function(a){this.j=Gd;Hd(this,Jd,a)};
function Hd(a,b,c){if(a.j==Gd){if(a==c)b=Jd,c=new TypeError("Promise cannot resolve to itself");else{if(ld(c)){a.j=1;c.then(a.hj,a.ij,a);return}if(ja(c))try{var d=c.then;if(ia(d)){Qd(a,c,d);return}}catch(e){b=Jd,c=e}}a.ob=c;a.j=b;Pd(a);b!=Jd||c instanceof Ld||Rd(a,c)}}function Qd(a,b,c){function d(b){f||(f=!0,a.ij(b))}function e(b){f||(f=!0,a.hj(b))}a.j=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Pd(a){a.Af||(a.Af=!0,yd(a.Gj,a))}
Fd.prototype.Gj=function(){for(;this.pa&&this.pa.length;){var a=this.pa;this.pa=[];for(var b=0;b<a.length;b++)Nd(this,a[b],this.j,this.ob)}this.Af=!1};function Nd(a,b,c,d){if(c==Id)b.ki(d);else{for(;a&&a.ee;a=a.$)a.ee=!1;b.ri(d)}}function Rd(a,b){a.ee=!0;yd(function(){a.ee&&Sd.call(null,b)})}var Sd=td;function Ld(a){sa.call(this,a)}D(Ld,sa);Ld.prototype.name="cancel";function Td(a,b){V.call(this);this.Ub=a||1;this.Kc=b||l;this.hf=C(this.Wl,this);this.Uf=ra()}D(Td,V);h=Td.prototype;h.enabled=!1;h.r=null;h.setInterval=function(a){this.Ub=a;this.r&&this.enabled?(this.stop(),this.start()):this.r&&this.stop()};h.Wl=function(){if(this.enabled){var a=ra()-this.Uf;0<a&&a<.8*this.Ub?this.r=this.Kc.setTimeout(this.hf,this.Ub-a):(this.r&&(this.Kc.clearTimeout(this.r),this.r=null),this.dispatchEvent(Ud),this.enabled&&(this.r=this.Kc.setTimeout(this.hf,this.Ub),this.Uf=ra()))}};
h.start=function(){this.enabled=!0;this.r||(this.r=this.Kc.setTimeout(this.hf,this.Ub),this.Uf=ra())};h.stop=function(){this.enabled=!1;this.r&&(this.Kc.clearTimeout(this.r),this.r=null)};h.b=function(){Td.h.b.call(this);this.stop();delete this.Kc};var Ud="tick";function Vd(a,b,c){if(ia(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Wd(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Xd(a){if("function"==typeof a.Qa)return a.Qa();if(w(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return db(a)}function Yd(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ga(a)||w(a))G(a,b,c);else{var d;if("function"==typeof a.Oa)d=a.Oa();else if("function"!=typeof a.Qa)if(ga(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=eb(a);else d=void 0;for(var e=Xd(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Zd(a,b){this.a={};this.p=[];this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Zd?(c=a.Oa(),d=a.Qa()):(c=eb(a),d=db(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=Zd.prototype;h.fb=function(){return this.g};h.Qa=function(){$d(this);for(var a=[],b=0;b<this.p.length;b++)a.push(this.a[this.p[b]]);return a};h.Oa=function(){$d(this);return this.p.concat()};
h.da=function(a){return ae(this.a,a)};h.fh=function(a,b){if(this===a)return!0;if(this.g!=a.fb())return!1;var c=b||be;$d(this);for(var d,e=0;d=this.p[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function be(a,b){return a===b}h.kb=function(){return 0==this.g};h.clear=function(){this.a={};this.g=this.p.length=0};h.remove=function(a){return ae(this.a,a)?(delete this.a[a],this.g--,this.p.length>2*this.g&&$d(this),!0):!1};
function $d(a){if(a.g!=a.p.length){for(var b=0,c=0;b<a.p.length;){var d=a.p[b];ae(a.a,d)&&(a.p[c++]=d);b++}a.p.length=c}if(a.g!=a.p.length){for(var e={},c=b=0;b<a.p.length;)d=a.p[b],ae(e,d)||(a.p[c++]=d,e[d]=1),b++;a.p.length=c}}h.get=function(a,b){return ae(this.a,a)?this.a[a]:b};h.set=function(a,b){ae(this.a,a)||(this.g++,this.p.push(a));this.a[a]=b};h.forEach=function(a,b){for(var c=this.Oa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Zd(this)};
function ae(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function de(a){if(ee){ee=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=de(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw ee=!0,Error();}}return a.match(ce)}var ee=N;function fe(a){V.call(this);this.headers=new Zd;this.Ye=a||null;this.ua=!1;this.Xe=this.e=null;this.se=this.Sf="";this.Tb=this.Lf=this.me=this.zf=!1;this.Qe=0;this.Eb=null;this.Hi=ge;this.vg=this.qm=!1}D(fe,V);var ge="",he=/^https?$/i,ie=["POST","PUT"];h=fe.prototype;
h.send=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Sf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Sf=a;this.se="";this.zf=!1;this.ua=!0;this.e=this.Ye?this.Ye.qf():ed.qf();this.Xe=this.Ye?dd(this.Ye):dd(ed);this.e.onreadystatechange=C(this.qi,this);try{this.Lf=!0,this.e.open(b,String(a),!0),this.Lf=!1}catch(e){this.Ud(5,e);return}a=c||"";var f=this.headers.clone();d&&Yd(d,function(a,b){f.set(b,a)});d=Oa(f.Oa(),je);c=l.FormData&&a instanceof
l.FormData;!(0<=Ja(ie,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.e.setRequestHeader(b,a)},this);this.Hi&&(this.e.responseType=this.Hi);"withCredentials"in this.e&&(this.e.withCredentials=this.qm);try{ke(this),0<this.Qe&&((this.vg=le(this.e))?(this.e.timeout=this.Qe,this.e.ontimeout=C(this.ec,this)):this.Eb=Vd(this.ec,this.Qe,this)),this.me=!0,this.e.send(a),this.me=!1}catch(g){this.Ud(5,g)}};
function le(a){return M&&O(9)&&ha(a.timeout)&&r(a.ontimeout)}function je(a){return"content-type"==a.toLowerCase()}h.ec=function(){"undefined"!=typeof aa&&this.e&&(this.se="Timed out after "+this.Qe+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};h.Ud=function(a,b){this.ua=!1;this.e&&(this.Tb=!0,this.e.abort(),this.Tb=!1);this.se=b;me(this);ne(this)};function me(a){a.zf||(a.zf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(){this.e&&this.ua&&(this.ua=!1,this.Tb=!0,this.e.abort(),this.Tb=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ne(this))};h.b=function(){this.e&&(this.ua&&(this.ua=!1,this.Tb=!0,this.e.abort(),this.Tb=!1),ne(this,!0));fe.h.b.call(this)};h.qi=function(){this.Tc||(this.Lf||this.me||this.Tb?oe(this):this.el())};h.el=function(){oe(this)};
function oe(a){if(a.ua&&"undefined"!=typeof aa&&(!a.Xe[1]||4!=pe(a)||2!=qe(a)))if(a.me&&4==pe(a))Vd(a.qi,0,a);else if(a.dispatchEvent("readystatechange"),4==pe(a)){a.ua=!1;try{if(re(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<pe(a)?a.e.statusText:""}catch(c){b=""}a.se=b+" ["+qe(a)+"]";me(a)}}finally{ne(a)}}}function ne(a,b){if(a.e){ke(a);var c=a.e,d=a.Xe[0]?ca:null;a.e=null;a.Xe=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function ke(a){a.e&&a.vg&&(a.e.ontimeout=null);ha(a.Eb)&&(l.clearTimeout(a.Eb),a.Eb=null)}h.vc=function(){return!!this.e};function re(a){var b=qe(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=de(String(a.Sf))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!he.test(a?a.toLowerCase():"");c=b}return c}function pe(a){return a.e?a.e.readyState:0}
function qe(a){try{return 2<pe(a)?a.e.status:-1}catch(b){return-1}}function se(a){if(a.e)return Wd(a.e.responseText)}h.getResponseHeader=function(a){return this.e&&4==pe(this)?this.e.getResponseHeader(a):void 0};h.getAllResponseHeaders=function(){return this.e&&4==pe(this)?this.e.getAllResponseHeaders():""};function te(){V.call(this);this.Sg=Jb("counties-list");this.Cg=Jb("application-panel");this.Aj=Jb("county-detail-name");this.zj=Jb("county-detail-hide");T(this.zj,"click",function(a){this.Ga&&oc(this.Ga.jd,"active");this.Ga=null;mc(this.Cg,"no-county-detail");a.preventDefault()},!1,this);this.Hk=Jb("map-list");this.Ph="";var a=Jb("item-template");a&&(this.Ph=a.innerHTML,Zb(a));this.Wf=Jb("map-filter");this.Gk=Jb("map-filter-clear");T(this.Wf,"input",function(){ue(this,this.Wf.value)},!1,this);T(this.Gk,
"click",function(){ue(this,"")},!1,this);this.nh=Jb("georeference-random");T(this.nh,"click",function(a){ve(this,this.nh.href,"/random/public/georeference/json");a.preventDefault()},!1,this);this.bj=Jb("transcribe-random");T(this.bj,"click",function(a){ve(this,this.bj.href,"/random/public/transcription/json");a.preventDefault()},!1,this);this.ab=[];this.If=this.Ga=null;this.ld=[];we(this)}D(te,V);
function we(a){if(a.Sg){var b=Kb("LI",a.Sg);G(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=Kb("A",a)[0],f=ec(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),k=null;w(g)&&(g=g.split(","),k=[parseFloat(g[1]),parseFloat(g[0])]);this.ab.push({name:f,id:b,center:k,anchor:e,jd:a});T(e,"click",function(a){xe(this,f);a.preventDefault()},!1,this)}}},a)}}function ye(a){return a.Ga?a.Ga.name:null}
function ze(a,b){a.If&&oc(a.If.jd,"highlighted");if(b){var c=Oa(a.ab,function(a){return a.name==b});c&&(mc(c.jd,"highlighted"),a.If=c)}}
function xe(a,b,c){var d=Oa(a.ab,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new fe(new hd);T(f,"complete",function(){if(re(f)){var a=se(f);Ae(this,a);c&&c()}},!1,a);f.send(e);bc(a.Aj,b);oc(a.Cg,"no-county-detail");a.Ga&&oc(a.Ga.jd,"active");mc(d.jd,"active");a.Ga=d;a.dispatchEvent({type:"opened",Fm:b,center:d.center})}}
function Be(a){return a.title+"|"+Ce(new De(a.transcription_url||""))+"|"+Ce(new De(a.georeference_url||""))+"|"+Ce(new De(a.visualize_url||""))+"||"+Ce(new De(a.object_url||""))}
function Ee(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",Be(b));return a}
function Ae(a,b){G(a.ld,function(a){G(a.keys,U);Zb(a.node)});a.ld=[];ue(a,"");G(b,function(a){var b;var e=Ee(this.Ph,a),f=document;b=f.createElement("div");M?(b.innerHTML="\x3cbr\x3e"+e,b.removeChild(b.firstChild)):b.innerHTML=e;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(e=f.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);b=e}b=b.firstElementChild;this.Hk.appendChild(b);this.ld.push({title:Fe(a.title),il:a.identifier,node:b,keys:[]})},a)}
function ve(a,b,c){if(a.Ga){c="http://cynefin.georeferencer.com/collection/"+a.Ga.id+c;var d=new fe(new hd);T(d,"complete",function(){if(re(d)){var a=se(d),a=b+"#"+Be(a);window.location=a}},!1,a);d.send(c)}}function ue(a,b){a.Wf.value=b;b=Fe(b);var c=b.split(" or ");G(a.ld,function(a){qc(a.node,"hidden",Na(c,function(b){return-1==a.title.indexOf(b)}))})}function Ge(a,b){var c="";G(a.ld,function(a){0<=Ja(a.il.split(","),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);ue(a,c)}
function Fe(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function He(a,b,c){V.call(this);this.Ab=a;this.td=c;this.fa=b;T(b,[Ie,Je,Ke,Me],this.handleEvent,!1,this);this.Ea=null;this.I=[];this.xb=-1;this.X=0;this.Kb=this.C=null;this.Lh={}}D(He,V);h=He.prototype;h.Mk=10;h.uj=!0;h.Bg=!1;h.pj=!1;h.cj=!1;var Ie="hilite",Je="select",Me="dismiss",Ke="canceldismiss";h=He.prototype;
h.handleEvent=function(a){var b=this.Ab;if(a.target==this.fa)switch(a.type){case Ie:this.jb(a.Ta);break;case Je:var c=!1;if(ha(a.Ta)){a=a.Ta;var d=this.I[Ne(this,a)],c=!!d&&b.Nf&&b.Nf(d);d&&!c&&this.xb!=a&&this.jb(a)}c||Oe(this);break;case Ke:Pe(this);break;case Me:Qe(this)}};h.sb=function(){return this.C};h.ng=function(a){this.C=a};
function Re(a){for(var b=a.X+a.I.length-1,c=a.xb,d=0;d<a.I.length;d++){if(c>=a.X&&c<b)c++;else if(-1==c)c=a.X;else if(a.Bg&&c==b){a.jb(-1);break}else if(a.pj&&c==b)c=a.X;else break;if(a.jb(c))break}}function Se(a){for(var b=a.X+a.I.length-1,c=a.xb,d=0;d<a.I.length;d++){if(c>a.X)c--;else if(a.Bg&&c==a.X){a.jb(-1);break}else if(!a.pj||-1!=c&&c!=a.X)break;else c=b;if(a.jb(c))break}}h.jb=function(a){var b=Ne(this,a),c=this.I[b];return c&&this.Ab.Nf&&this.Ab.Nf(c)?!1:(this.xb=a,this.fa.jb(a),-1!=b)};
function Oe(a){var b=Ne(a,a.xb);if(-1!=b){var c=a.I[b],d=a.td;if(d.i){var e=c.toString();if(r(void 0)?0:d.yc){var f=Te(d,d.i.value,Ue(d.i)),g=Ve(d,d.i.value);d.Cl.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.Bj);d.nm&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.i;(qb||M&&O("9"))&&e.blur();e.value=g.join("");for(var k=0,m=0;m<=f;m++)k+=g[m].length;e.focus();f=k;g=d.i;e=f;We(g)?g.selectionStart=e:M&&(k=Xe(g),m=k[0],m.inRange(k[1])&&(e=Ye(g,e),m.collapse(!0),
m.move("character",e),m.select()));g=d.i;We(g)?g.selectionEnd=f:M&&(k=Xe(g),e=k[1],k[0].inRange(e)&&(f=Ye(g,f),g=Ye(g,Ue(g)),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.i.value=e;d.jg=!0}a.cj?(a.Ea=null,Qe(a)):a.bb();a.dispatchEvent({type:"update",Ta:c,index:b});a.cj&&a.td.update(!0);return!0}a.bb();a.dispatchEvent({type:"update",Ta:null,index:null});return!1}
h.bb=function(){this.xb=-1;this.Ea=null;this.X+=this.I.length;this.I=[];window.clearTimeout(this.Kb);this.Kb=null;this.fa.bb();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Me)};function Qe(a){a.Kb||(a.Kb=window.setTimeout(C(a.bb,a),100))}h.Kh=function(){return this.Kb?(window.clearTimeout(this.Kb),this.Kb=null,!0):!1};function Pe(a){a.Kh()||window.setTimeout(C(a.Kh,a),10)}h.b=function(){He.h.b.call(this);delete this.Lh;this.fa.cb();this.td.cb();this.Ab=null};
h.Ik=function(a,b,c){this.Ea==a&&this.fg(b,c)};h.fg=function(a,b){var c="object"==ea(b)&&b,d=(c?c.Pm():b)?Ne(this,this.xb):-1;this.X+=this.I.length;this.I=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.X+f,data:a[f]});f=null;this.C&&(f=this.Lh[B(this.C)]||this.C);this.fa.sj=f;this.fa.fg(e,this.Ea,this.C);f=this.uj;c&&void 0!==c.Nj()&&(f=c.Nj());this.xb=-1;(f||0<=d)&&0!=e.length&&this.Ea&&(0<=d?this.jb(this.X+d):Re(this));this.dispatchEvent("suggestionsupdate")};
function Ne(a,b){var c=b-a.X;return 0>c||c>=a.I.length?-1:c}h.ef=function(a){var b=this.td;b.ef.apply(b,arguments)};h.update=function(a){this.td.update(a)};var Ze;function $e(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function af(a,b,c){fa(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Ze||(Ze={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Ze,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function bf(a,b){var c="";b&&(c=b.id);af(a,"activedescendant",c)};function Ue(a){var b;a:{var c=0,d=0;if(We(a))c=a.selectionStart,d=-1;else if(M){var e=Xe(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function Xe(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Ye(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function We(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function cf(a){uc.call(this);this.vb=a;this.p={}}D(cf,uc);var df=[];h=cf.prototype;h.ma=function(a,b,c,d){fa(b)||(b&&(df[0]=b.toString()),b=df);for(var e=0;e<b.length;e++){var f=T(a,b[e],c||this.handleEvent,d||!1,this.vb||this);if(!f)break;this.p[f.key]=f}return this};h.Vf=function(a,b,c,d){return ef(this,a,b,c,d)};function ef(a,b,c,d,e,f){if(fa(c))for(var g=0;g<c.length;g++)ef(a,b,c[g],d,e,f);else{b=Xc(b,c,d||a.handleEvent,e,f||a.vb||a);if(!b)return a;a.p[b.key]=b}return a}
h.Va=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)this.Va(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.vb||this,c=Rc(c),d=!!d,b=Hc(a)?a.bd(b,c,d,e):a?(a=Tc(a))?a.bd(b,c,d,e):null:null,b&&(U(b),delete this.p[b.key]);return this};h.He=function(){ab(this.p,U);this.p={}};h.b=function(){cf.h.b.call(this);this.He()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ff(a,b,c,d,e){if(!(M||N&&O("525")))return!0;if(lb&&e)return gf(a);if(e&&!d)return!1;ha(b)&&(b=hf(b));if(!c&&(17==b||18==b||lb&&91==b))return!1;if(N&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(M&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!N}return gf(a)}
function gf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||N&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function hf(a){if(qb)a=jf(a);else if(lb&&N)a:switch(a){case 93:a=91;break a}return a}
function jf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function kf(a,b){V.call(this);a&&lf(this,a,b)}D(kf,V);h=kf.prototype;h.d=null;h.oe=null;h.Of=null;h.pe=null;h.la=-1;h.yb=-1;h.bf=!1;
var mf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},nf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},of=M||N&&O("525"),pf=lb&&qb;h=kf.prototype;
h.Uj=function(a){N&&(17==this.la&&!a.ctrlKey||18==this.la&&!a.altKey||lb&&91==this.la&&!a.metaKey)&&(this.yb=this.la=-1);-1==this.la&&(a.ctrlKey&&17!=a.keyCode?this.la=17:a.altKey&&18!=a.keyCode?this.la=18:a.metaKey&&91!=a.keyCode&&(this.la=91));of&&!ff(a.keyCode,this.la,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.yb=hf(a.keyCode),pf&&(this.bf=a.altKey))};h.Wj=function(a){this.yb=this.la=-1;this.bf=a.altKey};
h.handleEvent=function(a){var b=a.k,c,d,e=b.altKey;M&&"keypress"==a.type?(c=this.yb,d=13!=c&&27!=c?b.keyCode:0):N&&"keypress"==a.type?(c=this.yb,d=0<=b.charCode&&63232>b.charCode&&gf(c)?b.charCode:0):pb?(c=this.yb,d=gf(c)?b.keyCode:0):(c=b.keyCode||this.yb,d=b.charCode||0,pf&&(e=this.bf),lb&&63==d&&224==c&&(c=191));var f=c=hf(c),g=b.keyIdentifier;c?63232<=c&&c in mf?f=mf[c]:25==c&&a.shiftKey&&(f=9):g&&g in nf&&(f=nf[g]);a=f==this.la;this.la=f;b=new qf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function lf(a,b,c){a.pe&&a.detach();a.d=b;a.oe=T(a.d,"keypress",a,c);a.Of=T(a.d,"keydown",a.Uj,c,a);a.pe=T(a.d,"keyup",a.Wj,c,a)}h.detach=function(){this.oe&&(U(this.oe),U(this.Of),U(this.pe),this.pe=this.Of=this.oe=null);this.d=null;this.yb=this.la=-1};h.b=function(){kf.h.b.call(this);this.detach()};function qf(a,b,c,d){Dc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(qf,Dc);var rf,sf;sf=rf=!1;var tf=Xa;tf&&(-1!=tf.indexOf("Firefox")||-1!=tf.indexOf("Camino")||(-1!=tf.indexOf("iPhone")||-1!=tf.indexOf("iPod")?rf=!0:-1!=tf.indexOf("iPad")&&(sf=!0)));var uf=rf,vf=sf;function wf(a,b,c,d){uc.call(this);d=d||150;this.yc=null!=c?c:!0;this.ud=a||",;";this.Bj=this.ud.substring(0,1);a=this.yc?"[\\s"+this.ud+"]+":"[\\s]+";this.dj=new RegExp("^"+a+"|"+a+"$","g");this.Cl=new RegExp("\\s*["+this.ud+"]$");this.$h=b||"";this.sl=!1;this.rl=this.yc;this.r=0<d?new Td(d):null;this.Q=new cf(this);this.$e=new cf(this);this.Ra=new kf;this.Th=-1}D(wf,uc);var xf=(uf||vf)&&!O("533.17.9");h=wf.prototype;h.nm=!0;h.Mj=!0;h.mj=!1;h.El=!0;h.Dl=!0;h.af=null;h.i=null;h.Tf="";h.Fb=!1;
h.jg=!1;h.kj=!0;h.ef=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];$b(c)&&af(c,"haspopup",!0);this.Q.ma(c,"focus",this.xh);this.Q.ma(c,"blur",this.Rj);if(!this.i&&(this.$e.ma(c,"keydown",this.dl),$b(c))){var d;a:{var e=Ib(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&yf(this,c)}}};h.b=function(){wf.h.b.call(this);null!=this.af&&window.clearTimeout(this.af);this.Q.cb();delete this.Q;this.$e.cb();this.Ra.cb();yc(this.r)};
function zf(a){a.r?a.r.setInterval(300):a.r=new Td(300)}
function Af(a,b){switch(b.keyCode){case 40:if(a.w.fa.Wa){a.mj?Se(a.w):Re(a.w);b.preventDefault();return}if(!a.yc){a.update(!0);b.preventDefault();return}break;case 38:if(a.w.fa.Wa){a.mj?Re(a.w):Se(a.w);b.preventDefault();return}break;case 9:if(!a.w.fa.Wa||b.shiftKey||a.sl)a.w.bb();else if(a.update(),Oe(a.w)&&a.rl){b.preventDefault();return}break;case 13:if(a.w.fa.Wa){if(a.update(),Oe(a.w)){b.preventDefault();b.stopPropagation();return}}else a.w.bb();break;case 27:if(a.w.fa.Wa){a.w.bb();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.Fb){a.Fb||(a.Q.ma(a.i,"keyup",a.ni),a.Q.ma(a.i,"keypress",a.mi),a.Fb=!0);return}break;default:a.r&&!a.kj&&(a.r.stop(),a.r.start())}Bf(a,b)}function Bf(a,b){var c=a.yc&&b.charCode&&-1!=a.ud.indexOf(String.fromCharCode(b.charCode));a.El&&c&&a.update();a.Dl&&c&&Oe(a.w)&&b.preventDefault()}h.Vj=function(){return!1};h.xh=function(a){yf(this,a.target||null)};
function yf(a,b){a.$e.He();a.w&&Pe(a.w);b!=a.i&&(a.i=b,a.r&&(a.r.start(),a.Q.ma(a.r,Ud,a.si)),a.Tf=a.i.value,lf(a.Ra,a.i),a.Q.ma(a.Ra,"key",a.oi),a.Q.ma(a.i,"mousedown",a.pi),M&&a.Q.ma(a.i,"keypress",a.li))}h.Rj=function(){xf?this.af=window.setTimeout(C(this.yi,this),0):this.yi()};
h.yi=function(){this.i&&(this.Q.Va(this.Ra,"key",this.oi),this.Ra.detach(),this.Q.Va(this.i,"keyup",this.Vj),this.Q.Va(this.i,"mousedown",this.pi),M&&this.Q.Va(this.i,"keypress",this.li),this.Fb&&Cf(this),this.i=null,this.r&&(this.r.stop(),this.Q.Va(this.r,Ud,this.si)),this.w&&Qe(this.w))};h.si=function(){this.update()};h.dl=function(a){this.xh(a)};h.oi=function(a){this.Th=a.keyCode;this.w&&Af(this,a)};h.mi=function(){this.Fb&&229!=this.Th&&Cf(this)};
h.ni=function(a){this.Fb&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Cf(this)};h.pi=function(){};function Cf(a){a.Fb&&(a.Fb=!1,a.Q.Va(a.i,"keypress",a.mi),a.Q.Va(a.i,"keyup",a.ni))}h.li=function(a){Bf(this,a)};
h.update=function(a){if(this.i&&(a||this.i.value!=this.Tf)){if(a||!this.jg){a=Ue(this.i);var b=this.i.value;a=Ve(this,b)[Te(this,b,a)];a=this.dj?String(a).replace(this.dj,""):a;this.w&&(this.w.ng(this.i),b=this.w,b.Ea!=a&&(b.Ea=a,Df(b.Ab,b.Ea,b.Mk,C(b.Ik,b)),Pe(b)))}this.Tf=this.i.value}this.jg=!1};function Te(a,b,c){a=Ve(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}
function Ve(a,b){if(!a.yc)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.$h&&-1!=a.$h.indexOf(c[f])?(a.Mj&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.ud.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Ef(){V.call(this);this.j=Ff;this.endTime=this.startTime=null}D(Ef,V);var Ff=0;Ef.prototype.Xb=function(){this.Ka("begin")};Ef.prototype.zc=function(){this.Ka("end")};Ef.prototype.Ka=function(a){this.dispatchEvent(a)};function Gf(a,b,c){uc.call(this);this.kd=a;this.vb=c;this.Xa=b||window;this.Nc=C(this.vf,this)}D(Gf,uc);h=Gf.prototype;h.u=null;h.wg=!1;h.start=function(){this.stop();this.wg=!1;var a=Hf(this),b=If(this);a&&!b&&this.Xa.mozRequestAnimationFrame?(this.u=T(this.Xa,"MozBeforePaint",this.Nc),this.Xa.mozRequestAnimationFrame(null),this.wg=!0):this.u=a&&b?a.call(this.Xa,this.Nc):this.Xa.setTimeout(rd(this.Nc),20)};
h.stop=function(){if(this.vc()){var a=Hf(this),b=If(this);a&&!b&&this.Xa.mozRequestAnimationFrame?U(this.u):a&&b?b.call(this.Xa,this.u):this.Xa.clearTimeout(this.u)}this.u=null};h.vc=function(){return null!=this.u};h.vf=function(){this.wg&&this.u&&U(this.u);this.u=null;this.kd.call(this.vb,ra())};h.b=function(){this.stop();Gf.h.b.call(this)};
function Hf(a){a=a.Xa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function If(a){a=a.Xa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Jf(a,b,c){uc.call(this);this.kd=a;this.Ub=b||0;this.vb=c;this.Nc=C(this.vf,this)}D(Jf,uc);h=Jf.prototype;h.u=0;h.b=function(){Jf.h.b.call(this);this.stop();delete this.kd;delete this.vb};h.start=function(a){this.stop();this.u=Vd(this.Nc,r(a)?a:this.Ub)};h.stop=function(){this.vc()&&l.clearTimeout(this.u);this.u=0};h.vc=function(){return 0!=this.u};h.vf=function(){this.u=0;this.kd&&this.kd.call(this.vb)};var Kf={},Lf=null;function Mf(a){a=B(a);delete Kf[a];fb(Kf)&&Lf&&Lf.stop()}function Nf(){Lf||(Lf=new Jf(function(){Of()},20));var a=Lf;a.vc()||a.start()}function Of(){var a=ra();ab(Kf,function(b){Pf(b,a)});fb(Kf)||Nf()};function Qf(a,b,c,d){Ef.call(this);if(!fa(a)||!fa(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.yd=a;this.Fj=b;this.duration=c;this.yg=d;this.coords=[]}D(Qf,Ef);h=Qf.prototype;h.ta=0;
h.play=function(a){if(a||this.j==Ff)this.ta=0,this.coords=this.yd;else if(1==this.j)return!1;Mf(this);this.startTime=a=ra();-1==this.j&&(this.startTime-=this.duration*this.ta);this.endTime=this.startTime+this.duration;this.ta||this.Xb();this.Ka("play");-1==this.j&&this.Ka("resume");this.j=1;var b=B(this);b in Kf||(Kf[b]=this);Nf();Pf(this,a);return!0};h.stop=function(a){Mf(this);this.j=Ff;a&&(this.ta=1);Rf(this,this.ta);this.Ka("stop");this.zc()};
h.pause=function(){1==this.j&&(Mf(this),this.j=-1,this.Ka("pause"))};h.b=function(){this.j==Ff||this.stop(!1);this.Ka("destroy");Qf.h.b.call(this)};function Pf(a,b){a.ta=(b-a.startTime)/(a.endTime-a.startTime);1<=a.ta&&(a.ta=1);Rf(a,a.ta);1==a.ta?(a.j=Ff,Mf(a),a.Ka("finish"),a.zc()):1==a.j&&a.Zf()}function Rf(a,b){ia(a.yg)&&(b=a.yg(b));a.coords=Array(a.yd.length);for(var c=0;c<a.yd.length;c++)a.coords[c]=(a.Fj[c]-a.yd[c])*b+a.yd[c]}h.Zf=function(){this.Ka("animate")};
h.Ka=function(a){this.dispatchEvent(new Sf(a,this))};function Sf(a,b){S.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.ta=b.ta;this.state=b.j}D(Sf,S);function Tf(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}h=Tf.prototype;h.tb=function(){return this.right-this.left};h.Zd=function(){return this.bottom-this.top};h.clone=function(){return new Tf(this.top,this.right,this.bottom,this.left)};h.contains=function(a){return this&&a?a instanceof Tf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
h.expand=function(a,b,c,d){ja(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};h.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};h.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
h.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};h.translate=function(a,b){a instanceof Q?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ha(b)&&(this.top+=b,this.bottom+=b));return this};h.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function Uf(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}h=Uf.prototype;h.clone=function(){return new Uf(this.left,this.top,this.width,this.height)};h.Oh=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
h.contains=function(a){return a instanceof Uf?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Vf(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}h.distance=function(a){return Math.sqrt(Vf(this,a))};h.Y=function(){return new Eb(this.width,this.height)};
h.ka=function(){return new Q(this.left+this.width/2,this.top+this.height/2)};h.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.translate=function(a,b){a instanceof Q?(this.left+=a.x,this.top+=a.y):(this.left+=a,ha(b)&&(this.top+=b));return this};h.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function Wf(a,b){var c=Ib(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Xf(a,b){return Wf(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function Yf(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}M&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Zf(a){if(M&&!(M&&8<=yb))return a.offsetParent;var b=Ib(a),c=Xf(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Xf(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function $f(a){for(var b=new Tf(0,Infinity,Infinity,0),c=Gb(a),d=c.ha.body,e=c.ha.documentElement,f=Ob(c.ha);a=Zf(a);)if(!(M&&0==a.clientWidth||N&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=Xf(a,"overflow")){var g=ag(a),k;k=a;if(qb&&!O("1.9")){var m=parseFloat(Wf(k,"borderLeftWidth"));if(bg(k))var n=k.offsetWidth-k.clientWidth-m-parseFloat(Wf(k,"borderRightWidth")),m=m+n;k=new Q(m,parseFloat(Wf(k,"borderTopWidth")))}else k=new Q(k.clientLeft,k.clientTop);g.x+=k.x;g.y+=k.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=Nb(Qb(c.ha)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function ag(a){var b,c=Ib(a),d=Xf(a,"position"),e=qb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new Q(0,0),g;b=c?Ib(c):document;g=!M||M&&9<=yb||ic(Gb(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=Yf(a),a=jc(Gb(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(N&&"fixed"==Xf(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(pb||N&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=Zf(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,pb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function cg(a){var b;if(a.getBoundingClientRect)b=Yf(a),b=new Q(b.left,b.top);else{b=jc(Gb(a));var c=ag(a);b=new Q(c.x-b.x,c.y-b.y)}if(qb&&!O(12)){b:{c=Ga();if(void 0===a.style[c]&&(c=(N?"Webkit":qb?"Moz":M?"ms":pb?"O":null)+Ha(c),void 0!==a.style[c])){c=(N?"-webkit":qb?"-moz":M?"-ms":pb?"-o":null)+"-transform";break b}c="transform"}a=(a=Xf(a,c)||Xf(a,"transform"))?(a=a.match(dg))?new Q(parseFloat(a[1]),parseFloat(a[2])):new Q(0,0):new Q(0,0);a=new Q(b.x+a.x,b.y+a.y)}else a=b;return a}
function eg(a){if(1==a.nodeType)return cg(a);var b=ia(a.Oj),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.k.targetTouches&&a.k.targetTouches.length&&(c=a.k.targetTouches[0]);return new Q(c.clientX,c.clientY)}function fg(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function gg(a){var b=hg;if("none"!=Xf(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function hg(a){var b=a.offsetWidth,c=a.offsetHeight,d=N&&!b&&!c;return r(b)&&!d||!a.getBoundingClientRect?new Eb(b,c):(a=Yf(a),new Eb(a.right-a.left,a.bottom-a.top))}function ig(a,b){a.style.display=b?"":"none"}function bg(a){return"rtl"==Xf(a,"direction")}
var jg=qb?"MozUserSelect":N?"WebkitUserSelect":null;function kg(a){var b=a.getElementsByTagName("*");if(jg){var c="none";a.style[jg]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[jg]=c}}else if(M||pb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function lg(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function mg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?lg(a,c,"left","pixelLeft"):0}function ng(a){if(M){var b=mg(a,"paddingLeft"),c=mg(a,"paddingRight"),d=mg(a,"paddingTop");a=mg(a,"paddingBottom");return new Tf(d,c,a,b)}b=Wf(a,"paddingLeft");c=Wf(a,"paddingRight");d=Wf(a,"paddingTop");a=Wf(a,"paddingBottom");return new Tf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var og={thin:2,medium:4,thick:6};
function pg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in og?og[c]:lg(a,c,"left","pixelLeft")}
function qg(a){if(M&&!(M&&9<=yb)){var b=pg(a,"borderLeft"),c=pg(a,"borderRight"),d=pg(a,"borderTop");a=pg(a,"borderBottom");return new Tf(d,c,a,b)}b=Wf(a,"borderLeftWidth");c=Wf(a,"borderRightWidth");d=Wf(a,"borderTopWidth");a=Wf(a,"borderBottomWidth");return new Tf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var dg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function rg(a,b,c,d,e){Qf.call(this,b,c,d,e);this.element=a}D(rg,Qf);rg.prototype.Ve=ca;rg.prototype.Zf=function(){this.Ve();rg.h.Zf.call(this)};rg.prototype.zc=function(){this.Ve();rg.h.zc.call(this)};rg.prototype.Xb=function(){this.Ve();rg.h.Xb.call(this)};function sg(a,b,c,d,e){ha(b)&&(b=[b]);ha(c)&&(c=[c]);rg.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(sg,rg);
sg.prototype.Ve=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};sg.prototype.show=function(){this.element.style.display=""};function tg(a,b,c){sg.call(this,a,1,0,b,c)}D(tg,sg);tg.prototype.Xb=function(){this.show();tg.h.Xb.call(this)};tg.prototype.zc=function(){this.element.style.display="none";tg.h.zc.call(this)};function ug(a,b,c){sg.call(this,a,0,1,b,c)}D(ug,sg);
ug.prototype.Xb=function(){this.show();ug.h.Xb.call(this)};function vg(a,b){return(b&4&&bg(a)?b^2:b)&-5};function wg(){}da(wg);wg.prototype.gi=0;function xg(a,b,c,d){V.call(this);this.$=a||document.body;this.La=Gb(this.$);this.Al=!a;this.d=null;this.Ea="";this.I=[];this.cc=[];this.Ti=this.je=-1;this.Wa=!1;this.className="ac-renderer";this.ig="ac-row";this.Vh="active";this.zg="ac-active";this.tk="ac-highlighted";this.lc=b||null;this.jm=null!=d?d:!0;this.Jk=!0;this.ie=!1;this.Bl=!!c;this.Re=!1;this.ye=0;this.Si=!1}D(xg,V);h=xg.prototype;h.fg=function(a,b,c){this.Ea=b;this.I=a;this.je=-1;this.Ti=ra();this.C=c;this.cc=[];yg(this)};
h.bb=function(){this.C&&bf(this.C,null);this.Wa&&(this.Wa=!1,this.C&&af(this.C,"haspopup",!1),0<this.ye?(yc(this.jc),this.jc=new tg(this.d,this.ye),this.jc.play()):ig(this.d,!1))};h.show=function(){this.Wa||(this.Wa=!0,this.C&&($e(this.C,"combobox"),af(this.C,"autocomplete","list"),af(this.C,"haspopup",!0)),0<this.ye?(yc(this.jc),this.jc=new ug(this.d,this.ye),this.jc.play()):ig(this.d,!0))};
function zg(a,b){var c=0<=b&&b<a.I.length?a.I[b]:void 0,d=0<=b&&b<a.cc.length?a.cc[b]:void 0;if(a.dispatchEvent({type:"rowhilite",Tm:d,Ta:c?c.data:null})&&(0<=a.je&&pc(a.cc[a.je],[a.zg,a.Vh]),a.je=b,d)){nc(d,[a.zg,a.Vh]);a.C&&bf(a.C,d);var c=a.d,e=ag(d),f=ag(c),g=qg(c),k=e.x-f.x-g.left,e=e.y-f.y-g.top,f=c.clientHeight-d.offsetHeight,g=c.scrollLeft,m=c.scrollTop,g=g+Math.min(k,Math.max(k-(c.clientWidth-d.offsetWidth),0)),m=m+Math.min(e,Math.max(e-f,0)),d=new Q(g,m);c.scrollLeft=d.x;c.scrollTop=d.y}}
h.jb=function(a){if(-1==a)zg(this,-1);else for(var b=0;b<this.I.length;b++)if(this.I[b].id==a){zg(this,b);break}};function Ag(a){if(!a.d){var b=a.La.Tg("div",{style:"display:none"});a.Si&&(b.style.overflowY="auto");a.d=b;nc(b,ua(a.className).split(" "));$e(b,"listbox");b.id=":"+(wg.gb().gi++).toString(36);a.La.appendChild(a.$,b);T(b,"click",a.hb,!1,a);T(b,"mousedown",a.zh,!1,a);T(b,"mouseover",a.Ah,!1,a)}}
function yg(a){Ag(a);a.Re&&(a.d.style.visibility="hidden");a.om&&(a.d.style.minWidth=a.om.clientWidth+"px");a.cc.length=0;a.La.vl(a.d);if(a.lc&&a.lc.render)a.lc.render();else{var b=null;G(a.I,function(a){var d=this.Ea,e=this.La.Tg("div",{className:this.ig,id:":"+(wg.gb().gi++).toString(36)});$e(e,"option");this.lc&&this.lc.Bi?this.lc.Bi(a,d,e):bc(e,a.data.toString());d&&this.jm&&(this.oj=!1,Bg(this,e,d));mc(e,this.ig);this.cc.push(e);a=e;this.Re?this.d.insertBefore(a,b):this.La.appendChild(this.d,
a);b=a},a)}0==a.I.length?a.bb():(a.show(),Cg(a),kg(a.d))}
function Cg(a){if(a.C&&a.Al){var b=a.sj||a.C,c,d=a.Bl?3:1;a.Re&&(d^=1);c=d;var e=65;a.Si&&(a.d.style.height="",e|=32);var d=a.d,f=c^1,g,k;if(g=d.offsetParent){var m="HTML"==g.tagName||"BODY"==g.tagName;m&&"static"==Xf(g,"position")||(k=ag(g),m||(m=(m=bg(g))&&qb?-g.scrollLeft:!m||M&&O("8")||"visible"==Xf(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,k=Db(k,new Q(m,g.scrollTop))))}g=k||new Q;k=ag(b);m=gg(b);k=new Uf(k.x,k.y,m.width,m.height);if(m=$f(b)){var n=new Uf(m.left,m.top,
m.right-m.left,m.bottom-m.top),m=Math.max(k.left,n.left),p=Math.min(k.left+k.width,n.left+n.width);if(m<=p){var s=Math.max(k.top,n.top),n=Math.min(k.top+k.height,n.top+n.height);s<=n&&(k.left=m,k.top=s,k.width=p-m,k.height=n-s)}}m=Gb(b);s=Gb(d);if(m.ha!=s.ha){var p=m.ha.body,s=Qb(s.ha),n=new Q(0,0),t;t=(t=Ib(p))?Qb(t):window;var x=p;do{var u=t==s?ag(x):cg(x);n.x+=u.x;n.y+=u.y}while(t&&t!=s&&(x=t.frameElement)&&(t=t.parent));p=Db(n,ag(p));!M||M&&9<=yb||ic(m)||(p=Db(p,jc(m)));k.left+=p.x;k.top+=p.y}var b=
vg(b,c),b=new Q(b&2?k.left+k.width:k.left,b&1?k.top+k.height:k.top),b=Db(b,g),q;e&&(q=$f(d))&&(q.top-=g.y,q.right-=g.x,q.bottom-=g.y,q.left-=g.x);b=b.clone();g=vg(d,f);f=gg(d);c=f.clone();b=b.clone();c=c.clone();k=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(q?(g=b,k=c,m=0,65==(e&65)&&(g.x<q.left||g.x>=q.right)&&(e&=-2),132==(e&132)&&(g.y<q.top||g.y>=q.bottom)&&(e&=-5),g.x<q.left&&e&1&&(g.x=q.left,m|=1),g.x<q.left&&g.x+k.width>q.right&&e&16&&(k.width=Math.max(k.width-(g.x+k.width-q.right),
0),m|=4),g.x+k.width>q.right&&e&1&&(g.x=Math.max(q.right-k.width,q.left),m|=1),e&2&&(m=m|(g.x<q.left?16:0)|(g.x+k.width>q.right?32:0)),g.y<q.top&&e&4&&(g.y=q.top,m|=2),g.y<=q.top&&g.y+k.height<q.bottom&&e&32&&(k.height=Math.max(k.height-(q.top-g.y),0),g.y=q.top,m|=8),g.y>=q.top&&g.y+k.height>q.bottom&&e&32&&(k.height=Math.max(k.height-(g.y+k.height-q.bottom),0),m|=8),g.y+k.height>q.bottom&&e&4&&(g.y=Math.max(q.bottom-k.height,q.top),m|=2),e&8&&(m=m|(g.y<q.top?64:0)|(g.y+k.height>q.bottom?128:0)),
e=m):e=256,k=e);e=new Uf(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;k&496||(c=new Q(e.left,e.top),b=qb&&(lb||tb)&&O("1.9"),c instanceof Q?(q=c.x,c=c.y):(q=c,c=void 0),d.style.left=fg(q,b),d.style.top=fg(c,b),c=e.Y(),Fb(f,c)||(e=c,q=ic(Gb(Ib(d))),!M||O("10")||q&&O("8")?(d=d.style,qb?d.MozBoxSizing="border-box":N?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,q?(q=ng(d),d=qg(d),f.pixelWidth=
e.width-d.left-q.left-q.right-d.right,f.pixelHeight=e.height-d.top-q.top-q.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.Re&&(a.d.style.visibility="visible")}}h.sb=function(){return this.C};h.b=function(){this.d&&(Yc(this.d,"click",this.hb,!1,this),Yc(this.d,"mousedown",this.zh,!1,this),Yc(this.d,"mouseover",this.Ah,!1,this),this.La.removeNode(this.d),this.d=null,this.Wa=!1);yc(this.jc);this.$=null;xg.h.b.call(this)};
function Bg(a,b,c){if(a.ie||!a.oj)if(3==b.nodeType){var d=null;fa(c)&&1<c.length&&!a.ie&&(d=Ta(c,1));c=Dg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.Jk?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,k=f.exec(e),m=0;k;)m++,c.push(e.substring(g,k.index)),c.push(e.substring(k.index,f.lastIndex)),g=f.lastIndex,k=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.ie?m:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.La.createElement("b"),g.className=a.tk,a.La.appendChild(g,a.La.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.La.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Ta(c,2*d).join("");a.oj=!0}else d&&Bg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Bg(a,b,c),b=d}
function Dg(a,b){var c="";if(!b)return c;fa(b)&&(b=Ka(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.ie?fa(b)?c=La(b,Ea).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ea(c),c=c.replace(/ /g,"|")):fa(b)?c=0<b.length?Ea(b[0]):"":/^\W/.test(b)||(c=Ea(b));return c}function Eg(a,b){for(;b&&b!=a.d&&!lc(b,a.ig);)b=b.parentNode;return b?Ja(a.cc,b):-1}h.hb=function(a){var b=Eg(this,a.target);0<=b&&this.dispatchEvent({type:Je,Ta:this.I[b].id});a.stopPropagation()};
h.zh=function(a){a.stopPropagation();a.preventDefault()};h.Ah=function(a){a=Eg(this,a.target);0<=a&&!(300>ra()-this.Ti)&&this.dispatchEvent({type:Ie,Ta:this.I[a].id})};function De(a,b){var c;if(a instanceof De)this.qa=r(b)?b:a.qa,Fg(this,a.Cb),c=a.fc,Gg(this),this.fc=c,c=a.eb,Gg(this),this.eb=c,Hg(this,a.Cc),c=a.Aa,Gg(this),this.Aa=c,Ig(this,a.Sa.clone()),c=a.Nb,Gg(this),this.Nb=c;else if(a&&(c=de(String(a)))){this.qa=!!b;Fg(this,c[1]||"",!0);var d=c[2]||"";Gg(this);this.fc=Jg(d);d=c[3]||"";Gg(this);this.eb=Jg(d,!0);Hg(this,c[4]);d=c[5]||"";Gg(this);this.Aa=Jg(d,!0);Ig(this,c[6]||"",!0);c=c[7]||"";Gg(this);this.Nb=Jg(c)}else this.qa=!!b,this.Sa=new Kg(null,0,this.qa)}
h=De.prototype;h.Cb="";h.fc="";h.eb="";h.Cc=null;h.Aa="";h.Nb="";h.zk=!1;h.qa=!1;h.toString=function(){var a=[],b=this.Cb;b&&a.push(Lg(b,Mg,!0),":");if(b=this.eb){a.push("//");var c=this.fc;c&&a.push(Lg(c,Mg,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Cc;null!=b&&a.push(":",String(b))}if(b=this.Aa)this.eb&&"/"!=b.charAt(0)&&a.push("/"),a.push(Lg(b,"/"==b.charAt(0)?Ng:Og,!0));(b=this.Sa.toString())&&a.push("?",b);(b=this.Nb)&&a.push("#",Lg(b,Pg));return a.join("")};
h.resolve=function(a){var b=this.clone(),c=!!a.Cb;c?Fg(b,a.Cb):c=!!a.fc;if(c){var d=a.fc;Gg(b);b.fc=d}else c=!!a.eb;c?(d=a.eb,Gg(b),b.eb=d):c=null!=a.Cc;d=a.Aa;if(c)Hg(b,a.Cc);else if(c=!!a.Aa){if("/"!=d.charAt(0))if(this.eb&&!this.Aa)d="/"+d;else{var e=b.Aa.lastIndexOf("/");-1!=e&&(d=b.Aa.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Gg(b),b.Aa=d):c=""!==a.Sa.toString();c?Ig(b,Jg(a.Sa.toString())):c=!!a.Nb;c&&(a=a.Nb,Gg(b),b.Nb=a);return b};h.clone=function(){return new De(this)};function Fg(a,b,c){Gg(a);a.Cb=c?Jg(b,!0):b;a.Cb&&(a.Cb=a.Cb.replace(/:$/,""))}function Hg(a,b){Gg(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Cc=b}else a.Cc=null}function Ce(a){return a.Aa}
function Ig(a,b,c){Gg(a);b instanceof Kg?(a.Sa=b,a.Sa.kg(a.qa)):(c||(b=Lg(b,Qg)),a.Sa=new Kg(b,0,a.qa))}function Rg(a,b,c){Gg(a);fa(c)||(c=[String(c)]);Sg(a.Sa,b,c)}function Gg(a){if(a.zk)throw Error("Tried to modify a read-only Uri");}h.kg=function(a){this.qa=a;this.Sa&&this.Sa.kg(a);return this};function Jg(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function Lg(a,b,c){return w(a)?(a=encodeURI(a).replace(b,Tg),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Tg(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Mg=/[#\/\?@]/g,Og=/[\#\?:]/g,Ng=/[\#\?]/g,Qg=/[\#\?@]/g,Pg=/#/g;function Kg(a,b,c){this.ja=a||null;this.qa=!!c}
function Ug(a){if(!a.F&&(a.F=new Zd,a.g=0,a.ja))for(var b=a.ja.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Vg(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}h=Kg.prototype;h.F=null;h.g=null;h.fb=function(){Ug(this);return this.g};h.add=function(a,b){Ug(this);this.ja=null;a=Vg(this,a);var c=this.F.get(a);c||this.F.set(a,c=[]);c.push(b);this.g++;return this};
h.remove=function(a){Ug(this);a=Vg(this,a);return this.F.da(a)?(this.ja=null,this.g-=this.F.get(a).length,this.F.remove(a)):!1};h.clear=function(){this.F=this.ja=null;this.g=0};h.kb=function(){Ug(this);return 0==this.g};h.da=function(a){Ug(this);a=Vg(this,a);return this.F.da(a)};h.Oa=function(){Ug(this);for(var a=this.F.Qa(),b=this.F.Oa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.Qa=function(a){Ug(this);var b=[];if(w(a))this.da(a)&&(b=Qa(b,this.F.get(Vg(this,a))));else{a=this.F.Qa();for(var c=0;c<a.length;c++)b=Qa(b,a[c])}return b};h.set=function(a,b){Ug(this);this.ja=null;a=Vg(this,a);this.da(a)&&(this.g-=this.F.get(a).length);this.F.set(a,[b]);this.g++;return this};h.get=function(a,b){var c=a?this.Qa(a):[];return 0<c.length?String(c[0]):b};function Sg(a,b,c){a.remove(b);0<c.length&&(a.ja=null,a.F.set(Vg(a,b),Ra(c)),a.g+=c.length)}
h.toString=function(){if(this.ja)return this.ja;if(!this.F)return"";for(var a=[],b=this.F.Oa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Qa(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.ja=a.join("\x26")};h.clone=function(){var a=new Kg;a.ja=this.ja;this.F&&(a.F=this.F.clone(),a.g=this.g);return a};function Vg(a,b){var c=String(b);a.qa&&(c=c.toLowerCase());return c}
h.kg=function(a){a&&!this.qa&&(Ug(this),this.ja=null,this.F.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Sg(this,d,a))},this));this.qa=a};h.extend=function(a){for(var b=0;b<arguments.length;b++)Yd(arguments[b],function(a,b){this.add(b,a)},this)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Wg(a,b){this.Me=[];this.ji=a;this.Ug=b||null;this.cd=this.nc=!1;this.ob=void 0;this.og=this.vj=this.gf=!1;this.Ue=0;this.$=null;this.jf=0}Wg.prototype.cancel=function(a){if(this.nc)this.ob instanceof Wg&&this.ob.cancel();else{if(this.$){var b=this.$;delete this.$;a?b.cancel(a):(b.jf--,0>=b.jf&&b.cancel())}this.ji?this.ji.call(this.Ug,this):this.og=!0;this.nc||(a=new Xg,Yg(this),Zg(this,!1,a))}};Wg.prototype.Pg=function(a,b){this.gf=!1;Zg(this,a,b)};
function Zg(a,b,c){a.nc=!0;a.ob=c;a.cd=!b;$g(a)}function Yg(a){if(a.nc){if(!a.og)throw new ah;a.og=!1}}function bh(a,b,c,d){a.Me.push([b,c,d]);a.nc&&$g(a)}Wg.prototype.then=function(a,b,c){var d,e,f=new Fd(function(a,b){d=a;e=b});bh(this,d,function(a){a instanceof Xg?f.cancel():e(a)});return f.then(a,b,c)};kd(Wg);function ch(a){return Ma(a.Me,function(a){return ia(a[1])})}
function $g(a){if(a.Ue&&a.nc&&ch(a)){var b=a.Ue,c=eh[b];c&&(l.clearTimeout(c.u),delete eh[b]);a.Ue=0}a.$&&(a.$.jf--,delete a.$);for(var b=a.ob,d=c=!1;a.Me.length&&!a.gf;){var e=a.Me.shift(),f=e[0],g=e[1],e=e[2];if(f=a.cd?g:f)try{var k=f.call(e||a.Ug,b);r(k)&&(a.cd=a.cd&&(k==b||k instanceof Error),a.ob=b=k);ld(b)&&(d=!0,a.gf=!0)}catch(m){b=m,a.cd=!0,ch(a)||(c=!0)}}a.ob=b;d&&(k=C(a.Pg,a,!0),d=C(a.Pg,a,!1),b instanceof Wg?(bh(b,k,d),b.vj=!0):b.then(k,d));c&&(b=new fh(b),eh[b.u]=b,a.Ue=b.u)}
function ah(){sa.call(this)}D(ah,sa);ah.prototype.message="Deferred has already fired";ah.prototype.name="AlreadyCalledError";function Xg(){sa.call(this)}D(Xg,sa);Xg.prototype.message="Deferred was canceled";Xg.prototype.name="CanceledError";function fh(a){this.u=l.setTimeout(C(this.Vl,this),0);this.Ud=a}fh.prototype.Vl=function(){delete eh[this.u];throw this.Ud;};var eh={};function gh(a,b){var c=b||{},d=c.document||document,e=Vb("SCRIPT"),f={Mi:e,ec:void 0},g=new Wg(hh,f),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){ih(e,!0);var b=new jh(kh,"Timeout reached for loading script "+a);Yg(g);Zg(g,!1,b)},m),f.ec=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(ih(e,c.xj||!1,k),Yg(g),Zg(g,!0,null))};e.onerror=function(){ih(e,!0,k);var b=new jh(lh,"Error while loading script "+a);Yg(g);
Zg(g,!1,b)};Lb(e,{type:"text/javascript",charset:"UTF-8",src:a});mh(d).appendChild(e);return g}function mh(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function hh(){if(this&&this.Mi){var a=this.Mi;a&&"SCRIPT"==a.tagName&&ih(a,!0,this.ec)}}function ih(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ca;a.onerror=ca;a.onreadystatechange=ca;b&&window.setTimeout(function(){Zb(a)},0)}var lh=0,kh=1;
function jh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);sa.call(this,c);this.code=a}D(jh,sa);function nh(a,b){this.gm=new De(a);this.wj=b?b:"callback";this.ec=5E3}var oh=0;nh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(oh++).toString(36)+ra().toString(36);l._callbacks_||(l._callbacks_={});var e=this.gm.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Rg(e,f,a[f]);b&&(l._callbacks_[d]=ph(d,b),Rg(e,this.wj,"_callbacks_."+d));b=gh(e.toString(),{timeout:this.ec,xj:!0});bh(b,null,qh(d,a,c),void 0);return{u:d,Wg:b}};
nh.prototype.cancel=function(a){a&&(a.Wg&&a.Wg.cancel(),a.u&&rh(a.u,!1))};function qh(a,b,c){return function(){rh(a,!1);c&&c(b)}}function ph(a,b){return function(c){rh(a,!0);b.apply(void 0,arguments)}}function rh(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ca)};function sh(a,b){this.hm=a||"http://open.mapquestapi.com/nominatim/v1/search";this.nd=b||{};this.Qh=new nh(this.hm,"json_callback")}
function Df(a,b,c,d){a.nd.q=b;a.nd.format="json";a.nd.addressdetails=1;a.nd.limit=c;b&&1!=b.length?(1==c&&(a.cl=b),1<c&&b===a.cl||(null!==a.Ei&&a.Qh.cancel(a.Ei),a.Ei=a.Qh.send(a.nd,function(a){function c(a){var b=[];G(a,function(a){var c=a.boundingbox;b.push({formatted_address:a.display_name,type:a.type,bounds:c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:null,viewport:null})},this);return b}var g=Ka(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==
a["class"])&&"state"!==a.type&&"country"!==a.type}),k=Ka(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]});0<g.length?(G(g,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||
"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,c(Qa(g,k)))):d(b,c(a))}))):d(b,[])};function th(a,b,c){var d=new xg(null,{Bi:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.Ab=new sh(b,c);b=new wf(null,null,!1);zf(b);b.kj=!1;b.w=this;b.ef(a);He.call(this,this.Ab,d,b);this.ma("update",function(b){a.value=b.Ta.formatted_address})}D(th,He);th.prototype.search=function(a,b,c){Df(this.Ab,a,b,c)};function uh(){this.zi=ra()}new uh;uh.prototype.set=function(a){this.zi=a};uh.prototype.reset=function(){this.set(ra())};uh.prototype.get=function(){return this.zi};function vh(a){V.call(this);this.Id=a||window;this.te=T(this.Id,"resize",this.jk,!1,this);this.Jc=Nb(this.Id||window)}D(vh,V);h=vh.prototype;h.te=null;h.Id=null;h.Jc=null;h.Y=function(){return this.Jc?this.Jc.clone():null};h.b=function(){vh.h.b.call(this);this.te&&(U(this.te),this.te=null);this.Jc=this.Id=null};h.jk=function(){var a=Nb(this.Id||window);Fb(a,this.Jc)||(this.Jc=a,this.dispatchEvent("resize"))};function wh(a,b){V.call(this);this.d=a;var c=$b(this.d)?this.d:this.d?this.d.body:null;this.Ak=!!c&&bg(c);this.Zh=T(this.d,Ac,this,b)}D(wh,V);
wh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.k;if("mousewheel"==a.type){c=1;if(M||N&&(mb||O("532.0")))c=40;d=xh(-a.wheelDelta,c);r(a.wheelDeltaX)?(b=xh(-a.wheelDeltaX,c),c=xh(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),r(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ha(this.ci)&&(b=Bb(b,-this.ci,this.ci));ha(this.di)&&(c=Bb(c,-this.di,this.di));this.Ak&&(b=-b);b=new yh(d,a,b,c);this.dispatchEvent(b)};function xh(a,b){return N&&(lb||nb)&&0!=a%b?a:a/b}
wh.prototype.b=function(){wh.h.b.call(this);U(this.Zh);this.Zh=null};function yh(a,b,c,d){Dc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}D(yh,Dc);function zh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}zh.prototype.BYTES_PER_ELEMENT=4;zh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};zh.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(zh.BYTES_PER_ELEMENT=4,zh.prototype.BYTES_PER_ELEMENT=zh.prototype.BYTES_PER_ELEMENT,zh.prototype.set=zh.prototype.set,zh.prototype.toString=zh.prototype.toString,ba("Float32Array",zh));function Ah(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Ah.prototype.BYTES_PER_ELEMENT=8;Ah.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Ah.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Ah.BYTES_PER_ELEMENT=8}catch(Bh){}Ah.prototype.BYTES_PER_ELEMENT=Ah.prototype.BYTES_PER_ELEMENT;Ah.prototype.set=Ah.prototype.set;Ah.prototype.toString=Ah.prototype.toString;ba("Float64Array",Ah)};function Ch(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Dh(){var a=Array(16);Eh(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Fh(){var a=Array(16);Eh(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Eh(a,b,c,d,e,f,g,k,m,n,p,s,t,x,u,q,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=k;a[7]=m;a[8]=n;a[9]=p;a[10]=s;a[11]=t;a[12]=x;a[13]=u;a[14]=q;a[15]=y}function Gh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Hh(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],k=a[4],m=a[5],n=a[6],p=a[7],s=a[8],t=a[9],x=a[10],u=a[11],q=a[12],y=a[13],v=a[14];a=a[15];var A=b[0],z=b[1],F=b[2],E=b[3],I=b[4],Z=b[5],J=b[6],$=b[7],R=b[8],H=b[9],P=b[10],L=b[11],wa=b[12],ma=b[13],pa=b[14];b=b[15];c[0]=d*A+k*z+s*F+q*E;c[1]=e*A+m*z+t*F+y*E;c[2]=f*A+n*z+x*F+v*E;c[3]=g*A+p*z+u*F+a*E;c[4]=d*I+k*Z+s*J+q*$;c[5]=e*I+m*Z+t*J+y*$;c[6]=f*I+n*Z+x*J+v*$;c[7]=g*I+p*Z+u*J+a*$;c[8]=d*R+k*H+s*P+q*L;c[9]=e*R+m*H+t*P+y*L;c[10]=f*R+n*H+x*P+v*L;c[11]=
g*R+p*H+u*P+a*L;c[12]=d*wa+k*ma+s*pa+q*b;c[13]=e*wa+m*ma+t*pa+y*b;c[14]=f*wa+n*ma+x*pa+v*b;c[15]=g*wa+p*ma+u*pa+a*b}function Ih(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Jh(a,b,c){Eh(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Kh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],m=a[6],n=a[7],p=Math.cos(b),s=Math.sin(b);a[0]=c*p+g*s;a[1]=d*p+k*s;a[2]=e*p+m*s;a[3]=f*p+n*s;a[4]=c*-s+g*p;a[5]=d*-s+k*p;a[6]=e*-s+m*p;a[7]=f*-s+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function Lh(){V.call(this);this.Ba=0}D(Lh,V);Lh.prototype.V=function(){++this.Ba;this.dispatchEvent("change")};function Mh(a,b,c,d){T(a,b,c,!1,d)}function Nh(a,b,c){Xc(a,"postrender",b,!1,c)};function Oh(a,b){S.call(this,a);this.key=b}D(Oh,S);function Ph(a){Lh.call(this);B(this);this.Lc={};this.Ze={};r(a)&&this.vd(a)}D(Ph,Lh);var Qh={},Rh={},Sh={};function Th(a){return Qh.hasOwnProperty(a)?Qh[a]:Qh[a]="change:"+a}Ph.prototype.get=function(a){var b,c=this.Ze;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Tl,d=Rh.hasOwnProperty(c)?Rh[c]:Rh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=K(b,d);b=r(d)?d.call(b):b.get(c);b=a.Um(b)}else this.Lc.hasOwnProperty(a)&&(b=this.Lc[a]);return b};
Ph.prototype.Oa=function(){var a=this.Ze,b;if(fb(this.Lc)){if(fb(a))return[];b=a}else if(fb(a))b=this.Lc;else{b={};for(var c in this.Lc)b[c]=!0;for(c in a)b[c]=!0}return eb(b)};
Ph.prototype.set=function(a,b){this.dispatchEvent(new Oh("beforepropertychange",a));var c=this.Ze;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.Tl;b=d.Gm(b);d=Sh.hasOwnProperty(e)?Sh[e]:Sh[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=K(c,d);r(d)?d.call(c,b):c.set(e,b)}else this.Lc[a]=b,c=Th(a),this.dispatchEvent(c),this.dispatchEvent(new Oh("propertychange",a))};Ph.prototype.vd=function(a){for(var b in a)this.set(b,a[b])};function Uh(a,b,c){S.call(this,a,c);this.element=b}D(Uh,S);function Vh(a){Ph.call(this);this.Za=a||[];Wh(this)}D(Vh,Ph);h=Vh.prototype;h.clear=function(){for(;0<this.get("length");)this.pop()};h.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};h.forEach=function(a,b){G(this.Za,a,b)};h.Yc=function(){return this.Za};h.item=function(a){return this.Za[a]};h.pop=function(){return Xh(this,this.get("length")-1)};
h.push=function(a){var b=this.Za.length;Sa(this.Za,b,0,a);Wh(this);this.dispatchEvent(new Uh("add",a,this));return b};h.remove=function(a){var b=this.Za,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return Xh(this,c)};function Xh(a,b){var c=a.Za[b];Ia.splice.call(a.Za,b,1);Wh(a);a.dispatchEvent(new Uh("remove",c,a));return c}function Wh(a){a.set("length",a.Za.length)};var Yh=M&&!O("9.0")&&""!==vb;function Zh(a,b){a[0]+=b[0];a[1]+=b[1]}function $h(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function ai(a,b,c){S.call(this,a);this.map=b;this.frameState=r(c)?c:null}D(ai,S);function bi(a,b,c){S.call(this,a);this.P=b;a=r(c)?c:{};this.buttons=ci(a);this.pressure=di(a,this.buttons);this.bubbles=K(a,"bubbles",!1);this.cancelable=K(a,"cancelable",!1);this.view=K(a,"view",null);this.detail=K(a,"detail",null);this.screenX=K(a,"screenX",0);this.screenY=K(a,"screenY",0);this.clientX=K(a,"clientX",0);this.clientY=K(a,"clientY",0);this.ctrlKey=K(a,"ctrlKey",!1);this.altKey=K(a,"altKey",!1);this.shiftKey=K(a,"shiftKey",!1);this.metaKey=K(a,"metaKey",!1);this.button=K(a,"button",
0);this.relatedTarget=K(a,"relatedTarget",null);this.pointerId=K(a,"pointerId",0);this.width=K(a,"width",0);this.height=K(a,"height",0);this.tiltX=K(a,"tiltX",0);this.tiltY=K(a,"tiltY",0);this.pointerType=K(a,"pointerType","");this.hwTimestamp=K(a,"hwTimestamp",0);this.isPrimary=K(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}D(bi,S);
function ci(a){if(a.buttons||ei)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function di(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var ei=!1;try{ei=1===(new MouseEvent("click",{buttons:1})).buttons}catch(fi){};function gi(a,b){var c=Vb("CANVAS");r(a)&&(c.width=a);r(b)&&(c.height=b);return c.getContext("2d")}
var hi=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Vb("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Zb(b);a=c&&"none"!==c}else a=!1;return a}}(),ii=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Vb("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Zb(b);a=c&&"none"!==c}else a=!1;return a}}();function ji(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.tm=b;c.msTransform=b;c.transform=b;M&&!Yh&&(a.style.transformOrigin="0 0")};var ki=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function li(a,b){var c,d,e=ki.length;for(d=0;d<e;++d)try{if(c=a.getContext(ki[d],b),null!==c)return c}catch(f){}return null};var mi=l.devicePixelRatio||1,ni=!1,oi=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=gi();if(null===a)return!1;r(a.setLineDash)&&(ni=!0);return!0}catch(b){return!1}}(),pi="ontouchstart"in l,qi="PointerEvent"in l,ri=!!l.navigator.msPointerEnabled,si=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=Vb("CANVAS");return null!==li(a,{Ij:!0})}catch(b){return!1}}();function ti(a,b){this.f=a;this.xe=b};function ui(a){ti.call(this,a,{mousedown:this.Pk,mousemove:this.Qk,mouseup:this.Tk,mouseover:this.Sk,mouseout:this.Rk});this.H=a.H;this.Uh=[]}D(ui,ti);function vi(a,b){for(var c=a.Uh,d=b.clientX,e=b.clientY,f=0,g=c.length,k;f<g&&(k=c[f]);f++){var m=Math.abs(e-k[1]);if(25>=Math.abs(d-k[0])&&25>=m)return!0}return!1}function wi(a){var b=xi(a,a.k),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}h=ui.prototype;
h.Pk=function(a){if(!vi(this,a)){(1).toString()in this.H&&this.cancel(a);var b=wi(a);this.H[(1).toString()]=a;this.f.fireEvent(yi,b,a)}};h.Qk=function(a){if(!vi(this,a)){var b=wi(a);this.f.move(b,a)}};h.Tk=function(a){if(!vi(this,a)){var b=K(this.H,(1).toString());b&&b.button===a.button&&(b=wi(a),this.f.fireEvent(zi,b,a),hb(this.H,(1).toString()))}};h.Sk=function(a){if(!vi(this,a)){var b=wi(a);Ai(this.f,b,a)}};h.Rk=function(a){if(!vi(this,a)){var b=wi(a);Bi(this.f,b,a)}};
h.cancel=function(a){var b=wi(a);this.f.cancel(b,a);hb(this.H,(1).toString())};function Ci(a){ti.call(this,a,{MSPointerDown:this.Yk,MSPointerMove:this.Zk,MSPointerUp:this.bl,MSPointerOut:this.$k,MSPointerOver:this.al,MSPointerCancel:this.Xk,MSGotPointerCapture:this.Vk,MSLostPointerCapture:this.Wk});this.H=a.H;this.qj=["","unavailable","touch","pen","mouse"]}D(Ci,ti);function Di(a,b){var c=b;ha(b.k.pointerType)&&(c=xi(b,b.k),c.pointerType=a.qj[b.k.pointerType]);return c}h=Ci.prototype;h.Yk=function(a){this.H[a.k.pointerId]=a;var b=Di(this,a);this.f.fireEvent(yi,b,a)};
h.Zk=function(a){var b=Di(this,a);this.f.move(b,a)};h.bl=function(a){var b=Di(this,a);this.f.fireEvent(zi,b,a);hb(this.H,a.k.pointerId)};h.$k=function(a){var b=Di(this,a);Bi(this.f,b,a)};h.al=function(a){var b=Di(this,a);Ai(this.f,b,a)};h.Xk=function(a){var b=Di(this,a);this.f.cancel(b,a);hb(this.H,a.k.pointerId)};h.Wk=function(a){this.f.dispatchEvent(new bi("lostpointercapture",a,a.k))};h.Vk=function(a){this.f.dispatchEvent(new bi("gotpointercapture",a,a.k))};function Ei(a){ti.call(this,a,{pointerdown:this.ml,pointermove:this.nl,pointerup:this.ql,pointerout:this.ol,pointerover:this.pl,pointercancel:this.ll,gotpointercapture:this.Qj,lostpointercapture:this.Fk})}D(Ei,ti);h=Ei.prototype;h.ml=function(a){Fi(this.f,a)};h.nl=function(a){Fi(this.f,a)};h.ql=function(a){Fi(this.f,a)};h.ol=function(a){Fi(this.f,a)};h.pl=function(a){Fi(this.f,a)};h.ll=function(a){Fi(this.f,a)};h.Fk=function(a){Fi(this.f,a)};h.Qj=function(a){Fi(this.f,a)};function Gi(a,b){ti.call(this,a,{touchstart:this.cm,touchmove:this.bm,touchend:this.am,touchcancel:this.$l});this.H=a.H;this.Ok=b;this.Xc=void 0;this.mf=0;this.rd=void 0}D(Gi,ti);h=Gi.prototype;h.Fi=function(){this.mf=0;this.rd=void 0};
function Hi(a,b,c){b=xi(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.mf;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.Xc===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Ii(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.k.changedTouches),f=e.length,g,k;for(g=0;g<f;++g)k=Hi(a,b,e[g]),k.preventDefault=d,c.call(a,b,k)}
h.cm=function(a){var b=a.k.touches,c=eb(this.H),d=c.length;if(d>=b.length){var e=[],f,g,k;for(f=0;f<d;++f){g=c[f];k=this.H[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(k.Zb)}for(f=0;f<e.length;++f)this.kf(a,e[f])}b=cb(this.H);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.H;c=b}c&&(this.Xc=a.k.changedTouches[0].identifier,r(this.rd)&&l.clearTimeout(this.rd));Ji(this,a);this.mf++;Ii(this,a,this.gl)};
h.gl=function(a,b){this.H[b.pointerId]={target:b.target,Zb:b,vi:b.target};var c=this.f;b.bubbles=!0;c.fireEvent(Ki,b,a);c=this.f;b.bubbles=!1;c.fireEvent(Li,b,a);this.f.fireEvent(yi,b,a)};h.bm=function(a){a.preventDefault();Ii(this,a,this.Uk)};
h.Uk=function(a,b){var c=K(this.H,b.pointerId);if(c){var d=c.Zb,e=c.vi;this.f.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Bi(this.f,d,a),Ai(this.f,b,a)):(b.target=e,b.relatedTarget=null,this.kf(a,b)));c.Zb=b;c.vi=b.target}};h.am=function(a){Ji(this,a);Ii(this,a,this.fm)};
h.fm=function(a,b){this.f.fireEvent(zi,b,a);this.f.Zb(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Mi,b,a);hb(this.H,b.pointerId);b.isPrimary&&(this.Xc=void 0,this.rd=l.setTimeout(C(this.Fi,this),200))};h.$l=function(a){Ii(this,a,this.kf)};h.kf=function(a,b){this.f.cancel(b,a);this.f.Zb(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Mi,b,a);hb(this.H,b.pointerId);b.isPrimary&&(this.Xc=void 0,this.rd=l.setTimeout(C(this.Fi,this),200))};
function Ji(a,b){var c=a.Ok.Uh,d=b.k.changedTouches[0];if(a.Xc===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Pa(c,e)},2500)}};function Ni(a){V.call(this);this.d=a;this.H={};this.hh={};this.Vc=[];qi?Oi(this,new Ei(this)):ri?Oi(this,new Ci(this)):(a=new ui(this),Oi(this,a),pi&&Oi(this,new Gi(this,a)));a=this.Vc.length;for(var b,c=0;c<a;c++)b=this.Vc[c],Pi(this,eb(b.xe))}D(Ni,V);function Oi(a,b){var c=eb(b.xe);c&&(G(c,function(a){var c=b.xe[a];c&&(this.hh[a]=C(c,b))},a),a.Vc.push(b))}h=Ni.prototype;h.gh=function(a){var b=this.hh[a.type];b&&b(a)};function Pi(a,b){G(b,function(a){T(this.d,a,this.gh,!1,this)},a)}
function Qi(a,b){G(b,function(a){Yc(this.d,a,this.gh,!1,this)},a)}function xi(a,b){for(var c={},d,e=0,f=Ri.length;e<f;e++)d=Ri[e][0],c[d]=a[d]||b[d]||Ri[e][1];return c}h.move=function(a,b){this.fireEvent(Si,a,b)};h.Zb=function(a,b){a.bubbles=!0;this.fireEvent(Ti,a,b)};h.cancel=function(a,b){this.fireEvent(Ui,a,b)};function Bi(a,b,c){a.Zb(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Mi,b,c))}
function Ai(a,b,c){b.bubbles=!0;a.fireEvent(Ki,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Li,b,c))}h.fireEvent=function(a,b,c){this.dispatchEvent(new bi(a,c,b))};function Fi(a,b){a.dispatchEvent(new bi(b.type,b,b.k))}h.b=function(){for(var a=this.Vc.length,b,c=0;c<a;c++)b=this.Vc[c],Qi(this,eb(b.xe));Ni.h.b.call(this)};
var Si="pointermove",yi="pointerdown",zi="pointerup",Ki="pointerover",Ti="pointerout",Li="pointerenter",Mi="pointerleave",Ui="pointercancel",Ri=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Vi(a,b,c,d){ai.call(this,a,b,d);this.P=c;this.originalEvent=c.k;c=this.originalEvent;r(c.changedTouches)?(a=c.changedTouches[0],c=eg(b.K),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.K,c=eg(c),a=eg(a),a=new Q(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.Zc(this.pixel)}D(Vi,ai);Vi.prototype.preventDefault=function(){Vi.h.preventDefault.call(this);this.P.preventDefault()};Vi.prototype.stopPropagation=function(){Vi.h.stopPropagation.call(this);this.P.stopPropagation()};
function Wi(a,b,c,d){Vi.call(this,a,b,c.P,d);this.$b=c}D(Wi,Vi);function Xi(a){V.call(this);this.a=a;this.Pc=0;this.xf=!1;this.Sd=this.De=this.Lb=null;a=this.a.K;this.Ag=0;this.tg={};this.Bc=new Ni(a);this.rb=null;this.De=T(this.Bc,yi,this.fk,!1,this);this.eg=T(this.Bc,Si,this.ul,!1,this)}D(Xi,V);
function Yi(a,b){var c;c=new Wi(Zi,a.a,b);a.dispatchEvent(c);0!==a.Pc?(l.clearTimeout(a.Pc),a.Pc=0,c=new Wi($i,a.a,b),a.dispatchEvent(c)):a.Pc=l.setTimeout(C(function(){this.Pc=0;var a=new Wi(aj,this.a,b);this.dispatchEvent(a)},a),250)}function bj(a,b){b.type==cj||b.type==dj?delete a.tg[b.pointerId]:b.type==ej&&(a.tg[b.pointerId]=!0);a.Ag=cb(a.tg)}h=Xi.prototype;
h.ib=function(a){bj(this,a);var b=new Wi(cj,this.a,a);this.dispatchEvent(b);0===this.Ag&&(G(this.Lb,U),this.Lb=null,yc(this.rb),this.rb=null);!this.xf&&0===a.button&&Yi(this,this.Sd)};h.fk=function(a){bj(this,a);var b=new Wi(ej,this.a,a);this.dispatchEvent(b);this.Sd=a;this.xf=!1;null===this.Lb&&(this.rb=new Ni(document),this.Lb=[T(this.rb,fj,this.gk,!1,this),T(this.rb,cj,this.ib,!1,this),T(this.Bc,dj,this.ib,!1,this)]);a.preventDefault()};
h.gk=function(a){if(a.clientX!=this.Sd.clientX||a.clientY!=this.Sd.clientY){this.xf=!0;var b=new Wi(gj,this.a,a);this.dispatchEvent(b)}a.preventDefault()};h.ul=function(a){this.dispatchEvent(new Wi(a.type,this.a,a))};h.b=function(){null!==this.eg&&(U(this.eg),this.eg=null);null!==this.De&&(U(this.De),this.De=null);null!==this.Lb&&(G(this.Lb,U),this.Lb=null);null!==this.rb&&(yc(this.rb),this.rb=null);null!==this.Bc&&(yc(this.Bc),this.Bc=null);Xi.h.b.call(this)};
var aj="singleclick",Zi="click",$i="dblclick",gj="pointerdrag",fj="pointermove",ej="pointerdown",cj="pointerup",dj="pointercancel",hj={Dm:aj,rm:Zi,sm:$i,wm:gj,zm:fj,vm:ej,Cm:cj,Bm:"pointerover",Am:"pointerout",xm:"pointerenter",ym:"pointerleave",um:dj};function ij(a,b,c,d){return r(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function jj(a,b,c){return a+"/"+b+"/"+c}function kj(a){return jj(a[0],a[1],a[2])};function lj(a,b,c,d){this.n=a;this.G=b;this.t=c;this.s=d}function mj(a,b,c,d,e){return r(e)?(e.n=a,e.G=b,e.t=c,e.s=d,e):new lj(a,b,c,d)}h=lj.prototype;h.contains=function(a){return this.Sc(a[1],a[2])};function nj(a,b){return a.n<=b.n&&b.G<=a.G&&a.t<=b.t&&b.s<=a.s}h.Sc=function(a,b){return this.n<=a&&a<=this.G&&this.t<=b&&b<=this.s};h.fh=function(a){return this.n==a.n&&this.t==a.t&&this.G==a.G&&this.s==a.s};
h.extend=function(a){a.n<this.n&&(this.n=a.n);a.G>this.G&&(this.G=a.G);a.t<this.t&&(this.t=a.t);a.s>this.s&&(this.s=a.s)};h.Zd=function(){return this.s-this.t+1};h.Y=function(){return[this.tb(),this.Zd()]};h.tb=function(){return this.G-this.n+1};h.Oh=function(a){return this.n<=a.G&&this.G>=a.n&&this.t<=a.s&&this.s>=a.t};function oj(a){this.Bh=a.html;this.Pe=r(a.tileRanges)?a.tileRanges:null};function pj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return qj(c,d,e,f,void 0)}function rj(a){return r(void 0)?void 0:a.slice()}function sj(){return[Infinity,Infinity,-Infinity,-Infinity]}function qj(a,b,c,d,e){return r(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function tj(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function uj(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=vj(a):"top-right"===b&&(c=[a[2],a[3]]);return c}function wj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,k;for(f=0;4>f;++f)g=e[f],k=d[f],e[f]=a[0]+g*b-k*c,d[f]=a[1]+g*c+k*b;return pj(e,d)}
function xj(a,b){var c=r(void 0)?void 0:sj();yj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function vj(a){return[a[0],a[3]]}function yj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function zj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function Aj(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return pj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Bj(a){this.radius=a}Bj.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Cj={};Cj.degrees=2*Math.PI*(new Bj(6370997)).radius/360;Cj.ft=.3048;Cj.m=1;function Dj(a){this.Qc=a.code;this.jj=a.units;this.W=r(a.extent)?a.extent:null;this.Vg=null}Dj.prototype.R=function(){return this.W};Dj.prototype.Ni=function(a){this.W=a};var Ej={},Fj={};function Gj(a){Hj(a);G(a,function(b){G(a,function(a){b!==a&&Ij(b,a,Jj)})})}function Kj(a){Ej[a.Qc]=a;Ij(a,a,Jj)}function Hj(a){var b=[];G(a,function(a){b.push(Kj(a))})}function Lj(a){return null!=a?w(a)?Mj(a):a:Mj("EPSG:3857")}
function Ij(a,b,c){a=a.Qc;b=b.Qc;a in Fj||(Fj[a]={});Fj[a][b]=c}function Mj(a){return a instanceof Dj?a:w(a)?Ej[a]:null}function Nj(a,b){var c=Mj(a),d=Mj(b);return Oj(c,d)}function Oj(a,b){var c=a.Qc,d=b.Qc,e;c in Fj&&d in Fj[c]&&(e=Fj[c][d]);r(e)||(e=Pj);return e}function Pj(a,b){if(r(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Jj(a,b){var c;if(r(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Qj(a){var b=Nj("EPSG:4326","EPSG:3857");return Aj(a,b)};function Rj(a){Lh.call(this);this.Ec=Mj(a.projection);this.ff=r(a.attributions)?a.attributions:null;this.Dk=a.logo;this.j=r(a.state)?a.state:"ready"}D(Rj,Lh);Rj.prototype.D=function(){return this.j};function W(a){Ph.call(this);a=ib(a);a.brightness=r(a.brightness)?a.brightness:0;a.contrast=r(a.contrast)?a.contrast:1;a.hue=r(a.hue)?a.hue:0;a.opacity=r(a.opacity)?a.opacity:1;a.saturation=r(a.saturation)?a.saturation:1;a.visible=r(a.visible)?a.visible:!0;a.maxResolution=r(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=r(a.minResolution)?a.minResolution:0;this.vd(a)}D(W,Ph);W.prototype.oh=function(){return this.get("brightness")};W.prototype.getBrightness=W.prototype.oh;
W.prototype.ph=function(){return this.get("contrast")};W.prototype.getContrast=W.prototype.ph;W.prototype.qh=function(){return this.get("hue")};W.prototype.getHue=W.prototype.qh;
function Sj(a){var b=a.oh(),c=a.ph(),d=a.qh(),e=a.th(),f=a.uh(),g=a.vh(),k=a.Ef(),m=a.R(),n=a.rh(),p=a.sh();return{layer:a,brightness:r(b)?Bb(b,-1,1):0,contrast:r(c)?Math.max(c,0):1,hue:r(d)?d:0,opacity:r(e)?Bb(e,0,1):1,saturation:r(f)?Math.max(f,0):1,pg:g,visible:r(k)?!!k:!0,extent:m,maxResolution:r(n)?n:Infinity,minResolution:r(p)?Math.max(p,0):0}}W.prototype.R=function(){return this.get("extent")};W.prototype.getExtent=W.prototype.R;W.prototype.rh=function(){return this.get("maxResolution")};
W.prototype.getMaxResolution=W.prototype.rh;W.prototype.sh=function(){return this.get("minResolution")};W.prototype.getMinResolution=W.prototype.sh;W.prototype.th=function(){return this.get("opacity")};W.prototype.getOpacity=W.prototype.th;W.prototype.uh=function(){return this.get("saturation")};W.prototype.getSaturation=W.prototype.uh;W.prototype.Ef=function(){return this.get("visible")};W.prototype.getVisible=W.prototype.Ef;W.prototype.Fl=function(a){this.set("brightness",a)};
W.prototype.setBrightness=W.prototype.Fl;W.prototype.Gl=function(a){this.set("contrast",a)};W.prototype.setContrast=W.prototype.Gl;W.prototype.Hl=function(a){this.set("hue",a)};W.prototype.setHue=W.prototype.Hl;W.prototype.Ni=function(a){this.set("extent",a)};W.prototype.setExtent=W.prototype.Ni;W.prototype.Jl=function(a){this.set("maxResolution",a)};W.prototype.setMaxResolution=W.prototype.Jl;W.prototype.Kl=function(a){this.set("minResolution",a)};W.prototype.setMinResolution=W.prototype.Kl;
W.prototype.Ll=function(a){this.set("opacity",a)};W.prototype.setOpacity=W.prototype.Ll;W.prototype.Nl=function(a){this.set("saturation",a)};W.prototype.setSaturation=W.prototype.Nl;W.prototype.Ql=function(a){this.set("visible",a)};W.prototype.setVisible=W.prototype.Ql;function Tj(a){var b=ib(a);delete b.source;W.call(this,b);this.U=a.source;T(this.U,"change",this.lk,!1,this)}D(Tj,W);Tj.prototype.Df=function(a){a=r(a)?a:[];a.push(Sj(this));return a};Tj.prototype.vh=function(){return this.U.D()};Tj.prototype.lk=function(){this.V()};function Uj(a,b){V.call(this);this.o=a;this.state=b}D(Uj,V);Uj.prototype.V=function(){this.dispatchEvent("change")};Uj.prototype.getKey=function(){return B(this).toString()};Uj.prototype.D=function(){return this.state};function Vj(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Wj(a){this.minZoom=r(a.minZoom)?a.minZoom:0;this.Ic=a.resolutions;this.maxZoom=this.Ic.length-1;this.Ae=r(a.origin)?a.origin:null;this.ui=null;r(a.origins)&&(this.ui=a.origins);this.sg=null;r(a.tileSizes)&&(this.sg=a.tileSizes);this.$i=r(a.tileSize)?a.tileSize:null===this.sg?256:void 0}var Xj=[0,0,0];Wj.prototype.Vd=function(a,b,c,d,e){e=Yj(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,Zj(this,e,a,d)))return!0;--a}return!1};
Wj.prototype.pc=function(a){return null===this.Ae?this.ui[a]:this.Ae};Wj.prototype.l=function(a){return this.Ic[a]};Wj.prototype.be=function(a,b,c){return a[0]<this.maxZoom?(c=Yj(this,a,c),Zj(this,c,a[0]+1,b)):null};function ak(a,b,c,d){bk(a,b[0],b[1],c,!1,Xj);var e=Xj[1],f=Xj[2];bk(a,b[2],b[3],c,!0,Xj);return mj(e,Xj[1],f,Xj[2],d)}function Zj(a,b,c,d){c=a.l(c);return ak(a,b,c,d)}function ck(a,b){var c=a.pc(b[0]),d=a.l(b[0]),e=dk(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function Yj(a,b,c){var d=a.pc(b[0]),e=a.l(b[0]);a=dk(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return qj(f,b,f+a*e,b+a*e,c)}function bk(a,b,c,d,e,f){var g=Vj(a.Ic,d,0),k=d/a.l(g),m=a.pc(g);a=dk(a,g);b=k*(b-m[0])/(d*a);c=k*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return ij(g,b,c,f)}function ek(a,b,c){c=a.l(c);return bk(a,b[0],b[1],c,!1,void 0)}function dk(a,b){return r(a.$i)?a.$i:a.sg[b]}
function fk(a,b,c){b=r(b)?b:42;c=r(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function gk(a){a=Mj(a);var b=a.R();null===b&&(a=180*Cj.degrees/Cj[a.jj],b=qj(-a,-a,a,a));return b};function hk(a){Rj.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.fl=r(a.opaque)?a.opaque:!1;this.Zl=r(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=r(a.tileGrid)?a.tileGrid:null}D(hk,Rj);hk.prototype.Ib=od;hk.prototype.Bf=function(a,b,c,d){var e=!0,f,g,k,m;for(k=d.n;k<=d.G;++k)for(m=d.t;m<=d.s;++m)g=this.$c(c,k,m),a[c]&&a[c][g]||(f=b(c,k,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};hk.prototype.$c=jj;
function ik(a,b){var c;if(null===a.tileGrid){if(c=b.Vg,null===c){c=gk(b);var d=r(void 0)?void 0:256,e=r(void 0)?void 0:"bottom-left",f=fk(c,void 0,d);c=new Wj({origin:uj(c,e),resolutions:f,tileSize:d});b.Vg=c}}else c=a.tileGrid;return c}function jk(a,b,c){return dk(ik(a,c),b)*a.Zl}hk.prototype.ug=ca;function kk(a,b){uc.call(this);this.we=a;this.gd=b}D(kk,uc);kk.prototype.Pa=function(){return this.we.Pa()};function lk(a,b){b.Ib()&&a.postRenderFunctions.push(qa(function(a,b,e){b=B(a).toString();a.Wc(e.usedTiles[b])},b))}function mk(a,b){var c=b.Dk;r(c)&&(w(c)?a.logos[c]="":ja(c)&&(a.logos[c.src]=c.href))}function nk(a,b,c,d){b=B(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function ok(a,b,c,d){return function(e,f,g){e=b.Qb(e,f,g,c,d);return a(e)?e:null}}function pk(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function qk(a,b,c,d,e,f,g,k,m,n){var p=B(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var s=a.wantedTiles[p];a=a.tileQueue;var t=c.minZoom,x,u,q,y,v,A;r(k)||(k=0);for(A=g;A>=t;--A)for(u=Zj(c,f,A,u),q=c.l(A),y=u.n;y<=u.G;++y)for(v=u.t;v<=u.s;++v)g-A<=k?(x=b.Qb(A,y,v,d,e),0==x.D()&&(s[kj(x.o)]=!0,x.getKey()in a.Fc||rk(a,[x,p,ck(c,x.o),q])),r(m)&&m.call(n,x)):b.ug(A,y,v)};function sk(){this.Hb={};this.Jd=0;this.Kk=32}da(sk);sk.prototype.clear=function(){this.Hb={};this.Jd=0};sk.prototype.get=function(a,b){var c=b+":"+a;return c in this.Hb?this.Hb[c]:null};sk.prototype.set=function(a,b,c){this.Hb[b+":"+a]=c;++this.Jd};function tk(a,b,c,d,e,f,g,k){Gh(a);0===b&&0===c||Ih(a,b,c);1==d&&1==e||Jh(a,d,e);0!==f&&Kh(a,f);0===g&&0===k||Ih(a,g,k);return a}function uk(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function vk(a,b){uc.call(this);this.a=b;this.ya={}}D(vk,uc);
function wk(a){var b=a.viewState,c=a.coordinateToPixelMatrix;tk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],m=c[6],n=c[7],p=c[8],s=c[9],t=c[10],x=c[11],u=c[12],q=c[13],y=c[14],c=c[15],v=b*k-d*g,A=b*m-e*g,z=b*n-f*g,F=d*m-e*k,E=d*n-f*k,I=e*n-f*m,Z=p*q-s*u,J=p*y-t*u,$=p*c-x*u,R=s*y-t*q,H=s*c-x*q,P=t*c-x*y,L=v*P-A*H+z*R+F*$-E*J+I*Z;0!=L&&(L=1/L,a[0]=(k*P-m*H+n*R)*L,a[1]=(-d*P+
e*H-f*R)*L,a[2]=(q*I-y*E+c*F)*L,a[3]=(-s*I+t*E-x*F)*L,a[4]=(-g*P+m*$-n*J)*L,a[5]=(b*P-e*$+f*J)*L,a[6]=(-u*I+y*z-c*A)*L,a[7]=(p*I-t*z+x*A)*L,a[8]=(g*H-k*$+n*Z)*L,a[9]=(-b*H+d*$-f*Z)*L,a[10]=(u*E-q*z+c*v)*L,a[11]=(-p*E+s*z-x*v)*L,a[12]=(-g*R+k*J-m*Z)*L,a[13]=(b*R-d*J+e*Z)*L,a[14]=(-u*F+q*A-y*v)*L,a[15]=(p*F-s*A+t*v)*L)}h=vk.prototype;h.Qd=function(a){return new kk(this,a)};h.b=function(){ab(this.ya,yc);vk.h.b.call(this)};
function xk(){var a=sk.gb();if(a.Jd>a.Kk){var b=0,c,d;for(c in a.Hb){d=a.Hb[c];var e;if(e=0===(b++&3))Hc(d)?d=d.wb(void 0,void 0):(d=Tc(d),d=!!d&&d.wb(void 0,void 0)),e=!d;e&&(delete a.Hb[c],--a.Jd)}}}function yk(a,b){var c=B(b).toString();if(c in a.ya)return a.ya[c];var d=a.Qd(b);return a.ya[c]=d}h.Pa=function(){return this.a};h.Ie=ca;h.wl=function(a,b){for(var c in this.ya)if(!(null!==b&&c in b.layerStates)){var d=this.ya[c];delete this.ya[c];yc(d)}};
function zk(a,b){for(var c in a.ya)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.wl,a));break}};function Ak(a,b){this.xi=a;this.Pf=b;this.Ma=[];this.Dc=[];this.Fc={}}Ak.prototype.clear=function(){this.Ma.length=0;this.Dc.length=0;gb(this.Fc)};function Bk(a){var b=a.Ma,c=a.Dc,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Ck(a,0));b=a.Pf(d);delete a.Fc[b];return d}function rk(a,b){var c=a.xi(b);Infinity!=c&&(a.Ma.push(b),a.Dc.push(c),a.Fc[a.Pf(b)]=!0,Dk(a,0,a.Ma.length-1))}Ak.prototype.fb=function(){return this.Ma.length};Ak.prototype.kb=function(){return 0===this.Ma.length};
function Ck(a,b){for(var c=a.Ma,d=a.Dc,e=c.length,f=c[b],g=d[b],k=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Dk(a,k,b)}function Dk(a,b,c){var d=a.Ma;a=a.Dc;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Ek(a){var b=a.xi,c=a.Ma,d=a.Dc,e=0,f=c.length,g,k,m;for(k=0;k<f;++k)g=c[k],m=b(g),Infinity==m?delete a.Fc[a.Pf(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.Ma.length>>1)-1;0<=b;b--)Ck(a,b)};function Fk(a,b){Ak.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Xl=b;this.Ed=0}D(Fk,Ak);Fk.prototype.nk=function(){--this.Ed;this.Xl()};function Gk(a){return function(b){if(r(b))return[Bb(b[0],a[0],a[2]),Bb(b[1],a[1],a[3])]}}function Hk(a){return a};function Ik(a){return function(b,c,d){if(r(b))return b=Vj(a,b,d),b=Bb(b+c,0,a.length-1),a[b]}}function Jk(a,b,c){return function(d,e,f){if(r(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),r(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Kk(a){if(r(a))return 0}function Lk(a,b){if(r(a))return a+b}function Mk(a){var b=2*Math.PI/a;return function(a,d){if(r(a))return a=Math.floor((a+d)/b+.5)*b}}function Nk(){var a=5*Math.PI/180;return function(b,c){if(r(b))return Math.abs(b+c)<=a?0:b+c}};function Ok(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function X(a){Ph.call(this);a=r(a)?a:{};this.Jf=[0,0];var b={};b.center=r(a.center)?a.center:null;this.Ec=Lj(a.projection);var c,d,e,f=r(a.minZoom)?a.minZoom:0;c=r(a.maxZoom)?a.maxZoom:28;var g=r(a.zoomFactor)?a.zoomFactor:2;if(r(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Ik(c);else{d=Lj(a.projection);e=d.R();var k=(null===e?360*Cj.degrees/Cj[d.jj]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=k/Math.pow(2,28);d=a.maxResolution;r(d)?f=0:d=k/Math.pow(g,f);e=a.minResolution;r(e)||
(e=r(a.maxZoom)?r(a.maxResolution)?d/Math.pow(g,c):k/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=Jk(g,d,c-f)}this.Xf=d;this.Nk=e;this.Yf=f;f=r(a.extent)?Gk(a.extent):Hk;(r(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=r(d)&&!0!==d?!1===d?Lk:ha(d)?Mk(d):Lk:Nk()):d=Kk;this.Rc=new Ok(f,c,d);r(a.resolution)?b.resolution=a.resolution:r(a.zoom)&&(b.resolution=this.constrainResolution(this.Xf,a.zoom-this.Yf));b.rotation=r(a.rotation)?a.rotation:0;this.vd(b)}
D(X,Ph);X.prototype.constrainResolution=function(a,b,c){return this.Rc.resolution(a,b||0,c||0)};X.prototype.constrainRotation=function(a,b){return this.Rc.rotation(a,b||0)};X.prototype.ka=function(){return this.get("center")};X.prototype.getCenter=X.prototype.ka;X.prototype.l=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.l;X.prototype.Pb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.Pb;
X.prototype.D=function(){var a=this.ka(),b=this.Ec,c=this.l(),d=this.Pb();return{center:a.slice(),projection:r(b)?b:null,resolution:c,rotation:r(d)?d:0}};function Pk(a){var b,c=a.l();if(r(c)){var d,e=0;do{d=a.constrainResolution(a.Xf,e);if(d==c){b=e;break}++e}while(d>a.Nk)}return r(b)?a.Yf+b:b}function Qk(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.Ua(tj(b)),b=Math.max((b[2]-b[0])/c[0],(b[3]-b[1])/c[1]),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.dc(c))}
X.prototype.Mf=function(){return null!=this.ka()&&r(this.l())};X.prototype.rotate=function(a,b){if(r(b)){var c,d=this.ka();r(d)&&(c=[d[0]-b[0],d[1]-b[1]],$h(c,a-this.Pb()),Zh(c,b));this.Ua(c)}this.lg(a)};X.prototype.Ua=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.Ua;function Rk(a,b){a.Jf[1]+=b}X.prototype.dc=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.dc;X.prototype.lg=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.lg;function Sk(a){Ph.call(this);this.element=r(a.element)?a.element:null;this.C=r(a.target)?Jb(a.target):null;this.a=null;this.ue=[]}D(Sk,Ph);Sk.prototype.b=function(){Zb(this.element);Sk.h.b.call(this)};Sk.prototype.Pa=function(){return this.a};Sk.prototype.ge=ca;
Sk.prototype.setMap=function(a){null===this.a||Zb(this.element);0!=this.ue.length&&(G(this.ue,U),this.ue.length=0);this.a=a;null!==this.a&&((null===this.C?a.$f:this.C).appendChild(this.element),this.ge!==ca&&this.ue.push(T(a,"postrender",this.ge,!1,this)),a.render())};function Tk(a){a=r(a)?a:{};this.Te=Vb("UL");this.ve=Vb("LI");this.Te.appendChild(this.ve);ig(this.ve,!1);this.kc=r(a.collapsed)?a.collapsed:!0;this.Nd=r(a.collapsible)?a.collapsible:!0;this.Nd||(this.kc=!1);var b=r(a.className)?a.className:"ol-attribution",c=Rb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Attributions");this.Lg=r(a.collapseLabel)?a.collapseLabel:"\u00bb";this.Vb=r(a.label)?a.label:"i";this.Sh=Rb("SPAN",{},this.Nd&&!this.kc?this.Lg:this.Vb);var d=Rb("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.Sh);d.appendChild(c);c=new Ni(d);xc(this,c);T(c,zi,this.ib,!1,this);T(d,"click",this.hb,!1,this);T(d,["mouseout",Bc],function(){this.blur()},!1);b=Rb("DIV",{"class":b+" ol-unselectable ol-control"+(this.kc&&this.Nd?" ol-collapsed":"")+(this.Nd?"":" ol-uncollapsible")},this.Te,d);Sk.call(this,{element:b,target:a.target});this.v=!0;this.Gb={};this.pb={};this.Ck={}}D(Tk,Sk);
Tk.prototype.ge=function(a){a=a.frameState;if(null===a)this.v&&(ig(this.element,!1),this.v=!1);else{var b,c,d,e,f,g,k,m,n,p=a.layerStatesArray,s=ib(a.attributions),t={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.U,n=B(d).toString(),m=d.ff,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],k=B(g).toString(),!(k in s)){f=a.usedTiles[n];var x;if(x=r(f))a:if(null===g.Pe)x=!0;else{var u=x=void 0,q=void 0,y=void 0;for(y in f)if(y in g.Pe)for(q=f[y],x=0,u=g.Pe[y].length;x<u;++x)if(g.Pe[y][x].Oh(q)){x=!0;break a}x=
!1}x?(k in t&&delete t[k],s[k]=g):t[k]=g}b=[s,t];c=b[0];b=b[1];for(var v in this.Gb)v in c?(this.pb[v]||(ig(this.Gb[v],!0),this.pb[v]=!0),delete c[v]):v in b?(this.pb[v]&&(ig(this.Gb[v],!1),delete this.pb[v]),delete b[v]):(Zb(this.Gb[v]),delete this.Gb[v],delete this.pb[v]);for(v in c)n=Vb("LI"),n.innerHTML=c[v].Bh,this.Te.appendChild(n),this.Gb[v]=n,this.pb[v]=!0;for(v in b)n=Vb("LI"),n.innerHTML=b[v].Bh,ig(n,!1),this.Te.appendChild(n),this.Gb[v]=n;v=!fb(this.pb)||!fb(a.logos);this.v!=v&&(ig(this.element,
v),this.v=v);v&&fb(this.pb)?mc(this.element,"ol-logo-only"):oc(this.element,"ol-logo-only");var A;a=a.logos;v=this.Ck;for(A in v)A in a||(Zb(v[A]),delete v[A]);for(var z in a)z in v||(A=new Image,A.src=z,c=a[z],""===c?c=A:(c=Rb("A",{href:c}),c.appendChild(A)),this.ve.appendChild(c),v[z]=c);ig(this.ve,!fb(a))}};Tk.prototype.hb=function(a){0!==a.screenX&&0!==a.screenY||Uk(this)};Tk.prototype.ib=function(a){a.P.preventDefault();Uk(this)};
function Uk(a){var b=a.element,c=!lc(b,"ol-collapsed");qc(b,"ol-collapsed",c);bc(a.Sh,a.kc?a.Lg:a.Vb);a.kc=!a.kc};function Vk(a){return 1-Math.pow(1-a,3)};function Wk(a){return 3*a*a-2*a*a*a}function Xk(a){return a};function Yk(a){var b=a.source,c=r(a.start)?a.start:ra(),d=b[0],e=b[1],f=r(a.duration)?a.duration:1E3,g=r(a.easing)?a.easing:Wk;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],s=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*s;b.viewHints[0]+=1;return!0}return!1}}
function Zk(a){var b=r(a.rotation)?a.rotation:0,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Wk,f=r(a.anchor)?a.anchor:null;return function(a,k){if(k.time<c)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<c+d){var m=1-e((k.time-c)/d),m=(b-k.viewState.rotation)*m;k.animate=!0;k.viewState.rotation+=m;if(null!==f){var n=k.viewState.center;n[0]-=f[0];n[1]-=f[1];$h(n,m);Zh(n,f)}k.viewHints[0]+=1;return!0}return!1}}
function $k(a){var b=a.resolution,c=r(a.start)?a.start:ra(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Wk;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var k=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=k*m;g.viewHints[0]+=1;return!0}return!1}};function al(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-rotate";this.Vb=Rb("SPAN",{"class":"ol-compass"},r(a.label)?a.label:"\u21e7");var c=Rb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Reset rotation"),c=Rb("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.Vb),d=new Ni(c);xc(this,d);T(d,zi,al.prototype.ib,!1,this);T(c,"click",al.prototype.hb,!1,this);T(c,["mouseout",Bc],function(){this.blur()},!1);b=Rb("DIV",b+" ol-unselectable ol-control",c);Sk.call(this,
{element:b,target:a.target});this.ia=r(a.duration)?a.duration:250;this.Dg=r(a.autoHide)?a.autoHide:!0;this.Ji=void 0;this.Dg&&mc(this.element,"ol-hidden")}D(al,Sk);al.prototype.hb=function(a){0!==a.screenX&&0!==a.screenY||bl(this)};al.prototype.ib=function(a){a.P.preventDefault();bl(this)};function bl(a){var b=a.Pa(),c=b.B();if(null!==c){for(var d=c.Pb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;r(d)&&(0<a.ia&&b.Ha(Zk({rotation:d,duration:a.ia,easing:Vk})),c.lg(0))}}
al.prototype.ge=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.Ji){var b="rotate("+180*a/Math.PI+"deg)";this.Dg&&qc(this.element,"ol-hidden",0===a);this.Vb.style.msTransform=b;this.Vb.style.webkitTransform=b;this.Vb.style.transform=b}this.Ji=a}};function cl(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-zoom",c=r(a.delta)?a.delta:1,d=r(a.zoomInLabel)?a.zoomInLabel:"+",e=r(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=r(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=Rb("SPAN",{role:"tooltip"},r(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=Rb("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Ni(d);xc(this,g);T(g,zi,qa(cl.prototype.ib,c),!1,this);T(d,"click",qa(cl.prototype.hb,c),!1,this);T(d,["mouseout",Bc],function(){this.blur()},
!1);f=Rb("SPAN",{role:"tooltip"},f);e=Rb("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Ni(e);xc(this,f);T(f,zi,qa(cl.prototype.ib,-c),!1,this);T(e,"click",qa(cl.prototype.hb,-c),!1,this);T(e,["mouseout",Bc],function(){this.blur()},!1);b=Rb("DIV",b+" ol-unselectable ol-control",d,e);Sk.call(this,{element:b,target:a.target});this.ia=r(a.duration)?a.duration:250}D(cl,Sk);cl.prototype.hb=function(a,b){0!==b.screenX&&0!==b.screenY||dl(this,a)};
cl.prototype.ib=function(a,b){b.P.preventDefault();dl(this,a)};function dl(a,b){var c=a.Pa(),d=c.B();if(null!==d){var e=d.l();r(e)&&(0<a.ia&&c.Ha($k({resolution:e,duration:a.ia,easing:Vk})),c=d.constrainResolution(e,b),d.dc(c))}};function el(a,b,c){this.tf=a;this.ze=b;this.Cj=c;this.sa=[];this.uc=this.cf=0}el.prototype.update=function(a,b){this.sa.push(a,b,ra())};el.prototype.end=function(){if(6>this.sa.length)return!1;var a=ra()-this.Cj,b=this.sa.length-3;if(this.sa[b+2]<a)return!1;for(var c=b-3;0<c&&this.sa[c+2]>a;)c-=3;var a=this.sa[b+2]-this.sa[c+2],d=this.sa[b]-this.sa[c],b=this.sa[b+1]-this.sa[c+1];this.cf=Math.atan2(b,d);this.uc=Math.sqrt(d*d+b*b)/a;return this.uc>this.ze};
function fl(a,b){var c=a.tf,d=a.uc,e=a.ze-d,f=gl(a);return Yk({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function gl(a){return Math.log(a.ze/a.uc)/a.tf};function hl(){Lh.call(this);this.a=null;this.ua=!0}D(hl,Lh);hl.prototype.Pa=function(){return this.a};hl.prototype.setActive=function(a){this.ua=a};hl.prototype.setMap=function(a){this.a=a};function il(a,b,c,d,e){if(null!=c){var f=b.Pb(),g=b.ka();r(f)&&r(g)&&r(e)&&0<e&&(a.Ha(Zk({rotation:f,duration:e,easing:Vk})),r(d)&&a.Ha(Yk({source:g,duration:e,easing:Vk})));b.rotate(c,d)}}function jl(a,b,c,d,e){var f=b.l();c=b.constrainResolution(f,c,0);kl(a,b,c,d,e)}
function kl(a,b,c,d,e){if(null!=c){var f=b.l(),g=b.ka();r(f)&&r(g)&&r(e)&&0<e&&(a.Ha($k({resolution:f,duration:e,easing:Vk})),r(d)&&a.Ha(Yk({source:g,duration:e,easing:Vk})));if(null!=d){var k;a=b.ka();e=b.l();r(a)&&r(e)&&(k=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Ua(k)}b.dc(c)}};function ll(a){a=r(a)?a:{};this.Ja=r(a.delta)?a.delta:1;hl.call(this);this.ia=r(a.duration)?a.duration:250}D(ll,hl);ll.prototype.ub=function(a){var b=!1,c=a.P;if(a.type==$i){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Ja:this.Ja,e=b.B();jl(b,e,c,d,this.ia);a.preventDefault();b=!0}return!b};function ml(a){a=a.P;return a.altKey&&!a.Ce&&a.shiftKey}function nl(a){a=a.P;return!a.altKey&&!a.Ce&&!a.shiftKey}function ol(a){a=a.P;return!a.altKey&&!a.Ce&&a.shiftKey}function pl(a){a=a.P.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function ql(){hl.call(this);this.tc=!1;this.Gd={};this.aa=[]}D(ql,hl);function rl(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}h=ql.prototype;h.rc=ca;h.sc=od;h.qc=od;
h.ub=function(a){if(!(a instanceof Wi))return!0;var b=!1,c=a.type;if(c===ej||c===gj||c===cj)c=a.$b,a.type==cj?delete this.Gd[c.pointerId]:a.type==ej?this.Gd[c.pointerId]=c:c.pointerId in this.Gd&&(this.Gd[c.pointerId]=c),this.aa=db(this.Gd);this.tc&&(a.type==gj?this.rc(a):a.type==cj&&(this.tc=this.sc(a)));a.type==ej&&(this.tc=a=this.qc(a),b=this.Ri(a));return!b};h.Ri=od;function sl(a){ql.call(this);this.lb=(r(a)?a:{}).kinetic;this.wc=this.ed=null;this.$a=r(a.condition)?a.condition:nl;this.hi=!1}D(sl,ql);sl.prototype.rc=function(a){var b=rl(this.aa);this.lb&&this.lb.update(b[0],b[1]);if(null!==this.wc){var c=this.wc[0]-b[0],d=b[1]-this.wc[1];a=a.map;var e=a.B(),f=e.D(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;$h(c,f.rotation);Zh(c,f.center);c=e.Rc.center(c);a.render();e.Ua(c)}this.wc=b};
sl.prototype.sc=function(a){a=a.map;var b=a.B();if(0===this.aa.length){if(!this.hi&&this.lb&&this.lb.end()){var c;c=this.lb;c=(c.ze-c.uc)/c.tf;var d=this.lb.cf,e=b.ka();this.ed=fl(this.lb,e);a.Ha(this.ed);var f;f=a.Ob;null===f?f=null:(e=e.slice(0,2),f=uk(f.coordinateToPixelMatrix,e,e));c=a.Zc([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Rc.center(c);b.Ua(c)}Rk(b,-1);a.render();return!1}this.wc=null;return!0};
sl.prototype.qc=function(a){if(0<this.aa.length&&this.$a(a)){var b=a.map,c=b.B();this.wc=null;this.tc||Rk(c,1);b.render();null!==this.ed&&Pa(b.Fe,this.ed)&&(c.Ua(a.frameState.viewState.center),this.ed=null);this.lb&&(a=this.lb,a.sa.length=0,a.cf=0,a.uc=0);this.hi=1<this.aa.length;return!0}return!1};function tl(a){a=r(a)?a:{};ql.call(this);this.$a=r(a.condition)?a.condition:ml;this.mb=void 0}D(tl,ql);tl.prototype.rc=function(a){if(1==a.$b.pointerId){var b=a.map,c=b.Y();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(r(this.mb)){a=c-this.mb;var d=b.B(),e=d.D();b.render();il(b,d,e.rotation-a)}this.mb=c}};tl.prototype.sc=function(a){if(1!=a.$b.pointerId)return!0;a=a.map;var b=a.B();Rk(b,-1);var c=b.D().rotation,c=b.constrainRotation(c,0);il(a,b,c,void 0,250);return!1};
tl.prototype.qc=function(a){return 1==a.$b.pointerId&&Fc(a.P)&&this.$a(a)?(a=a.map,Rk(a.B(),1),a.render(),this.mb=void 0,!0):!1};function ul(){Lh.call(this);this.extent=void 0;this.ih=-1}D(ul,Lh);ul.prototype.Sc=od;ul.prototype.transform=function(a,b){var c=Nj(a,b);null!==this.M&&(c(this.M,this.M,this.N),this.V());return this};function vl(a,b,c,d,e,f){var g=e[0],k=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var s=r(f)?f:[],t=0;b<c;b+=d){var x=a[b],u=a[b+1];s[t++]=g*x+m*u+p;s[t++]=k*x+n*u+e}r(f)&&s.length!=t&&(s.length=t);return s};function wl(){ul.call(this);this.hd="XY";this.N=2;this.M=null}D(wl,ul);function xl(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}wl.prototype.Sc=od;
wl.prototype.R=function(a){if(this.ih!=this.Ba){for(var b=this.M,c=this.M.length,d=this.N,e=qj(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,k=b[f],m=b[f+1];g[0]=Math.min(g[0],k);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],k);g[3]=Math.max(g[3],m)}this.extent=e;this.ih=this.Ba}b=this.extent;r(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function yl(a,b,c,d,e,f){for(var g=!1,k=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-k)*(f-m)/(p-m)+k&&(g=!g);k=n;m=p}return g}function zl(a,b,c,d,e){if(0===b.length||!yl(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(yl(a,b[f-1],b[f],c,d,e))return!1;return!0};function Al(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var k=a[b],m=a[b+1],e=e+(k-f)*(m+g),f=k,g=m;return 0<e};function Bl(a,b){wl.call(this);this.wa=[];this.kh=-1;this.lh=null;this.ti=-1;this.md=null;if(null===a){var c=this.wa;this.N=xl("XY");this.hd="XY";this.M=null;this.wa=c}else{a:{var c=b,d=a;if(r(c))d=xl(c);else{for(c=0;2>c;++c){if(0===d.length){this.hd="XY";this.N=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.hd=c;this.N=d}null===this.M&&(this.M=[]);var c=this.M,d=this.N,e=this.wa,f=0,e=r(e)?e:[],g=0,k,m;k=0;for(m=a.length;k<m;++k){var n;n=c;for(var p=a[k],s=d,t=void 0,
x=void 0,t=0,x=p.length;t<x;++t){var u=p[t],q;for(q=0;q<s;++q)n[f++]=u[q]}n=f;f=e[g++]=n}e.length=g;this.M.length=0===e.length?0:e[e.length-1]}this.V()}D(Bl,wl);Bl.prototype.clone=function(){var a=new Bl(null),b=this.hd,c=this.M.slice(),d=this.wa.slice();a.N=xl(b);a.hd=b;a.M=c;a.wa=d;a.V();return a};Bl.prototype.Sc=function(a,b){return zl(Cl(this),this.wa,this.N,a,b)};
function Cl(a){if(a.ti!=a.Ba){var b=a.M,c;a:{c=a.wa;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=Al(b,d,g,a.N);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.md=b;else{a.md=b.slice();c=b=a.md;e=a.wa;f=a.N;for(var k=0,g=0,d=e.length;g<d;++g){var m=e[g],n=Al(c,k,m,f);if(0===g?!n:n)for(var n=c,p=m,s=f;k<p-s;){var t;for(t=0;t<s;++t){var x=n[k+t];n[k+t]=n[p-s+t];n[p-s+t]=x}k+=s;p-=s}k=m}b.length=k}a.ti=a.Ba}return a.md}Bl.prototype.Rb=function(){return"Polygon"};function Dl(a,b,c,d,e,f,g){S.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}D(Dl,S);function El(a){this.Yd=this.Td=this.Ca=this.Ee=this.a=null;this.Sl=a}D(El,uc);function Fl(a){var b=a.Ca,c=a.Td;a=La([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.Zc,a.a);a[4]=a[0].slice();return new Bl([a])}El.prototype.b=function(){this.setMap(null)};El.prototype.dk=function(a){var b=this.Yd,c=this.Sl;a.vectorContext.Xg(Infinity,function(a){a.Oi(c.jh,c.Ui);a.Qi(c.ba);a.yf(b,null)})};El.prototype.Cf=function(){return this.Yd};function Gl(a){null===a.a||null===a.Ca||null===a.Td||a.a.render()}
El.prototype.setMap=function(a){null!==this.Ee&&(U(this.Ee),this.Ee=null,this.a.render(),this.a=null);this.a=a;null!==this.a&&(this.Ee=T(a,"postcompose",this.dk,!1,this),Gl(this))};function Hl(a,b){S.call(this,a);this.coordinate=b}D(Hl,S);function Il(a){ql.call(this);a=r(a)?a:{};this.Mc=new El(r(a.style)?a.style:null);this.Ca=null;this.$a=r(a.condition)?a.condition:pd}D(Il,ql);h=Il.prototype;h.rc=function(a){if(1==a.$b.pointerId){var b=this.Mc;a=a.pixel;b.Ca=this.Ca;b.Td=a;b.Yd=Fl(b);Gl(b)}};h.Cf=function(){return this.Mc.Cf()};h.ii=ca;
h.sc=function(a){if(1!=a.$b.pointerId)return!0;this.Mc.setMap(null);var b=a.pixel[0]-this.Ca[0],c=a.pixel[1]-this.Ca[1];64<=b*b+c*c&&(this.ii(a),this.dispatchEvent(new Hl("boxend",a.coordinate)));return!1};h.qc=function(a){if(1==a.$b.pointerId&&Fc(a.P)&&this.$a(a)){this.Ca=a.pixel;this.Mc.setMap(a.map);var b=this.Mc,c=this.Ca;b.Ca=this.Ca;b.Td=c;b.Yd=Fl(b);Gl(b);this.dispatchEvent(new Hl("boxstart",a.coordinate));return!0}return!1};h.Ri=qd;function Jl(a){a=r(a)?a:{};this.Pd=r(a.color)?a.color:null;this.Wh=a.lineCap;this.Xh=r(a.lineDash)?a.lineDash:null;this.Yh=a.lineJoin;this.fi=a.miterLimit;this.pm=a.width}Jl.prototype.getLineDash=function(){return this.Xh};Jl.prototype.tb=function(){return this.pm};Jl.prototype.setLineDash=function(a){this.Xh=a};function Kl(a){if(!w(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var Ll=[0,0,0,1],Ml=[],Nl=[0,0,0,1];function Ol(a){a=r(a)?a:{};this.jh=r(a.fill)?a.fill:null;this.Z=r(a.image)?a.image:null;this.Ui=r(a.stroke)?a.stroke:null;this.ba=r(a.text)?a.text:null}Ol.prototype.xa=function(){return this.Z};function Pl(a){a=r(a)?a:{};Il.call(this,{condition:r(a.condition)?a.condition:ol,style:r(a.style)?a.style:new Ol({stroke:new Jl({color:[0,0,255,1]})})})}D(Pl,Il);Pl.prototype.ii=function(){var a=this.Pa(),b=a.B(),c=this.Cf().R(),d=tj(c),e=a.Y(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);kl(a,b,c,d,200)};function Ql(a){hl.call(this);a=r(a)?a:{};this.$a=r(a.condition)?a.condition:sd(nl,pl);this.jl=r(a.pixelDelta)?a.pixelDelta:128}D(Ql,hl);
Ql.prototype.ub=function(a){var b=!1;if("key"==a.type){var c=a.P.keyCode;if(this.$a(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.B(),e=b.D(),f=e.resolution*this.jl,g=0,k=0;40==c?k=-f:37==c?g=-f:39==c?g=f:k=f;c=[g,k];$h(c,e.rotation);e=b.ka();r(e)&&(r(100)&&d.Ha(Yk({source:e,duration:100,easing:Xk})),d=b.Rc.center([e[0]+c[0],e[1]+c[1]]),b.Ua(d));a.preventDefault();b=!0}}return!b};function Rl(a){hl.call(this);a=r(a)?a:{};this.$a=r(a.condition)?a.condition:pl;this.Ja=r(a.delta)?a.delta:1;this.ia=r(a.duration)?a.duration:100}D(Rl,hl);Rl.prototype.ub=function(a){var b=!1;if("key"==a.type){var c=a.P.charCode;if(this.$a(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Ja:-this.Ja;b.render();var d=b.B();jl(b,d,c,void 0,this.ia);a.preventDefault();b=!0}}return!b};function Sl(a){a=r(a)?a:{};hl.call(this);this.Ja=0;this.ia=r(a.duration)?a.duration:250;this.Qf=null;this.Eb=this.Ne=void 0}D(Sl,hl);Sl.prototype.ub=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.P;this.Qf=a.coordinate;this.Ja+=c.deltaY;r(this.Ne)||(this.Ne=ra());c=Math.max(80-(ra()-this.Ne),0);l.clearTimeout(this.Eb);this.Eb=l.setTimeout(C(this.Ej,this,b),c);a.preventDefault();b=!0}return!b};
Sl.prototype.Ej=function(a){var b=Bb(this.Ja,-1,1),c=a.B();a.render();jl(a,c,-b,this.Qf,this.ia);this.Ja=0;this.Qf=null;this.Eb=this.Ne=void 0};function Tl(a){ql.call(this);a=r(a)?a:{};this.Ya=null;this.mb=void 0;this.sd=!1;this.Le=0;this.Ul=r(a.threshold)?a.threshold:.3}D(Tl,ql);Tl.prototype.rc=function(a){var b=0,c=this.aa[0],d=this.aa[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);r(this.mb)&&(b=c-this.mb,this.Le+=b,!this.sd&&Math.abs(this.Le)>this.Ul&&(this.sd=!0));this.mb=c;a=a.map;c=eg(a.K);d=rl(this.aa);d[0]-=c.x;d[1]-=c.y;this.Ya=a.Zc(d);this.sd&&(c=a.B(),d=c.D(),a.render(),il(a,c,d.rotation+b,this.Ya))};
Tl.prototype.sc=function(a){if(2>this.aa.length){a=a.map;var b=a.B();Rk(b,-1);if(this.sd){var c=b.D().rotation,d=this.Ya,c=b.constrainRotation(c,0);il(a,b,c,d,250)}return!1}return!0};Tl.prototype.qc=function(a){return 2<=this.aa.length?(a=a.map,this.Ya=null,this.mb=void 0,this.sd=!1,this.Le=0,this.tc||Rk(a.B(),1),a.render(),!0):!1};function Ul(a){a=r(a)?a:{};ql.call(this);this.Ya=null;this.ia=r(a.duration)?a.duration:400;this.re=void 0;this.Rf=1}D(Ul,ql);Ul.prototype.rc=function(a){var b=1,c=this.aa[0],d=this.aa[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);r(this.re)&&(b=this.re/e);this.re=e;1!=b&&(this.Rf=b);a=a.map;var e=a.B(),c=e.D(),d=eg(a.K),f=rl(this.aa);f[0]-=d.x;f[1]-=d.y;this.Ya=a.Zc(f);a.render();kl(a,e,c.resolution*b,this.Ya)};
Ul.prototype.sc=function(a){if(2>this.aa.length){a=a.map;var b=a.B();Rk(b,-1);var c=b.D().resolution,d=this.Ya,e=this.ia,c=b.constrainResolution(c,0,this.Rf-1);kl(a,b,c,d,e);return!1}return!0};Ul.prototype.qc=function(a){return 2<=this.aa.length?(a=a.map,this.Ya=null,this.re=void 0,this.Rf=1,this.tc||Rk(a.B(),1),a.render(),!0):!1};function Vl(a){var b=r(a)?a:{};a=ib(b);delete a.layers;b=b.layers;W.call(this,a);this.zb=null;T(this,Th("layers"),this.ak,!1,this);null!=b?fa(b)&&(b=new Vh(Ra(b))):b=new Vh;this.Pi(b)}D(Vl,W);h=Vl.prototype;h.yh=function(){this.Ef()&&this.V()};
h.ak=function(){null!==this.zb&&(G(db(this.zb),U),this.zb=null);var a=this.ad();if(null!=a){this.zb={add:T(a,"add",this.$j,!1,this),remove:T(a,"remove",this.bk,!1,this)};var a=a.Yc(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.zb[B(d).toString()]=T(d,["propertychange","change"],this.yh,!1,this)}this.V()};h.$j=function(a){a=a.element;this.zb[B(a).toString()]=T(a,["propertychange","change"],this.yh,!1,this);this.V()};h.bk=function(a){a=B(a.element).toString();U(this.zb[a]);delete this.zb[a];this.V()};
h.ad=function(){return this.get("layers")};Vl.prototype.getLayers=Vl.prototype.ad;Vl.prototype.Pi=function(a){this.set("layers",a)};Vl.prototype.setLayers=Vl.prototype.Pi;
Vl.prototype.Df=function(a){var b=r(a)?a:[],c=b.length;this.ad().forEach(function(a){a.Df(b)});a=Sj(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=Bb(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),r(a.extent)&&r(e.extent)&&(e.extent=xj(e.extent,a.extent));return b};
Vl.prototype.vh=function(){return"ready"};function Wl(a){Dj.call(this,{code:a,units:"m",extent:Xl,global:!0,worldExtent:Yl})}D(Wl,Dj);var Zl=6378137*Math.PI,Xl=[-Zl,-Zl,Zl,Zl],Yl=[-180,-85,180,85],$l=La("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new Wl(a)});
function am(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function bm(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function cm(a,b){Dj.call(this,{code:a,units:"degrees",extent:dm,axisOrientation:b,global:!0,worldExtent:dm})}D(cm,Dj);var dm=[-180,-90,180,90],em=[new cm("CRS:84"),new cm("EPSG:4326","neu"),new cm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new cm("urn:ogc:def:crs:OGC:1.3:CRS84"),new cm("urn:ogc:def:crs:OGC:2:84"),new cm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new cm("urn:x-ogc:def:crs:EPSG:4326","neu")];function fm(a){Tj.call(this,a)}D(fm,Tj);fm.prototype.ae=function(){return this.get("preload")};fm.prototype.getPreload=fm.prototype.ae;fm.prototype.Ml=function(a){this.set("preload",a)};fm.prototype.setPreload=fm.prototype.Ml;fm.prototype.ce=function(){return this.get("useInterimTilesOnError")};fm.prototype.getUseInterimTilesOnError=fm.prototype.ce;fm.prototype.Ol=function(a){this.set("useInterimTilesOnError",a)};fm.prototype.setUseInterimTilesOnError=fm.prototype.Ol;function gm(a,b,c,d,e){this.Ld={};this.A=a;this.Ac=b;this.W=c;this.oa=d;this.mm=e;this.Z=this.O=this.ea=this.Og=this.Ng=this.Mg=null;this.vk=this.uk=this.Kf=this.Hh=this.Gh=this.Fh=0;this.wk=!1;this.le=this.xk=0;this.yk=!1;this.Jh=0;this.ba="";this.Ad=this.Oe=this.Xi=this.Wi=0;this.qg=this.Bd=this.zd=null;this.Be=[];this.aj=Dh()}
function hm(a,b,c){if(null!==a.Z){b=vl(b,0,c,2,a.oa,a.Be);c=a.A;var d=a.aj,e=c.globalAlpha;1!=a.Kf&&(c.globalAlpha=e*a.Kf);var f=a.xk;a.wk&&(f+=a.mm);var g,k;g=0;for(k=b.length;g<k;g+=2){var m=b[g]-a.Fh,n=b[g+1]-a.Gh;a.yk&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.le){var p=m+a.Fh,s=n+a.Gh;tk(d,p,s,a.le,a.le,f,-p,-s);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.Z,a.uk,a.vk,a.Jh,a.Hh,m,n,a.Jh,a.Hh)}0===f&&1==a.le||c.setTransform(1,0,0,1,0,0);1!=a.Kf&&(c.globalAlpha=e)}}
function im(a,b,c,d){var e=0;if(null!==a.qg&&""!==a.ba){null===a.zd||jm(a,a.zd);null===a.Bd||km(a,a.Bd);var f=a.qg,g=a.A,k=a.Og;null===k?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Og={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(k.font!=f.font&&(k.font=g.font=f.font),k.textAlign!=f.textAlign&&(k.textAlign=g.textAlign=f.textAlign),k.textBaseline!=f.textBaseline&&(k.textBaseline=g.textBaseline=f.textBaseline));b=vl(b,e,c,d,a.oa,a.Be);for(f=a.A;e<c;e+=
d){g=b[e]+a.Wi;k=b[e+1]+a.Xi;if(0!==a.Oe||1!=a.Ad){var m=tk(a.aj,g,k,a.Ad,a.Ad,a.Oe,-g,-k);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Bd||f.strokeText(a.ba,g,k);null===a.zd||f.fillText(a.ba,g,k)}0===a.Oe&&1==a.Ad||f.setTransform(1,0,0,1,0,0)}}function lm(a,b,c,d,e,f){var g=a.A;a=vl(b,c,d,e,a.oa,a.Be);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function mm(a,b,c,d,e){var f=a.A,g,k;g=0;for(k=d.length;g<k;++g)c=lm(a,b,c,d[g],e,!0),f.closePath();return c}h=gm.prototype;h.Xg=function(a,b){var c=a.toString(),d=this.Ld[c];r(d)?d.push(b):this.Ld[c]=[b]};
h.Yg=function(a){if(yj(this.W,a.R())){if(null!==this.ea||null!==this.O){null===this.ea||jm(this,this.ea);null===this.O||km(this,this.O);var b;b=a.M;b=null===b?null:vl(b,0,b.length,a.N,this.oa,this.Be);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.A;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.ea||d.fill();null===this.O||d.stroke()}""!==this.ba&&im(this,a.ka(),2,2)}};h.Zg=function(a,b){var c=a.Mm(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];nm[f.Rb()].call(this,f,b)}};
h.eh=function(a){var b=a.M;a=a.N;null===this.Z||hm(this,b,b.length);""!==this.ba&&im(this,b,b.length,a)};h.bh=function(a){var b=a.M;a=a.N;null===this.Z||hm(this,b,b.length);""!==this.ba&&im(this,b,b.length,a)};h.$g=function(a){if(yj(this.W,a.R())){if(null!==this.O){km(this,this.O);var b=this.A,c=a.M;b.beginPath();lm(this,c,0,c.length,a.N,!1);b.stroke()}""!==this.ba&&(a=a.Jm(),im(this,a,2,2))}};
h.ah=function(a){var b=a.R();if(yj(this.W,b)){if(null!==this.O){km(this,this.O);var b=this.A,c=a.M,d=0,e=a.wa,f=a.N;b.beginPath();var g,k;g=0;for(k=e.length;g<k;++g)d=lm(this,c,d,e[g],f,!1);b.stroke()}""!==this.ba&&(a=a.Km(),im(this,a,a.length,2))}};
h.yf=function(a){if(yj(this.W,a.R())){if(null!==this.O||null!==this.ea){null===this.ea||jm(this,this.ea);null===this.O||km(this,this.O);var b=this.A;b.beginPath();mm(this,Cl(a),0,a.wa,a.N);null===this.ea||b.fill();null===this.O||b.stroke()}if(""!==this.ba){if(a.kh!=a.Ba){b=tj(a.R());var c=Cl(a),d=a.wa,e=a.N,f,g,k,m,n,p=b[1],s=[],t=d[0];k=c[t-e];n=c[t-e+1];for(f=0;f<t;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)k=(p-n)/(g-n)*(m-k)+k,s.push(k);k=m;n=g}t=NaN;n=-Infinity;s.sort();k=s[0];f=1;for(g=
s.length;f<g;++f){m=s[f];var x=Math.abs(m-k);x>n&&(k=(k+m)/2,zl(c,d,e,k,p)&&(t=k,n=x));k=m}isNaN(t)&&(t=b[0]);r(void 0)?((void 0).push(t,p),b=void 0):b=[t,p];a.lh=b;a.kh=a.Ba}im(this,a.lh,2,2)}}};
h.dh=function(a){if(yj(this.W,a.R())){if(null!==this.O||null!==this.ea){null===this.ea||jm(this,this.ea);null===this.O||km(this,this.O);var b=this.A,c=Cl(a),d=0,e=a.Hm(),f=a.N,g,k;g=0;for(k=e.length;g<k;++g){var m=e[g];b.beginPath();d=mm(this,c,d,m,f);null===this.ea||b.fill();null===this.O||b.stroke()}}""!==this.ba&&(a=a.Im(),im(this,a,a.length,2))}};
h.flush=function(){var a=La(eb(this.Ld),Number);a.sort(Wa);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Ld[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function jm(a,b){var c=a.A,d=a.Mg;null===d?(c.fillStyle=b.fillStyle,a.Mg={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function km(a,b){var c=a.A,d=a.Ng;null===d?(c.lineCap=b.lineCap,ni&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Ng={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),ni&&!Ua(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
h.Oi=function(a,b){if(null===a)this.ea=null;else{var c=a.Pd;this.ea={fillStyle:Kl(null===c?Ll:c)}}if(null===b)this.O=null;else{var c=b.Pd,d=b.Wh,e=b.getLineDash(),f=b.Yh,g=b.tb(),k=b.fi;this.O={lineCap:r(d)?d:"round",lineDash:null!=e?e:Ml,lineJoin:r(f)?f:"round",lineWidth:this.Ac*(r(g)?g:1),miterLimit:r(k)?k:10,strokeStyle:Kl(null===c?Nl:c)}}};
h.Qi=function(a){if(null===a)this.ba="";else{var b=a.jh;null===b?this.zd=null:(b=b.Pd,this.zd={fillStyle:Kl(null===b?Ll:b)});var c=a.Ui;if(null===c)this.Bd=null;else{var b=c.Pd,d=c.Wh,e=c.getLineDash(),f=c.Yh,g=c.tb(),c=c.fi;this.Bd={lineCap:r(d)?d:"round",lineDash:null!=e?e:Ml,lineJoin:r(f)?f:"round",lineWidth:r(g)?g:1,miterLimit:r(c)?c:10,strokeStyle:Kl(null===b?Nl:b)}}var b=a.Lm(),d=a.Nm(),e=a.Om(),f=a.Pb(),g=a.Qm(),c=a.ba,k=a.Rm();a=a.Sm();this.qg={font:r(b)?b:"10px sans-serif",textAlign:r(k)?
k:"center",textBaseline:r(a)?a:"middle"};this.ba=r(c)?c:"";this.Wi=r(d)?this.Ac*d:0;this.Xi=r(e)?this.Ac*e:0;this.Oe=r(f)?f:0;this.Ad=this.Ac*(r(g)?g:1)}};var nm={Point:gm.prototype.eh,LineString:gm.prototype.$g,Polygon:gm.prototype.yf,MultiPoint:gm.prototype.bh,MultiLineString:gm.prototype.ah,MultiPolygon:gm.prototype.dh,GeometryCollection:gm.prototype.Zg,Circle:gm.prototype.Yg};var om=["Polygon","LineString","Image","Text"];function pm(a,b,c){this.Lk=b;this.Gi=c;this.qd={};gi(1,1);Dh()}pm.prototype.Di=function(a,b,c,d,e,f){var g=La(eb(this.qd),Number);g.sort(Wa);return this.zl(g,a,b,c,d,e,f)};
pm.prototype.zl=function(a,b,c,d,e,f,g){var k=this.Lk,m=k[0],n=k[1],p=k[2],k=k[3],m=vl([m,n,m,k,p,k,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var s,t,m=0,n=a.length;m<n;++m)for(s=this.qd[a[m].toString()],p=0,k=om.length;p<k;++p)if(t=s[om[p]],r(t)&&yj(c,t.R())&&(t=t.Di(b,d,e,f,g)))return t;b.restore()};pm.prototype.finish=function(){for(var a in this.qd){var b=this.qd[a],c;for(c in b)b[c].finish()}};
pm.prototype.kb=function(){return fb(this.qd)};function qm(a,b){kk.call(this,a,b);this.oa=Dh()}D(qm,kk);
qm.prototype.of=function(a,b,c){this.va("precompose",c,a,void 0);var d=this.xa();if(null!==d){var e=this.Ih,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],k=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(k))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.va("postcompose",c,a,void 0)};
qm.prototype.va=function(a,b,c,d){var e=this.gd;if(e.wb(a)){if(!r(d)){d=c.viewState;var f=c.pixelRatio;d=tk(this.oa,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new gm(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new Dl(a,e,d,0,c,b,null));d.flush()}};
var rm=function(){var a=null,b=null;return function(c){if(null===a){a=gi(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Ua(b.data,c.data));return e}}();function sm(a,b){qm.call(this,a,b);this.Ia=this.c=null;this.lf=!1;this.A=null;this.Ih=Dh();this.gg=NaN;this.Ke=this.bc=null}D(sm,qm);sm.prototype.xa=function(){return this.c};
sm.prototype.od=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.gd,g=f.U,k=ik(g,e),m=Vj(k.Ic,d.resolution,0),n=jk(g,m,e),p=n/dk(k,m),s=k.l(m),p=s/p,t=d.center,x;s==d.resolution?(t=pk(t,s,a.size),x=wj(t,s,d.rotation,a.size)):x=a.extent;r(b.extent)&&(x=xj(x,b.extent));if(x[2]<x[0]||x[3]<x[1])return!1;var u=ak(k,x,s),q=n*u.tb(),y=n*u.Zd(),v,A;null===this.c?(A=gi(q,y),this.c=A.canvas,this.Ia=[q,y],this.A=A,this.lf=!rm(this.Ia)):(v=this.c,A=this.A,this.Ia[0]<q||this.Ia[1]<y||this.lf&&
(this.Ia[0]>q||this.Ia[1]>y)?(v.width=q,v.height=y,this.Ia=[q,y],this.lf=!rm(this.Ia),this.bc=null):(q=this.Ia[0],y=this.Ia[1],m==this.gg&&nj(this.bc,u)||(this.bc=null,m<this.gg&&this.A.clearRect(0,0,q,y))));var z,F;null===this.bc?(q/=n,y/=n,z=u.n-Math.floor((q-u.tb())/2),F=u.t-Math.floor((y-u.Zd())/2),this.gg=m,this.bc=new lj(z,z+q-1,F,F+y-1),this.Ke=Array(q*y),y=this.bc):(y=this.bc,q=y.tb());v={};v[m]={};var E=[],I=C(g.Bf,g,v,ok(function(a){return null!==a&&2==a.D()},g,c,e)),Z=f.ce();r(Z)||(Z=!0);
var J=sj(),$=new lj(0,0,0,0),R,H,P;for(F=u.n;F<=u.G;++F)for(P=u.t;P<=u.s;++P)H=g.Qb(m,F,P,c,e),z=H.D(),2==z||4==z||3==z&&!Z?v[m][kj(H.o)]=H:(R=k.Vd(H.o,I,null,$,J),R||(E.push(H),R=k.be(H.o,$,J),null===R||I(m+1,R)));I=0;for(R=E.length;I<R;++I)H=E[I],F=n*(H.o[1]-y.n),P=n*(y.s-H.o[2]),A.clearRect(F,P,n,n);E=La(eb(v),Number);E.sort(Wa);var L=g.fl,wa=vj(Yj(k,[m,y.n,y.s],J)),ma,pa,Le,md,Pb,dh,I=0;for(R=E.length;I<R;++I)if(ma=E[I],n=jk(g,ma,e),md=v[ma],ma==m)for(Le in md)H=md[Le],pa=(H.o[2]-y.t)*q+(H.o[1]-
y.n),this.Ke[pa]!=H&&(F=n*(H.o[1]-y.n),P=n*(y.s-H.o[2]),z=H.D(),4!=z&&(3!=z||Z)&&L||A.clearRect(F,P,n,n),2==z&&A.drawImage(H.xa(),0,0,n,n,F,P,n,n),this.Ke[pa]=H);else for(Le in ma=k.l(ma)/s,md)for(H=md[Le],pa=Yj(k,H.o,J),F=(pa[0]-wa[0])/p,P=(wa[1]-pa[3])/p,dh=ma*n,Pb=ma*n,z=H.D(),4!=z&&L||A.clearRect(F,P,dh,Pb),2==z&&A.drawImage(H.xa(),0,0,n,n,F,P,dh,Pb),H=Zj(k,pa,m,$),z=Math.max(H.n,y.n),P=Math.min(H.G,y.G),F=Math.max(H.t,y.t),H=Math.min(H.s,y.s);z<=P;++z)for(Pb=F;Pb<=H;++Pb)pa=(Pb-y.t)*q+(z-y.n),
this.Ke[pa]=void 0;nk(a.usedTiles,g,m,u);qk(a,g,k,c,e,x,m,f.ae());lk(a,g);mk(a,g);tk(this.Ih,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(wa[0]-t[0])/p,(t[1]-wa[1])/p);return!0};function tm(a,b){vk.call(this,0,b);this.A=gi();this.c=this.A.canvas;this.c.style.width="100%";this.c.style.height="100%";this.c.className="ol-unselectable";Yb(a,this.c,0);this.v=!0;this.oa=Dh()}D(tm,vk);tm.prototype.Qd=function(a){return a instanceof fm?new sm(this,a):null};
tm.prototype.va=function(a,b){var c=this.Pa(),d=this.A;if(c.wb(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,k=g.resolution,m=g.rotation;tk(this.oa,this.c.width/2,this.c.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new gm(d,f,e,this.oa,m);k=new pm(0,e,k);c.dispatchEvent(new Dl(a,c,g,0,b,d,null));k.finish();k.kb()||k.Di(d,e,f,this.oa,m,{});g.flush()}};tm.prototype.Rb=function(){return"canvas"};
tm.prototype.Ie=function(a){if(null===a)this.v&&(ig(this.c,!1),this.v=!1);else{var b=this.A,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.c.width!=c||this.c.height!=d?(this.c.width=c,this.c.height=d):b.clearRect(0,0,this.c.width,this.c.height);wk(a);this.va("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,k;e=0;for(f=c.length;e<f;++e)k=c[e],g=k.layer,g=yk(this,g),k.visible&&d>=k.minResolution&&d<k.maxResolution&&"ready"==k.pg&&g.od(a,k)&&g.of(a,k,b);this.va("postcompose",
a);this.v||(ig(this.c,!0),this.v=!0);zk(this,a);a.postRenderFunctions.push(xk)}};function um(a,b,c){kk.call(this,a,b);this.target=c}D(um,kk);um.prototype.sb=function(){return this.target};function vm(a,b){var c=Vb("DIV");c.style.position="absolute";um.call(this,a,b,c);this.v=!0;this.Ci=1;this.Hc=0;this.Da={}}D(vm,um);
vm.prototype.od=function(a,b){if(!b.visible)return this.v&&(ig(this.target,!1),this.v=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.gd,g=f.U,k=ik(g,e),m=Vj(k.Ic,d.resolution,0),n=k.l(m),p=d.center,s;n==d.resolution?(p=pk(p,n,a.size),s=wj(p,n,d.rotation,a.size)):s=a.extent;r(b.extent)&&(s=xj(s,b.extent));var n=ak(k,s,n),t={};t[m]={};var x=C(g.Bf,g,t,ok(function(a){return null!==a&&2==a.D()},g,c,e)),u=f.ce();r(u)||(u=!0);var q=sj(),y=new lj(0,0,0,0),v,A,z,F;for(z=n.n;z<=n.G;++z)for(F=
n.t;F<=n.s;++F)v=g.Qb(m,z,F,c,e),A=v.D(),2==A?t[m][kj(v.o)]=v:4==A||3==A&&!u||(A=k.Vd(v.o,x,null,y,q),A||(v=k.be(v.o,y,q),null===v||x(m+1,v)));var E;if(this.Hc!=g.Ba){for(E in this.Da)u=this.Da[+E],Zb(u.target);this.Da={};this.Hc=g.Ba}q=La(eb(t),Number);q.sort(Wa);var x={},I;z=0;for(F=q.length;z<F;++z){E=q[z];E in this.Da?u=this.Da[E]:(u=ek(k,p,E),u=new wm(k,u),x[E]=!0,this.Da[E]=u);E=t[E];for(I in E)xm(u,E[I]);ym(u)}I=La(eb(this.Da),Number);I.sort(Wa);F=Dh();q=0;for(z=I.length;q<z;++q)if(E=I[q],
u=this.Da[E],E in t)if(A=u.l(),v=u.pc(),tk(F,a.size[0]/2,a.size[1]/2,A/d.resolution,A/d.resolution,d.rotation,(v[0]-p[0])/A,(p[1]-v[1])/A),u.setTransform(F),E in x){for(E-=1;0<=E;--E)if(E in this.Da){Xb(u.target,this.Da[E].target);break}0>E&&Yb(this.target,u.target,0)}else a.viewHints[0]||a.viewHints[1]||zm(u,s,y);else Zb(u.target),delete this.Da[E];b.opacity!=this.Ci&&(this.Ci=this.target.style.opacity=b.opacity);b.visible&&!this.v&&(ig(this.target,!0),this.v=!0);nk(a.usedTiles,g,m,n);qk(a,g,k,c,
e,s,m,f.ae());lk(a,g);mk(a,g);return!0};function wm(a,b){this.target=Vb("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.Yi=a;this.rg=b;this.Ae=vj(Yj(a,b));this.Gi=a.l(b[0]);this.Fd={};this.mc=null;this.oa=Fh()}
function xm(a,b){var c=b.o,d=c[0],e=c[1],f=c[2],c=kj(c);if(!(c in a.Fd)){var d=dk(a.Yi,d),g=b.xa(a),k=g.style;k.maxWidth="none";k.width=d+"px";k.height=d+"px";k.position="absolute";k.left=(e-a.rg[1])*d+"px";k.top=(a.rg[2]-f)*d+"px";null===a.mc&&(a.mc=document.createDocumentFragment());a.mc.appendChild(g);a.Fd[c]=b}}function ym(a){null!==a.mc&&(a.target.appendChild(a.mc),a.mc=null)}wm.prototype.pc=function(){return this.Ae};wm.prototype.l=function(){return this.Gi};
function zm(a,b,c){var d=Zj(a.Yi,b,a.rg[0],c);b=[];for(var e in a.Fd)c=a.Fd[e],d.contains(c.o)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=kj(c.o),Zb(c.xa(a)),delete a.Fd[e]}
wm.prototype.setTransform=function(a){var b=this.oa;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(ii()){if(r(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");ji(b,"matrix3d("+c+")")}else if(hi()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(r(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");ji(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.oa;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function Am(a,b){vk.call(this,0,b);this.xc=Vb("DIV");this.xc.className="ol-unselectable";var c=this.xc.style;c.position="absolute";c.width="100%";c.height="100%";Yb(a,this.xc,0);this.v=!0}D(Am,vk);Am.prototype.Qd=function(a){if(a instanceof fm)a=new vm(this,a);else return null;return a};Am.prototype.Rb=function(){return"dom"};
Am.prototype.Ie=function(a){if(null===a)this.v&&(ig(this.xc,!1),this.v=!1);else{var b;b=function(a,b){Yb(this.xc,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=yk(this,f),b.call(this,f.sb(),d),"ready"==g.pg&&f.od(a,g);b=a.layerStates;for(var k in this.ya)k in b||(f=this.ya[k],Zb(f.sb()));this.v||(ig(this.xc,!0),this.v=!0);wk(a);zk(this,a);a.postRenderFunctions.push(xk)}};function Bm(){}h=Bm.prototype;h.Xg=function(){};h.Yg=function(){};h.Zg=function(){};h.eh=function(){};h.$g=function(){};h.ah=function(){};h.bh=function(){};h.dh=function(){};h.yf=function(){};h.Oi=function(){};h.Qi=function(){};function Cm(){this.Od=Dh();this.Fg=void 0;this.Eg=Dh();this.Rg=void 0;this.Qg=Dh();this.Dh=void 0;this.Ch=Dh();this.Li=void 0;this.Ki=Dh()}
function Dm(a,b,c,d,e){var f=!1;r(b)&&b!==a.Fg&&(f=a.Eg,Gh(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.Fg=b,f=!0);if(r(c)&&c!==a.Rg){f=a.Qg;Gh(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.Rg=c;f=!0}r(d)&&d!==a.Dh&&(f=Math.cos(d),g=Math.sin(d),Eh(a.Ch,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.Dh=d,f=!0);r(e)&&e!==a.Li&&(Eh(a.Ki,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.Li=e,f=!0);f&&(f=a.Od,Gh(f),r(c)&&Hh(f,a.Qg,f),r(b)&&Hh(f,a.Eg,f),r(e)&&Hh(f,a.Ki,f),r(d)&&Hh(f,a.Ch,f));return a.Od};function Em(a){this.U=a}function Fm(a){this.U=a}D(Fm,Em);Fm.prototype.Rb=function(){return 35632};function Gm(a){this.U=a}D(Gm,Em);Gm.prototype.Rb=function(){return 35633};function Hm(){this.U="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}D(Hm,Fm);da(Hm);function Im(){this.U="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Im,Gm);da(Im);
function Jm(a,b){this.dm=a.getUniformLocation(b,"f");this.ej=a.getUniformLocation(b,"g");this.fj=a.getUniformLocation(b,"e");this.gj=a.getUniformLocation(b,"d");this.Se=a.getUniformLocation(b,"h");this.hc=a.getAttribLocation(b,"b");this.ic=a.getAttribLocation(b,"c")};function Km(){this.U="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}D(Km,Fm);da(Km);function Lm(){this.U="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Lm,Gm);da(Lm);
function Mm(a,b){this.ej=a.getUniformLocation(b,"f");this.fj=a.getUniformLocation(b,"e");this.gj=a.getUniformLocation(b,"d");this.Se=a.getUniformLocation(b,"g");this.hc=a.getAttribLocation(b,"b");this.ic=a.getAttribLocation(b,"c")};function Nm(a){this.J=r(a)?a:[]}h=Nm.prototype;h.addRange=function(a,b){if(a!=b){var c=this.J,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Om(this);return}c.push(a,b);Om(this)}};h.clear=function(){this.J.length=0};function Om(a){a=a.J;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}h.mh=function(a,b){var c=this.J,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};h.Yc=function(){return this.J};
h.Y=function(){var a=this.J,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};h.kb=function(){return 0===this.J.length};
h.removeRange=function(a,b){var c=this.J,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Om(this)};function Pm(a,b,c){this.J=r(a)?a:[];this.Jb=[];this.oc=new Nm;a=r(b)?b:this.J.length;a<this.J.length&&this.oc.addRange(a,this.J.length);this.im=r(c)?c:35044}h=Pm.prototype;h.add=function(a){var b=a.length,c;a:{c=this.oc.J;var d=c.length,e=-1,f,g,k;for(g=0;g<d;g+=2){k=c[g+1]-c[g];if(k==b){c=c[g];break a}k>b&&(-1==e||k<f)&&(e=c[g],f=k)}c=e}this.oc.removeRange(c,c+b);for(d=0;d<b;++d)this.J[c+d]=a[d];Qm(this,b,c);return c};
h.mh=function(a,b){if(0!==this.J.length){var c=this.J.length,d=this.oc.J,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};h.Yc=function(){return this.J};h.fb=function(){return this.J.length-this.oc.Y()};function Qm(a,b,c){var d,e;d=0;for(e=a.Jb.length;d<e;++d)a.Jb[d].addRange(c,c+b)}h.remove=function(a,b){var c,d;this.oc.addRange(b,b+a);c=0;for(d=this.Jb.length;c<d;++c)this.Jb[c].removeRange(b,b+a)};
h.set=function(a,b){var c=this.J,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Qm(this,d,b)};function Rm(a,b){kk.call(this,a,b);this.tj=new Pm([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.Wd=this.Db=null;this.Xd=void 0;this.Vi=Dh();this.tl=Fh();this.Od=new Cm;this.uf=this.nf=null}D(Rm,kk);
Rm.prototype.bindFramebuffer=function(a,b){var c=this.we.S;if(r(this.Xd)&&this.Xd==b)c.bindFramebuffer(36160,this.Wd);else{a.postRenderFunctions.push(qa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.Wd,this.Db));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.Db=d;this.Wd=e;this.Xd=b}};
Rm.prototype.of=function(a,b,c){this.va("precompose",c,a);c.bindBuffer(34962,this.tj);var d=c.S,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=Hm.gb(),g=Im.gb()):(f=Km.gb(),g=Lm.gb());f=Sm(c,f,g);e?null===this.nf?this.nf=g=new Jm(d,f):g=this.nf:null===this.uf?this.uf=g=new Mm(d,f):g=this.uf;c.useProgram(f)&&(d.enableVertexAttribArray(g.hc),d.vertexAttribPointer(g.hc,2,5126,!1,16,0),d.enableVertexAttribArray(g.ic),d.vertexAttribPointer(g.ic,2,5126,!1,16,8),d.uniform1i(g.Se,0));d.uniformMatrix4fv(g.gj,
!1,this.Vi);d.uniformMatrix4fv(g.fj,!1,this.tl);e&&d.uniformMatrix4fv(g.dm,!1,Dm(this.Od,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.ej,b.opacity);d.bindTexture(3553,this.Db);d.drawArrays(5,0,4);this.va("postcompose",c,a)};Rm.prototype.va=function(a,b,c){var d=this.gd;d.wb(a)&&d.dispatchEvent(new Dl(a,d,new Bm,0,c,null,b))};Rm.prototype.Sb=function(){this.Wd=this.Db=null;this.Xd=void 0};function Tm(){this.U="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}D(Tm,Fm);da(Tm);function Um(){this.U="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}D(Um,Gm);da(Um);function Vm(a,b){this.Se=a.getUniformLocation(b,"e");this.em=a.getUniformLocation(b,"d");this.hc=a.getAttribLocation(b,"b");this.ic=a.getAttribLocation(b,"c")};function Wm(a,b){Rm.call(this,a,b);this.Kj=Tm.gb();this.lm=Um.gb();this.nb=null;this.Ai=new Pm([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.hg=this.Je=null;this.Hc=-1}D(Wm,Rm);Wm.prototype.b=function(){this.we.getContext().deleteBuffer(this.Ai);Wm.h.b.call(this)};Wm.prototype.Sb=function(){Wm.h.Sb.call(this);this.nb=null};
Wm.prototype.od=function(a,b){var c=this.we,d=c.getContext(),e=c.S,f=a.viewState,g=f.projection,k=this.gd,m=k.U,n=ik(m,g),p=Vj(n.Ic,f.resolution,0),s=n.l(p),t=jk(m,p,g),x=t/dk(n,p),u=s/x,q=f.center,y;s==f.resolution?(q=pk(q,s,a.size),y=wj(q,s,f.rotation,a.size)):y=a.extent;s=ak(n,y,s);if(null!==this.Je&&this.Je.fh(s)&&this.Hc==m.Ba)u=this.hg;else{var v=s.Y(),v=Math.max(v[0]*t,v[1]*t),A=Math.pow(2,Math.ceil(Math.log(v)/Math.LN2)),v=u*A,z=n.pc(p),F=z[0]+s.n*t*u,u=z[1]+s.t*t*u,u=[F,u,F+v,u+v];this.bindFramebuffer(a,
A);e.viewport(0,0,A,A);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);A=Sm(d,this.Kj,this.lm);d.useProgram(A);null===this.nb&&(this.nb=new Vm(e,A));d.bindBuffer(34962,this.Ai);e.enableVertexAttribArray(this.nb.hc);e.vertexAttribPointer(this.nb.hc,2,5126,!1,16,0);e.enableVertexAttribArray(this.nb.ic);e.vertexAttribPointer(this.nb.ic,2,5126,!1,16,8);e.uniform1i(this.nb.Se,0);d={};d[p]={};var E=C(m.Bf,m,d,ok(function(a){return null!==a&&2==a.D()&&c.ga.da(a.getKey())},m,x,g)),I=k.ce();r(I)||(I=
!0);var A=!0,F=sj(),Z=new lj(0,0,0,0),J,$,R;for($=s.n;$<=s.G;++$)for(R=s.t;R<=s.s;++R){z=m.Qb(p,$,R,x,g);if(r(b.extent)&&(J=Yj(n,z.o,F),!yj(J,b.extent)))continue;J=z.D();if(2==J){if(c.ga.da(z.getKey())){d[p][kj(z.o)]=z;continue}}else if(4==J||3==J&&!I)continue;A=!1;J=n.Vd(z.o,E,null,Z,F);J||(z=n.be(z.o,Z,F),null===z||E(p+1,z))}E=La(eb(d),Number);E.sort(Wa);var I=new Float32Array(4),H,P,L,wa,Z=0;for($=E.length;Z<$;++Z)for(P in L=d[E[Z]],L)z=L[P],J=Yj(n,z.o,F),R=2*(J[2]-J[0])/v,H=2*(J[3]-J[1])/v,wa=
2*(J[0]-u[0])/v-1,J=2*(J[1]-u[1])/v-1,Ch(I,R,H,wa,J),e.uniform4fv(this.nb.em,I),Xm(c,z,t,0*x),e.drawArrays(5,0,4);A?(this.Je=s,this.hg=u,this.Hc=m.Ba):(this.hg=this.Je=null,this.Hc=-1,a.animate=!0)}nk(a.usedTiles,m,p,s);var ma=c.Dd;qk(a,m,n,x,g,y,p,k.ae(),function(a){var b;(b=2!=a.D()||c.ga.da(a.getKey()))||(b=a.getKey()in ma.Fc);b||rk(ma,[a,ck(n,a.o),n.l(a.o[0]),t,0*x])},this);lk(a,m);mk(a,m);e=this.Vi;Gh(e);Ih(e,(q[0]-u[0])/(u[2]-u[0]),(q[1]-u[1])/(u[3]-u[1]));0!==f.rotation&&Kh(e,f.rotation);Jh(e,
a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1]));Ih(e,-.5,-.5);return!0};function Ym(){this.g=0;this.Uc={};this.ra=this.na=null}h=Ym.prototype;h.clear=function(){this.g=0;this.Uc={};this.ra=this.na=null};h.da=function(a){return this.Uc.hasOwnProperty(a)};h.forEach=function(a,b){for(var c=this.na;null!==c;)a.call(b,c.gc,c.qe,this),c=c.za};h.get=function(a){a=this.Uc[a];if(a===this.ra)return a.gc;a===this.na?(this.na=this.na.za,this.na.Bb=null):(a.za.Bb=a.Bb,a.Bb.za=a.za);a.za=null;a.Bb=this.ra;this.ra=this.ra.za=a;return a.gc};h.fb=function(){return this.g};
h.Oa=function(){var a=Array(this.g),b=0,c;for(c=this.ra;null!==c;c=c.Bb)a[b++]=c.qe;return a};h.Qa=function(){var a=Array(this.g),b=0,c;for(c=this.ra;null!==c;c=c.Bb)a[b++]=c.gc;return a};h.pop=function(){var a=this.na;delete this.Uc[a.qe];null!==a.za&&(a.za.Bb=null);this.na=a.za;null===this.na&&(this.ra=null);--this.g;return a.gc};h.set=function(a,b){var c={qe:a,za:null,Bb:this.ra,gc:b};null===this.ra?this.na=c:this.ra.za=c;this.ra=c;this.Uc[a]=c;++this.g};function Zm(a,b){this.c=a;this.S=b;this.qb={};this.wd={};this.pd={};this.rf=null;T(this.c,"webglcontextlost",this.Sb,!1,this);T(this.c,"webglcontextrestored",this.Hf,!1,this)}h=Zm.prototype;
h.bindBuffer=function(a,b){var c=this.S,d=b.Yc(),e=B(b);if(e in this.qb)e=this.qb[e],c.bindBuffer(a,e.buffer),e.Rd.mh(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.Rd.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.im);var g=new Nm;b.Jb.push(g);this.qb[e]={Gg:b,buffer:f,Rd:g}}};
h.deleteBuffer=function(a){var b=this.S;a=B(a);var c=this.qb[a];Pa(c.Gg.Jb,c.Rd);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.qb[a]};h.b=function(){ab(this.qb,function(a){Pa(a.Gg.Jb,a.Rd)});var a=this.S;a.isContextLost()||(ab(this.qb,function(b){a.deleteBuffer(b.buffer)}),ab(this.pd,function(b){a.deleteProgram(b)}),ab(this.wd,function(b){a.deleteShader(b)}))};
function $m(a,b){var c=B(b);if(c in a.wd)return a.wd[c];var d=a.S,e=d.createShader(b.Rb());d.shaderSource(e,b.U);d.compileShader(e);return a.wd[c]=e}function Sm(a,b,c){var d=B(b)+"/"+B(c);if(d in a.pd)return a.pd[d];var e=a.S,f=e.createProgram();e.attachShader(f,$m(a,b));e.attachShader(f,$m(a,c));e.linkProgram(f);return a.pd[d]=f}h.Sb=function(){gb(this.qb);gb(this.wd);gb(this.pd);this.rf=null};h.Hf=function(){};h.useProgram=function(a){if(a==this.rf)return!1;this.S.useProgram(a);this.rf=a;return!0};function an(a,b){vk.call(this,0,b);this.c=Vb("CANVAS");this.c.style.width="100%";this.c.style.height="100%";this.c.className="ol-unselectable";Yb(a,this.c,0);this.Jg=0;this.Kg=gi();this.v=!0;this.S=li(this.c,{antialias:!0,depth:!1,Ij:!0,preserveDrawingBuffer:!1,stencil:!0});this.A=new Zm(this.c,this.S);T(this.c,"webglcontextlost",this.Sb,!1,this);T(this.c,"webglcontextrestored",this.Hf,!1,this);this.ga=new Ym;this.Mb=null;this.Dd=new Ak(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.Mb[0],b=b[1]-
this.Mb[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Bk=C(function(){if(!this.Dd.kb()){Ek(this.Dd);var a=Bk(this.Dd);Xm(this,a[0],a[3],a[4])}},this);this.Cd=0;bn(this)}D(an,vk);
function Xm(a,b,c,d){var e=a.S,f=b.getKey();if(a.ga.da(f))a=a.ga.get(f),e.bindTexture(3553,a.Db),9729!=a.ai&&(e.texParameteri(3553,10240,9729),a.ai=9729),9729!=a.ei&&(e.texParameteri(3553,10240,9729),a.ei=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var k=a.Kg.canvas,m=a.Kg;a.Jg!=c?(k.width=c,k.height=c,a.Jg=c):m.clearRect(0,0,c,c);m.drawImage(b.xa(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,k)}else e.texImage2D(3553,0,6408,6408,5121,b.xa());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.ga.set(f,{Db:g,ai:9729,ei:9729})}}h=an.prototype;h.Qd=function(a){return a instanceof fm?new Wm(this,a):null};h.va=function(a,b){var c=this.Pa();if(c.wb(a)){var d=this.getContext();c.dispatchEvent(new Dl(a,c,new Bm,0,b,null,d))}};h.b=function(){var a=this.S;a.isContextLost()||this.ga.forEach(function(b){null===b||a.deleteTexture(b.Db)});yc(this.A);an.h.b.call(this)};
h.Hj=function(a,b){for(var c=this.S,d;1024<this.ga.fb()-this.Cd;){d=this.ga.na.gc;if(null===d)if(+this.ga.na.qe==b.index)break;else--this.Cd;else c.deleteTexture(d.Db);this.ga.pop()}};h.getContext=function(){return this.A};h.Rb=function(){return"webgl"};h.Sb=function(a){a.preventDefault();this.ga.clear();this.Cd=0;ab(this.ya,function(a){a.Sb()})};h.Hf=function(){bn(this);this.Pa().render()};
function bn(a){a=a.S;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
h.Ie=function(a){var b=this.getContext(),c=this.S;if(c.isContextLost())return!1;if(null===a)return this.v&&(ig(this.c,!1),this.v=!1),!1;this.Mb=a.focus;this.ga.set((-a.index).toString(),null);++this.Cd;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,k,m,n;g=0;for(k=e.length;g<k;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.pg&&(m=yk(this,n.layer),m.od(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.c.width!=e||this.c.height!=f)this.c.width=
e,this.c.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.c.width,this.c.height);this.va("precompose",a);g=0;for(k=d.length;g<k;++g)n=d[g],m=yk(this,n.layer),m.of(a,n,b);this.v||(ig(this.c,!0),this.v=!0);wk(a);1024<this.ga.fb()-this.Cd&&a.postRenderFunctions.push(C(this.Hj,this));this.Dd.kb()||(a.postRenderFunctions.push(this.Bk),a.animate=!0);this.va("postcompose",a);zk(this,a);a.postRenderFunctions.push(xk)};var cn=["canvas","webgl","dom"];
function Y(a){Ph.call(this);var b=dn(a);this.Ac=r(a.pixelRatio)?a.pixelRatio:mi;this.Ek=b.logos;this.df=new Gf(this.xl,void 0,this);xc(this,this.df);this.yj=Dh();this.kl=Dh();this.Lj=0;this.fd=this.We=this.dg=this.Ob=null;this.K=Rb("DIV","ol-viewport");this.K.style.position="relative";this.K.style.overflow="hidden";this.K.style.width="100%";this.K.style.height="100%";this.K.style.msTouchAction="none";pi&&(this.K.className="ol-touch");this.hl=Rb("DIV","ol-overlaycontainer");this.K.appendChild(this.hl);
this.$f=Rb("DIV","ol-overlaycontainer-stopevent");T(this.$f,["click","dblclick","mousedown","touchstart","MSPointerDown",ej,Ac],zc);this.K.appendChild(this.$f);a=new Xi(this);T(a,db(hj),this.ub,!1,this);xc(this,a);this.Rh=b.keyboardEventTarget;this.Ra=new kf;T(this.Ra,"key",this.wh,!1,this);xc(this,this.Ra);a=new wh(this.K);T(a,"mousewheel",this.wh,!1,this);xc(this,a);this.pf=b.controls;this.Dj=b.deviceOptions;this.ne=b.interactions;this.ag=b.overlays;this.fa=new b.yl(this.K,this);xc(this,this.fa);
this.nj=new vh;xc(this,this.nj);T(this.nj,"resize",this.lj,!1,this);this.Mb=null;this.Fe=[];this.wi=[];this.Zi=new Fk(C(this.Pj,this),C(this.ok,this));this.Rl={};T(this,Th("layergroup"),this.Xj,!1,this);T(this,Th("view"),this.qk,!1,this);T(this,Th("size"),this.kk,!1,this);T(this,Th("target"),this.mk,!1,this);this.vd(b.km);this.pf.forEach(function(a){a.setMap(this)},this);T(this.pf,"add",function(a){a.element.setMap(this)},!1,this);T(this.pf,"remove",function(a){a.element.setMap(null)},!1,this);this.ne.forEach(function(a){a.setMap(this)},
this);T(this.ne,"add",function(a){a.element.setMap(this)},!1,this);T(this.ne,"remove",function(a){a.element.setMap(null)},!1,this);this.ag.forEach(function(a){a.setMap(this)},this);T(this.ag,"add",function(a){a.element.setMap(this)},!1,this);T(this.ag,"remove",function(a){a.element.setMap(null)},!1,this)}D(Y,Ph);Y.prototype.Ha=function(a){this.render();Array.prototype.push.apply(this.Fe,arguments)};Y.prototype.b=function(){Zb(this.K);Y.h.b.call(this)};Y.prototype.sb=function(){return this.get("target")};
Y.prototype.getTarget=Y.prototype.sb;Y.prototype.Zc=function(a){var b=this.Ob;if(null===b)return null;a=a.slice();return uk(b.pixelToCoordinateMatrix,a,a)};Y.prototype.$d=function(){return this.get("layergroup")};Y.prototype.getLayerGroup=Y.prototype.$d;Y.prototype.ad=function(){return this.$d().ad()};Y.prototype.Y=function(){return this.get("size")};Y.prototype.getSize=Y.prototype.Y;Y.prototype.B=function(){return this.get("view")};Y.prototype.getView=Y.prototype.B;h=Y.prototype;
h.Pj=function(a,b,c,d){var e=this.Ob;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][kj(a.o)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};h.wh=function(a,b){var c=new Vi(b||a.type,this,a);this.ub(c)};h.ub=function(a){if(null!==this.Ob){this.Mb=a.coordinate;a.frameState=this.Ob;var b=this.ne.Yc(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.ua&&!d.ub(a))break}}};
h.hk=function(){var a=this.Ob,b=this.Zi;if(!b.kb()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.Dj;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=cb(a.wantedTiles)}c*=e;d*=e;if(b.Ed<c){Ek(b);c=Math.min(c-b.Ed,d,b.fb());for(d=0;d<c;++d)e=Bk(b)[0],Xc(e,"change",b.nk,!1,b),e.load();b.Ed+=c}}b=this.wi;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};h.kk=function(){this.render()};
h.mk=function(){var a=this.sb(),a=r(a)?Jb(a):null;this.Ra.detach();null===a?Zb(this.K):(a.appendChild(this.K),lf(this.Ra,null===this.Rh?a:this.Rh));this.lj()};h.ok=function(){this.render()};h.rk=function(){this.render()};h.qk=function(){null!==this.We&&(U(this.We),this.We=null);var a=this.B();null!==a&&(this.We=T(a,"propertychange",this.rk,!1,this));this.render()};h.Yj=function(){this.render()};h.Zj=function(){this.render()};
h.Xj=function(){if(null!==this.fd){for(var a=this.fd.length,b=0;b<a;++b)U(this.fd[b]);this.fd=null}a=this.$d();null!=a&&(this.fd=[T(a,"propertychange",this.Zj,!1,this),T(a,"change",this.Yj,!1,this)]);this.render()};h.Mf=function(){if(!ac(document,this.K)||"none"==this.K.style.display)return!1;var a=this.Y();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.B();return null!==a&&a.Mf()?!0:!1};h.render=function(){this.df.vc()||this.df.start()};
h.xl=function(a){var b,c,d,e=this.Y(),f=this.B(),g=null;if(r(e)&&0<e[0]&&0<e[1]&&null!==f&&f.Mf()){var g=Ra(f.Jf),k=this.$d().Df(),m={};b=0;for(c=k.length;b<c;++b)m[B(k[b].layer)]=k[b];d=f.D();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.yj,extent:null,focus:null===this.Mb?d.center:this.Mb,index:this.Lj++,layerStates:m,layerStatesArray:k,logos:this.Ek,pixelRatio:this.Ac,pixelToCoordinateMatrix:this.kl,postRenderFunctions:[],size:e,skippedFeatureUids:this.Rl,tileQueue:this.Zi,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Fe;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=wj(d.center,d.resolution,d.rotation,g.size)}this.Ob=g;this.fa.Ie(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.wi,g.postRenderFunctions),!(b=0!==this.Fe.length||g.viewHints[0]||g.viewHints[1])&&(b=this.dg)&&(b=g.extent,c=this.dg,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new ai("moveend",this,
g)),this.dg=rj(g.extent)));this.dispatchEvent(new ai("postrender",this,g));ud(this.hk,this)};h.Il=function(a){this.set("layergroup",a)};Y.prototype.setLayerGroup=Y.prototype.Il;Y.prototype.mg=function(a){this.set("size",a)};Y.prototype.setSize=Y.prototype.mg;Y.prototype.ng=function(a){this.set("target",a)};Y.prototype.setTarget=Y.prototype.ng;Y.prototype.Pl=function(a){this.set("view",a)};Y.prototype.setView=Y.prototype.Pl;
Y.prototype.lj=function(){var a=this.sb(),a=r(a)?Jb(a):null;if(null===a)this.mg(void 0);else{var b=Ib(a),c=M&&a.currentStyle;c&&ic(Gb(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=lg(a,c.width,"width","pixelWidth"),a=lg(a,c.height,"height","pixelHeight"),a=new Eb(b,a)):(c=new Eb(a.offsetWidth,a.offsetHeight),b=ng(a),a=qg(a),a=new Eb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.mg([a.width,a.height])}};
function dn(a){var b=null;r(a.keyboardEventTarget)&&(b=w(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!r(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;w(e)?d[e]="":ja(e)&&(d[e.src]=e.href)}e=a.layers instanceof Vl?a.layers:new Vl({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=r(a.view)?a.view:new X;var e=vk,f;r(a.renderer)?fa(a.renderer)?f=a.renderer:w(a.renderer)&&(f=[a.renderer]):f=cn;var g,k;g=0;for(k=f.length;g<k;++g){var m=f[g];if("canvas"==m){if(oi){e=tm;break}}else if("dom"==m){e=Am;break}else if("webgl"==m&&si){e=an;break}}r(a.controls)?f=fa(a.controls)?new Vh(Ra(a.controls)):a.controls:
(f=r(void 0)?void 0:{},g=new Vh,(r(f.zoom)?f.zoom:1)&&g.push(new cl(f.zoomOptions)),(r(f.rotate)?f.rotate:1)&&g.push(new al(f.rotateOptions)),(r(f.attribution)?f.attribution:1)&&g.push(new Tk(f.attributionOptions)),f=g);g=r(a.deviceOptions)?a.deviceOptions:{};if(r(a.interactions))k=fa(a.interactions)?new Vh(Ra(a.interactions)):a.interactions;else{k=r(void 0)?void 0:{};var m=new Vh,n=new el(-.005,.05,100);(r(k.altShiftDragRotate)?k.altShiftDragRotate:1)&&m.push(new tl);(r(k.doubleClickZoom)?k.doubleClickZoom:
1)&&m.push(new ll({delta:k.zoomDelta,duration:k.zoomDuration}));(r(k.dragPan)?k.dragPan:1)&&m.push(new sl({kinetic:n}));(r(k.pinchRotate)?k.pinchRotate:1)&&m.push(new Tl);(r(k.pinchZoom)?k.pinchZoom:1)&&m.push(new Ul({duration:k.zoomDuration}));if(r(k.keyboard)?k.keyboard:1)m.push(new Ql),m.push(new Rl({delta:k.zoomDelta,duration:k.zoomDuration}));(r(k.mouseWheelZoom)?k.mouseWheelZoom:1)&&m.push(new Sl({duration:k.zoomDuration}));(r(k.shiftDragZoom)?k.shiftDragZoom:1)&&m.push(new Pl);k=m}a=r(a.overlays)?
fa(a.overlays)?new Vh(Ra(a.overlays)):a.overlays:new Vh;return{controls:f,deviceOptions:g,interactions:k,keyboardEventTarget:b,logos:d,overlays:a,yl:e,km:c}}Gj($l);Gj(em);G(em,function(a){G($l,function(b){Ij(a,b,am);Ij(b,a,bm)})});function en(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function fn(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[Cb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function gn(){}function hn(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function jn(a,b,c,d,e){Uj.call(this,a,b);this.xd=c;this.Z=new Image;null!==d&&(this.Z.crossOrigin=d);this.ke={};this.dd=null;this.Yl=e}D(jn,Uj);h=jn.prototype;h.xa=function(a){if(r(a)){var b=B(a);if(b in this.ke)return this.ke[b];a=fb(this.ke)?this.Z:this.Z.cloneNode(!1);return this.ke[b]=a}return this.Z};h.getKey=function(){return this.xd};h.Sj=function(){this.state=3;G(this.dd,U);this.dd=null;this.V()};
h.Tj=function(){this.state=this.Z.naturalWidth&&this.Z.naturalHeight?2:4;G(this.dd,U);this.dd=null;this.V()};h.load=function(){0==this.state&&(this.state=1,this.dd=[Xc(this.Z,"error",this.Sj,!1,this),Xc(this.Z,"load",this.Tj,!1,this)],this.Yl(this,this.xd))};function kn(a){Ym.call(this);this.sk=r(a)?a:2048}D(kn,Ym);kn.prototype.Ib=function(){return this.fb()>this.sk};kn.prototype.Wc=function(a){for(var b,c;this.Ib()&&!(b=this.na.gc,c=b.o[0].toString(),c in a&&a[c].contains(b.o));)this.pop().cb()};function ln(a){hk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:r(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=r(a.tileUrlFunction)?a.tileUrlFunction:gn;this.crossOrigin=r(a.crossOrigin)?a.crossOrigin:null;this.ca=new kn;this.tileLoadFunction=r(a.tileLoadFunction)?a.tileLoadFunction:mn;this.tileClass=r(a.tileClass)?a.tileClass:jn}D(ln,hk);function mn(a,b){a.xa().src=b}
ln.prototype.Ib=function(){return this.ca.Ib()};ln.prototype.Wc=function(a){this.ca.Wc(a)};ln.prototype.Qb=function(a,b,c,d,e){var f=this.$c(a,b,c);if(this.ca.da(f))return this.ca.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,r(d)?0:4,r(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.ca.set(f,d);return d};ln.prototype.ug=function(a,b,c){a=this.$c(a,b,c);this.ca.da(a)&&this.ca.get(a)};function nn(a){var b=r(a.extent)?a.extent:Xl,c=fk(b,a.maxZoom,a.tileSize);Wj.call(this,{minZoom:a.minZoom,origin:uj(b,"top-left"),resolutions:c,tileSize:a.tileSize})}D(nn,Wj);
function on(a,b){var c=r(b)?b:{},d=a.minZoom,e=a.maxZoom,f=r(c.wrapX)?c.wrapX:!0,g=null;if(r(c.extent)){var g=Array(e+1),k;for(k=0;k<=e;++k)g[k]=k<d?null:Zj(a,c.extent,k)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var k=Math.pow(2,b),t=a[1];if(f)t=Cb(t,k);else if(0>t||k<=t)return null;a=a[2];return a<-k||-1<a||null!==g&&!g[b].Sc(t,a)?null:ij(b,t,-a-1,c)}}nn.prototype.be=function(a,b){return a[0]<this.maxZoom?mj(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
nn.prototype.Vd=function(a,b,c,d){d=mj(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.n=d.G>>=1,d.t=d.s>>=1,b.call(c,a,d))return!0;return!1};function pn(a){ln.call(this,{crossOrigin:a.crossOrigin,projection:Mj("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new nh(a.url)).send(void 0,C(this.Gf,this))}D(pn,ln);
pn.prototype.Gf=function(a){var b=Mj("EPSG:4326"),c=this.Ec,d;r(a.bounds)&&(d=Aj(a.bounds,Oj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new nn({extent:gk(c),maxZoom:f,minZoom:e});this.tileUrlFunction=hn(on(c,{extent:d}),fn(La(a.tiles,en)));if(r(a.attribution)){b=r(d)?d:b.R();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[Zj(c,b,e)];this.ff=[new oj({html:a.attribution,tileRanges:d})]}this.j="ready";this.V()};function qn(a){hk.call(this,{projection:Mj("EPSG:3857"),state:"loading"});this.cg=r(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=gn;this.ca=new kn;(new nh(a.url)).send(void 0,C(this.Gf,this))}D(qn,hk);h=qn.prototype;h.Ib=function(){return this.ca.Ib()};h.Wc=function(a){this.ca.Wc(a)};function rn(a,b,c,d,e){null!==a.tileGrid&&(c=bk(a.tileGrid,b[0],b[1],c,!1,void 0),sn(a.Qb(c[0],c[1],c[2],1,a.Ec),b,d,e))}
h.Gf=function(a){var b=Mj("EPSG:4326"),c=this.Ec,d;r(a.bounds)&&(d=Aj(a.bounds,Oj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new nn({extent:gk(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=hn(on(c,{extent:d}),fn(La(g,en)));if(r(a.attribution)){b=r(d)?d:b.R();for(d={};e<=f;++e)g=e.toString(),d[g]=[Zj(c,b,e)];this.ff=[new oj({html:a.attribution,tileRanges:d})]}this.j="ready"}else this.j="error";this.V()};
h.Qb=function(a,b,c,d,e){var f=this.$c(a,b,c);if(this.ca.da(f))return this.ca.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new tn(a,r(d)?0:4,r(d)?d:"",Yj(this.tileGrid,a),this.cg);this.ca.set(f,d);return d};h.ug=function(a,b,c){a=this.$c(a,b,c);this.ca.da(a)&&this.ca.get(a)};function tn(a,b,c,d,e){Uj.call(this,a,b);this.xd=c;this.W=d;this.cg=e;this.sf=this.p=this.de=null}D(tn,Uj);h=tn.prototype;h.xa=function(){return null};
h.getData=function(a){if(null!==this.de&&null!==this.p&&null!==this.sf){var b=this.de[Math.floor((1-(a[1]-this.W[1])/(this.W[3]-this.W[1]))*this.de.length)];if(w(b))return a=b.charCodeAt(Math.floor((a[0]-this.W[0])/(this.W[2]-this.W[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.p[a-32],null!=a?this.sf[a]:void 0}};function sn(a,b,c,d){0==a.state?(a.Vf("change",function(){c.call(d,this.getData(b))},!1,a),un(a)):c.call(d,a.getData(b))}h.getKey=function(){return this.xd};h.fe=function(){this.state=3;this.V()};
h.Ff=function(a){this.de=a.grid;this.p=a.keys;this.sf=a.data;this.state=4;this.V()};function un(a){0==a.state&&(a.state=1,(new nh(a.xd)).send(void 0,C(a.Ff,a),C(a.fe,a)))}h.load=function(){this.cg&&un(this)};function vn(){var a=[-5.3642,51.3776,-2.6334,53.4369],b=Qj(a),c=rj(b);zj(c,2);var d=rj(b);zj(d,1.2);this.bi=Jb("map");this.xg=new qn({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.L=new X({extent:c,zoom:7,minZoom:6,maxZoom:14});this.a=new Y({target:this.bi,controls:[],layers:[new fm({source:new pn({url:"http://cynefin.tileserver.com/cynefin-counties.json"})}),new fm({source:new pn({url:"http://cynefin.tileserver.com/cynefin-parishes.json"})}),new fm({source:this.xg})],
view:this.L});Mh(this.a,fj,function(a){var b=this.L.l()||1;rn(this.xg,a.coordinate,b,this.ck,this)},this);Mh(this.a,aj,function(a){var b=this.L.l()||1;rn(this.xg,a.coordinate,b,this.ek,this)},this);Nh(this.a,function(){var a=this.a.Y();a?Qk(this.L,d,a):wn(this,[-3.9001,52.3118],!0)},this);var e=C(function(a,b){var c=this.L.l()||1;this.a.Ha($k({resolution:c,duration:250,easing:Vk}));this.L.dc(this.L.constrainResolution(c,a));b.preventDefault()},this);T(Jb("map-zoom-in"),"click",function(a){e(1,a)});
T(Jb("map-zoom-out"),"click",function(a){e(-1,a)});var f=Jb("nominatim-input");if(f){var g=new th(f,void 0,{bounded:1,viewboxlbrt:a.join(",")}),k=C(function(a){var b;b=this.a.Y();var c;c=Jb("application-panel");b&&c&&(b=[b[0]-gg(c).width,b[1]]);b&&(c=Nj("EPSG:4326",this.L.Ec),a=Aj(a,c),zj(a,1.33),Qk(this.L,a,b),wn(this,this.L.ka()),this.L.dc(this.L.constrainResolution(this.L.l())))},this);T(g,"update",function(a){k(a.Ta.bounds||a.Ta.viewport)});a=function(a){g.search(f.value,1,function(a,b){k(b[0].bounds||
b[0].viewport)});a.preventDefault()};b=gc(f);T(b,"submit",a);T(f,["webkitspeechchange","speechchange"],a)}this.ab=new te;this.wf=!1;this.ab.ma("opened",function(a){if(!this.wf){var b=Pk(this.L);if(10!=b){var c=this.L,d=c.constrainResolution(c.Xf,10-c.Yf,0);c.dc(d)}wn(this,a.center,!0,10==b)}},!1,this)}
function wn(a,b,c,d){if(b){c&&(b=Nj("EPSG:4326","EPSG:3857")(b));c=a.L.ka();d&&c&&a.a.Ha(Yk({duration:300,source:c}));d=a.a.Y();var e;(c=Jb("application-panel"))&&(e=[(d[0]+gg(c).width)/2,d[1]/2]);if(e&&d){a=a.L;c=b;var f=a.Pb();b=Math.cos(-f);var f=Math.sin(-f),g=c[0]*b-c[1]*f;c=c[1]*b+c[0]*f;var k=a.l(),g=g+(d[0]/2-e[0])*k;c+=(e[1]-d[1]/2)*k;f=-f;a.Ua([g*b-c*f,c*b+g*f])}else a.L.Ua(b)}}vn.prototype.ck=function(a){this.bi.style.cursor=a?"pointer":"";ze(this.ab,a?a.County:null)};
vn.prototype.ek=function(a){if(a){var b=a.County;if(w(b)){var c=C(function(){9<Pk(this.L)&&Ge(this.ab,a.SHAPE_ID.toString())},this);b!=ye(this.ab)?(this.wf=!0,xe(this.ab,b,c),this.wf=!1):c()}}};ba("TitheMaps",vn);
