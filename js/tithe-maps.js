var h,ca=ca||{},l=this;function r(a){return void 0!==a}function da(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ea(){}function fa(a){a.hb=function(){return a.ai?a.ai:a.ai=new a}}
function ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"array"==ga(a)}function ia(a){var b=ga(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==ga(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function B(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;
function pa(a,b,c){return a.call.apply(a.bind,arguments)}function qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:qa;return C.apply(null,arguments)}
function sa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.g=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.dn=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ua(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ua);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(ua,Error);ua.prototype.name="CustomError";var va;function wa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ya(a){if(!za.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(Aa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Ba,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ca,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(Da,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ea,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Fa,"\x26#0;"));return a}var Aa=/&/g,Ba=/</g,Ca=/>/g,Da=/"/g,Ea=/'/g,Fa=/\x00/g,za=/[\x00&<>"']/;
function Ga(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ha(a,b){return a<b?-1:a>b?1:0}function Ia(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ja(a){var b=w(void 0)?Ga(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Ka=Array.prototype,La=Ka.indexOf?function(a,b,c){return Ka.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=Ka.forEach?function(a,b,c){Ka.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Ka.filter?function(a,b,c){return Ka.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=w(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Na=Ka.map?function(a,b,c){return Ka.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Oa=Ka.some?function(a,b,c){return Ka.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Pa=Ka.every?function(a,b,c){return Ka.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a,b){var c;a:{c=a.length;for(var d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:w(a)?a.charAt(c):a[c]}function Ra(a,b){var c=La(a,b),d;(d=0<=c)&&Ka.splice.call(a,c,1);return d}function Sa(a){return Ka.concat.apply(Ka,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ua(a,b,c,d){Ka.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return 2>=arguments.length?Ka.slice.call(a,b):Ka.slice.call(a,b,c)}function Wa(a,b){if(!ia(a)||!ia(b)||a.length!=b.length)return!1;for(var c=a.length,d=Xa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ya(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){return a===b};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}function bb(a){return-1!=Za.indexOf(a)};function cb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function db(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function eb(a){var b=0,c;for(c in a)b++;return b}function fb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function gb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function hb(a){for(var b in a)return!1;return!0}function ib(a){for(var b in a)delete a[b]}function jb(a,b){b in a&&delete a[b]}function K(a,b,c){return b in a?a[b]:c}
function kb(a){var b={},c;for(c in a)b[c]=a[c];return b}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<lb.length;f++)c=lb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var nb,ob,pb;function qb(){return l.navigator||null}var rb=bb("Opera")||bb("OPR"),L=bb("Trident")||bb("MSIE"),sb=bb("Gecko")&&-1==Za.toLowerCase().indexOf("webkit")&&!(bb("Trident")||bb("MSIE")),M=-1!=Za.toLowerCase().indexOf("webkit"),tb,ub=qb();tb=ub&&ub.platform||"";nb=-1!=tb.indexOf("Mac");ob=-1!=tb.indexOf("Win");pb=-1!=tb.indexOf("Linux");var vb=!!qb()&&-1!=(qb().appVersion||"").indexOf("X11");function wb(){var a=l.document;return a?a.documentMode:void 0}
var xb=function(){var a="",b;if(rb&&l.opera)return a=l.opera.version,ka(a)?a():a;sb?b=/rv\:([^\);]+)(\)|;)/:L?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Za))?a[1]:"");return L&&(b=wb(),b>parseFloat(a))?String(b):a}(),yb={};
function O(a){var b;if(!(b=yb[a])){b=0;for(var c=wa(String(xb)).split("."),d=wa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],s=n.exec(k)||["","",""];if(0==p[0].length&&0==s[0].length)break;b=Ha(0==p[1].length?0:parseInt(p[1],10),0==s[1].length?0:parseInt(s[1],10))||Ha(0==p[2].length,0==s[2].length)||Ha(p[2],s[2])}while(0==b)}b=yb[a]=0<=b}return b}
var zb=l.document,Ab=zb&&L?wb()||("CSS1Compat"==zb.compatMode?parseInt(xb,10):5):void 0;var Bb=!L||L&&9<=Ab;!sb&&!L||L&&L&&9<=Ab||sb&&O("1.9.1");var Cb=L&&!O("9");function Db(a,b,c){return Math.min(Math.max(a,b),c)}function Eb(a,b){var c=a%b;return 0>c*b?c+b:c};function P(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}h=P.prototype;h.clone=function(){return new P(this.x,this.y)};function Fb(a,b){return new P(a.x-b.x,a.y-b.y)}h.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};h.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};h.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
h.translate=function(a,b){a instanceof P?(this.x+=a.x,this.y+=a.y):(this.x+=a,ja(b)&&(this.y+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.x*=a;this.y*=c;return this};function Gb(a,b){this.width=a;this.height=b}function Hb(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}h=Gb.prototype;h.clone=function(){return new Gb(this.width,this.height)};h.lb=function(){return!(this.width*this.height)};h.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.scale=function(a,b){var c=ja(b)?b:a;this.width*=a;this.height*=c;return this};function Ib(a){return a?new Jb(Kb(a)):va||(va=new Jb)}function R(a){return w(a)?document.getElementById(a):a}function Lb(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function Mb(a,b){cb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Nb?a.setAttribute(Nb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ob(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Gb(a.clientWidth,a.clientHeight)}function Pb(a){return M||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Qb(a){return a.parentWindow||a.defaultView}function Sb(a,b,c){return Tb(document,arguments)}
function Tb(a,b){var c=b[0],d=b[1];if(!Bb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',ya(d.name),'"');if(d.type){c.push(' type\x3d"',ya(d.type),'"');var e={};mb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:ha(d)?c.className=d.join(" "):Mb(c,d));2<b.length&&Ub(a,c,b,2);return c}
function Ub(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ia(f)||la(f)&&0<f.nodeType?e(f):F(Vb(f)?Ta(f):f,e)}}function Wb(a){return document.createElement(a)}function Xb(a,b){Ub(Kb(a),a,arguments,1)}function Yb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Zb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function $b(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}
function ac(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function bc(a){return la(a)&&1==a.nodeType}function cc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Kb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function dc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Yb(a),a.appendChild(Kb(a).createTextNode(String(b)))}var ec={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},fc={IMG:" ",BR:"\n"};
function gc(a){if(Cb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];hc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Cb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function hc(a,b,c){if(!(a.nodeName in ec))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in fc)b.push(fc[a.nodeName]);else for(a=a.firstChild;a;)hc(a,b,c),a=a.nextSibling}function Vb(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function ic(a){return jc(a,function(a){return"FORM"==a.nodeName&&!0})}
function jc(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Jb(a){this.fa=a||l.document||document}h=Jb.prototype;h.ed=function(a){return w(a)?this.fa.getElementById(a):a};h.Cd=Mb;h.gh=function(a,b,c){return Tb(this.fa,arguments)};h.createElement=function(a){return this.fa.createElement(a)};h.createTextNode=function(a){return this.fa.createTextNode(String(a))};function kc(a){return"CSS1Compat"==a.fa.compatMode}
function lc(a){var b=a.fa;a=Pb(b);b=Qb(b);return L&&O("10")&&b.pageYOffset!=a.scrollTop?new P(a.scrollLeft,a.scrollTop):new P(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}h.appendChild=function(a,b){a.appendChild(b)};h.append=Xb;h.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
h.Tl=Yb;h.removeNode=ac;h.contains=cc;function mc(a){if(a.classList)return a.classList;a=a.className;return w(a)&&a.match(/\S+/g)||[]}function nc(a,b){var c;a.classList?c=a.classList.contains(b):(c=mc(a),c=0<=La(c,b));return c}function oc(a,b){a.classList?a.classList.add(b):nc(a,b)||(a.className+=0<a.className.length?" "+b:b)}function pc(a,b){if(a.classList)F(b,function(b){oc(a,b)});else{var c={};F(mc(a),function(a){c[a]=!0});F(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function qc(a,b){a.classList?a.classList.remove(b):nc(a,b)&&(a.className=Ma(mc(a),function(a){return a!=b}).join(" "))}function rc(a,b){a.classList?F(b,function(b){qc(a,b)}):a.className=Ma(mc(a),function(a){return!(0<=La(b,a))}).join(" ")}function sc(a,b,c){c?oc(a,b):qc(a,b)};var tc=!L||L&&9<=Ab,uc=!L||L&&9<=Ab,vc=L&&!O("9");!M||O("528");sb&&O("1.9b")||L&&O("8")||rb&&O("9.5")||M&&O("528");sb&&!O("8")||L&&O("9");function wc(){0!=xc&&(yc[B(this)]=this);this.Xc=this.Xc;this.Zb=this.Zb}var xc=0,yc={};wc.prototype.Xc=!1;wc.prototype.eb=function(){if(!this.Xc&&(this.Xc=!0,this.c(),0!=xc)){var a=B(this);delete yc[a]}};function zc(a,b){var c=sa(Ac,b);a.Zb||(a.Zb=[]);a.Zb.push(r(void 0)?C(c,void 0):c)}wc.prototype.c=function(){if(this.Zb)for(;this.Zb.length;)this.Zb.shift()()};function Ac(a){a&&"function"==typeof a.eb&&a.eb()};function T(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.cc=!1;this.Yi=!0}T.prototype.c=function(){};T.prototype.eb=function(){};T.prototype.stopPropagation=function(){this.cc=!0};T.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Yi=!1};function Bc(a){a.stopPropagation()};var Cc=sb?"DOMMouseScroll":"mousewheel",Dc=L?"focusout":"DOMFocusOut";function Ec(a){Ec[" "](a);return a}Ec[" "]=ea;function Fc(a,b){T.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Pe=!1;this.l=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(sb){var e;a:{try{Ec(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=M||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=M||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.Pe=nb?a.metaKey:a.ctrlKey;this.state=a.state;this.l=a;a.defaultPrevented&&this.preventDefault()}}D(Fc,T);var Gc=[1,4,2];function Hc(a){return(tc?0==a.l.button:"click"==a.type?!0:!!(a.l.button&Gc[0]))&&!(M&&nb&&a.ctrlKey)}Fc.prototype.stopPropagation=function(){Fc.g.stopPropagation.call(this);this.l.stopPropagation?this.l.stopPropagation():this.l.cancelBubble=!0};
Fc.prototype.preventDefault=function(){Fc.g.preventDefault.call(this);var a=this.l;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Fc.prototype.hk=function(){return this.l};Fc.prototype.c=function(){};var Ic="closure_listenable_"+(1E6*Math.random()|0);function Jc(a){return!(!a||!a[Ic])}var Kc=0;function Lc(a,b,c,d,e){this.Xb=a;this.Te=null;this.src=b;this.type=c;this.Sc=!!d;this.pe=e;this.key=++Kc;this.Kc=this.Td=!1}function Mc(a){a.Kc=!0;a.Xb=null;a.Te=null;a.src=null;a.pe=null};function Nc(a){this.src=a;this.V={};this.Pd=0}h=Nc.prototype;h.add=function(a,b,c,d,e){var f=a.toString();a=this.V[f];a||(a=this.V[f]=[],this.Pd++);var g=Oc(a,b,d,e);-1<g?(b=a[g],c||(b.Td=!1)):(b=new Lc(b,this.src,f,!!d,e),b.Td=c,a.push(b));return b};h.remove=function(a,b,c,d){a=a.toString();if(!(a in this.V))return!1;var e=this.V[a];b=Oc(e,b,c,d);return-1<b?(Mc(e[b]),Ka.splice.call(e,b,1),0==e.length&&(delete this.V[a],this.Pd--),!0):!1};
function Pc(a,b){var c=b.type;if(!(c in a.V))return!1;var d=Ra(a.V[c],b);d&&(Mc(b),0==a.V[c].length&&(delete a.V[c],a.Pd--));return d}h.Ue=function(a){a=a&&a.toString();var b=0,c;for(c in this.V)if(!a||c==a){for(var d=this.V[c],e=0;e<d.length;e++)++b,Mc(d[e]);delete this.V[c];this.Pd--}return b};h.hd=function(a,b,c,d){a=this.V[a.toString()];var e=-1;a&&(e=Oc(a,b,c,d));return-1<e?a[e]:null};
h.yb=function(a,b){var c=r(a),d=c?a.toString():"",e=r(b);return db(this.V,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Sc!=b))return!0;return!1})};function Oc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Kc&&f.Xb==b&&f.Sc==!!c&&f.pe==d)return e}return-1};var Qc="closure_lm_"+(1E6*Math.random()|0),Rc={},Sc=0;function U(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)U(a,b[f],c,d,e);return null}c=Tc(c);return Jc(a)?a.oa(b,c,d,e):Uc(a,b,c,!1,d,e)}function Uc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Vc(a);k||(a[Qc]=k=new Nc(a));c=k.add(b,c,d,e,f);if(c.Te)return c;d=Wc();c.Te=d;d.src=a;d.Xb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Xc(b.toString()),d);Sc++;return c}
function Wc(){var a=Yc,b=uc?function(c){return a.call(b.src,b.Xb,c)}:function(c){c=a.call(b.src,b.Xb,c);if(!c)return c};return b}function Zc(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)Zc(a,b[f],c,d,e);return null}c=Tc(c);return Jc(a)?a.kg(b,c,d,e):Uc(a,b,c,!0,d,e)}function $c(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)$c(a,b[f],c,d,e);else c=Tc(c),Jc(a)?a.Ya(b,c,d,e):a&&(a=Vc(a))&&(b=a.hd(b,c,!!d,e))&&V(b)}
function V(a){if(ja(a)||!a||a.Kc)return!1;var b=a.src;if(Jc(b))return Pc(b.Ra,a);var c=a.type,d=a.Te;b.removeEventListener?b.removeEventListener(c,d,a.Sc):b.detachEvent&&b.detachEvent(Xc(c),d);Sc--;(c=Vc(b))?(Pc(c,a),0==c.Pd&&(c.src=null,b[Qc]=null)):Mc(a);return!0}function Xc(a){return a in Rc?Rc[a]:Rc[a]="on"+a}function ad(a,b,c,d){var e=1;if(a=Vc(a))if(b=a.V[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Sc==c&&!f.Kc&&(e&=!1!==bd(f,d))}return Boolean(e)}
function bd(a,b){var c=a.Xb,d=a.pe||a.src;a.Td&&V(a);return c.call(d,b)}
function Yc(a,b){if(a.Kc)return!0;if(!uc){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Fc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.cc&&0<=k;k--)c.currentTarget=e[k],d&=ad(e[k],f,!0,c);for(k=0;!c.cc&&k<e.length;k++)c.currentTarget=
e[k],d&=ad(e[k],f,!1,c)}return d}return bd(a,new Fc(b,this))}function Vc(a){a=a[Qc];return a instanceof Nc?a:null}var cd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Tc(a){if(ka(a))return a;a[cd]||(a[cd]=function(b){return a.handleEvent(b)});return a[cd]};function W(){wc.call(this);this.Ra=new Nc(this);this.Kj=this;this.og=null}D(W,wc);W.prototype[Ic]=!0;h=W.prototype;h.addEventListener=function(a,b,c,d){U(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){$c(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.og;if(c)for(b=[];c;c=c.og)b.push(c);var c=this.Kj,d=a.type||a;if(w(a))a=new T(a,c);else if(a instanceof T)a.target=a.target||c;else{var e=a;a=new T(d,c);mb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.cc&&0<=g;g--)f=a.currentTarget=b[g],e=dd(f,d,!0,a)&&e;a.cc||(f=a.currentTarget=c,e=dd(f,d,!0,a)&&e,a.cc||(e=dd(f,d,!1,a)&&e));if(b)for(g=0;!a.cc&&g<b.length;g++)f=a.currentTarget=b[g],e=dd(f,d,!1,a)&&e;return e};
h.c=function(){W.g.c.call(this);this.Ra&&this.Ra.Ue(void 0);this.og=null};h.oa=function(a,b,c,d){return this.Ra.add(String(a),b,!1,c,d)};h.kg=function(a,b,c,d){return this.Ra.add(String(a),b,!0,c,d)};h.Ya=function(a,b,c,d){return this.Ra.remove(String(a),b,c,d)};function dd(a,b,c,d){b=a.Ra.V[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Kc&&g.Sc==c){var k=g.Xb,m=g.pe||g.src;g.Td&&Pc(a.Ra,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Yi}
h.hd=function(a,b,c,d){return this.Ra.hd(String(a),b,c,d)};h.yb=function(a,b){return this.Ra.yb(r(a)?String(a):void 0,b)};function ed(){}ed.prototype.Ug=null;function fd(a){return a.Ug||(a.Ug=a.bi())};var gd;function hd(){}D(hd,ed);hd.prototype.Gf=function(){var a=id(this);return a?new ActiveXObject(a):new XMLHttpRequest};hd.prototype.bi=function(){var a={};id(this)&&(a[0]=!0,a[1]=!0);return a};
function id(a){if(!a.Th&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Th=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Th}gd=new hd;function jd(){}D(jd,ed);jd.prototype.Gf=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new kd;throw Error("Unsupported browser");};jd.prototype.bi=function(){return{}};
function kd(){this.Ha=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Ha.onload=C(this.Vf,this);this.Ha.onerror=C(this.oe,this);this.Ha.onprogress=C(this.Hk,this);this.Ha.ontimeout=C(this.Ok,this)}h=kd.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Ha.open(a,b)};
h.send=function(a){if(a)if("string"==typeof a)this.Ha.send(a);else throw Error("Only string data is supported");else this.Ha.send()};h.abort=function(){this.Ha.abort()};h.setRequestHeader=function(){};h.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Ha.contentType:""};h.Vf=function(){this.status=200;this.responseText=this.Ha.responseText;ld(this,4)};h.oe=function(){this.status=500;this.responseText=null;ld(this,4)};h.Ok=function(){this.oe()};
h.Hk=function(){this.status=200;ld(this,1)};function ld(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}h.getAllResponseHeaders=function(){return"content-type: "+this.Ha.contentType};function md(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function nd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function od(a){return function(){return a}}var pd=od(!1),rd=od(!0);function sd(a){return a}function td(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function ud(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function vd(a){l.setTimeout(function(){throw a;},0)}function wd(a,b){var c=a;b&&(c=C(a,b));c=xd(c);!ka(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(yd||(yd=zd()),yd(c)):l.setImmediate(c)}var yd;
function zd(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!bb("Trident")&&!bb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Vg;c.Vg=null;a()};return function(a){d.next={Vg:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}}var xd=sd;function Ad(a,b){Bd||Cd();Dd||(Bd(),Dd=!0);Ed.push(new Fd(a,b))}var Bd;function Cd(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve();Bd=function(){a.then(Gd)}}else Bd=function(){wd(Gd)}}var Dd=!1,Ed=[];function Gd(){for(;Ed.length;){var a=Ed;Ed=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.bk.call(c.scope)}catch(d){vd(d)}}}Dd=!1}function Fd(a,b){this.bk=a;this.scope=b};function Hd(a,b){this.j=Id;this.pb=void 0;this.ra=this.aa=null;this.ne=this.Pf=!1;try{var c=this;a.call(b,function(a){Jd(c,Kd,a)},function(a){Jd(c,Ld,a)})}catch(d){Jd(this,Ld,d)}}var Id=0,Kd=2,Ld=3;Hd.prototype.then=function(a,b,c){return Md(this,ka(a)?a:null,ka(b)?b:null,c)};md(Hd);Hd.prototype.cancel=function(a){this.j==Id&&Ad(function(){var b=new Nd(a);Od(this,b)},this)};
function Od(a,b){if(a.j==Id)if(a.aa){var c=a.aa;if(c.ra){for(var d=0,e=-1,f=0,g;g=c.ra[f];f++)if(g=g.Vd)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.j==Id&&1==d?Od(c,b):(d=c.ra.splice(e,1)[0],Pd(c,d,Ld,b)))}}else Jd(a,Ld,b)}function Qd(a,b){a.ra&&a.ra.length||a.j!=Kd&&a.j!=Ld||Rd(a);a.ra||(a.ra=[]);a.ra.push(b)}
function Md(a,b,c,d){var e={Vd:null,zi:null,Gi:null};e.Vd=new Hd(function(a,g){e.zi=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Gi=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof Nd?g(b):a(e)}catch(n){g(n)}}:g});e.Vd.aa=a;Qd(a,e);return e.Vd}Hd.prototype.Aj=function(a){this.j=Id;Jd(this,Kd,a)};Hd.prototype.Bj=function(a){this.j=Id;Jd(this,Ld,a)};
function Jd(a,b,c){if(a.j==Id){if(a==c)b=Ld,c=new TypeError("Promise cannot resolve to itself");else{if(nd(c)){a.j=1;c.then(a.Aj,a.Bj,a);return}if(la(c))try{var d=c.then;if(ka(d)){Sd(a,c,d);return}}catch(e){b=Ld,c=e}}a.pb=c;a.j=b;Rd(a);b!=Ld||c instanceof Nd||Td(a,c)}}function Sd(a,b,c){function d(b){f||(f=!0,a.Bj(b))}function e(b){f||(f=!0,a.Aj(b))}a.j=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Rd(a){a.Pf||(a.Pf=!0,Ad(a.Zj,a))}
Hd.prototype.Zj=function(){for(;this.ra&&this.ra.length;){var a=this.ra;this.ra=[];for(var b=0;b<a.length;b++)Pd(this,a[b],this.j,this.pb)}this.Pf=!1};function Pd(a,b,c,d){if(c==Kd)b.zi(d);else{for(;a&&a.ne;a=a.aa)a.ne=!1;b.Gi(d)}}function Td(a,b){a.ne=!0;Ad(function(){a.ne&&Ud.call(null,b)})}var Ud=vd;function Nd(a){ua.call(this,a)}D(Nd,ua);Nd.prototype.name="cancel";function Vd(a,b){W.call(this);this.Vb=a||1;this.Oc=b||l;this.yf=C(this.vm,this);this.jg=ta()}D(Vd,W);h=Vd.prototype;h.enabled=!1;h.r=null;h.setInterval=function(a){this.Vb=a;this.r&&this.enabled?(this.stop(),this.start()):this.r&&this.stop()};h.vm=function(){if(this.enabled){var a=ta()-this.jg;0<a&&a<.8*this.Vb?this.r=this.Oc.setTimeout(this.yf,this.Vb-a):(this.r&&(this.Oc.clearTimeout(this.r),this.r=null),this.dispatchEvent(Wd),this.enabled&&(this.r=this.Oc.setTimeout(this.yf,this.Vb),this.jg=ta()))}};
h.start=function(){this.enabled=!0;this.r||(this.r=this.Oc.setTimeout(this.yf,this.Vb),this.jg=ta())};h.stop=function(){this.enabled=!1;this.r&&(this.Oc.clearTimeout(this.r),this.r=null)};h.c=function(){Vd.g.c.call(this);this.stop();delete this.Oc};var Wd="tick";function Xd(a,b,c){if(ka(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Yd(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Zd(a){if("function"==typeof a.Ta)return a.Ta();if(w(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return fb(a)}function $d(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||w(a))F(a,b,c);else{var d;if("function"==typeof a.Sa)d=a.Sa();else if("function"!=typeof a.Ta)if(ia(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=gb(a);else d=void 0;for(var e=Zd(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function ae(a,b){this.b={};this.p=[];this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ae?(c=a.Sa(),d=a.Ta()):(c=gb(a),d=fb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}h=ae.prototype;h.gb=function(){return this.i};h.Ta=function(){be(this);for(var a=[],b=0;b<this.p.length;b++)a.push(this.b[this.p[b]]);return a};h.Sa=function(){be(this);return this.p.concat()};
h.ea=function(a){return ce(this.b,a)};h.sh=function(a,b){if(this===a)return!0;if(this.i!=a.gb())return!1;var c=b||de;be(this);for(var d,e=0;d=this.p[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function de(a,b){return a===b}h.lb=function(){return 0==this.i};h.clear=function(){this.b={};this.i=this.p.length=0};h.remove=function(a){return ce(this.b,a)?(delete this.b[a],this.i--,this.p.length>2*this.i&&be(this),!0):!1};
function be(a){if(a.i!=a.p.length){for(var b=0,c=0;b<a.p.length;){var d=a.p[b];ce(a.b,d)&&(a.p[c++]=d);b++}a.p.length=c}if(a.i!=a.p.length){for(var e={},c=b=0;b<a.p.length;)d=a.p[b],ce(e,d)||(a.p[c++]=d,e[d]=1),b++;a.p.length=c}}h.get=function(a,b){return ce(this.b,a)?this.b[a]:b};h.set=function(a,b){ce(this.b,a)||(this.i++,this.p.push(a));this.b[a]=b};h.forEach=function(a,b){for(var c=this.Sa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new ae(this)};
function ce(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ee=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function fe(a){if(ge){ge=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=fe(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw ge=!0,Error();}}return a.match(ee)}var ge=M;function he(a){W.call(this);this.headers=new ae;this.of=a||null;this.wa=!1;this.nf=this.e=null;this.Ae=this.hg="";this.Ub=this.ag=this.ue=this.Of=!1;this.df=0;this.Gb=null;this.Xi=ie;this.Jg=this.Qm=!1}D(he,W);var ie="",je=/^https?$/i,ke=["POST","PUT"];h=he.prototype;
h.send=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.hg+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.hg=a;this.Ae="";this.Of=!1;this.wa=!0;this.e=this.of?this.of.Gf():gd.Gf();this.nf=this.of?fd(this.of):fd(gd);this.e.onreadystatechange=C(this.Fi,this);try{this.ag=!0,this.e.open(b,String(a),!0),this.ag=!1}catch(e){this.ce(5,e);return}a=c||"";var f=this.headers.clone();d&&$d(d,function(a,b){f.set(b,a)});d=Qa(f.Sa(),le);c=l.FormData&&a instanceof
l.FormData;!(0<=La(ke,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.e.setRequestHeader(b,a)},this);this.Xi&&(this.e.responseType=this.Xi);"withCredentials"in this.e&&(this.e.withCredentials=this.Qm);try{me(this),0<this.df&&((this.Jg=ne(this.e))?(this.e.timeout=this.df,this.e.ontimeout=C(this.gc,this)):this.Gb=Xd(this.gc,this.df,this)),this.ue=!0,this.e.send(a),this.ue=!1}catch(g){this.ce(5,g)}};
function ne(a){return L&&O(9)&&ja(a.timeout)&&r(a.ontimeout)}function le(a){return"content-type"==a.toLowerCase()}h.gc=function(){"undefined"!=typeof ca&&this.e&&(this.Ae="Timed out after "+this.df+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};h.ce=function(a,b){this.wa=!1;this.e&&(this.Ub=!0,this.e.abort(),this.Ub=!1);this.Ae=b;oe(this);pe(this)};function oe(a){a.Of||(a.Of=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(){this.e&&this.wa&&(this.wa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pe(this))};h.c=function(){this.e&&(this.wa&&(this.wa=!1,this.Ub=!0,this.e.abort(),this.Ub=!1),pe(this,!0));he.g.c.call(this)};h.Fi=function(){this.Xc||(this.ag||this.ue||this.Ub?qe(this):this.Dl())};h.Dl=function(){qe(this)};
function qe(a){if(a.wa&&"undefined"!=typeof ca&&(!a.nf[1]||4!=re(a)||2!=se(a)))if(a.ue&&4==re(a))Xd(a.Fi,0,a);else if(a.dispatchEvent("readystatechange"),4==re(a)){a.wa=!1;try{if(te(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<re(a)?a.e.statusText:""}catch(c){b=""}a.Ae=b+" ["+se(a)+"]";oe(a)}}finally{pe(a)}}}function pe(a,b){if(a.e){me(a);var c=a.e,d=a.nf[0]?ea:null;a.e=null;a.nf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function me(a){a.e&&a.Jg&&(a.e.ontimeout=null);ja(a.Gb)&&(l.clearTimeout(a.Gb),a.Gb=null)}h.zc=function(){return!!this.e};function te(a){var b=se(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=fe(String(a.hg))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!je.test(a?a.toLowerCase():"");c=b}return c}function re(a){return a.e?a.e.readyState:0}
function se(a){try{return 2<re(a)?a.e.status:-1}catch(b){return-1}}function ue(a){if(a.e)return Yd(a.e.responseText)}h.getResponseHeader=function(a){return this.e&&4==re(this)?this.e.getResponseHeader(a):void 0};h.getAllResponseHeaders=function(){return this.e&&4==re(this)?this.e.getAllResponseHeaders():""};function ve(){W.call(this);this.fh=R("counties-list");this.Pg=R("application-panel");this.Tj=R("county-detail-name");this.Sj=R("county-detail-hide");U(this.Sj,"click",function(a){this.Ia&&qc(this.Ia.pd,"active");this.Ia=null;oc(this.Pg,"no-county-detail");a.preventDefault()},!1,this);this.gl=R("map-list");this.di="";var a=R("item-template");a&&(this.di=a.innerHTML,ac(a));this.Fe=R("map-filter");this.fl=R("map-filter-clear");U(this.Fe,"input",function(){we(this,this.Fe.value)},!1,this);U(this.fl,"click",
function(){we(this,"")},!1,this);this.Ah=R("georeference-random");U(this.Ah,"click",function(a){xe(this,this.Ah.href,"/random/public/georeference/json");a.preventDefault()},!1,this);this.uj=R("transcribe-random");U(this.uj,"click",function(a){xe(this,this.uj.href,"/random/public/transcription/json");a.preventDefault()},!1,this);this.La=[];this.Yf=this.Ia=null;this.rd=[];ye(this);this.Gd="all";a=C(function(a){U(R("map-filter-"+a),"click",function(){ze(this,a)},!1,this)},this);a("all");a("scanned");
a("notgeorefed")}D(ve,W);function ye(a){if(a.fh){var b=Lb("LI",a.fh);F(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=Lb("A",a)[0],f=gc(e);if(b&&e&&f&&0<f.length){var g=a.getAttribute("data-center"),k=null;w(g)&&(g=g.split(","),k=[parseFloat(g[1]),parseFloat(g[0])]);this.La.push({name:f,id:b,center:k,anchor:e,pd:a});U(e,"click",function(a){Ae(this,f);a.preventDefault()},!1,this)}}},a)}}
function Be(a,b){a.Yf&&qc(a.Yf.pd,"highlighted");if(b){var c=Qa(a.La,function(a){return a.name==b});c&&(oc(c.pd,"highlighted"),a.Yf=c)}}
function Ae(a,b,c){if(a.Ia&&a.Ia.name==b)c&&c();else{var d=Qa(a.La,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",f=new he(new jd);U(f,"complete",function(){if(te(f)){var a=ue(f);Ce(this,a);c&&c()}},!1,a);f.send(e);dc(a.Tj,b);qc(a.Pg,"no-county-detail");a.Ia&&qc(a.Ia.pd,"active");oc(d.pd,"active");a.Ia=d;a.dispatchEvent({type:"opened",en:b,center:d.center})}}}
function De(a){return a.title+"|"+Ee(new Fe(a.transcription_url||""))+"|"+Ee(new Fe(a.georeference_url||""))+"|"+Ee(new Fe(a.visualize_url||""))+"||"+Ee(new Fe(a.object_url||""))}
function Ge(a,b){function c(b,c){function f(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");f("\\$"+b+"\\$",c);0<c.toString().length&&(f("\x3c!--"+b+" ",""),f(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",De(b));return a}
function Ce(a,b){F(a.rd,function(a){F(a.keys,V);ac(a.node)});a.rd=[];we(a,"");ze(a,"all");var c=0,d=0,e=0;F(b,function(a){var b;var k=Ge(this.di,a),m=document;b=m.createElement("div");L?(b.innerHTML="\x3cbr\x3e"+k,b.removeChild(b.firstChild)):b.innerHTML=k;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(k=m.createDocumentFragment();b.firstChild;)k.appendChild(b.firstChild);b=k}b=b.firstElementChild;this.gl.appendChild(b);k=null!=a.thumbnail_url;m=null!=a.visualize_url;c++;k&&d++;
m&&e++;this.rd.push({title:He(a.title),Gl:a.identifier,node:b,keys:[],$l:k,fk:m})},a);dc(R("map-count-all"),c);dc(R("map-count-scanned"),d);dc(R("map-count-notgeorefed"),c-e)}function xe(a,b,c){if(a.Ia){c="http://cynefin.georeferencer.com/collection/"+a.Ia.id+c;var d=new he(new jd);U(d,"complete",function(){if(te(d)){var a=ue(d),a=b+"#"+De(a);window.location=a}},!1,a);d.send(c)}}function we(a,b){a.Fe.value=b;Ie(a)}
function ze(a,b){qc(R("map-filter-"+a.Gd),"active");oc(R("map-filter-"+b),"active");a.Gd=b;Ie(a)}function Ie(a){var b=He(a.Fe.value).split(" or ");F(a.rd,function(a){var d=!("all"==this.Gd||"scanned"==this.Gd&&a.$l||"notgeorefed"==this.Gd&&!a.fk)||Pa(b,function(b){return-1==a.title.indexOf(b)});sc(a.node,"filtered",d)},a)}function Je(a,b){var c="";F(a.rd,function(a){0<=La(a.Gl.split(","),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);we(a,c)}
function He(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function Ke(a,b,c){W.call(this);this.Cb=a;this.zd=c;this.ia=b;U(b,[Le,Me,Ne,Oe],this.handleEvent,!1,this);this.Ga=null;this.I=[];this.zb=-1;this.Z=0;this.Mb=this.C=null;this.$h={}}D(Ke,W);h=Ke.prototype;h.ll=10;h.Nj=!0;h.Og=!1;h.Ij=!1;h.vj=!1;var Le="hilite",Me="select",Oe="dismiss",Ne="canceldismiss";h=Ke.prototype;
h.handleEvent=function(a){var b=this.Cb;if(a.target==this.ia)switch(a.type){case Le:this.kb(a.Wa);break;case Me:var c=!1;if(ja(a.Wa)){a=a.Wa;var d=this.I[Qe(this,a)],c=!!d&&b.cg&&b.cg(d);d&&!c&&this.zb!=a&&this.kb(a)}c||Re(this);break;case Ne:Se(this);break;case Oe:Te(this)}};h.Bg=function(a){this.Ga!=a&&(this.Ga=a,Ue(this.Cb,this.Ga,this.ll,C(this.hl,this)),Se(this))};h.ub=function(){return this.C};h.Ag=function(a){this.C=a};
function Ve(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>=a.Z&&c<b)c++;else if(-1==c)c=a.Z;else if(a.Og&&c==b){a.kb(-1);break}else if(a.Ij&&c==b)c=a.Z;else break;if(a.kb(c))break}}function We(a){for(var b=a.Z+a.I.length-1,c=a.zb,d=0;d<a.I.length;d++){if(c>a.Z)c--;else if(a.Og&&c==a.Z){a.kb(-1);break}else if(!a.Ij||-1!=c&&c!=a.Z)break;else c=b;if(a.kb(c))break}}h.kb=function(a){var b=Qe(this,a),c=this.I[b];return c&&this.Cb.cg&&this.Cb.cg(c)?!1:(this.zb=a,this.ia.kb(a),-1!=b)};
function Re(a){var b=Qe(a,a.zb);if(-1!=b){var c=a.I[b],d=a.zd;if(d.h){var e=c.toString();if(r(void 0)?0:d.Cc){var f=Xe(d,d.h.value,Ye(d.h)),g=Ze(d,d.h.value);d.am.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.Uj);d.Nm&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.h;(sb||L&&O("9"))&&e.blur();e.value=g.join("");for(var k=0,m=0;m<=f;m++)k+=g[m].length;e.focus();f=k;g=d.h;e=f;$e(g)?g.selectionStart=e:L&&(k=af(g),m=k[0],m.inRange(k[1])&&(e=bf(g,e),m.collapse(!0),
m.move("character",e),m.select()));g=d.h;$e(g)?g.selectionEnd=f:L&&(k=af(g),e=k[1],k[0].inRange(e)&&(f=bf(g,f),g=bf(g,Ye(g)),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.h.value=e;d.wg=!0}a.vj?(a.Ga=null,Te(a)):a.Na();a.dispatchEvent({type:"update",Wa:c,index:b});a.vj&&a.zd.update(!0);return!0}a.Na();a.dispatchEvent({type:"update",Wa:null,index:null});return!1}
h.Na=function(){this.zb=-1;this.Ga=null;this.Z+=this.I.length;this.I=[];window.clearTimeout(this.Mb);this.Mb=null;this.ia.Na();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Oe)};function Te(a){a.Mb||(a.Mb=window.setTimeout(C(a.Na,a),100))}h.Zh=function(){return this.Mb?(window.clearTimeout(this.Mb),this.Mb=null,!0):!1};function Se(a){a.Zh()||window.setTimeout(C(a.Zh,a),10)}h.c=function(){Ke.g.c.call(this);delete this.$h;this.ia.eb();this.zd.eb();this.Cb=null};
h.hl=function(a,b,c){this.Ga==a&&this.sg(b,c)};h.sg=function(a,b){var c="object"==ga(b)&&b,d=(c?c.pn():b)?Qe(this,this.zb):-1;this.Z+=this.I.length;this.I=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.Z+f,data:a[f]});f=null;this.C&&(f=this.$h[B(this.C)]||this.C);this.ia.Lj=f;this.ia.sg(e,this.Ga,this.C);f=this.Nj;c&&void 0!==c.gk()&&(f=c.gk());this.zb=-1;(f||0<=d)&&0!=e.length&&this.Ga&&(0<=d?this.kb(this.Z+d):Ve(this));this.dispatchEvent("suggestionsupdate")};
function Qe(a,b){var c=b-a.Z;return 0>c||c>=a.I.length?-1:c}h.vf=function(a){var b=this.zd;b.vf.apply(b,arguments)};h.update=function(a){this.zd.update(a)};var cf;function df(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function ef(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(cf||(cf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=cf,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function ff(a,b){var c="";b&&(c=b.id);ef(a,"activedescendant",c)};function Ye(a){var b;a:{var c=0,d=0;if($e(a))c=a.selectionStart,d=-1;else if(L){var e=af(a);b=e[0];e=e[1];if(b.inRange(e)){b.setEndPoint("EndToStart",e);if("textarea"==a.type){e.duplicate();c=a=b.text;for(d=!1;!d;)0==b.compareEndPoints("StartToEnd",b)?d=!0:(b.moveEnd("character",-1),b.text==a?c+="\r\n":d=!0);b=[c.length,-1];break a}c=b.text.length;d=-1}}b=[c,d]}return b[0]}
function af(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function bf(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function $e(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function gf(a){wc.call(this);this.xb=a;this.p={}}D(gf,wc);var hf=[];h=gf.prototype;h.oa=function(a,b,c,d){ha(b)||(b&&(hf[0]=b.toString()),b=hf);for(var e=0;e<b.length;e++){var f=U(a,b[e],c||this.handleEvent,d||!1,this.xb||this);if(!f)break;this.p[f.key]=f}return this};h.kg=function(a,b,c,d){return jf(this,a,b,c,d)};function jf(a,b,c,d,e,f){if(ha(c))for(var g=0;g<c.length;g++)jf(a,b,c[g],d,e,f);else{b=Zc(b,c,d||a.handleEvent,e,f||a.xb||a);if(!b)return a;a.p[b.key]=b}return a}
h.Ya=function(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)this.Ya(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.xb||this,c=Tc(c),d=!!d,b=Jc(a)?a.hd(b,c,d,e):a?(a=Vc(a))?a.hd(b,c,d,e):null:null,b&&(V(b),delete this.p[b.key]);return this};h.Ue=function(){cb(this.p,V);this.p={}};h.c=function(){gf.g.c.call(this);this.Ue()};h.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function kf(a,b,c,d,e){if(!(L||M&&O("525")))return!0;if(nb&&e)return lf(a);if(e&&!d)return!1;ja(b)&&(b=mf(b));if(!c&&(17==b||18==b||nb&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(L&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!M}return lf(a)}
function lf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function mf(a){if(sb)a=nf(a);else if(nb&&M)a:switch(a){case 93:a=91;break a}return a}
function nf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function of(a,b){W.call(this);a&&pf(this,a,b)}D(of,W);h=of.prototype;h.a=null;h.we=null;h.dg=null;h.xe=null;h.na=-1;h.Ab=-1;h.sf=!1;
var qf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},rf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},sf=L||M&&O("525"),tf=nb&&sb;h=of.prototype;
h.ok=function(a){M&&(17==this.na&&!a.ctrlKey||18==this.na&&!a.altKey||nb&&91==this.na&&!a.metaKey)&&(this.Ab=this.na=-1);-1==this.na&&(a.ctrlKey&&17!=a.keyCode?this.na=17:a.altKey&&18!=a.keyCode?this.na=18:a.metaKey&&91!=a.keyCode&&(this.na=91));sf&&!kf(a.keyCode,this.na,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ab=mf(a.keyCode),tf&&(this.sf=a.altKey))};h.qk=function(a){this.Ab=this.na=-1;this.sf=a.altKey};
h.handleEvent=function(a){var b=a.l,c,d,e=b.altKey;L&&"keypress"==a.type?(c=this.Ab,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Ab,d=0<=b.charCode&&63232>b.charCode&&lf(c)?b.charCode:0):rb?(c=this.Ab,d=lf(c)?b.keyCode:0):(c=b.keyCode||this.Ab,d=b.charCode||0,tf&&(e=this.sf),nb&&63==d&&224==c&&(c=191));var f=c=mf(c),g=b.keyIdentifier;c?63232<=c&&c in qf?f=qf[c]:25==c&&a.shiftKey&&(f=9):g&&g in rf&&(f=rf[g]);a=f==this.na;this.na=f;b=new uf(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
h.ed=function(){return this.a};function pf(a,b,c){a.xe&&a.detach();a.a=b;a.we=U(a.a,"keypress",a,c);a.dg=U(a.a,"keydown",a.ok,c,a);a.xe=U(a.a,"keyup",a.qk,c,a)}h.detach=function(){this.we&&(V(this.we),V(this.dg),V(this.xe),this.xe=this.dg=this.we=null);this.a=null;this.Ab=this.na=-1};h.c=function(){of.g.c.call(this);this.detach()};function uf(a,b,c,d){Fc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(uf,Fc);var vf,wf;wf=vf=!1;var xf=Za;xf&&(-1!=xf.indexOf("Firefox")||-1!=xf.indexOf("Camino")||(-1!=xf.indexOf("iPhone")||-1!=xf.indexOf("iPod")?vf=!0:-1!=xf.indexOf("iPad")&&(wf=!0)));var yf=vf,zf=wf;function Af(a,b,c,d){wc.call(this);d=d||150;this.Cc=null!=c?c:!0;this.Ad=a||",;";this.Uj=this.Ad.substring(0,1);a=this.Cc?"[\\s"+this.Ad+"]+":"[\\s]+";this.wj=new RegExp("^"+a+"|"+a+"$","g");this.am=new RegExp("\\s*["+this.Ad+"]$");this.oi=b||"";this.Ql=!1;this.Pl=this.Cc;this.r=0<d?new Vd(d):null;this.R=new gf(this);this.qf=new gf(this);this.Ua=new of;this.hi=-1}D(Af,wc);var Bf=(yf||zf)&&!O("533.17.9");h=Af.prototype;h.Nm=!0;h.ek=!0;h.Fj=!1;h.cm=!0;h.bm=!0;h.rf=null;h.h=null;h.ig="";h.Hb=!1;
h.wg=!1;h.Dj=!0;h.vf=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];bc(c)&&ef(c,"haspopup",!0);this.R.oa(c,"focus",this.Mh);this.R.oa(c,"blur",this.kk);if(!this.h&&(this.qf.oa(c,"keydown",this.Cl),bc(c))){var d;a:{var e=Kb(c);try{d=e&&e.activeElement;break a}catch(f){}d=null}d==c&&Cf(this,c)}}};h.c=function(){Af.g.c.call(this);null!=this.rf&&window.clearTimeout(this.rf);this.R.eb();delete this.R;this.qf.eb();this.Ua.eb();Ac(this.r)};
function Df(a){a.r?a.r.setInterval(300):a.r=new Vd(300)}
function Ef(a,b){switch(b.keyCode){case 40:if(a.w.ia.Za){a.Fj?We(a.w):Ve(a.w);b.preventDefault();return}if(!a.Cc){a.update(!0);b.preventDefault();return}break;case 38:if(a.w.ia.Za){a.Fj?Ve(a.w):We(a.w);b.preventDefault();return}break;case 9:if(!a.w.ia.Za||b.shiftKey||a.Ql)a.w.Na();else if(a.update(),Re(a.w)&&a.Pl){b.preventDefault();return}break;case 13:if(a.w.ia.Za){if(a.update(),Re(a.w)){b.preventDefault();b.stopPropagation();return}}else a.w.Na();break;case 27:if(a.w.ia.Za){a.w.Na();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.Hb){a.Hb||(a.R.oa(a.h,"keyup",a.Ci),a.R.oa(a.h,"keypress",a.Bi),a.Hb=!0);return}break;default:a.r&&!a.Dj&&(a.r.stop(),a.r.start())}Ff(a,b)}function Ff(a,b){var c=a.Cc&&b.charCode&&-1!=a.Ad.indexOf(String.fromCharCode(b.charCode));a.cm&&c&&a.update();a.bm&&c&&Re(a.w)&&b.preventDefault()}h.pk=function(){return!1};h.Mh=function(a){Cf(this,a.target||null)};
function Cf(a,b){a.qf.Ue();a.w&&Se(a.w);b!=a.h&&(a.h=b,a.r&&(a.r.start(),a.R.oa(a.r,Wd,a.Hi)),a.ig=a.h.value,pf(a.Ua,a.h),a.R.oa(a.Ua,"key",a.Di),a.R.oa(a.h,"mousedown",a.Ei),L&&a.R.oa(a.h,"keypress",a.Ai))}h.kk=function(){Bf?this.rf=window.setTimeout(C(this.Oi,this),0):this.Oi()};
h.Oi=function(){this.h&&(this.R.Ya(this.Ua,"key",this.Di),this.Ua.detach(),this.R.Ya(this.h,"keyup",this.pk),this.R.Ya(this.h,"mousedown",this.Ei),L&&this.R.Ya(this.h,"keypress",this.Ai),this.Hb&&Gf(this),this.h=null,this.r&&(this.r.stop(),this.R.Ya(this.r,Wd,this.Hi)),this.w&&Te(this.w))};h.Hi=function(){this.update()};h.Cl=function(a){this.Mh(a)};h.Di=function(a){this.hi=a.keyCode;this.w&&Ef(this,a)};h.Bi=function(){this.Hb&&229!=this.hi&&Gf(this)};
h.Ci=function(a){this.Hb&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Gf(this)};h.Ei=function(){};function Gf(a){a.Hb&&(a.Hb=!1,a.R.Ya(a.h,"keypress",a.Bi),a.R.Ya(a.h,"keyup",a.Ci))}h.Ai=function(a){Ff(this,a)};h.update=function(a){if(this.h&&(a||this.h.value!=this.ig)){if(a||!this.wg){a=Ye(this.h);var b=this.h.value;a=Ze(this,b)[Xe(this,b,a)];a=this.wj?String(a).replace(this.wj,""):a;this.w&&(this.w.Ag(this.h),this.w.Bg(a,this.h.value))}this.ig=this.h.value}this.wg=!1};
function Xe(a,b,c){a=Ze(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}function Ze(a,b){if(!a.Cc)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.oi&&-1!=a.oi.indexOf(c[f])?(a.ek&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.Ad.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Hf(){W.call(this);this.j=If;this.endTime=this.startTime=null}D(Hf,W);var If=0;Hf.prototype.Yb=function(){this.Oa("begin")};Hf.prototype.Dc=function(){this.Oa("end")};Hf.prototype.Oa=function(a){this.dispatchEvent(a)};function Jf(a,b,c){wc.call(this);this.qd=a;this.xb=c;this.$a=b||window;this.Rc=C(this.Lf,this)}D(Jf,wc);h=Jf.prototype;h.u=null;h.Kg=!1;h.start=function(){this.stop();this.Kg=!1;var a=Kf(this),b=Lf(this);a&&!b&&this.$a.mozRequestAnimationFrame?(this.u=U(this.$a,"MozBeforePaint",this.Rc),this.$a.mozRequestAnimationFrame(null),this.Kg=!0):this.u=a&&b?a.call(this.$a,this.Rc):this.$a.setTimeout(td(this.Rc),20)};
h.stop=function(){if(this.zc()){var a=Kf(this),b=Lf(this);a&&!b&&this.$a.mozRequestAnimationFrame?V(this.u):a&&b?b.call(this.$a,this.u):this.$a.clearTimeout(this.u)}this.u=null};h.zc=function(){return null!=this.u};h.Lf=function(){this.Kg&&this.u&&V(this.u);this.u=null;this.qd.call(this.xb,ta())};h.c=function(){this.stop();Jf.g.c.call(this)};
function Kf(a){a=a.$a;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Lf(a){a=a.$a;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Mf(a,b,c){wc.call(this);this.qd=a;this.Vb=b||0;this.xb=c;this.Rc=C(this.Lf,this)}D(Mf,wc);h=Mf.prototype;h.u=0;h.c=function(){Mf.g.c.call(this);this.stop();delete this.qd;delete this.xb};h.start=function(a){this.stop();this.u=Xd(this.Rc,r(a)?a:this.Vb)};h.stop=function(){this.zc()&&l.clearTimeout(this.u);this.u=0};h.zc=function(){return 0!=this.u};h.Lf=function(){this.u=0;this.qd&&this.qd.call(this.xb)};var Nf={},Of=null;function Pf(a){a=B(a);delete Nf[a];hb(Nf)&&Of&&Of.stop()}function Qf(){Of||(Of=new Mf(function(){Rf()},20));var a=Of;a.zc()||a.start()}function Rf(){var a=ta();cb(Nf,function(b){Sf(b,a)});hb(Nf)||Qf()};function Tf(a,b,c,d){Hf.call(this);if(!ha(a)||!ha(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Fd=a;this.Yj=b;this.duration=c;this.Lg=d;this.coords=[]}D(Tf,Hf);h=Tf.prototype;h.va=0;
h.play=function(a){if(a||this.j==If)this.va=0,this.coords=this.Fd;else if(1==this.j)return!1;Pf(this);this.startTime=a=ta();-1==this.j&&(this.startTime-=this.duration*this.va);this.endTime=this.startTime+this.duration;this.va||this.Yb();this.Oa("play");-1==this.j&&this.Oa("resume");this.j=1;var b=B(this);b in Nf||(Nf[b]=this);Qf();Sf(this,a);return!0};h.stop=function(a){Pf(this);this.j=If;a&&(this.va=1);Uf(this,this.va);this.Oa("stop");this.Dc()};
h.pause=function(){1==this.j&&(Pf(this),this.j=-1,this.Oa("pause"))};h.c=function(){this.j==If||this.stop(!1);this.Oa("destroy");Tf.g.c.call(this)};function Sf(a,b){a.va=(b-a.startTime)/(a.endTime-a.startTime);1<=a.va&&(a.va=1);Uf(a,a.va);1==a.va?(a.j=If,Pf(a),a.Oa("finish"),a.Dc()):1==a.j&&a.ng()}function Uf(a,b){ka(a.Lg)&&(b=a.Lg(b));a.coords=Array(a.Fd.length);for(var c=0;c<a.Fd.length;c++)a.coords[c]=(a.Yj[c]-a.Fd[c])*b+a.Fd[c]}h.ng=function(){this.Oa("animate")};
h.Oa=function(a){this.dispatchEvent(new Vf(a,this))};function Vf(a,b){T.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.va=b.va;this.state=b.j}D(Vf,T);function Wf(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}h=Wf.prototype;h.vb=function(){return this.right-this.left};h.he=function(){return this.bottom-this.top};h.clone=function(){return new Wf(this.top,this.right,this.bottom,this.left)};h.contains=function(a){return this&&a?a instanceof Wf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
h.expand=function(a,b,c,d){la(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};h.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};h.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
h.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};h.translate=function(a,b){a instanceof P?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ja(b)&&(this.top+=b,this.bottom+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function Xf(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}h=Xf.prototype;h.clone=function(){return new Xf(this.left,this.top,this.width,this.height)};h.ci=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
h.contains=function(a){return a instanceof Xf?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Yf(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}h.distance=function(a){return Math.sqrt(Yf(this,a))};h.T=function(){return new Gb(this.width,this.height)};
h.ma=function(){return new P(this.left+this.width/2,this.top+this.height/2)};h.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};h.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
h.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};h.translate=function(a,b){a instanceof P?(this.left+=a.x,this.top+=a.y):(this.left+=a,ja(b)&&(this.top+=b));return this};h.scale=function(a,b){var c=ja(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function Zf(a,b){var c=Kb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function $f(a,b){return Zf(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function ag(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}L&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function bg(a){if(L&&!(L&&8<=Ab))return a.offsetParent;var b=Kb(a),c=$f(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=$f(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function cg(a){for(var b=new Wf(0,Infinity,Infinity,0),c=Ib(a),d=c.fa.body,e=c.fa.documentElement,f=Pb(c.fa);a=bg(a);)if(!(L&&0==a.clientWidth||M&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=$f(a,"overflow")){var g=dg(a),k;k=a;if(sb&&!O("1.9")){var m=parseFloat(Zf(k,"borderLeftWidth"));if(eg(k))var n=k.offsetWidth-k.clientWidth-m-parseFloat(Zf(k,"borderRightWidth")),m=m+n;k=new P(m,parseFloat(Zf(k,"borderTopWidth")))}else k=new P(k.clientLeft,k.clientTop);g.x+=k.x;g.y+=k.y;b.top=Math.max(b.top,
g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=Ob(Qb(c.fa)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function dg(a){var b,c=Kb(a),d=$f(a,"position"),e=sb&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new P(0,0),g;b=c?Kb(c):document;g=!L||L&&9<=Ab||kc(Ib(b))?b.documentElement:b.body;if(a==g)return f;if(a.getBoundingClientRect)b=ag(a),a=lc(Ib(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=
b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(M&&"fixed"==$f(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(rb||M&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=bg(b))&&b!=c.body&&b!=g;)f.x-=b.scrollLeft,rb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}
function fg(a){var b;if(a.getBoundingClientRect)b=ag(a),b=new P(b.left,b.top);else{b=lc(Ib(a));var c=dg(a);b=new P(c.x-b.x,c.y-b.y)}if(sb&&!O(12)){b:{c=Ia();if(void 0===a.style[c]&&(c=(M?"Webkit":sb?"Moz":L?"ms":rb?"O":null)+Ja(c),void 0!==a.style[c])){c=(M?"-webkit":sb?"-moz":L?"-ms":rb?"-o":null)+"-transform";break b}c="transform"}a=(a=$f(a,c)||$f(a,"transform"))?(a=a.match(gg))?new P(parseFloat(a[1]),parseFloat(a[2])):new P(0,0):new P(0,0);a=new P(b.x+a.x,b.y+a.y)}else a=b;return a}
function hg(a){if(1==a.nodeType)return fg(a);var b=ka(a.hk),c=a;a.targetTouches&&a.targetTouches.length?c=a.targetTouches[0]:b&&a.l.targetTouches&&a.l.targetTouches.length&&(c=a.l.targetTouches[0]);return new P(c.clientX,c.clientY)}function ig(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function jg(a){var b=kg;if("none"!=$f(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function kg(a){var b=a.offsetWidth,c=a.offsetHeight,d=M&&!b&&!c;return r(b)&&!d||!a.getBoundingClientRect?new Gb(b,c):(a=ag(a),new Gb(a.right-a.left,a.bottom-a.top))}function lg(a,b){a.style.display=b?"":"none"}function eg(a){return"rtl"==$f(a,"direction")}
var mg=sb?"MozUserSelect":M?"WebkitUserSelect":null;function ng(a){var b=a.getElementsByTagName("*");if(mg){var c="none";a.style[mg]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[mg]=c}}else if(L||rb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function og(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function pg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?og(a,c,"left","pixelLeft"):0}function qg(a){if(L){var b=pg(a,"paddingLeft"),c=pg(a,"paddingRight"),d=pg(a,"paddingTop");a=pg(a,"paddingBottom");return new Wf(d,c,a,b)}b=Zf(a,"paddingLeft");c=Zf(a,"paddingRight");d=Zf(a,"paddingTop");a=Zf(a,"paddingBottom");return new Wf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var rg={thin:2,medium:4,thick:6};
function sg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in rg?rg[c]:og(a,c,"left","pixelLeft")}
function tg(a){if(L&&!(L&&9<=Ab)){var b=sg(a,"borderLeft"),c=sg(a,"borderRight"),d=sg(a,"borderTop");a=sg(a,"borderBottom");return new Wf(d,c,a,b)}b=Zf(a,"borderLeftWidth");c=Zf(a,"borderRightWidth");d=Zf(a,"borderTopWidth");a=Zf(a,"borderBottomWidth");return new Wf(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var gg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function ug(a,b,c,d,e){Tf.call(this,b,c,d,e);this.element=a}D(ug,Tf);ug.prototype.kf=ea;ug.prototype.ng=function(){this.kf();ug.g.ng.call(this)};ug.prototype.Dc=function(){this.kf();ug.g.Dc.call(this)};ug.prototype.Yb=function(){this.kf();ug.g.Yb.call(this)};function vg(a,b,c,d,e){ja(b)&&(b=[b]);ja(c)&&(c=[c]);ug.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}D(vg,ug);
vg.prototype.kf=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")")};vg.prototype.show=function(){this.element.style.display=""};function wg(a,b,c){vg.call(this,a,1,0,b,c)}D(wg,vg);wg.prototype.Yb=function(){this.show();wg.g.Yb.call(this)};wg.prototype.Dc=function(){this.element.style.display="none";wg.g.Dc.call(this)};function xg(a,b,c){vg.call(this,a,0,1,b,c)}D(xg,vg);
xg.prototype.Yb=function(){this.show();xg.g.Yb.call(this)};function yg(a,b){return(b&4&&eg(a)?b^2:b)&-5};function zg(){}fa(zg);zg.prototype.vi=0;function Ag(a,b,c,d){W.call(this);this.aa=a||document.body;this.Pa=Ib(this.aa);this.Yl=!a;this.a=null;this.Ga="";this.I=[];this.ec=[];this.lj=this.re=-1;this.Za=!1;this.className="ac-renderer";this.vg="ac-row";this.ji="active";this.Mg="ac-active";this.Sk="ac-highlighted";this.oc=b||null;this.Jm=null!=d?d:!0;this.il=!0;this.qe=!1;this.Zl=!!c;this.ef=!1;this.Je=0;this.kj=!1}D(Ag,W);h=Ag.prototype;h.ed=function(){return this.a};
h.sg=function(a,b,c){this.Ga=b;this.I=a;this.re=-1;this.lj=ta();this.C=c;this.ec=[];Bg(this)};h.Na=function(){this.C&&ff(this.C,null);this.Za&&(this.Za=!1,this.C&&ef(this.C,"haspopup",!1),0<this.Je?(Ac(this.mc),this.mc=new wg(this.a,this.Je),this.mc.play()):lg(this.a,!1))};h.show=function(){this.Za||(this.Za=!0,this.C&&(df(this.C,"combobox"),ef(this.C,"autocomplete","list"),ef(this.C,"haspopup",!0)),0<this.Je?(Ac(this.mc),this.mc=new xg(this.a,this.Je),this.mc.play()):lg(this.a,!0))};
function Cg(a,b){var c=0<=b&&b<a.I.length?a.I[b]:void 0,d=0<=b&&b<a.ec.length?a.ec[b]:void 0;if(a.dispatchEvent({type:"rowhilite",tn:d,Wa:c?c.data:null})&&(0<=a.re&&rc(a.ec[a.re],[a.Mg,a.ji]),a.re=b,d)){pc(d,[a.Mg,a.ji]);a.C&&ff(a.C,d);var c=a.a,e=dg(d),f=dg(c),g=tg(c),k=e.x-f.x-g.left,e=e.y-f.y-g.top,f=c.clientHeight-d.offsetHeight,g=c.scrollLeft,m=c.scrollTop,g=g+Math.min(k,Math.max(k-(c.clientWidth-d.offsetWidth),0)),m=m+Math.min(e,Math.max(e-f,0)),d=new P(g,m);c.scrollLeft=d.x;c.scrollTop=d.y}}
h.kb=function(a){if(-1==a)Cg(this,-1);else for(var b=0;b<this.I.length;b++)if(this.I[b].id==a){Cg(this,b);break}};function Dg(a){if(!a.a){var b=a.Pa.gh("div",{style:"display:none"});a.kj&&(b.style.overflowY="auto");a.a=b;pc(b,wa(a.className).split(" "));df(b,"listbox");b.id=":"+(zg.hb().vi++).toString(36);a.Pa.appendChild(a.aa,b);U(b,"click",a.ib,!1,a);U(b,"mousedown",a.Oh,!1,a);U(b,"mouseover",a.Ph,!1,a)}}
function Bg(a){Dg(a);a.ef&&(a.a.style.visibility="hidden");a.Om&&(a.a.style.minWidth=a.Om.clientWidth+"px");a.ec.length=0;a.Pa.Tl(a.a);if(a.oc&&a.oc.render)a.oc.render();else{var b=null;F(a.I,function(a){var d=this.Ga,e=this.Pa.gh("div",{className:this.vg,id:":"+(zg.hb().vi++).toString(36)});df(e,"option");this.oc&&this.oc.Ri?this.oc.Ri(a,d,e):dc(e,a.data.toString());d&&this.Jm&&(this.Hj=!1,Eg(this,e,d));oc(e,this.vg);this.ec.push(e);a=e;this.ef?this.a.insertBefore(a,b):this.Pa.appendChild(this.a,
a);b=a},a)}0==a.I.length?a.Na():(a.show(),Fg(a),ng(a.a))}
function Fg(a){if(a.C&&a.Yl){var b=a.Lj||a.C,c,d=a.Zl?3:1;a.ef&&(d^=1);c=d;var e=65;a.kj&&(a.a.style.height="",e|=32);var d=a.a,f=c^1,g,k;if(g=d.offsetParent){var m="HTML"==g.tagName||"BODY"==g.tagName;m&&"static"==$f(g,"position")||(k=dg(g),m||(m=(m=eg(g))&&sb?-g.scrollLeft:!m||L&&O("8")||"visible"==$f(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,k=Fb(k,new P(m,g.scrollTop))))}g=k||new P;k=dg(b);m=jg(b);k=new Xf(k.x,k.y,m.width,m.height);if(m=cg(b)){var n=new Xf(m.left,m.top,
m.right-m.left,m.bottom-m.top),m=Math.max(k.left,n.left),p=Math.min(k.left+k.width,n.left+n.width);if(m<=p){var s=Math.max(k.top,n.top),n=Math.min(k.top+k.height,n.top+n.height);s<=n&&(k.left=m,k.top=s,k.width=p-m,k.height=n-s)}}m=Ib(b);s=Ib(d);if(m.fa!=s.fa){var p=m.fa.body,s=Qb(s.fa),n=new P(0,0),t;t=(t=Kb(p))?Qb(t):window;var x=p;do{var u=t==s?dg(x):fg(x);n.x+=u.x;n.y+=u.y}while(t&&t!=s&&(x=t.frameElement)&&(t=t.parent));p=Fb(n,dg(p));!L||L&&9<=Ab||kc(m)||(p=Fb(p,lc(m)));k.left+=p.x;k.top+=p.y}var b=
yg(b,c),b=new P(b&2?k.left+k.width:k.left,b&1?k.top+k.height:k.top),b=Fb(b,g),q;e&&(q=cg(d))&&(q.top-=g.y,q.right-=g.x,q.bottom-=g.y,q.left-=g.x);b=b.clone();g=yg(d,f);f=jg(d);c=f.clone();b=b.clone();c=c.clone();k=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(q?(g=b,k=c,m=0,65==(e&65)&&(g.x<q.left||g.x>=q.right)&&(e&=-2),132==(e&132)&&(g.y<q.top||g.y>=q.bottom)&&(e&=-5),g.x<q.left&&e&1&&(g.x=q.left,m|=1),g.x<q.left&&g.x+k.width>q.right&&e&16&&(k.width=Math.max(k.width-(g.x+k.width-q.right),
0),m|=4),g.x+k.width>q.right&&e&1&&(g.x=Math.max(q.right-k.width,q.left),m|=1),e&2&&(m=m|(g.x<q.left?16:0)|(g.x+k.width>q.right?32:0)),g.y<q.top&&e&4&&(g.y=q.top,m|=2),g.y<=q.top&&g.y+k.height<q.bottom&&e&32&&(k.height=Math.max(k.height-(q.top-g.y),0),g.y=q.top,m|=8),g.y>=q.top&&g.y+k.height>q.bottom&&e&32&&(k.height=Math.max(k.height-(g.y+k.height-q.bottom),0),m|=8),g.y+k.height>q.bottom&&e&4&&(g.y=Math.max(q.bottom-k.height,q.top),m|=2),e&8&&(m=m|(g.y<q.top?64:0)|(g.y+k.height>q.bottom?128:0)),
e=m):e=256,k=e);e=new Xf(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;k&496||(c=new P(e.left,e.top),b=sb&&(nb||vb)&&O("1.9"),c instanceof P?(q=c.x,c=c.y):(q=c,c=void 0),d.style.left=ig(q,b),d.style.top=ig(c,b),c=e.T(),Hb(f,c)||(e=c,q=kc(Ib(Kb(d))),!L||O("10")||q&&O("8")?(d=d.style,sb?d.MozBoxSizing="border-box":M?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,q?(q=qg(d),d=tg(d),f.pixelWidth=
e.width-d.left-q.left-q.right-d.right,f.pixelHeight=e.height-d.top-q.top-q.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.ef&&(a.a.style.visibility="visible")}}h.ub=function(){return this.C};h.c=function(){this.a&&($c(this.a,"click",this.ib,!1,this),$c(this.a,"mousedown",this.Oh,!1,this),$c(this.a,"mouseover",this.Ph,!1,this),this.Pa.removeNode(this.a),this.a=null,this.Za=!1);Ac(this.mc);this.aa=null;Ag.g.c.call(this)};
function Eg(a,b,c){if(a.qe||!a.Hj)if(3==b.nodeType){var d=null;ha(c)&&1<c.length&&!a.qe&&(d=Va(c,1));c=Gg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.il?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,k=f.exec(e),m=0;k;)m++,c.push(e.substring(g,k.index)),c.push(e.substring(k.index,f.lastIndex)),g=f.lastIndex,k=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.qe?m:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.Pa.createElement("b"),g.className=a.Sk,a.Pa.appendChild(g,a.Pa.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.Pa.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Va(c,2*d).join("");a.Hj=!0}else d&&Eg(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Eg(a,b,c),b=d}
function Gg(a,b){var c="";if(!b)return c;ha(b)&&(b=Ma(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.qe?ha(b)?c=Na(b,Ga).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ga(c),c=c.replace(/ /g,"|")):ha(b)?c=0<b.length?Ga(b[0]):"":/^\W/.test(b)||(c=Ga(b));return c}function Hg(a,b){for(;b&&b!=a.a&&!nc(b,a.vg);)b=b.parentNode;return b?La(a.ec,b):-1}h.ib=function(a){var b=Hg(this,a.target);0<=b&&this.dispatchEvent({type:Me,Wa:this.I[b].id});a.stopPropagation()};
h.Oh=function(a){a.stopPropagation();a.preventDefault()};h.Ph=function(a){a=Hg(this,a.target);0<=a&&!(300>ta()-this.lj)&&this.dispatchEvent({type:Le,Wa:this.I[a].id})};function Fe(a,b){var c;if(a instanceof Fe)this.sa=r(b)?b:a.sa,Ig(this,a.Eb),c=a.hc,Jg(this),this.hc=c,c=a.fb,Jg(this),this.fb=c,Kg(this,a.Gc),c=a.Ca,Jg(this),this.Ca=c,Lg(this,a.Va.clone()),c=a.Pb,Jg(this),this.Pb=c;else if(a&&(c=fe(String(a)))){this.sa=!!b;Ig(this,c[1]||"",!0);var d=c[2]||"";Jg(this);this.hc=Mg(d);d=c[3]||"";Jg(this);this.fb=Mg(d,!0);Kg(this,c[4]);d=c[5]||"";Jg(this);this.Ca=Mg(d,!0);Lg(this,c[6]||"",!0);c=c[7]||"";Jg(this);this.Pb=Mg(c)}else this.sa=!!b,this.Va=new Ng(null,0,this.sa)}
h=Fe.prototype;h.Eb="";h.hc="";h.fb="";h.Gc=null;h.Ca="";h.Pb="";h.Zk=!1;h.sa=!1;h.toString=function(){var a=[],b=this.Eb;b&&a.push(Og(b,Pg,!0),":");if(b=this.fb){a.push("//");var c=this.hc;c&&a.push(Og(c,Pg,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Gc;null!=b&&a.push(":",String(b))}if(b=this.Ca)this.fb&&"/"!=b.charAt(0)&&a.push("/"),a.push(Og(b,"/"==b.charAt(0)?Qg:Rg,!0));(b=this.Va.toString())&&a.push("?",b);(b=this.Pb)&&a.push("#",Og(b,Sg));return a.join("")};
h.resolve=function(a){var b=this.clone(),c=!!a.Eb;c?Ig(b,a.Eb):c=!!a.hc;if(c){var d=a.hc;Jg(b);b.hc=d}else c=!!a.fb;c?(d=a.fb,Jg(b),b.fb=d):c=null!=a.Gc;d=a.Ca;if(c)Kg(b,a.Gc);else if(c=!!a.Ca){if("/"!=d.charAt(0))if(this.fb&&!this.Ca)d="/"+d;else{var e=b.Ca.lastIndexOf("/");-1!=e&&(d=b.Ca.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Jg(b),b.Ca=d):c=""!==a.Va.toString();c?Lg(b,Mg(a.Va.toString())):c=!!a.Pb;c&&(a=a.Pb,Jg(b),b.Pb=a);return b};h.clone=function(){return new Fe(this)};function Ig(a,b,c){Jg(a);a.Eb=c?Mg(b,!0):b;a.Eb&&(a.Eb=a.Eb.replace(/:$/,""))}function Kg(a,b){Jg(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Gc=b}else a.Gc=null}function Ee(a){return a.Ca}
function Lg(a,b,c){Jg(a);b instanceof Ng?(a.Va=b,a.Va.xg(a.sa)):(c||(b=Og(b,Tg)),a.Va=new Ng(b,0,a.sa))}function Ug(a,b,c){Jg(a);ha(c)||(c=[String(c)]);Vg(a.Va,b,c)}function Jg(a){if(a.Zk)throw Error("Tried to modify a read-only Uri");}h.xg=function(a){this.sa=a;this.Va&&this.Va.xg(a);return this};function Mg(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function Og(a,b,c){return w(a)?(a=encodeURI(a).replace(b,Wg),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function Wg(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Pg=/[#\/\?@]/g,Rg=/[\#\?:]/g,Qg=/[\#\?]/g,Tg=/[\#\?@]/g,Sg=/#/g;function Ng(a,b,c){this.la=a||null;this.sa=!!c}
function Xg(a){if(!a.F&&(a.F=new ae,a.i=0,a.la))for(var b=a.la.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Yg(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}h=Ng.prototype;h.F=null;h.i=null;h.gb=function(){Xg(this);return this.i};h.add=function(a,b){Xg(this);this.la=null;a=Yg(this,a);var c=this.F.get(a);c||this.F.set(a,c=[]);c.push(b);this.i++;return this};
h.remove=function(a){Xg(this);a=Yg(this,a);return this.F.ea(a)?(this.la=null,this.i-=this.F.get(a).length,this.F.remove(a)):!1};h.clear=function(){this.F=this.la=null;this.i=0};h.lb=function(){Xg(this);return 0==this.i};h.ea=function(a){Xg(this);a=Yg(this,a);return this.F.ea(a)};h.Sa=function(){Xg(this);for(var a=this.F.Ta(),b=this.F.Sa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
h.Ta=function(a){Xg(this);var b=[];if(w(a))this.ea(a)&&(b=Sa(b,this.F.get(Yg(this,a))));else{a=this.F.Ta();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};h.set=function(a,b){Xg(this);this.la=null;a=Yg(this,a);this.ea(a)&&(this.i-=this.F.get(a).length);this.F.set(a,[b]);this.i++;return this};h.get=function(a,b){var c=a?this.Ta(a):[];return 0<c.length?String(c[0]):b};function Vg(a,b,c){a.remove(b);0<c.length&&(a.la=null,a.F.set(Yg(a,b),Ta(c)),a.i+=c.length)}
h.toString=function(){if(this.la)return this.la;if(!this.F)return"";for(var a=[],b=this.F.Sa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ta(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.la=a.join("\x26")};h.clone=function(){var a=new Ng;a.la=this.la;this.F&&(a.F=this.F.clone(),a.i=this.i);return a};function Yg(a,b){var c=String(b);a.sa&&(c=c.toLowerCase());return c}
h.xg=function(a){a&&!this.sa&&(Xg(this),this.la=null,this.F.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Vg(this,d,a))},this));this.sa=a};h.extend=function(a){for(var b=0;b<arguments.length;b++)$d(arguments[b],function(a,b){this.add(b,a)},this)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Zg(a,b){this.$e=[];this.yi=a;this.hh=b||null;this.jd=this.qc=!1;this.pb=void 0;this.Cg=this.Oj=this.xf=!1;this.jf=0;this.aa=null;this.zf=0}Zg.prototype.cancel=function(a){if(this.qc)this.pb instanceof Zg&&this.pb.cancel();else{if(this.aa){var b=this.aa;delete this.aa;a?b.cancel(a):(b.zf--,0>=b.zf&&b.cancel())}this.yi?this.yi.call(this.hh,this):this.Cg=!0;this.qc||(a=new $g,ah(this),bh(this,!1,a))}};Zg.prototype.bh=function(a,b){this.xf=!1;bh(this,a,b)};
function bh(a,b,c){a.qc=!0;a.pb=c;a.jd=!b;ch(a)}function ah(a){if(a.qc){if(!a.Cg)throw new dh;a.Cg=!1}}function eh(a,b,c,d){a.$e.push([b,c,d]);a.qc&&ch(a)}Zg.prototype.then=function(a,b,c){var d,e,f=new Hd(function(a,b){d=a;e=b});eh(this,d,function(a){a instanceof $g?f.cancel():e(a)});return f.then(a,b,c)};md(Zg);function fh(a){return Oa(a.$e,function(a){return ka(a[1])})}
function ch(a){if(a.jf&&a.qc&&fh(a)){var b=a.jf,c=gh[b];c&&(l.clearTimeout(c.u),delete gh[b]);a.jf=0}a.aa&&(a.aa.zf--,delete a.aa);for(var b=a.pb,d=c=!1;a.$e.length&&!a.xf;){var e=a.$e.shift(),f=e[0],g=e[1],e=e[2];if(f=a.jd?g:f)try{var k=f.call(e||a.hh,b);r(k)&&(a.jd=a.jd&&(k==b||k instanceof Error),a.pb=b=k);nd(b)&&(d=!0,a.xf=!0)}catch(m){b=m,a.jd=!0,fh(a)||(c=!0)}}a.pb=b;d&&(k=C(a.bh,a,!0),d=C(a.bh,a,!1),b instanceof Zg?(eh(b,k,d),b.Oj=!0):b.then(k,d));c&&(b=new hh(b),gh[b.u]=b,a.jf=b.u)}
function dh(){ua.call(this)}D(dh,ua);dh.prototype.message="Deferred has already fired";dh.prototype.name="AlreadyCalledError";function $g(){ua.call(this)}D($g,ua);$g.prototype.message="Deferred was canceled";$g.prototype.name="CanceledError";function hh(a){this.u=l.setTimeout(C(this.um,this),0);this.ce=a}hh.prototype.um=function(){delete gh[this.u];throw this.ce;};var gh={};function ih(a,b){var c=b||{},d=c.document||document,e=Wb("SCRIPT"),f={bj:e,gc:void 0},g=new Zg(jh,f),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){kh(e,!0);var b=new mh(nh,"Timeout reached for loading script "+a);ah(g);bh(g,!1,b)},m),f.gc=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(kh(e,c.Qj||!1,k),ah(g),bh(g,!0,null))};e.onerror=function(){kh(e,!0,k);var b=new mh(oh,"Error while loading script "+a);ah(g);
bh(g,!1,b)};Mb(e,{type:"text/javascript",charset:"UTF-8",src:a});ph(d).appendChild(e);return g}function ph(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function jh(){if(this&&this.bj){var a=this.bj;a&&"SCRIPT"==a.tagName&&kh(a,!0,this.gc)}}function kh(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){ac(a)},0)}var oh=0,nh=1;
function mh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);ua.call(this,c);this.code=a}D(mh,ua);function qh(a,b){this.Gm=new Fe(a);this.Pj=b?b:"callback";this.gc=5E3}var rh=0;qh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(rh++).toString(36)+ta().toString(36);l._callbacks_||(l._callbacks_={});var e=this.Gm.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Ug(e,f,a[f]);b&&(l._callbacks_[d]=sh(d,b),Ug(e,this.Pj,"_callbacks_."+d));b=ih(e.toString(),{timeout:this.gc,Qj:!0});eh(b,null,th(d,a,c),void 0);return{u:d,jh:b}};
qh.prototype.cancel=function(a){a&&(a.jh&&a.jh.cancel(),a.u&&uh(a.u,!1))};function th(a,b,c){return function(){uh(a,!1);c&&c(b)}}function sh(a,b){return function(c){uh(a,!0);b.apply(void 0,arguments)}}function uh(a,b){l._callbacks_[a]&&(b?delete l._callbacks_[a]:l._callbacks_[a]=ea)};function vh(a,b,c){this.Hm=a||"http://open.mapquestapi.com/nominatim/v1/search";this.ac=b||{};if(this.jc=c||null)this.ac.viewboxlbrt=this.jc.join(","),this.ac.bounded=1;this.ei=new qh(this.Hm,"json_callback")}
function Ue(a,b,c,d){a.ac.q=b;a.ac.format="json";a.ac.addressdetails=1;a.ac.limit=c;b&&1!=b.length?(null!==a.Ui&&a.ei.cancel(a.Ui),a.Ui=a.ei.send(a.ac,C(function(a){var c=Ma(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),g=Ma(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]}),k=C(function(a){var b=[];F(a,function(a){var c=a.boundingbox,c=c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:
null;this.jc&&c&&(this.jc[0]>c[2]||this.jc[1]>c[3]||this.jc[2]<c[0]||this.jc[3]<c[1])||b.push({formatted_address:a.display_name,type:a.type,bounds:c,lat:parseFloat(a.lat),lon:parseFloat(a.lon),viewport:null})},this);return b},this);0<c.length?(F(c,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;
if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,k(Sa(c,g)))):d(b,k(a))},a))):d(b,[])};function wh(a,b,c,d){var e=new Ag(null,{Ri:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.Cb=new vh(b,c,d);b=new Af(null,null,!1);Df(b);b.Dj=!1;b.w=this;b.vf(a);Ke.call(this,this.Cb,e,b);this.oa("update",function(b){b.Wa&&(a.value=b.Wa.formatted_address)})}D(wh,Ke);wh.prototype.search=function(a,b,c){Ue(this.Cb,a,b,c)};wh.prototype.Bg=function(a,b){this.Na();wh.g.Bg.call(this,a,b)};function xh(){this.Pi=ta()}new xh;xh.prototype.set=function(a){this.Pi=a};xh.prototype.reset=function(){this.set(ta())};xh.prototype.get=function(){return this.Pi};function yh(a){W.call(this);this.Qd=a||window;this.Ce=U(this.Qd,"resize",this.Ik,!1,this);this.Nc=Ob(this.Qd||window)}D(yh,W);h=yh.prototype;h.Ce=null;h.Qd=null;h.Nc=null;h.T=function(){return this.Nc?this.Nc.clone():null};h.c=function(){yh.g.c.call(this);this.Ce&&(V(this.Ce),this.Ce=null);this.Nc=this.Qd=null};h.Ik=function(){var a=Ob(this.Qd||window);Hb(a,this.Nc)||(this.Nc=a,this.dispatchEvent("resize"))};function zh(a,b){W.call(this);this.a=a;var c=bc(this.a)?this.a:this.a?this.a.body:null;this.$k=!!c&&eg(c);this.ni=U(this.a,Cc,this,b)}D(zh,W);
zh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.l;if("mousewheel"==a.type){c=1;if(L||M&&(ob||O("532.0")))c=40;d=Ah(-a.wheelDelta,c);r(a.wheelDeltaX)?(b=Ah(-a.wheelDeltaX,c),c=Ah(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),r(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.ri)&&(b=Db(b,-this.ri,this.ri));ja(this.si)&&(c=Db(c,-this.si,this.si));this.$k&&(b=-b);b=new Bh(d,a,b,c);this.dispatchEvent(b)};function Ah(a,b){return M&&(nb||pb)&&0!=a%b?a:a/b}
zh.prototype.c=function(){zh.g.c.call(this);V(this.ni);this.ni=null};function Bh(a,b,c,d){Fc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}D(Bh,Fc);function Ch(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Ch.prototype.BYTES_PER_ELEMENT=4;Ch.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Ch.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Ch.BYTES_PER_ELEMENT=4,Ch.prototype.BYTES_PER_ELEMENT=Ch.prototype.BYTES_PER_ELEMENT,Ch.prototype.set=Ch.prototype.set,Ch.prototype.toString=Ch.prototype.toString,da("Float32Array",Ch));function Dh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Dh.prototype.BYTES_PER_ELEMENT=8;Dh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Dh.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Dh.BYTES_PER_ELEMENT=8}catch(Eh){}Dh.prototype.BYTES_PER_ELEMENT=Dh.prototype.BYTES_PER_ELEMENT;Dh.prototype.set=Dh.prototype.set;Dh.prototype.toString=Dh.prototype.toString;da("Float64Array",Dh)};function Fh(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Gh(){var a=Array(16);Hh(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Ih(){var a=Array(16);Hh(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Hh(a,b,c,d,e,f,g,k,m,n,p,s,t,x,u,q,y){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=k;a[7]=m;a[8]=n;a[9]=p;a[10]=s;a[11]=t;a[12]=x;a[13]=u;a[14]=q;a[15]=y}function Jh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Kh(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],k=a[4],m=a[5],n=a[6],p=a[7],s=a[8],t=a[9],x=a[10],u=a[11],q=a[12],y=a[13],v=a[14];a=a[15];var A=b[0],z=b[1],G=b[2],E=b[3],I=b[4],aa=b[5],J=b[6],ba=b[7],S=b[8],H=b[9],Q=b[10],N=b[11],xa=b[12],oa=b[13],ra=b[14];b=b[15];c[0]=d*A+k*z+s*G+q*E;c[1]=e*A+m*z+t*G+y*E;c[2]=f*A+n*z+x*G+v*E;c[3]=g*A+p*z+u*G+a*E;c[4]=d*I+k*aa+s*J+q*ba;c[5]=e*I+m*aa+t*J+y*ba;c[6]=f*I+n*aa+x*J+v*ba;c[7]=g*I+p*aa+u*J+a*ba;c[8]=d*S+k*H+s*Q+q*N;c[9]=e*S+m*H+t*Q+y*N;c[10]=f*S+n*H+x*
Q+v*N;c[11]=g*S+p*H+u*Q+a*N;c[12]=d*xa+k*oa+s*ra+q*b;c[13]=e*xa+m*oa+t*ra+y*b;c[14]=f*xa+n*oa+x*ra+v*b;c[15]=g*xa+p*oa+u*ra+a*b}function Lh(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function Mh(a,b,c){Hh(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Nh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],k=a[5],m=a[6],n=a[7],p=Math.cos(b),s=Math.sin(b);a[0]=c*p+g*s;a[1]=d*p+k*s;a[2]=e*p+m*s;a[3]=f*p+n*s;a[4]=c*-s+g*p;a[5]=d*-s+k*p;a[6]=e*-s+m*p;a[7]=f*-s+n*p}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function Oh(){W.call(this);this.Da=0}D(Oh,W);Oh.prototype.X=function(){++this.Da;this.dispatchEvent("change")};function Ph(a,b,c,d){U(a,b,c,!1,d)}function Qh(a,b,c){Zc(a,"postrender",b,!1,c)};function Rh(a,b){T.call(this,a);this.key=b}D(Rh,T);function Sh(a){Oh.call(this);B(this);this.Pc={};this.pf={};r(a)&&this.Cd(a)}D(Sh,Oh);var Th={},Uh={},Vh={};function Wh(a){return Th.hasOwnProperty(a)?Th[a]:Th[a]="change:"+a}Sh.prototype.get=function(a){var b,c=this.pf;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.sm,d=Uh.hasOwnProperty(c)?Uh[c]:Uh[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=K(b,d);b=r(d)?d.call(b):b.get(c);b=a.un(b)}else this.Pc.hasOwnProperty(a)&&(b=this.Pc[a]);return b};
Sh.prototype.Sa=function(){var a=this.pf,b;if(hb(this.Pc)){if(hb(a))return[];b=a}else if(hb(a))b=this.Pc;else{b={};for(var c in this.Pc)b[c]=!0;for(c in a)b[c]=!0}return gb(b)};
Sh.prototype.set=function(a,b){this.dispatchEvent(new Rh("beforepropertychange",a));var c=this.pf;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.sm;b=d.fn(b);d=Vh.hasOwnProperty(e)?Vh[e]:Vh[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=K(c,d);r(d)?d.call(c,b):c.set(e,b)}else this.Pc[a]=b,c=Wh(a),this.dispatchEvent(c),this.dispatchEvent(new Rh("propertychange",a))};Sh.prototype.Cd=function(a){for(var b in a)this.set(b,a[b])};function Xh(a,b,c){T.call(this,a,c);this.element=b}D(Xh,T);function Yh(a){Sh.call(this);this.bb=a||[];Zh(this)}D(Yh,Sh);h=Yh.prototype;h.clear=function(){for(;0<this.get("length");)this.pop()};h.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};h.forEach=function(a,b){F(this.bb,a,b)};h.cd=function(){return this.bb};h.item=function(a){return this.bb[a]};h.pop=function(){return $h(this,this.get("length")-1)};
h.push=function(a){var b=this.bb.length;Ua(this.bb,b,0,a);Zh(this);this.dispatchEvent(new Xh("add",a,this));return b};h.remove=function(a){var b=this.bb,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return $h(this,c)};function $h(a,b){var c=a.bb[b];Ka.splice.call(a.bb,b,1);Zh(a);a.dispatchEvent(new Xh("remove",c,a));return c}function Zh(a){a.set("length",a.bb.length)};var ai=L&&!O("9.0")&&""!==xb;function bi(a,b){a[0]+=b[0];a[1]+=b[1]}function ci(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function di(a,b,c){T.call(this,a);this.map=b;this.frameState=r(c)?c:null}D(di,T);function ei(a,b,c){T.call(this,a);this.Q=b;a=r(c)?c:{};this.buttons=fi(a);this.pressure=gi(a,this.buttons);this.bubbles=K(a,"bubbles",!1);this.cancelable=K(a,"cancelable",!1);this.view=K(a,"view",null);this.detail=K(a,"detail",null);this.screenX=K(a,"screenX",0);this.screenY=K(a,"screenY",0);this.clientX=K(a,"clientX",0);this.clientY=K(a,"clientY",0);this.ctrlKey=K(a,"ctrlKey",!1);this.altKey=K(a,"altKey",!1);this.shiftKey=K(a,"shiftKey",!1);this.metaKey=K(a,"metaKey",!1);this.button=K(a,"button",
0);this.relatedTarget=K(a,"relatedTarget",null);this.pointerId=K(a,"pointerId",0);this.width=K(a,"width",0);this.height=K(a,"height",0);this.tiltX=K(a,"tiltX",0);this.tiltY=K(a,"tiltY",0);this.pointerType=K(a,"pointerType","");this.hwTimestamp=K(a,"hwTimestamp",0);this.isPrimary=K(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}D(ei,T);
function fi(a){if(a.buttons||hi)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function gi(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var hi=!1;try{hi=1===(new MouseEvent("click",{buttons:1})).buttons}catch(ii){};function ji(a,b){var c=Wb("CANVAS");r(a)&&(c.width=a);r(b)&&(c.height=b);return c.getContext("2d")}
var ki=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Wb("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ac(b);a=c&&"none"!==c}else a=!1;return a}}(),li=function(){var a;return function(){if(!r(a))if(l.getComputedStyle){var b=Wb("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));ac(b);a=c&&"none"!==c}else a=!1;return a}}();function mi(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Tm=b;c.msTransform=b;c.transform=b;L&&!ai&&(a.style.transformOrigin="0 0")};var ni=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function oi(a,b){var c,d,e=ni.length;for(d=0;d<e;++d)try{if(c=a.getContext(ni[d],b),null!==c)return c}catch(f){}return null};var pi=l.devicePixelRatio||1,qi=!1,ri=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=ji();if(null===a)return!1;r(a.setLineDash)&&(qi=!0);return!0}catch(b){return!1}}(),si="ontouchstart"in l,ti="PointerEvent"in l,ui=!!l.navigator.msPointerEnabled,vi=function(){if(!("WebGLRenderingContext"in l))return!1;try{var a=Wb("CANVAS");return null!==oi(a,{ak:!0})}catch(b){return!1}}();function wi(a,b){this.f=a;this.Ie=b};function xi(a){wi.call(this,a,{mousedown:this.ol,mousemove:this.pl,mouseup:this.sl,mouseover:this.rl,mouseout:this.ql});this.H=a.H;this.ii=[]}D(xi,wi);function yi(a,b){for(var c=a.ii,d=b.clientX,e=b.clientY,f=0,g=c.length,k;f<g&&(k=c[f]);f++){var m=Math.abs(e-k[1]);if(25>=Math.abs(d-k[0])&&25>=m)return!0}return!1}function zi(a){var b=Ai(a,a.l),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}h=xi.prototype;
h.ol=function(a){if(!yi(this,a)){(1).toString()in this.H&&this.cancel(a);var b=zi(a);this.H[(1).toString()]=a;this.f.fireEvent(Bi,b,a)}};h.pl=function(a){if(!yi(this,a)){var b=zi(a);this.f.move(b,a)}};h.sl=function(a){if(!yi(this,a)){var b=K(this.H,(1).toString());b&&b.button===a.button&&(b=zi(a),this.f.fireEvent(Ci,b,a),jb(this.H,(1).toString()))}};h.rl=function(a){if(!yi(this,a)){var b=zi(a);Di(this.f,b,a)}};h.ql=function(a){if(!yi(this,a)){var b=zi(a);Ei(this.f,b,a)}};
h.cancel=function(a){var b=zi(a);this.f.cancel(b,a);jb(this.H,(1).toString())};function Fi(a){wi.call(this,a,{MSPointerDown:this.xl,MSPointerMove:this.yl,MSPointerUp:this.Bl,MSPointerOut:this.zl,MSPointerOver:this.Al,MSPointerCancel:this.wl,MSGotPointerCapture:this.ul,MSLostPointerCapture:this.vl});this.H=a.H;this.Jj=["","unavailable","touch","pen","mouse"]}D(Fi,wi);function Gi(a,b){var c=b;ja(b.l.pointerType)&&(c=Ai(b,b.l),c.pointerType=a.Jj[b.l.pointerType]);return c}h=Fi.prototype;h.xl=function(a){this.H[a.l.pointerId]=a;var b=Gi(this,a);this.f.fireEvent(Bi,b,a)};
h.yl=function(a){var b=Gi(this,a);this.f.move(b,a)};h.Bl=function(a){var b=Gi(this,a);this.f.fireEvent(Ci,b,a);jb(this.H,a.l.pointerId)};h.zl=function(a){var b=Gi(this,a);Ei(this.f,b,a)};h.Al=function(a){var b=Gi(this,a);Di(this.f,b,a)};h.wl=function(a){var b=Gi(this,a);this.f.cancel(b,a);jb(this.H,a.l.pointerId)};h.vl=function(a){this.f.dispatchEvent(new ei("lostpointercapture",a,a.l))};h.ul=function(a){this.f.dispatchEvent(new ei("gotpointercapture",a,a.l))};function Hi(a){wi.call(this,a,{pointerdown:this.Kl,pointermove:this.Ll,pointerup:this.Ol,pointerout:this.Ml,pointerover:this.Nl,pointercancel:this.Jl,gotpointercapture:this.jk,lostpointercapture:this.el})}D(Hi,wi);h=Hi.prototype;h.Kl=function(a){Ii(this.f,a)};h.Ll=function(a){Ii(this.f,a)};h.Ol=function(a){Ii(this.f,a)};h.Ml=function(a){Ii(this.f,a)};h.Nl=function(a){Ii(this.f,a)};h.Jl=function(a){Ii(this.f,a)};h.el=function(a){Ii(this.f,a)};h.jk=function(a){Ii(this.f,a)};function Ji(a,b){wi.call(this,a,{touchstart:this.Cm,touchmove:this.Bm,touchend:this.Am,touchcancel:this.zm});this.H=a.H;this.nl=b;this.bd=void 0;this.Cf=0;this.wd=void 0}D(Ji,wi);h=Ji.prototype;h.Vi=function(){this.Cf=0;this.wd=void 0};
function Ki(a,b,c){b=Ai(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Cf;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.bd===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Li(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.l.changedTouches),f=e.length,g,k;for(g=0;g<f;++g)k=Ki(a,b,e[g]),k.preventDefault=d,c.call(a,b,k)}
h.Cm=function(a){var b=a.l.touches,c=gb(this.H),d=c.length;if(d>=b.length){var e=[],f,g,k;for(f=0;f<d;++f){g=c[f];k=this.H[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(k.$b)}for(f=0;f<e.length;++f)this.Af(a,e[f])}b=eb(this.H);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.H;c=b}c&&(this.bd=a.l.changedTouches[0].identifier,r(this.wd)&&l.clearTimeout(this.wd));Mi(this,a);this.Cf++;Li(this,a,this.Fl)};
h.Fl=function(a,b){this.H[b.pointerId]={target:b.target,$b:b,Ki:b.target};var c=this.f;b.bubbles=!0;c.fireEvent(Ni,b,a);c=this.f;b.bubbles=!1;c.fireEvent(Oi,b,a);this.f.fireEvent(Bi,b,a)};h.Bm=function(a){a.preventDefault();Li(this,a,this.tl)};
h.tl=function(a,b){var c=K(this.H,b.pointerId);if(c){var d=c.$b,e=c.Ki;this.f.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ei(this.f,d,a),Di(this.f,b,a)):(b.target=e,b.relatedTarget=null,this.Af(a,b)));c.$b=b;c.Ki=b.target}};h.Am=function(a){Mi(this,a);Li(this,a,this.Fm)};
h.Fm=function(a,b){this.f.fireEvent(Ci,b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Pi,b,a);jb(this.H,b.pointerId);b.isPrimary&&(this.bd=void 0,this.wd=l.setTimeout(C(this.Vi,this),200))};h.zm=function(a){Li(this,a,this.Af)};h.Af=function(a,b){this.f.cancel(b,a);this.f.$b(b,a);var c=this.f;b.bubbles=!1;c.fireEvent(Pi,b,a);jb(this.H,b.pointerId);b.isPrimary&&(this.bd=void 0,this.wd=l.setTimeout(C(this.Vi,this),200))};
function Mi(a,b){var c=a.nl.ii,d=b.l.changedTouches[0];if(a.bd===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ra(c,e)},2500)}};function Qi(a){W.call(this);this.a=a;this.H={};this.uh={};this.$c=[];ti?Ri(this,new Hi(this)):ui?Ri(this,new Fi(this)):(a=new xi(this),Ri(this,a),si&&Ri(this,new Ji(this,a)));a=this.$c.length;for(var b,c=0;c<a;c++)b=this.$c[c],Si(this,gb(b.Ie))}D(Qi,W);function Ri(a,b){var c=gb(b.Ie);c&&(F(c,function(a){var c=b.Ie[a];c&&(this.uh[a]=C(c,b))},a),a.$c.push(b))}h=Qi.prototype;h.th=function(a){var b=this.uh[a.type];b&&b(a)};function Si(a,b){F(b,function(a){U(this.a,a,this.th,!1,this)},a)}
function Ti(a,b){F(b,function(a){$c(this.a,a,this.th,!1,this)},a)}function Ai(a,b){for(var c={},d,e=0,f=Ui.length;e<f;e++)d=Ui[e][0],c[d]=a[d]||b[d]||Ui[e][1];return c}h.move=function(a,b){this.fireEvent(Vi,a,b)};h.$b=function(a,b){a.bubbles=!0;this.fireEvent(Wi,a,b)};h.cancel=function(a,b){this.fireEvent(Xi,a,b)};function Ei(a,b,c){a.$b(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Pi,b,c))}
function Di(a,b,c){b.bubbles=!0;a.fireEvent(Ni,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Oi,b,c))}h.fireEvent=function(a,b,c){this.dispatchEvent(new ei(a,c,b))};function Ii(a,b){a.dispatchEvent(new ei(b.type,b,b.l))}h.c=function(){for(var a=this.$c.length,b,c=0;c<a;c++)b=this.$c[c],Ti(this,gb(b.Ie));Qi.g.c.call(this)};
var Vi="pointermove",Bi="pointerdown",Ci="pointerup",Ni="pointerover",Wi="pointerout",Oi="pointerenter",Pi="pointerleave",Xi="pointercancel",Ui=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Yi(a,b,c,d){di.call(this,a,b,d);this.Q=c;this.originalEvent=c.l;c=this.originalEvent;r(c.changedTouches)?(a=c.changedTouches[0],c=hg(b.M),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.M,c=hg(c),a=hg(a),a=new P(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.dd(this.pixel)}D(Yi,di);Yi.prototype.preventDefault=function(){Yi.g.preventDefault.call(this);this.Q.preventDefault()};Yi.prototype.stopPropagation=function(){Yi.g.stopPropagation.call(this);this.Q.stopPropagation()};
function Zi(a,b,c,d){Yi.call(this,a,b,c.Q,d);this.bc=c}D(Zi,Yi);function $i(a){W.call(this);this.b=a;this.Tc=0;this.Mf=!1;this.ae=this.Qe=this.Nb=null;a=this.b.M;this.Ng=0;this.Hg={};this.Fc=new Qi(a);this.sb=null;this.Qe=U(this.Fc,Bi,this.Ck,!1,this);this.rg=U(this.Fc,Vi,this.Sl,!1,this)}D($i,W);
function aj(a,b){var c;c=new Zi(bj,a.b,b);a.dispatchEvent(c);0!==a.Tc?(l.clearTimeout(a.Tc),a.Tc=0,c=new Zi(cj,a.b,b),a.dispatchEvent(c)):a.Tc=l.setTimeout(C(function(){this.Tc=0;var a=new Zi(dj,this.b,b);this.dispatchEvent(a)},a),250)}function ej(a,b){b.type==fj||b.type==gj?delete a.Hg[b.pointerId]:b.type==hj&&(a.Hg[b.pointerId]=!0);a.Ng=eb(a.Hg)}h=$i.prototype;
h.jb=function(a){ej(this,a);var b=new Zi(fj,this.b,a);this.dispatchEvent(b);0===this.Ng&&(F(this.Nb,V),this.Nb=null,Ac(this.sb),this.sb=null);!this.Mf&&0===a.button&&aj(this,this.ae)};h.Ck=function(a){ej(this,a);var b=new Zi(hj,this.b,a);this.dispatchEvent(b);this.ae=a;this.Mf=!1;null===this.Nb&&(this.sb=new Qi(document),this.Nb=[U(this.sb,ij,this.Dk,!1,this),U(this.sb,fj,this.jb,!1,this),U(this.Fc,gj,this.jb,!1,this)]);a.preventDefault()};
h.Dk=function(a){if(a.clientX!=this.ae.clientX||a.clientY!=this.ae.clientY){this.Mf=!0;var b=new Zi(jj,this.b,a);this.dispatchEvent(b)}a.preventDefault()};h.Sl=function(a){this.dispatchEvent(new Zi(a.type,this.b,a))};h.c=function(){null!==this.rg&&(V(this.rg),this.rg=null);null!==this.Qe&&(V(this.Qe),this.Qe=null);null!==this.Nb&&(F(this.Nb,V),this.Nb=null);null!==this.sb&&(Ac(this.sb),this.sb=null);null!==this.Fc&&(Ac(this.Fc),this.Fc=null);$i.g.c.call(this)};
var dj="singleclick",bj="click",cj="dblclick",jj="pointerdrag",ij="pointermove",hj="pointerdown",fj="pointerup",gj="pointercancel",kj={cn:dj,Rm:bj,Sm:cj,Wm:jj,Zm:ij,Vm:hj,bn:fj,an:"pointerover",$m:"pointerout",Xm:"pointerenter",Ym:"pointerleave",Um:gj};function lj(a,b,c,d){return r(d)?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function mj(a,b,c){return a+"/"+b+"/"+c}function nj(a){return mj(a[0],a[1],a[2])};function oj(a,b,c,d){this.n=a;this.G=b;this.t=c;this.s=d}function pj(a,b,c,d,e){return r(e)?(e.n=a,e.G=b,e.t=c,e.s=d,e):new oj(a,b,c,d)}h=oj.prototype;h.contains=function(a){return this.Wc(a[1],a[2])};function qj(a,b){return a.n<=b.n&&b.G<=a.G&&a.t<=b.t&&b.s<=a.s}h.Wc=function(a,b){return this.n<=a&&a<=this.G&&this.t<=b&&b<=this.s};h.sh=function(a){return this.n==a.n&&this.t==a.t&&this.G==a.G&&this.s==a.s};
h.extend=function(a){a.n<this.n&&(this.n=a.n);a.G>this.G&&(this.G=a.G);a.t<this.t&&(this.t=a.t);a.s>this.s&&(this.s=a.s)};h.he=function(){return this.s-this.t+1};h.T=function(){return[this.vb(),this.he()]};h.vb=function(){return this.G-this.n+1};h.ci=function(a){return this.n<=a.G&&this.G>=a.n&&this.t<=a.s&&this.s>=a.t};function rj(a){this.Qh=a.html;this.cf=r(a.tileRanges)?a.tileRanges:null};function sj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return tj(c,d,e,f,void 0)}function uj(a){return r(void 0)?void 0:a.slice()}function vj(){return[Infinity,Infinity,-Infinity,-Infinity]}function tj(a,b,c,d,e){return r(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function wj(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function xj(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=yj(a):"top-right"===b&&(c=[a[2],a[3]]);return c}function zj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,k;for(f=0;4>f;++f)g=e[f],k=d[f],e[f]=a[0]+g*b-k*c,d[f]=a[1]+g*c+k*b;return sj(e,d)}
function Aj(a,b){var c=r(void 0)?void 0:vj();Bj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function yj(a){return[a[0],a[3]]}function Bj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Cj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}function Dj(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return sj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function Ej(a){this.radius=a}Ej.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Fj={};Fj.degrees=2*Math.PI*(new Ej(6370997)).radius/360;Fj.ft=.3048;Fj.m=1;function Gj(a){this.Uc=a.code;this.Cj=a.units;this.Y=r(a.extent)?a.extent:null;this.ih=null}Gj.prototype.S=function(){return this.Y};Gj.prototype.dj=function(a){this.Y=a};var Hj={},Ij={};function Jj(a){Kj(a);F(a,function(b){F(a,function(a){b!==a&&Lj(b,a,Mj)})})}function Nj(a){Hj[a.Uc]=a;Lj(a,a,Mj)}function Kj(a){var b=[];F(a,function(a){b.push(Nj(a))})}function Oj(a){return null!=a?w(a)?Pj(a):a:Pj("EPSG:3857")}
function Lj(a,b,c){a=a.Uc;b=b.Uc;a in Ij||(Ij[a]={});Ij[a][b]=c}function Pj(a){return a instanceof Gj?a:w(a)?Hj[a]:null}function Qj(a,b){var c=Pj(a),d=Pj(b);return Rj(c,d)}function Rj(a,b){var c=a.Uc,d=b.Uc,e;c in Ij&&d in Ij[c]&&(e=Ij[c][d]);r(e)||(e=Sj);return e}function Sj(a,b){if(r(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Mj(a,b){var c;if(r(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}
function Tj(a){var b=Qj("EPSG:4326","EPSG:3857");return Dj(a,b)};function Uj(a){Oh.call(this);this.Ic=Pj(a.projection);this.wf=r(a.attributions)?a.attributions:null;this.cl=a.logo;this.j=r(a.state)?a.state:"ready"}D(Uj,Oh);Uj.prototype.D=function(){return this.j};function X(a){Sh.call(this);a=kb(a);a.brightness=r(a.brightness)?a.brightness:0;a.contrast=r(a.contrast)?a.contrast:1;a.hue=r(a.hue)?a.hue:0;a.opacity=r(a.opacity)?a.opacity:1;a.saturation=r(a.saturation)?a.saturation:1;a.visible=r(a.visible)?a.visible:!0;a.maxResolution=r(a.maxResolution)?a.maxResolution:Infinity;a.minResolution=r(a.minResolution)?a.minResolution:0;this.Cd(a)}D(X,Sh);X.prototype.Bh=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.Bh;
X.prototype.Ch=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.Ch;X.prototype.Dh=function(){return this.get("hue")};X.prototype.getHue=X.prototype.Dh;
function Vj(a){var b=a.Bh(),c=a.Ch(),d=a.Dh(),e=a.Hh(),f=a.Jh(),g=a.Kh(),k=a.Uf(),m=a.S(),n=a.Eh(),p=a.Fh();return{layer:a,brightness:r(b)?Db(b,-1,1):0,contrast:r(c)?Math.max(c,0):1,hue:r(d)?d:0,opacity:r(e)?Db(e,0,1):1,saturation:r(f)?Math.max(f,0):1,Dg:g,visible:r(k)?!!k:!0,extent:m,maxResolution:r(n)?n:Infinity,minResolution:r(p)?Math.max(p,0):0}}X.prototype.S=function(){return this.get("extent")};X.prototype.getExtent=X.prototype.S;X.prototype.Eh=function(){return this.get("maxResolution")};
X.prototype.getMaxResolution=X.prototype.Eh;X.prototype.Fh=function(){return this.get("minResolution")};X.prototype.getMinResolution=X.prototype.Fh;X.prototype.Hh=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.Hh;X.prototype.Jh=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.Jh;X.prototype.Uf=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.Uf;X.prototype.dm=function(a){this.set("brightness",a)};
X.prototype.setBrightness=X.prototype.dm;X.prototype.em=function(a){this.set("contrast",a)};X.prototype.setContrast=X.prototype.em;X.prototype.fm=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.fm;X.prototype.dj=function(a){this.set("extent",a)};X.prototype.setExtent=X.prototype.dj;X.prototype.hm=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.hm;X.prototype.im=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.im;
X.prototype.jm=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.jm;X.prototype.lm=function(a){this.set("saturation",a)};X.prototype.setSaturation=X.prototype.lm;X.prototype.om=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.om;function Wj(a){var b=kb(a);delete b.source;X.call(this,b);this.W=a.source;U(this.W,"change",this.Kk,!1,this)}D(Wj,X);Wj.prototype.Sf=function(a){a=r(a)?a:[];a.push(Vj(this));return a};Wj.prototype.Kh=function(){return this.W.D()};Wj.prototype.Kk=function(){this.X()};function Xj(a,b){W.call(this);this.o=a;this.state=b}D(Xj,W);Xj.prototype.X=function(){this.dispatchEvent("change")};Xj.prototype.getKey=function(){return B(this).toString()};Xj.prototype.D=function(){return this.state};function Yj(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Zj(a){this.minZoom=r(a.minZoom)?a.minZoom:0;this.Mc=a.resolutions;this.maxZoom=this.Mc.length-1;this.Le=r(a.origin)?a.origin:null;this.Ji=null;r(a.origins)&&(this.Ji=a.origins);this.Gg=null;r(a.tileSizes)&&(this.Gg=a.tileSizes);this.sj=r(a.tileSize)?a.tileSize:null===this.Gg?256:void 0}var ak=[0,0,0];Zj.prototype.de=function(a,b,c,d,e){e=bk(this,a,e);for(a=a[0]-1;a>=this.minZoom;){if(b.call(c,a,ck(this,e,a,d)))return!0;--a}return!1};
Zj.prototype.sc=function(a){return null===this.Le?this.Ji[a]:this.Le};Zj.prototype.k=function(a){return this.Mc[a]};Zj.prototype.ke=function(a,b,c){return a[0]<this.maxZoom?(c=bk(this,a,c),ck(this,c,a[0]+1,b)):null};function dk(a,b,c,d){ek(a,b[0],b[1],c,!1,ak);var e=ak[1],f=ak[2];ek(a,b[2],b[3],c,!0,ak);return pj(e,ak[1],f,ak[2],d)}function ck(a,b,c,d){c=a.k(c);return dk(a,b,c,d)}function fk(a,b){var c=a.sc(b[0]),d=a.k(b[0]),e=gk(a,b[0]);return[c[0]+(b[1]+.5)*e*d,c[1]+(b[2]+.5)*e*d]}
function bk(a,b,c){var d=a.sc(b[0]),e=a.k(b[0]);a=gk(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return tj(f,b,f+a*e,b+a*e,c)}function ek(a,b,c,d,e,f){var g=Yj(a.Mc,d,0),k=d/a.k(g),m=a.sc(g);a=gk(a,g);b=k*(b-m[0])/(d*a);c=k*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return lj(g,b,c,f)}function hk(a,b,c){c=a.k(c);return ek(a,b[0],b[1],c,!1,void 0)}function gk(a,b){return r(a.sj)?a.sj:a.Gg[b]}
function ik(a,b,c){b=r(b)?b:42;c=r(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c}function jk(a){a=Pj(a);var b=a.S();null===b&&(a=180*Fj.degrees/Fj[a.Cj],b=tj(-a,-a,a,a));return b};function kk(a){Uj.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.El=r(a.opaque)?a.opaque:!1;this.ym=r(a.tilePixelRatio)?a.tilePixelRatio:1;this.tileGrid=r(a.tileGrid)?a.tileGrid:null}D(kk,Uj);kk.prototype.Kb=pd;kk.prototype.Qf=function(a,b,c,d){var e=!0,f,g,k,m;for(k=d.n;k<=d.G;++k)for(m=d.t;m<=d.s;++m)g=this.fd(c,k,m),a[c]&&a[c][g]||(f=b(c,k,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};kk.prototype.fd=mj;
function lk(a,b){var c;if(null===a.tileGrid){if(c=b.ih,null===c){c=jk(b);var d=r(void 0)?void 0:256,e=r(void 0)?void 0:"bottom-left",f=ik(c,void 0,d);c=new Zj({origin:xj(c,e),resolutions:f,tileSize:d});b.ih=c}}else c=a.tileGrid;return c}function mk(a,b,c){return gk(lk(a,c),b)*a.ym}kk.prototype.Ig=ea;function nk(a,b){wc.call(this);this.He=a;this.nd=b}D(nk,wc);nk.prototype.ha=function(){return this.He.ha()};function ok(a,b){b.Kb()&&a.postRenderFunctions.push(sa(function(a,b,e){b=B(a).toString();a.ad(e.usedTiles[b])},b))}function pk(a,b){var c=b.cl;r(c)&&(w(c)?a.logos[c]="":la(c)&&(a.logos[c.src]=c.href))}function qk(a,b,c,d){b=B(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}
function rk(a,b,c,d){return function(e,f,g){e=b.Rb(e,f,g,c,d);return a(e)?e:null}}function sk(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function tk(a,b,c,d,e,f,g,k,m,n){var p=B(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var s=a.wantedTiles[p];a=a.tileQueue;var t=c.minZoom,x,u,q,y,v,A;r(k)||(k=0);for(A=g;A>=t;--A)for(u=ck(c,f,A,u),q=c.k(A),y=u.n;y<=u.G;++y)for(v=u.t;v<=u.s;++v)g-A<=k?(x=b.Rb(A,y,v,d,e),0==x.D()&&(s[nj(x.o)]=!0,x.getKey()in a.Jc||uk(a,[x,p,fk(c,x.o),q])),r(m)&&m.call(n,x)):b.Ig(A,y,v)};function vk(){this.Jb={};this.Sd=0;this.jl=32}fa(vk);vk.prototype.clear=function(){this.Jb={};this.Sd=0};vk.prototype.get=function(a,b){var c=b+":"+a;return c in this.Jb?this.Jb[c]:null};vk.prototype.set=function(a,b,c){this.Jb[b+":"+a]=c;++this.Sd};function wk(a,b,c,d,e,f,g,k){Jh(a);0===b&&0===c||Lh(a,b,c);1==d&&1==e||Mh(a,d,e);0!==f&&Nh(a,f);0===g&&0===k||Lh(a,g,k);return a}function xk(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function yk(a,b){wc.call(this);this.b=b;this.Aa={}}D(yk,wc);
function zk(a){var b=a.viewState,c=a.coordinateToPixelMatrix;wk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],m=c[6],n=c[7],p=c[8],s=c[9],t=c[10],x=c[11],u=c[12],q=c[13],y=c[14],c=c[15],v=b*k-d*g,A=b*m-e*g,z=b*n-f*g,G=d*m-e*k,E=d*n-f*k,I=e*n-f*m,aa=p*q-s*u,J=p*y-t*u,ba=p*c-x*u,S=s*y-t*q,H=s*c-x*q,Q=t*c-x*y,N=v*Q-A*H+z*S+G*ba-E*J+I*aa;0!=N&&(N=1/N,a[0]=(k*Q-m*H+n*S)*N,a[1]=(-d*
Q+e*H-f*S)*N,a[2]=(q*I-y*E+c*G)*N,a[3]=(-s*I+t*E-x*G)*N,a[4]=(-g*Q+m*ba-n*J)*N,a[5]=(b*Q-e*ba+f*J)*N,a[6]=(-u*I+y*z-c*A)*N,a[7]=(p*I-t*z+x*A)*N,a[8]=(g*H-k*ba+n*aa)*N,a[9]=(-b*H+d*ba-f*aa)*N,a[10]=(u*E-q*z+c*v)*N,a[11]=(-p*E+s*z-x*v)*N,a[12]=(-g*S+k*J-m*aa)*N,a[13]=(b*S-d*J+e*aa)*N,a[14]=(-u*G+q*A-y*v)*N,a[15]=(p*G-s*A+t*v)*N)}h=yk.prototype;h.Zd=function(a){return new nk(this,a)};h.c=function(){cb(this.Aa,Ac);yk.g.c.call(this)};
function Ak(){var a=vk.hb();if(a.Sd>a.jl){var b=0,c,d;for(c in a.Jb){d=a.Jb[c];var e;if(e=0===(b++&3))Jc(d)?d=d.yb(void 0,void 0):(d=Vc(d),d=!!d&&d.yb(void 0,void 0)),e=!d;e&&(delete a.Jb[c],--a.Sd)}}}function Bk(a,b){var c=B(b).toString();if(c in a.Aa)return a.Aa[c];var d=a.Zd(b);return a.Aa[c]=d}h.ha=function(){return this.b};h.Ve=ea;h.Ul=function(a,b){for(var c in this.Aa)if(!(null!==b&&c in b.layerStates)){var d=this.Aa[c];delete this.Aa[c];Ac(d)}};
function Ck(a,b){for(var c in a.Aa)if(!(c in b.layerStates)){b.postRenderFunctions.push(C(a.Ul,a));break}};function Dk(a,b){this.Ni=a;this.eg=b;this.Qa=[];this.Hc=[];this.Jc={}}Dk.prototype.clear=function(){this.Qa.length=0;this.Hc.length=0;ib(this.Jc)};function Ek(a){var b=a.Qa,c=a.Hc,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Fk(a,0));b=a.eg(d);delete a.Jc[b];return d}function uk(a,b){var c=a.Ni(b);Infinity!=c&&(a.Qa.push(b),a.Hc.push(c),a.Jc[a.eg(b)]=!0,Gk(a,0,a.Qa.length-1))}Dk.prototype.gb=function(){return this.Qa.length};Dk.prototype.lb=function(){return 0===this.Qa.length};
function Fk(a,b){for(var c=a.Qa,d=a.Hc,e=c.length,f=c[b],g=d[b],k=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Gk(a,k,b)}function Gk(a,b,c){var d=a.Qa;a=a.Hc;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function Hk(a){var b=a.Ni,c=a.Qa,d=a.Hc,e=0,f=c.length,g,k,m;for(k=0;k<f;++k)g=c[k],m=b(g),Infinity==m?delete a.Jc[a.eg(g)]:(d[e]=m,c[e++]=g);c.length=e;d.length=e;for(b=(a.Qa.length>>1)-1;0<=b;b--)Fk(a,b)};function Ik(a,b){Dk.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.wm=b;this.Md=0}D(Ik,Dk);Ik.prototype.Mk=function(){--this.Md;this.wm()};function Jk(a){return function(b){if(r(b))return[Db(b[0],a[0],a[2]),Db(b[1],a[1],a[3])]}}function Kk(a){return a};function Lk(a){return function(b,c,d){if(r(b))return b=Yj(a,b,d),b=Db(b+c,0,a.length-1),a[b]}}function Mk(a,b,c){return function(d,e,f){if(r(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),r(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Nk(a){if(r(a))return 0}function Ok(a,b){if(r(a))return a+b}function Pk(a){var b=2*Math.PI/a;return function(a,d){if(r(a))return a=Math.floor((a+d)/b+.5)*b}}function Qk(){var a=5*Math.PI/180;return function(b,c){if(r(b))return Math.abs(b+c)<=a?0:b+c}};function Rk(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Y(a){Sh.call(this);a=r(a)?a:{};this.Zf=[0,0];var b={};b.center=r(a.center)?a.center:null;this.Ic=Oj(a.projection);var c,d,e,f=r(a.minZoom)?a.minZoom:0;c=r(a.maxZoom)?a.maxZoom:28;var g=r(a.zoomFactor)?a.zoomFactor:2;if(r(a.resolutions))c=a.resolutions,d=c[0],e=c[c.length-1],c=Lk(c);else{d=Oj(a.projection);e=d.S();var k=(null===e?360*Fj.degrees/Fj[d.Cj]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=k/Math.pow(2,28);d=a.maxResolution;r(d)?f=0:d=k/Math.pow(g,f);e=a.minResolution;r(e)||
(e=r(a.maxZoom)?r(a.maxResolution)?d/Math.pow(g,c):k/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=Mk(g,d,c-f)}this.lg=d;this.ml=e;this.mg=f;f=r(a.extent)?Jk(a.extent):Kk;(r(a.enableRotation)?a.enableRotation:1)?(d=a.constrainRotation,d=r(d)&&!0!==d?!1===d?Ok:ja(d)?Pk(d):Ok:Qk()):d=Nk;this.Vc=new Rk(f,c,d);r(a.resolution)?b.resolution=a.resolution:r(a.zoom)&&(b.resolution=this.constrainResolution(this.lg,a.zoom-this.mg));b.rotation=r(a.rotation)?a.rotation:0;this.Cd(b)}
D(Y,Sh);Y.prototype.constrainResolution=function(a,b,c){return this.Vc.resolution(a,b||0,c||0)};Y.prototype.constrainRotation=function(a,b){return this.Vc.rotation(a,b||0)};Y.prototype.ma=function(){return this.get("center")};Y.prototype.getCenter=Y.prototype.ma;Y.prototype.k=function(){return this.get("resolution")};Y.prototype.getResolution=Y.prototype.k;Y.prototype.Qb=function(){return this.get("rotation")};Y.prototype.getRotation=Y.prototype.Qb;
Y.prototype.D=function(){var a=this.ma(),b=this.Ic,c=this.k(),d=this.Qb();return{center:a.slice(),projection:r(b)?b:null,resolution:c,rotation:r(d)?d:0}};function Sk(a){var b,c=a.k();if(r(c)){var d,e=0;do{d=a.constrainResolution(a.lg,e);if(d==c){b=e;break}++e}while(d>a.ml)}return r(b)?a.mg+b:b}function Tk(a,b,c){b[2]<b[0]||b[3]<b[1]||(a.Xa(wj(b)),b=Math.max((b[2]-b[0])/c[0],(b[3]-b[1])/c[1]),c=a.constrainResolution(b,0,0),c<b&&(c=a.constrainResolution(c,-1,0)),a.fc(c))}
Y.prototype.bg=function(){return null!=this.ma()&&r(this.k())};Y.prototype.rotate=function(a,b){if(r(b)){var c,d=this.ma();r(d)&&(c=[d[0]-b[0],d[1]-b[1]],ci(c,a-this.Qb()),bi(c,b));this.Xa(c)}this.yg(a)};Y.prototype.Xa=function(a){this.set("center",a)};Y.prototype.setCenter=Y.prototype.Xa;function Uk(a,b){a.Zf[1]+=b}Y.prototype.fc=function(a){this.set("resolution",a)};Y.prototype.setResolution=Y.prototype.fc;Y.prototype.yg=function(a){this.set("rotation",a)};Y.prototype.setRotation=Y.prototype.yg;function Vk(a){Sh.call(this);this.element=r(a.element)?a.element:null;this.C=r(a.target)?R(a.target):null;this.b=null;this.De=[]}D(Vk,Sh);Vk.prototype.c=function(){ac(this.element);Vk.g.c.call(this)};Vk.prototype.ha=function(){return this.b};Vk.prototype.tc=ea;
Vk.prototype.setMap=function(a){null===this.b||ac(this.element);0!=this.De.length&&(F(this.De,V),this.De.length=0);this.b=a;null!==this.b&&((null===this.C?a.Me:this.C).appendChild(this.element),this.tc!==ea&&this.De.push(U(a,"postrender",this.tc,!1,this)),a.render())};function Wk(a){a=r(a)?a:{};this.hf=Wb("UL");this.Ee=Wb("LI");this.hf.appendChild(this.Ee);lg(this.Ee,!1);this.nc=r(a.collapsed)?a.collapsed:!0;this.Wd=r(a.collapsible)?a.collapsible:!0;this.Wd||(this.nc=!1);var b=r(a.className)?a.className:"ol-attribution",c=Sb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Attributions");this.Yg=r(a.collapseLabel)?a.collapseLabel:"\u00bb";this.Wb=r(a.label)?a.label:"i";this.gi=Sb("SPAN",{},this.Wd&&!this.nc?this.Yg:this.Wb);var d=Sb("BUTTON",{"class":"ol-has-tooltip",
type:"button"},this.gi);d.appendChild(c);c=new Qi(d);zc(this,c);U(c,Ci,this.jb,!1,this);U(d,"click",this.ib,!1,this);U(d,["mouseout",Dc],function(){this.blur()},!1);b=Sb("DIV",{"class":b+" ol-unselectable ol-control"+(this.nc&&this.Wd?" ol-collapsed":"")+(this.Wd?"":" ol-uncollapsible")},this.hf,d);Vk.call(this,{element:b,target:a.target});this.v=!0;this.Ib={};this.qb={};this.bl={}}D(Wk,Vk);
Wk.prototype.tc=function(a){a=a.frameState;if(null===a)this.v&&(lg(this.element,!1),this.v=!1);else{var b,c,d,e,f,g,k,m,n,p=a.layerStatesArray,s=kb(a.attributions),t={};c=0;for(b=p.length;c<b;c++)if(d=p[c].layer.W,n=B(d).toString(),m=d.wf,null!==m)for(d=0,e=m.length;d<e;d++)if(g=m[d],k=B(g).toString(),!(k in s)){f=a.usedTiles[n];var x;if(x=r(f))a:if(null===g.cf)x=!0;else{var u=x=void 0,q=void 0,y=void 0;for(y in f)if(y in g.cf)for(q=f[y],x=0,u=g.cf[y].length;x<u;++x)if(g.cf[y][x].ci(q)){x=!0;break a}x=
!1}x?(k in t&&delete t[k],s[k]=g):t[k]=g}b=[s,t];c=b[0];b=b[1];for(var v in this.Ib)v in c?(this.qb[v]||(lg(this.Ib[v],!0),this.qb[v]=!0),delete c[v]):v in b?(this.qb[v]&&(lg(this.Ib[v],!1),delete this.qb[v]),delete b[v]):(ac(this.Ib[v]),delete this.Ib[v],delete this.qb[v]);for(v in c)n=Wb("LI"),n.innerHTML=c[v].Qh,this.hf.appendChild(n),this.Ib[v]=n,this.qb[v]=!0;for(v in b)n=Wb("LI"),n.innerHTML=b[v].Qh,lg(n,!1),this.hf.appendChild(n),this.Ib[v]=n;v=!hb(this.qb)||!hb(a.logos);this.v!=v&&(lg(this.element,
v),this.v=v);v&&hb(this.qb)?oc(this.element,"ol-logo-only"):qc(this.element,"ol-logo-only");var A;a=a.logos;v=this.bl;for(A in v)A in a||(ac(v[A]),delete v[A]);for(var z in a)z in v||(A=new Image,A.src=z,c=a[z],""===c?c=A:(c=Sb("A",{href:c}),c.appendChild(A)),this.Ee.appendChild(c),v[z]=c);lg(this.Ee,!hb(a))}};Wk.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||Xk(this)};Wk.prototype.jb=function(a){a.Q.preventDefault();Xk(this)};
function Xk(a){var b=a.element,c=!nc(b,"ol-collapsed");sc(b,"ol-collapsed",c);dc(a.gi,a.nc?a.Yg:a.Wb);a.nc=!a.nc};function Yk(a){return 1-Math.pow(1-a,3)};function Zk(a){return 3*a*a-2*a*a*a}function $k(a){return a};function al(a){var b=a.source,c=r(a.start)?a.start:ta(),d=b[0],e=b[1],f=r(a.duration)?a.duration:1E3,g=r(a.easing)?a.easing:Zk;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.viewState.center[0],s=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=n*p;b.viewState.center[1]+=n*s;b.viewHints[0]+=1;return!0}return!1}}
function bl(a){var b=r(a.rotation)?a.rotation:0,c=r(a.start)?a.start:ta(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Zk,f=r(a.anchor)?a.anchor:null;return function(a,k){if(k.time<c)return k.animate=!0,k.viewHints[0]+=1,!0;if(k.time<c+d){var m=1-e((k.time-c)/d),m=(b-k.viewState.rotation)*m;k.animate=!0;k.viewState.rotation+=m;if(null!==f){var n=k.viewState.center;n[0]-=f[0];n[1]-=f[1];ci(n,m);bi(n,f)}k.viewHints[0]+=1;return!0}return!1}}
function cl(a){var b=a.resolution,c=r(a.start)?a.start:ta(),d=r(a.duration)?a.duration:1E3,e=r(a.easing)?a.easing:Zk;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var k=1-e((g.time-c)/d),m=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=k*m;g.viewHints[0]+=1;return!0}return!1}};function dl(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-rotate";this.Wb=Sb("SPAN",{"class":"ol-compass"},r(a.label)?a.label:"\u21e7");var c=Sb("SPAN",{role:"tooltip"},r(a.tipLabel)?a.tipLabel:"Reset rotation"),c=Sb("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.Wb),d=new Qi(c);zc(this,d);U(d,Ci,dl.prototype.jb,!1,this);U(c,"click",dl.prototype.ib,!1,this);U(c,["mouseout",Dc],function(){this.blur()},!1);b=Sb("DIV",b+" ol-unselectable ol-control",c);Vk.call(this,
{element:b,target:a.target});this.ka=r(a.duration)?a.duration:250;this.Qg=r(a.autoHide)?a.autoHide:!0;this.Zi=void 0;this.Qg&&oc(this.element,"ol-hidden")}D(dl,Vk);dl.prototype.ib=function(a){0!==a.screenX&&0!==a.screenY||el(this)};dl.prototype.jb=function(a){a.Q.preventDefault();el(this)};function el(a){var b=a.ha(),c=b.B();if(null!==c){for(var d=c.Qb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;r(d)&&(0<a.ka&&b.Ja(bl({rotation:d,duration:a.ka,easing:Yk})),c.yg(0))}}
dl.prototype.tc=function(a){a=a.frameState;if(null!==a){a=a.viewState.rotation;if(a!=this.Zi){var b="rotate("+180*a/Math.PI+"deg)";this.Qg&&sc(this.element,"ol-hidden",0===a);this.Wb.style.msTransform=b;this.Wb.style.webkitTransform=b;this.Wb.style.transform=b}this.Zi=a}};function fl(a){a=r(a)?a:{};var b=r(a.className)?a.className:"ol-zoom",c=r(a.delta)?a.delta:1,d=r(a.zoomInLabel)?a.zoomInLabel:"+",e=r(a.zoomOutLabel)?a.zoomOutLabel:"\u2212",f=r(a.zoomOutTipLabel)?a.zoomOutTipLabel:"Zoom out",g=Sb("SPAN",{role:"tooltip"},r(a.zoomInTipLabel)?a.zoomInTipLabel:"Zoom in"),d=Sb("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Qi(d);zc(this,g);U(g,Ci,sa(fl.prototype.jb,c),!1,this);U(d,"click",sa(fl.prototype.ib,c),!1,this);U(d,["mouseout",Dc],function(){this.blur()},
!1);f=Sb("SPAN",{role:"tooltip"},f);e=Sb("BUTTON",{"class":b+"-out  ol-has-tooltip",type:"button"},f,e);f=new Qi(e);zc(this,f);U(f,Ci,sa(fl.prototype.jb,-c),!1,this);U(e,"click",sa(fl.prototype.ib,-c),!1,this);U(e,["mouseout",Dc],function(){this.blur()},!1);b=Sb("DIV",b+" ol-unselectable ol-control",d,e);Vk.call(this,{element:b,target:a.target});this.ka=r(a.duration)?a.duration:250}D(fl,Vk);fl.prototype.ib=function(a,b){0!==b.screenX&&0!==b.screenY||gl(this,a)};
fl.prototype.jb=function(a,b){b.Q.preventDefault();gl(this,a)};function gl(a,b){var c=a.ha(),d=c.B();if(null!==d){var e=d.k();r(e)&&(0<a.ka&&c.Ja(cl({resolution:e,duration:a.ka,easing:Yk})),c=d.constrainResolution(e,b),d.fc(c))}};function hl(a,b,c){this.Jf=a;this.Ke=b;this.Vj=c;this.ua=[];this.yc=this.tf=0}hl.prototype.update=function(a,b){this.ua.push(a,b,ta())};hl.prototype.end=function(){if(6>this.ua.length)return!1;var a=ta()-this.Vj,b=this.ua.length-3;if(this.ua[b+2]<a)return!1;for(var c=b-3;0<c&&this.ua[c+2]>a;)c-=3;var a=this.ua[b+2]-this.ua[c+2],d=this.ua[b]-this.ua[c],b=this.ua[b+1]-this.ua[c+1];this.tf=Math.atan2(b,d);this.yc=Math.sqrt(d*d+b*b)/a;return this.yc>this.Ke};
function il(a,b){var c=a.Jf,d=a.yc,e=a.Ke-d,f=jl(a);return al({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function jl(a){return Math.log(a.Ke/a.yc)/a.Jf};function kl(){Oh.call(this);this.b=null;this.wa=!0}D(kl,Oh);kl.prototype.ha=function(){return this.b};kl.prototype.setActive=function(a){this.wa=a};kl.prototype.setMap=function(a){this.b=a};function ll(a,b,c,d,e){if(null!=c){var f=b.Qb(),g=b.ma();r(f)&&r(g)&&r(e)&&0<e&&(a.Ja(bl({rotation:f,duration:e,easing:Yk})),r(d)&&a.Ja(al({source:g,duration:e,easing:Yk})));b.rotate(c,d)}}function ml(a,b,c,d,e){var f=b.k();c=b.constrainResolution(f,c,0);nl(a,b,c,d,e)}
function nl(a,b,c,d,e){if(null!=c){var f=b.k(),g=b.ma();r(f)&&r(g)&&r(e)&&0<e&&(a.Ja(cl({resolution:f,duration:e,easing:Yk})),r(d)&&a.Ja(al({source:g,duration:e,easing:Yk})));if(null!=d){var k;a=b.ma();e=b.k();r(a)&&r(e)&&(k=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.Xa(k)}b.fc(c)}};function ol(a){a=r(a)?a:{};this.Ma=r(a.delta)?a.delta:1;kl.call(this);this.ka=r(a.duration)?a.duration:250}D(ol,kl);ol.prototype.wb=function(a){var b=!1,c=a.Q;if(a.type==cj){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Ma:this.Ma,e=b.B();ml(b,e,c,d,this.ka);a.preventDefault();b=!0}return!b};function pl(a){a=a.Q;return a.altKey&&!a.Pe&&a.shiftKey}function ql(a){a=a.Q;return!a.altKey&&!a.Pe&&!a.shiftKey}function rl(a){a=a.Q;return!a.altKey&&!a.Pe&&a.shiftKey}function sl(a){a=a.Q.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function tl(){kl.call(this);this.xc=!1;this.Od={};this.ba=[]}D(tl,kl);function ul(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}h=tl.prototype;h.vc=ea;h.wc=pd;h.uc=pd;
h.wb=function(a){if(!(a instanceof Zi))return!0;var b=!1,c=a.type;if(c===hj||c===jj||c===fj)c=a.bc,a.type==fj?delete this.Od[c.pointerId]:a.type==hj?this.Od[c.pointerId]=c:c.pointerId in this.Od&&(this.Od[c.pointerId]=c),this.ba=fb(this.Od);this.xc&&(a.type==jj?this.vc(a):a.type==fj&&(this.xc=this.wc(a)));a.type==hj&&(this.xc=a=this.uc(a),b=this.jj(a));return!b};h.jj=pd;function vl(a){tl.call(this);this.mb=(r(a)?a:{}).kinetic;this.Ac=this.ld=null;this.cb=r(a.condition)?a.condition:ql;this.wi=!1}D(vl,tl);vl.prototype.vc=function(a){var b=ul(this.ba);this.mb&&this.mb.update(b[0],b[1]);if(null!==this.Ac){var c=this.Ac[0]-b[0],d=b[1]-this.Ac[1];a=a.map;var e=a.B(),f=e.D(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;ci(c,f.rotation);bi(c,f.center);c=e.Vc.center(c);a.render();e.Xa(c)}this.Ac=b};
vl.prototype.wc=function(a){a=a.map;var b=a.B();if(0===this.ba.length){if(!this.wi&&this.mb&&this.mb.end()){var c;c=this.mb;c=(c.Ke-c.yc)/c.Jf;var d=this.mb.tf,e=b.ma();this.ld=il(this.mb,e);a.Ja(this.ld);e=wl(a,e);c=a.dd([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.Vc.center(c);b.Xa(c)}Uk(b,-1);a.render();return!1}this.Ac=null;return!0};
vl.prototype.uc=function(a){if(0<this.ba.length&&this.cb(a)){var b=a.map,c=b.B();this.Ac=null;this.xc||Uk(c,1);b.render();null!==this.ld&&Ra(b.Se,this.ld)&&(c.Xa(a.frameState.viewState.center),this.ld=null);this.mb&&(a=this.mb,a.ua.length=0,a.tf=0,a.yc=0);this.wi=1<this.ba.length;return!0}return!1};function xl(a){a=r(a)?a:{};tl.call(this);this.cb=r(a.condition)?a.condition:pl;this.nb=void 0}D(xl,tl);xl.prototype.vc=function(a){if(1==a.bc.pointerId){var b=a.map,c=b.T();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(r(this.nb)){a=c-this.nb;var d=b.B(),e=d.D();b.render();ll(b,d,e.rotation-a)}this.nb=c}};xl.prototype.wc=function(a){if(1!=a.bc.pointerId)return!0;a=a.map;var b=a.B();Uk(b,-1);var c=b.D().rotation,c=b.constrainRotation(c,0);ll(a,b,c,void 0,250);return!1};
xl.prototype.uc=function(a){return 1==a.bc.pointerId&&Hc(a.Q)&&this.cb(a)?(a=a.map,Uk(a.B(),1),a.render(),this.nb=void 0,!0):!1};function yl(){Oh.call(this);this.extent=void 0;this.vh=-1}D(yl,Oh);yl.prototype.Wc=pd;yl.prototype.transform=function(a,b){var c=Qj(a,b);null!==this.N&&(c(this.N,this.N,this.O),this.X());return this};function zl(a,b,c,d,e,f){var g=e[0],k=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var s=r(f)?f:[],t=0;b<c;b+=d){var x=a[b],u=a[b+1];s[t++]=g*x+m*u+p;s[t++]=k*x+n*u+e}r(f)&&s.length!=t&&(s.length=t);return s};function Al(){yl.call(this);this.od="XY";this.O=2;this.N=null}D(Al,yl);function Bl(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Al.prototype.Wc=pd;
Al.prototype.S=function(a){if(this.vh!=this.Da){for(var b=this.N,c=this.N.length,d=this.O,e=tj(Infinity,Infinity,-Infinity,-Infinity,this.extent),f=0;f<c;f+=d){var g=e,k=b[f],m=b[f+1];g[0]=Math.min(g[0],k);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],k);g[3]=Math.max(g[3],m)}this.extent=e;this.vh=this.Da}b=this.extent;r(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function Cl(a,b,c,d,e,f){for(var g=!1,k=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-k)*(f-m)/(p-m)+k&&(g=!g);k=n;m=p}return g}function Dl(a,b,c,d,e){if(0===b.length||!Cl(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(Cl(a,b[f-1],b[f],c,d,e))return!1;return!0};function El(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var k=a[b],m=a[b+1],e=e+(k-f)*(m+g),f=k,g=m;return 0<e};function Fl(a,b){Al.call(this);this.ya=[];this.xh=-1;this.yh=null;this.Ii=-1;this.sd=null;if(null===a){var c=this.ya;this.O=Bl("XY");this.od="XY";this.N=null;this.ya=c}else{a:{var c=b,d=a;if(r(c))d=Bl(c);else{for(c=0;2>c;++c){if(0===d.length){this.od="XY";this.O=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.od=c;this.O=d}null===this.N&&(this.N=[]);var c=this.N,d=this.O,e=this.ya,f=0,e=r(e)?e:[],g=0,k,m;k=0;for(m=a.length;k<m;++k){var n;n=c;for(var p=a[k],s=d,t=void 0,
x=void 0,t=0,x=p.length;t<x;++t){var u=p[t],q;for(q=0;q<s;++q)n[f++]=u[q]}n=f;f=e[g++]=n}e.length=g;this.N.length=0===e.length?0:e[e.length-1]}this.X()}D(Fl,Al);Fl.prototype.clone=function(){var a=new Fl(null),b=this.od,c=this.N.slice(),d=this.ya.slice();a.O=Bl(b);a.od=b;a.N=c;a.ya=d;a.X();return a};Fl.prototype.Wc=function(a,b){return Dl(Gl(this),this.ya,this.O,a,b)};
function Gl(a){if(a.Ii!=a.Da){var b=a.N,c;a:{c=a.ya;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=El(b,d,g,a.O);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.sd=b;else{a.sd=b.slice();c=b=a.sd;e=a.ya;f=a.O;for(var k=0,g=0,d=e.length;g<d;++g){var m=e[g],n=El(c,k,m,f);if(0===g?!n:n)for(var n=c,p=m,s=f;k<p-s;){var t;for(t=0;t<s;++t){var x=n[k+t];n[k+t]=n[p-s+t];n[p-s+t]=x}k+=s;p-=s}k=m}b.length=k}a.Ii=a.Da}return a.sd}Fl.prototype.Sb=function(){return"Polygon"};function Hl(a,b,c,d,e,f,g){T.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}D(Hl,T);function Il(a){this.ge=this.be=this.Ea=this.Re=this.b=null;this.rm=a}D(Il,wc);function Jl(a){var b=a.Ea,c=a.be;a=Na([b,[b[0],c[1]],c,[c[0],b[1]]],a.b.dd,a.b);a[4]=a[0].slice();return new Fl([a])}Il.prototype.c=function(){this.setMap(null)};Il.prototype.zk=function(a){var b=this.ge,c=this.rm;a.vectorContext.kh(Infinity,function(a){a.ej(c.wh,c.mj);a.ij(c.ca);a.Nf(b,null)})};Il.prototype.Rf=function(){return this.ge};function Kl(a){null===a.b||null===a.Ea||null===a.be||a.b.render()}
Il.prototype.setMap=function(a){null!==this.Re&&(V(this.Re),this.Re=null,this.b.render(),this.b=null);this.b=a;null!==this.b&&(this.Re=U(a,"postcompose",this.zk,!1,this),Kl(this))};function Ll(a,b){T.call(this,a);this.coordinate=b}D(Ll,T);function Ml(a){tl.call(this);a=r(a)?a:{};this.Qc=new Il(r(a.style)?a.style:null);this.Ea=null;this.cb=r(a.condition)?a.condition:rd}D(Ml,tl);h=Ml.prototype;h.vc=function(a){if(1==a.bc.pointerId){var b=this.Qc;a=a.pixel;b.Ea=this.Ea;b.be=a;b.ge=Jl(b);Kl(b)}};h.Rf=function(){return this.Qc.Rf()};h.xi=ea;
h.wc=function(a){if(1!=a.bc.pointerId)return!0;this.Qc.setMap(null);var b=a.pixel[0]-this.Ea[0],c=a.pixel[1]-this.Ea[1];64<=b*b+c*c&&(this.xi(a),this.dispatchEvent(new Ll("boxend",a.coordinate)));return!1};h.uc=function(a){if(1==a.bc.pointerId&&Hc(a.Q)&&this.cb(a)){this.Ea=a.pixel;this.Qc.setMap(a.map);var b=this.Qc,c=this.Ea;b.Ea=this.Ea;b.be=c;b.ge=Jl(b);Kl(b);this.dispatchEvent(new Ll("boxstart",a.coordinate));return!0}return!1};h.jj=sd;function Nl(a){a=r(a)?a:{};this.Yd=r(a.color)?a.color:null;this.ki=a.lineCap;this.li=r(a.lineDash)?a.lineDash:null;this.mi=a.lineJoin;this.ui=a.miterLimit;this.Pm=a.width}Nl.prototype.getLineDash=function(){return this.li};Nl.prototype.vb=function(){return this.Pm};Nl.prototype.setLineDash=function(a){this.li=a};function Ol(a){if(!w(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};var Pl=[0,0,0,1],Ql=[],Rl=[0,0,0,1];function Sl(a){a=r(a)?a:{};this.wh=r(a.fill)?a.fill:null;this.$=r(a.image)?a.image:null;this.mj=r(a.stroke)?a.stroke:null;this.ca=r(a.text)?a.text:null}Sl.prototype.za=function(){return this.$};function Tl(a){a=r(a)?a:{};Ml.call(this,{condition:r(a.condition)?a.condition:rl,style:r(a.style)?a.style:new Sl({stroke:new Nl({color:[0,0,255,1]})})})}D(Tl,Ml);Tl.prototype.xi=function(){var a=this.ha(),b=a.B(),c=this.Rf().S(),d=wj(c),e=a.T(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=b.constrainResolution(c,0,void 0);nl(a,b,c,d,200)};function Ul(a){kl.call(this);a=r(a)?a:{};this.cb=r(a.condition)?a.condition:ud(ql,sl);this.Hl=r(a.pixelDelta)?a.pixelDelta:128}D(Ul,kl);
Ul.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.keyCode;if(this.cb(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.B(),e=b.D(),f=e.resolution*this.Hl,g=0,k=0;40==c?k=-f:37==c?g=-f:39==c?g=f:k=f;c=[g,k];ci(c,e.rotation);e=b.ma();r(e)&&(r(100)&&d.Ja(al({source:e,duration:100,easing:$k})),d=b.Vc.center([e[0]+c[0],e[1]+c[1]]),b.Xa(d));a.preventDefault();b=!0}}return!b};function Vl(a){kl.call(this);a=r(a)?a:{};this.cb=r(a.condition)?a.condition:sl;this.Ma=r(a.delta)?a.delta:1;this.ka=r(a.duration)?a.duration:100}D(Vl,kl);Vl.prototype.wb=function(a){var b=!1;if("key"==a.type){var c=a.Q.charCode;if(this.cb(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Ma:-this.Ma;b.render();var d=b.B();ml(b,d,c,void 0,this.ka);a.preventDefault();b=!0}}return!b};function Wl(a){a=r(a)?a:{};kl.call(this);this.Ma=0;this.ka=r(a.duration)?a.duration:250;this.fg=null;this.Gb=this.af=void 0}D(Wl,kl);Wl.prototype.wb=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.Q;this.fg=a.coordinate;this.Ma+=c.deltaY;r(this.af)||(this.af=ta());c=Math.max(80-(ta()-this.af),0);l.clearTimeout(this.Gb);this.Gb=l.setTimeout(C(this.Xj,this,b),c);a.preventDefault();b=!0}return!b};
Wl.prototype.Xj=function(a){var b=Db(this.Ma,-1,1),c=a.B();a.render();ml(a,c,-b,this.fg,this.ka);this.Ma=0;this.fg=null;this.Gb=this.af=void 0};function Xl(a){tl.call(this);a=r(a)?a:{};this.ab=null;this.nb=void 0;this.xd=!1;this.Ze=0;this.tm=r(a.threshold)?a.threshold:.3}D(Xl,tl);Xl.prototype.vc=function(a){var b=0,c=this.ba[0],d=this.ba[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);r(this.nb)&&(b=c-this.nb,this.Ze+=b,!this.xd&&Math.abs(this.Ze)>this.tm&&(this.xd=!0));this.nb=c;a=a.map;c=hg(a.M);d=ul(this.ba);d[0]-=c.x;d[1]-=c.y;this.ab=a.dd(d);this.xd&&(c=a.B(),d=c.D(),a.render(),ll(a,c,d.rotation+b,this.ab))};
Xl.prototype.wc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Uk(b,-1);if(this.xd){var c=b.D().rotation,d=this.ab,c=b.constrainRotation(c,0);ll(a,b,c,d,250)}return!1}return!0};Xl.prototype.uc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.nb=void 0,this.xd=!1,this.Ze=0,this.xc||Uk(a.B(),1),a.render(),!0):!1};function Yl(a){a=r(a)?a:{};tl.call(this);this.ab=null;this.ka=r(a.duration)?a.duration:400;this.ze=void 0;this.gg=1}D(Yl,tl);Yl.prototype.vc=function(a){var b=1,c=this.ba[0],d=this.ba[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);r(this.ze)&&(b=this.ze/e);this.ze=e;1!=b&&(this.gg=b);a=a.map;var e=a.B(),c=e.D(),d=hg(a.M),f=ul(this.ba);f[0]-=d.x;f[1]-=d.y;this.ab=a.dd(f);a.render();nl(a,e,c.resolution*b,this.ab)};
Yl.prototype.wc=function(a){if(2>this.ba.length){a=a.map;var b=a.B();Uk(b,-1);var c=b.D().resolution,d=this.ab,e=this.ka,c=b.constrainResolution(c,0,this.gg-1);nl(a,b,c,d,e);return!1}return!0};Yl.prototype.uc=function(a){return 2<=this.ba.length?(a=a.map,this.ab=null,this.ze=void 0,this.gg=1,this.xc||Uk(a.B(),1),a.render(),!0):!1};function Zl(a){var b=r(a)?a:{};a=kb(b);delete a.layers;b=b.layers;X.call(this,a);this.Bb=null;U(this,Wh("layers"),this.vk,!1,this);null!=b?ha(b)&&(b=new Yh(Ta(b))):b=new Yh;this.fj(b)}D(Zl,X);h=Zl.prototype;h.Nh=function(){this.Uf()&&this.X()};
h.vk=function(){null!==this.Bb&&(F(fb(this.Bb),V),this.Bb=null);var a=this.gd();if(null!=a){this.Bb={add:U(a,"add",this.uk,!1,this),remove:U(a,"remove",this.wk,!1,this)};var a=a.cd(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Bb[B(d).toString()]=U(d,["propertychange","change"],this.Nh,!1,this)}this.X()};h.uk=function(a){a=a.element;this.Bb[B(a).toString()]=U(a,["propertychange","change"],this.Nh,!1,this);this.X()};h.wk=function(a){a=B(a.element).toString();V(this.Bb[a]);delete this.Bb[a];this.X()};
h.gd=function(){return this.get("layers")};Zl.prototype.getLayers=Zl.prototype.gd;Zl.prototype.fj=function(a){this.set("layers",a)};Zl.prototype.setLayers=Zl.prototype.fj;
Zl.prototype.Sf=function(a){var b=r(a)?a:[],c=b.length;this.gd().forEach(function(a){a.Sf(b)});a=Vj(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.brightness=Db(e.brightness+a.brightness,-1,1),e.contrast*=a.contrast,e.hue+=a.hue,e.opacity*=a.opacity,e.saturation*=a.saturation,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),r(a.extent)&&r(e.extent)&&(e.extent=Aj(e.extent,a.extent));return b};
Zl.prototype.Kh=function(){return"ready"};function $l(a){Gj.call(this,{code:a,units:"m",extent:am,global:!0,worldExtent:bm})}D($l,Gj);var cm=6378137*Math.PI,am=[-cm,-cm,cm,cm],bm=[-180,-85,180,85],dm=Na("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new $l(a)});
function em(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function fm(a,b,c){var d=a.length;c=1<c?c:2;r(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function gm(a,b){Gj.call(this,{code:a,units:"degrees",extent:hm,axisOrientation:b,global:!0,worldExtent:hm})}D(gm,Gj);var hm=[-180,-90,180,90],im=[new gm("CRS:84"),new gm("EPSG:4326","neu"),new gm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new gm("urn:ogc:def:crs:OGC:1.3:CRS84"),new gm("urn:ogc:def:crs:OGC:2:84"),new gm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new gm("urn:x-ogc:def:crs:EPSG:4326","neu")];function jm(a){Wj.call(this,a)}D(jm,Wj);jm.prototype.je=function(){return this.get("preload")};jm.prototype.getPreload=jm.prototype.je;jm.prototype.km=function(a){this.set("preload",a)};jm.prototype.setPreload=jm.prototype.km;jm.prototype.le=function(){return this.get("useInterimTilesOnError")};jm.prototype.getUseInterimTilesOnError=jm.prototype.le;jm.prototype.mm=function(a){this.set("useInterimTilesOnError",a)};jm.prototype.setUseInterimTilesOnError=jm.prototype.mm;function km(a,b,c,d,e){this.Ud={};this.A=a;this.Ec=b;this.Y=c;this.qa=d;this.Mm=e;this.$=this.P=this.ga=this.ah=this.$g=this.Zg=null;this.Uk=this.Tk=this.$f=this.Wh=this.Vh=this.Uh=0;this.Vk=!1;this.te=this.Wk=0;this.Xk=!1;this.Yh=0;this.ca="";this.Id=this.bf=this.pj=this.oj=0;this.Eg=this.Jd=this.Hd=null;this.Oe=[];this.tj=Gh()}
function lm(a,b,c){if(null!==a.$){b=zl(b,0,c,2,a.qa,a.Oe);c=a.A;var d=a.tj,e=c.globalAlpha;1!=a.$f&&(c.globalAlpha=e*a.$f);var f=a.Wk;a.Vk&&(f+=a.Mm);var g,k;g=0;for(k=b.length;g<k;g+=2){var m=b[g]-a.Uh,n=b[g+1]-a.Vh;a.Xk&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.te){var p=m+a.Uh,s=n+a.Vh;wk(d,p,s,a.te,a.te,f,-p,-s);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.$,a.Tk,a.Uk,a.Yh,a.Wh,m,n,a.Yh,a.Wh)}0===f&&1==a.te||c.setTransform(1,0,0,1,0,0);1!=a.$f&&(c.globalAlpha=e)}}
function mm(a,b,c,d){var e=0;if(null!==a.Eg&&""!==a.ca){null===a.Hd||nm(a,a.Hd);null===a.Jd||om(a,a.Jd);var f=a.Eg,g=a.A,k=a.ah;null===k?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.ah={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(k.font!=f.font&&(k.font=g.font=f.font),k.textAlign!=f.textAlign&&(k.textAlign=g.textAlign=f.textAlign),k.textBaseline!=f.textBaseline&&(k.textBaseline=g.textBaseline=f.textBaseline));b=zl(b,e,c,d,a.qa,a.Oe);for(f=a.A;e<c;e+=
d){g=b[e]+a.oj;k=b[e+1]+a.pj;if(0!==a.bf||1!=a.Id){var m=wk(a.tj,g,k,a.Id,a.Id,a.bf,-g,-k);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Jd||f.strokeText(a.ca,g,k);null===a.Hd||f.fillText(a.ca,g,k)}0===a.bf&&1==a.Id||f.setTransform(1,0,0,1,0,0)}}function pm(a,b,c,d,e,f){var g=a.A;a=zl(b,c,d,e,a.qa,a.Oe);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function qm(a,b,c,d,e){var f=a.A,g,k;g=0;for(k=d.length;g<k;++g)c=pm(a,b,c,d[g],e,!0),f.closePath();return c}h=km.prototype;h.kh=function(a,b){var c=a.toString(),d=this.Ud[c];r(d)?d.push(b):this.Ud[c]=[b]};
h.lh=function(a){if(Bj(this.Y,a.S())){if(null!==this.ga||null!==this.P){null===this.ga||nm(this,this.ga);null===this.P||om(this,this.P);var b;b=a.N;b=null===b?null:zl(b,0,b.length,a.O,this.qa,this.Oe);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.A;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.ga||d.fill();null===this.P||d.stroke()}""!==this.ca&&mm(this,a.ma(),2,2)}};h.mh=function(a,b){var c=a.mn(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];rm[f.Sb()].call(this,f,b)}};
h.rh=function(a){var b=a.N;a=a.O;null===this.$||lm(this,b,b.length);""!==this.ca&&mm(this,b,b.length,a)};h.ph=function(a){var b=a.N;a=a.O;null===this.$||lm(this,b,b.length);""!==this.ca&&mm(this,b,b.length,a)};h.nh=function(a){if(Bj(this.Y,a.S())){if(null!==this.P){om(this,this.P);var b=this.A,c=a.N;b.beginPath();pm(this,c,0,c.length,a.O,!1);b.stroke()}""!==this.ca&&(a=a.jn(),mm(this,a,2,2))}};
h.oh=function(a){var b=a.S();if(Bj(this.Y,b)){if(null!==this.P){om(this,this.P);var b=this.A,c=a.N,d=0,e=a.ya,f=a.O;b.beginPath();var g,k;g=0;for(k=e.length;g<k;++g)d=pm(this,c,d,e[g],f,!1);b.stroke()}""!==this.ca&&(a=a.kn(),mm(this,a,a.length,2))}};
h.Nf=function(a){if(Bj(this.Y,a.S())){if(null!==this.P||null!==this.ga){null===this.ga||nm(this,this.ga);null===this.P||om(this,this.P);var b=this.A;b.beginPath();qm(this,Gl(a),0,a.ya,a.O);null===this.ga||b.fill();null===this.P||b.stroke()}if(""!==this.ca){if(a.xh!=a.Da){b=wj(a.S());var c=Gl(a),d=a.ya,e=a.O,f,g,k,m,n,p=b[1],s=[],t=d[0];k=c[t-e];n=c[t-e+1];for(f=0;f<t;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)k=(p-n)/(g-n)*(m-k)+k,s.push(k);k=m;n=g}t=NaN;n=-Infinity;s.sort();k=s[0];f=1;for(g=
s.length;f<g;++f){m=s[f];var x=Math.abs(m-k);x>n&&(k=(k+m)/2,Dl(c,d,e,k,p)&&(t=k,n=x));k=m}isNaN(t)&&(t=b[0]);r(void 0)?((void 0).push(t,p),b=void 0):b=[t,p];a.yh=b;a.xh=a.Da}mm(this,a.yh,2,2)}}};
h.qh=function(a){if(Bj(this.Y,a.S())){if(null!==this.P||null!==this.ga){null===this.ga||nm(this,this.ga);null===this.P||om(this,this.P);var b=this.A,c=Gl(a),d=0,e=a.gn(),f=a.O,g,k;g=0;for(k=e.length;g<k;++g){var m=e[g];b.beginPath();d=qm(this,c,d,m,f);null===this.ga||b.fill();null===this.P||b.stroke()}}""!==this.ca&&(a=a.hn(),mm(this,a,a.length,2))}};
h.flush=function(){var a=Na(gb(this.Ud),Number);a.sort(Ya);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Ud[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function nm(a,b){var c=a.A,d=a.Zg;null===d?(c.fillStyle=b.fillStyle,a.Zg={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function om(a,b){var c=a.A,d=a.$g;null===d?(c.lineCap=b.lineCap,qi&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.$g={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),qi&&!Wa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=
b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
h.ej=function(a,b){if(null===a)this.ga=null;else{var c=a.Yd;this.ga={fillStyle:Ol(null===c?Pl:c)}}if(null===b)this.P=null;else{var c=b.Yd,d=b.ki,e=b.getLineDash(),f=b.mi,g=b.vb(),k=b.ui;this.P={lineCap:r(d)?d:"round",lineDash:null!=e?e:Ql,lineJoin:r(f)?f:"round",lineWidth:this.Ec*(r(g)?g:1),miterLimit:r(k)?k:10,strokeStyle:Ol(null===c?Rl:c)}}};
h.ij=function(a){if(null===a)this.ca="";else{var b=a.wh;null===b?this.Hd=null:(b=b.Yd,this.Hd={fillStyle:Ol(null===b?Pl:b)});var c=a.mj;if(null===c)this.Jd=null;else{var b=c.Yd,d=c.ki,e=c.getLineDash(),f=c.mi,g=c.vb(),c=c.ui;this.Jd={lineCap:r(d)?d:"round",lineDash:null!=e?e:Ql,lineJoin:r(f)?f:"round",lineWidth:r(g)?g:1,miterLimit:r(c)?c:10,strokeStyle:Ol(null===b?Rl:b)}}var b=a.ln(),d=a.nn(),e=a.on(),f=a.Qb(),g=a.qn(),c=a.ca,k=a.rn();a=a.sn();this.Eg={font:r(b)?b:"10px sans-serif",textAlign:r(k)?
k:"center",textBaseline:r(a)?a:"middle"};this.ca=r(c)?c:"";this.oj=r(d)?this.Ec*d:0;this.pj=r(e)?this.Ec*e:0;this.bf=r(f)?f:0;this.Id=this.Ec*(r(g)?g:1)}};var rm={Point:km.prototype.rh,LineString:km.prototype.nh,Polygon:km.prototype.Nf,MultiPoint:km.prototype.ph,MultiLineString:km.prototype.oh,MultiPolygon:km.prototype.qh,GeometryCollection:km.prototype.mh,Circle:km.prototype.lh};var sm=["Polygon","LineString","Image","Text"];function tm(a,b,c){this.kl=b;this.Wi=c;this.vd={};ji(1,1);Gh()}tm.prototype.Ti=function(a,b,c,d,e,f){var g=Na(gb(this.vd),Number);g.sort(Ya);return this.Xl(g,a,b,c,d,e,f)};
tm.prototype.Xl=function(a,b,c,d,e,f,g){var k=this.kl,m=k[0],n=k[1],p=k[2],k=k[3],m=zl([m,n,m,k,p,k,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var s,t,m=0,n=a.length;m<n;++m)for(s=this.vd[a[m].toString()],p=0,k=sm.length;p<k;++p)if(t=s[sm[p]],r(t)&&Bj(c,t.S())&&(t=t.Ti(b,d,e,f,g)))return t;b.restore()};tm.prototype.finish=function(){for(var a in this.vd){var b=this.vd[a],c;for(c in b)b[c].finish()}};
tm.prototype.lb=function(){return hb(this.vd)};function um(a,b){nk.call(this,a,b);this.qa=Gh()}D(um,nk);
um.prototype.Ef=function(a,b,c){this.xa("precompose",c,a,void 0);var d=this.za();if(null!==d){var e=this.Xh,f=c.globalAlpha;c.globalAlpha=b.opacity;if(0===a.viewState.rotation){b=e[13];var g=d.width*e[0],k=d.height*e[5];c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[12]),Math.round(b),Math.round(g),Math.round(k))}else c.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0);c.globalAlpha=f}this.xa("postcompose",c,a,void 0)};
um.prototype.xa=function(a,b,c,d){var e=this.nd;if(e.yb(a)){if(!r(d)){d=c.viewState;var f=c.pixelRatio;d=wk(this.qa,f*c.size[0]/2,f*c.size[1]/2,f/d.resolution,-f/d.resolution,-d.rotation,-d.center[0],-d.center[1])}d=new km(b,c.pixelRatio,c.extent,d,c.viewState.rotation);e.dispatchEvent(new Hl(a,e,d,0,c,b,null));d.flush()}};
var vm=function(){var a=null,b=null;return function(c){if(null===a){a=ji(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Wa(b.data,c.data));return e}}();function wm(a,b){um.call(this,a,b);this.Ka=this.d=null;this.Bf=!1;this.A=null;this.Xh=Gh();this.tg=NaN;this.Xe=this.dc=null}D(wm,um);wm.prototype.za=function(){return this.d};
wm.prototype.td=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.nd,g=f.W,k=lk(g,e),m=Yj(k.Mc,d.resolution,0),n=mk(g,m,e),p=n/gk(k,m),s=k.k(m),p=s/p,t=d.center,x;s==d.resolution?(t=sk(t,s,a.size),x=zj(t,s,d.rotation,a.size)):x=a.extent;r(b.extent)&&(x=Aj(x,b.extent));if(x[2]<x[0]||x[3]<x[1])return!1;var u=dk(k,x,s),q=n*u.vb(),y=n*u.he(),v,A;null===this.d?(A=ji(q,y),this.d=A.canvas,this.Ka=[q,y],this.A=A,this.Bf=!vm(this.Ka)):(v=this.d,A=this.A,this.Ka[0]<q||this.Ka[1]<y||this.Bf&&
(this.Ka[0]>q||this.Ka[1]>y)?(v.width=q,v.height=y,this.Ka=[q,y],this.Bf=!vm(this.Ka),this.dc=null):(q=this.Ka[0],y=this.Ka[1],m==this.tg&&qj(this.dc,u)||(this.dc=null,m<this.tg&&this.A.clearRect(0,0,q,y))));var z,G;null===this.dc?(q/=n,y/=n,z=u.n-Math.floor((q-u.vb())/2),G=u.t-Math.floor((y-u.he())/2),this.tg=m,this.dc=new oj(z,z+q-1,G,G+y-1),this.Xe=Array(q*y),y=this.dc):(y=this.dc,q=y.vb());v={};v[m]={};var E=[],I=C(g.Qf,g,v,rk(function(a){return null!==a&&2==a.D()},g,c,e)),aa=f.le();r(aa)||(aa=
!0);var J=vj(),ba=new oj(0,0,0,0),S,H,Q;for(G=u.n;G<=u.G;++G)for(Q=u.t;Q<=u.s;++Q)H=g.Rb(m,G,Q,c,e),z=H.D(),2==z||4==z||3==z&&!aa?v[m][nj(H.o)]=H:(S=k.de(H.o,I,null,ba,J),S||(E.push(H),S=k.ke(H.o,ba,J),null===S||I(m+1,S)));I=0;for(S=E.length;I<S;++I)H=E[I],G=n*(H.o[1]-y.n),Q=n*(y.s-H.o[2]),A.clearRect(G,Q,n,n);E=Na(gb(v),Number);E.sort(Ya);var N=g.El,xa=yj(bk(k,[m,y.n,y.s],J)),oa,ra,Pe,qd,Rb,lh,I=0;for(S=E.length;I<S;++I)if(oa=E[I],n=mk(g,oa,e),qd=v[oa],oa==m)for(Pe in qd)H=qd[Pe],ra=(H.o[2]-y.t)*
q+(H.o[1]-y.n),this.Xe[ra]!=H&&(G=n*(H.o[1]-y.n),Q=n*(y.s-H.o[2]),z=H.D(),4!=z&&(3!=z||aa)&&N||A.clearRect(G,Q,n,n),2==z&&A.drawImage(H.za(),0,0,n,n,G,Q,n,n),this.Xe[ra]=H);else for(Pe in oa=k.k(oa)/s,qd)for(H=qd[Pe],ra=bk(k,H.o,J),G=(ra[0]-xa[0])/p,Q=(xa[1]-ra[3])/p,lh=oa*n,Rb=oa*n,z=H.D(),4!=z&&N||A.clearRect(G,Q,lh,Rb),2==z&&A.drawImage(H.za(),0,0,n,n,G,Q,lh,Rb),H=ck(k,ra,m,ba),z=Math.max(H.n,y.n),Q=Math.min(H.G,y.G),G=Math.max(H.t,y.t),H=Math.min(H.s,y.s);z<=Q;++z)for(Rb=G;Rb<=H;++Rb)ra=(Rb-y.t)*
q+(z-y.n),this.Xe[ra]=void 0;qk(a.usedTiles,g,m,u);tk(a,g,k,c,e,x,m,f.je());ok(a,g);pk(a,g);wk(this.Xh,c*a.size[0]/2,c*a.size[1]/2,c*p/d.resolution,c*p/d.resolution,d.rotation,(xa[0]-t[0])/p,(t[1]-xa[1])/p);return!0};function xm(a,b){yk.call(this,0,b);this.A=ji();this.d=this.A.canvas;this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";$b(a,this.d,0);this.v=!0;this.qa=Gh()}D(xm,yk);xm.prototype.Zd=function(a){return a instanceof jm?new wm(this,a):null};
xm.prototype.xa=function(a,b){var c=this.ha(),d=this.A;if(c.yb(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState,k=g.resolution,m=g.rotation;wk(this.qa,this.d.width/2,this.d.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]);g=new km(d,f,e,this.qa,m);k=new tm(0,e,k);c.dispatchEvent(new Hl(a,c,g,0,b,d,null));k.finish();k.lb()||k.Ti(d,e,f,this.qa,m,{});g.flush()}};xm.prototype.Sb=function(){return"canvas"};
xm.prototype.Ve=function(a){if(null===a)this.v&&(lg(this.d,!1),this.v=!1);else{var b=this.A,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.d.width!=c||this.d.height!=d?(this.d.width=c,this.d.height=d):b.clearRect(0,0,this.d.width,this.d.height);zk(a);this.xa("precompose",a);var c=a.layerStatesArray,d=a.viewState.resolution,e,f,g,k;e=0;for(f=c.length;e<f;++e)k=c[e],g=k.layer,g=Bk(this,g),k.visible&&d>=k.minResolution&&d<k.maxResolution&&"ready"==k.Dg&&g.td(a,k)&&g.Ef(a,k,b);this.xa("postcompose",
a);this.v||(lg(this.d,!0),this.v=!0);Ck(this,a);a.postRenderFunctions.push(Ak)}};function ym(a,b,c){nk.call(this,a,b);this.target=c}D(ym,nk);ym.prototype.ub=function(){return this.target};function zm(a,b){var c=Wb("DIV");c.style.position="absolute";ym.call(this,a,b,c);this.v=!0;this.Si=1;this.Lc=0;this.Fa={}}D(zm,ym);
zm.prototype.td=function(a,b){if(!b.visible)return this.v&&(lg(this.target,!1),this.v=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.nd,g=f.W,k=lk(g,e),m=Yj(k.Mc,d.resolution,0),n=k.k(m),p=d.center,s;n==d.resolution?(p=sk(p,n,a.size),s=zj(p,n,d.rotation,a.size)):s=a.extent;r(b.extent)&&(s=Aj(s,b.extent));var n=dk(k,s,n),t={};t[m]={};var x=C(g.Qf,g,t,rk(function(a){return null!==a&&2==a.D()},g,c,e)),u=f.le();r(u)||(u=!0);var q=vj(),y=new oj(0,0,0,0),v,A,z,G;for(z=n.n;z<=n.G;++z)for(G=
n.t;G<=n.s;++G)v=g.Rb(m,z,G,c,e),A=v.D(),2==A?t[m][nj(v.o)]=v:4==A||3==A&&!u||(A=k.de(v.o,x,null,y,q),A||(v=k.ke(v.o,y,q),null===v||x(m+1,v)));var E;if(this.Lc!=g.Da){for(E in this.Fa)u=this.Fa[+E],ac(u.target);this.Fa={};this.Lc=g.Da}q=Na(gb(t),Number);q.sort(Ya);var x={},I;z=0;for(G=q.length;z<G;++z){E=q[z];E in this.Fa?u=this.Fa[E]:(u=hk(k,p,E),u=new Am(k,u),x[E]=!0,this.Fa[E]=u);E=t[E];for(I in E)Bm(u,E[I]);Cm(u)}I=Na(gb(this.Fa),Number);I.sort(Ya);G=Gh();q=0;for(z=I.length;q<z;++q)if(E=I[q],
u=this.Fa[E],E in t)if(A=u.k(),v=u.sc(),wk(G,a.size[0]/2,a.size[1]/2,A/d.resolution,A/d.resolution,d.rotation,(v[0]-p[0])/A,(p[1]-v[1])/A),u.setTransform(G),E in x){for(E-=1;0<=E;--E)if(E in this.Fa){Zb(u.target,this.Fa[E].target);break}0>E&&$b(this.target,u.target,0)}else a.viewHints[0]||a.viewHints[1]||Dm(u,s,y);else ac(u.target),delete this.Fa[E];b.opacity!=this.Si&&(this.Si=this.target.style.opacity=b.opacity);b.visible&&!this.v&&(lg(this.target,!0),this.v=!0);qk(a.usedTiles,g,m,n);tk(a,g,k,c,
e,s,m,f.je());ok(a,g);pk(a,g);return!0};function Am(a,b){this.target=Wb("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.qj=a;this.Fg=b;this.Le=yj(bk(a,b));this.Wi=a.k(b[0]);this.Nd={};this.pc=null;this.qa=Ih()}
function Bm(a,b){var c=b.o,d=c[0],e=c[1],f=c[2],c=nj(c);if(!(c in a.Nd)){var d=gk(a.qj,d),g=b.za(a),k=g.style;k.maxWidth="none";k.width=d+"px";k.height=d+"px";k.position="absolute";k.left=(e-a.Fg[1])*d+"px";k.top=(a.Fg[2]-f)*d+"px";null===a.pc&&(a.pc=document.createDocumentFragment());a.pc.appendChild(g);a.Nd[c]=b}}function Cm(a){null!==a.pc&&(a.target.appendChild(a.pc),a.pc=null)}Am.prototype.sc=function(){return this.Le};Am.prototype.k=function(){return this.Wi};
function Dm(a,b,c){var d=ck(a.qj,b,a.Fg[0],c);b=[];for(var e in a.Nd)c=a.Nd[e],d.contains(c.o)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=nj(c.o),ac(c.za(a)),delete a.Nd[e]}
Am.prototype.setTransform=function(a){var b=this.qa;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(li()){if(r(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");mi(b,"matrix3d("+c+")")}else if(ki()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(r(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");mi(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.qa;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function Em(a,b){yk.call(this,0,b);this.Bc=Wb("DIV");this.Bc.className="ol-unselectable";var c=this.Bc.style;c.position="absolute";c.width="100%";c.height="100%";$b(a,this.Bc,0);this.v=!0}D(Em,yk);Em.prototype.Zd=function(a){if(a instanceof jm)a=new zm(this,a);else return null;return a};Em.prototype.Sb=function(){return"dom"};
Em.prototype.Ve=function(a){if(null===a)this.v&&(lg(this.Bc,!1),this.v=!1);else{var b;b=function(a,b){$b(this.Bc,a,b)};var c=a.layerStatesArray,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.layer,f=Bk(this,f),b.call(this,f.ub(),d),"ready"==g.Dg&&f.td(a,g);b=a.layerStates;for(var k in this.Aa)k in b||(f=this.Aa[k],ac(f.ub()));this.v||(lg(this.Bc,!0),this.v=!0);zk(a);Ck(this,a);a.postRenderFunctions.push(Ak)}};function Fm(){}h=Fm.prototype;h.kh=function(){};h.lh=function(){};h.mh=function(){};h.rh=function(){};h.nh=function(){};h.oh=function(){};h.ph=function(){};h.qh=function(){};h.Nf=function(){};h.ej=function(){};h.ij=function(){};function Gm(){this.Xd=Gh();this.Sg=void 0;this.Rg=Gh();this.eh=void 0;this.dh=Gh();this.Sh=void 0;this.Rh=Gh();this.aj=void 0;this.$i=Gh()}
function Hm(a,b,c,d,e){var f=!1;r(b)&&b!==a.Sg&&(f=a.Rg,Jh(f),f[12]=b,f[13]=b,f[14]=b,f[15]=1,a.Sg=b,f=!0);if(r(c)&&c!==a.eh){f=a.dh;Jh(f);f[0]=c;f[5]=c;f[10]=c;f[15]=1;var g=-.5*c+.5;f[12]=g;f[13]=g;f[14]=g;f[15]=1;a.eh=c;f=!0}r(d)&&d!==a.Sh&&(f=Math.cos(d),g=Math.sin(d),Hh(a.Rh,.213+.787*f-.213*g,.213-.213*f+.143*g,.213-.213*f-.787*g,0,.715-.715*f-.715*g,.715+.285*f+.14*g,.715-.715*f+.715*g,0,.072-.072*f+.928*g,.072-.072*f-.283*g,.072+.928*f+.072*g,0,0,0,0,1),a.Sh=d,f=!0);r(e)&&e!==a.aj&&(Hh(a.$i,
.213+.787*e,.213-.213*e,.213-.213*e,0,.715-.715*e,.715+.285*e,.715-.715*e,0,.072-.072*e,.072-.072*e,.072+.928*e,0,0,0,0,1),a.aj=e,f=!0);f&&(f=a.Xd,Jh(f),r(c)&&Kh(f,a.dh,f),r(b)&&Kh(f,a.Rg,f),r(e)&&Kh(f,a.$i,f),r(d)&&Kh(f,a.Rh,f));return a.Xd};function Im(a){this.W=a}function Jm(a){this.W=a}D(Jm,Im);Jm.prototype.Sb=function(){return 35632};function Km(a){this.W=a}D(Km,Im);Km.prototype.Sb=function(){return 35633};function Lm(){this.W="precision mediump float;varying vec2 a;uniform mat4 f;uniform float g;uniform sampler2D h;void main(void){vec4 texColor\x3dtexture2D(h,a);gl_FragColor.rgb\x3d(f*vec4(texColor.rgb,1.)).rgb;gl_FragColor.a\x3dtexColor.a*g;}"}D(Lm,Jm);fa(Lm);function Mm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Mm,Km);fa(Mm);
function Nm(a,b){this.Dm=a.getUniformLocation(b,"f");this.xj=a.getUniformLocation(b,"g");this.yj=a.getUniformLocation(b,"e");this.zj=a.getUniformLocation(b,"d");this.gf=a.getUniformLocation(b,"h");this.kc=a.getAttribLocation(b,"b");this.lc=a.getAttribLocation(b,"c")};function Om(){this.W="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}D(Om,Jm);fa(Om);function Pm(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}D(Pm,Km);fa(Pm);
function Qm(a,b){this.xj=a.getUniformLocation(b,"f");this.yj=a.getUniformLocation(b,"e");this.zj=a.getUniformLocation(b,"d");this.gf=a.getUniformLocation(b,"g");this.kc=a.getAttribLocation(b,"b");this.lc=a.getAttribLocation(b,"c")};function Rm(a){this.K=r(a)?a:[]}h=Rm.prototype;h.addRange=function(a,b){if(a!=b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(a<=c[e]){c.splice(e,0,a,b);Sm(this);return}c.push(a,b);Sm(this)}};h.clear=function(){this.K.length=0};function Sm(a){a=a.K;var b=a.length,c=0,d;for(d=0;d<b;d+=2)a[d]!=a[d+1]&&(0<c&&a[c-2]<=a[d]&&a[d]<=a[c-1]?a[c-1]=Math.max(a[c-1],a[d+1]):(a[c++]=a[d],a[c++]=a[d+1]));a.length=c}h.zh=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)a.call(b,c[e],c[e+1])};h.cd=function(){return this.K};
h.T=function(){var a=this.K,b=a.length,c=0,d;for(d=0;d<b;d+=2)c+=a[d+1]-a[d];return c};h.lb=function(){return 0===this.K.length};
h.removeRange=function(a,b){var c=this.K,d=c.length,e;for(e=0;e<d;e+=2)if(!(b<c[e]||c[e+1]<a)){if(c[e]>b)break;if(a<c[e])if(b==c[e])break;else if(b<c[e+1]){c[e]=Math.max(c[e],b);break}else c.splice(e,2),e-=2,d-=2;else if(a==c[e])if(b<c[e+1]){c[e]=b;break}else if(b==c[e+1]){c.splice(e,2);break}else c.splice(e,2),e-=2,d-=2;else if(b<c[e+1]){c.splice(e,2,c[e],a,b,c[e+1]);break}else if(b==c[e+1]){c[e+1]=a;break}else c[e+1]=a}Sm(this)};function Tm(a,b,c){this.K=r(a)?a:[];this.Lb=[];this.rc=new Rm;a=r(b)?b:this.K.length;a<this.K.length&&this.rc.addRange(a,this.K.length);this.Im=r(c)?c:35044}h=Tm.prototype;h.add=function(a){var b=a.length,c;a:{c=this.rc.K;var d=c.length,e=-1,f,g,k;for(g=0;g<d;g+=2){k=c[g+1]-c[g];if(k==b){c=c[g];break a}k>b&&(-1==e||k<f)&&(e=c[g],f=k)}c=e}this.rc.removeRange(c,c+b);for(d=0;d<b;++d)this.K[c+d]=a[d];Um(this,b,c);return c};
h.zh=function(a,b){if(0!==this.K.length){var c=this.K.length,d=this.rc.K,e=d.length;if(0===e)a.call(b,0,c);else{0<d[0]&&a.call(b,0,d[0]);var f;for(f=1;f<e-1;f+=2)a.call(b,d[f],d[f+1]);d[e-1]<c&&a.call(b,d[e-1],c)}}};h.cd=function(){return this.K};h.gb=function(){return this.K.length-this.rc.T()};function Um(a,b,c){var d,e;d=0;for(e=a.Lb.length;d<e;++d)a.Lb[d].addRange(c,c+b)}h.remove=function(a,b){var c,d;this.rc.addRange(b,b+a);c=0;for(d=this.Lb.length;c<d;++c)this.Lb[c].removeRange(b,b+a)};
h.set=function(a,b){var c=this.K,d=a.length,e;for(e=0;e<d;++e)c[b+e]=a[e];Um(this,d,b)};function Vm(a,b){nk.call(this,a,b);this.Mj=new Tm([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.ee=this.Fb=null;this.fe=void 0;this.nj=Gh();this.Rl=Ih();this.Xd=new Gm;this.Kf=this.Df=null}D(Vm,nk);
Vm.prototype.bindFramebuffer=function(a,b){var c=this.He.U;if(r(this.fe)&&this.fe==b)c.bindFramebuffer(36160,this.ee);else{a.postRenderFunctions.push(sa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.ee,this.Fb));var d=c.createTexture();c.bindTexture(3553,d);c.texImage2D(3553,0,6408,b,b,0,6408,5121,null);c.texParameteri(3553,10240,9729);c.texParameteri(3553,10241,9729);var e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,
3553,d,0);this.Fb=d;this.ee=e;this.fe=b}};
Vm.prototype.Ef=function(a,b,c){this.xa("precompose",c,a);c.bindBuffer(34962,this.Mj);var d=c.U,e=b.brightness||1!=b.contrast||b.hue||1!=b.saturation,f,g;e?(f=Lm.hb(),g=Mm.hb()):(f=Om.hb(),g=Pm.hb());f=Wm(c,f,g);e?null===this.Df?this.Df=g=new Nm(d,f):g=this.Df:null===this.Kf?this.Kf=g=new Qm(d,f):g=this.Kf;c.useProgram(f)&&(d.enableVertexAttribArray(g.kc),d.vertexAttribPointer(g.kc,2,5126,!1,16,0),d.enableVertexAttribArray(g.lc),d.vertexAttribPointer(g.lc,2,5126,!1,16,8),d.uniform1i(g.gf,0));d.uniformMatrix4fv(g.zj,
!1,this.nj);d.uniformMatrix4fv(g.yj,!1,this.Rl);e&&d.uniformMatrix4fv(g.Dm,!1,Hm(this.Xd,b.brightness,b.contrast,b.hue,b.saturation));d.uniform1f(g.xj,b.opacity);d.bindTexture(3553,this.Fb);d.drawArrays(5,0,4);this.xa("postcompose",c,a)};Vm.prototype.xa=function(a,b,c){var d=this.nd;d.yb(a)&&d.dispatchEvent(new Hl(a,d,new Fm,0,c,null,b))};Vm.prototype.Tb=function(){this.ee=this.Fb=null;this.fe=void 0};function Xm(){this.W="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}D(Xm,Jm);fa(Xm);function Ym(){this.W="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}D(Ym,Km);fa(Ym);function Zm(a,b){this.gf=a.getUniformLocation(b,"e");this.Em=a.getUniformLocation(b,"d");this.kc=a.getAttribLocation(b,"b");this.lc=a.getAttribLocation(b,"c")};function $m(a,b){Vm.call(this,a,b);this.ck=Xm.hb();this.Lm=Ym.hb();this.ob=null;this.Qi=new Tm([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.ug=this.We=null;this.Lc=-1}D($m,Vm);$m.prototype.c=function(){this.He.getContext().deleteBuffer(this.Qi);$m.g.c.call(this)};$m.prototype.Tb=function(){$m.g.Tb.call(this);this.ob=null};
$m.prototype.td=function(a,b){var c=this.He,d=c.getContext(),e=c.U,f=a.viewState,g=f.projection,k=this.nd,m=k.W,n=lk(m,g),p=Yj(n.Mc,f.resolution,0),s=n.k(p),t=mk(m,p,g),x=t/gk(n,p),u=s/x,q=f.center,y;s==f.resolution?(q=sk(q,s,a.size),y=zj(q,s,f.rotation,a.size)):y=a.extent;s=dk(n,y,s);if(null!==this.We&&this.We.sh(s)&&this.Lc==m.Da)u=this.ug;else{var v=s.T(),v=Math.max(v[0]*t,v[1]*t),A=Math.pow(2,Math.ceil(Math.log(v)/Math.LN2)),v=u*A,z=n.sc(p),G=z[0]+s.n*t*u,u=z[1]+s.t*t*u,u=[G,u,G+v,u+v];this.bindFramebuffer(a,
A);e.viewport(0,0,A,A);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);A=Wm(d,this.ck,this.Lm);d.useProgram(A);null===this.ob&&(this.ob=new Zm(e,A));d.bindBuffer(34962,this.Qi);e.enableVertexAttribArray(this.ob.kc);e.vertexAttribPointer(this.ob.kc,2,5126,!1,16,0);e.enableVertexAttribArray(this.ob.lc);e.vertexAttribPointer(this.ob.lc,2,5126,!1,16,8);e.uniform1i(this.ob.gf,0);d={};d[p]={};var E=C(m.Qf,m,d,rk(function(a){return null!==a&&2==a.D()&&c.ja.ea(a.getKey())},m,x,g)),I=k.le();r(I)||(I=
!0);var A=!0,G=vj(),aa=new oj(0,0,0,0),J,ba,S;for(ba=s.n;ba<=s.G;++ba)for(S=s.t;S<=s.s;++S){z=m.Rb(p,ba,S,x,g);if(r(b.extent)&&(J=bk(n,z.o,G),!Bj(J,b.extent)))continue;J=z.D();if(2==J){if(c.ja.ea(z.getKey())){d[p][nj(z.o)]=z;continue}}else if(4==J||3==J&&!I)continue;A=!1;J=n.de(z.o,E,null,aa,G);J||(z=n.ke(z.o,aa,G),null===z||E(p+1,z))}E=Na(gb(d),Number);E.sort(Ya);var I=new Float32Array(4),H,Q,N,xa,aa=0;for(ba=E.length;aa<ba;++aa)for(Q in N=d[E[aa]],N)z=N[Q],J=bk(n,z.o,G),S=2*(J[2]-J[0])/v,H=2*(J[3]-
J[1])/v,xa=2*(J[0]-u[0])/v-1,J=2*(J[1]-u[1])/v-1,Fh(I,S,H,xa,J),e.uniform4fv(this.ob.Em,I),an(c,z,t,0*x),e.drawArrays(5,0,4);A?(this.We=s,this.ug=u,this.Lc=m.Da):(this.ug=this.We=null,this.Lc=-1,a.animate=!0)}qk(a.usedTiles,m,p,s);var oa=c.Ld;tk(a,m,n,x,g,y,p,k.je(),function(a){var b;(b=2!=a.D()||c.ja.ea(a.getKey()))||(b=a.getKey()in oa.Jc);b||uk(oa,[a,fk(n,a.o),n.k(a.o[0]),t,0*x])},this);ok(a,m);pk(a,m);e=this.nj;Jh(e);Lh(e,(q[0]-u[0])/(u[2]-u[0]),(q[1]-u[1])/(u[3]-u[1]));0!==f.rotation&&Nh(e,f.rotation);
Mh(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1]));Lh(e,-.5,-.5);return!0};function bn(){this.i=0;this.Zc={};this.ta=this.pa=null}h=bn.prototype;h.clear=function(){this.i=0;this.Zc={};this.ta=this.pa=null};h.ea=function(a){return this.Zc.hasOwnProperty(a)};h.forEach=function(a,b){for(var c=this.pa;null!==c;)a.call(b,c.ic,c.ye,this),c=c.Ba};h.get=function(a){a=this.Zc[a];if(a===this.ta)return a.ic;a===this.pa?(this.pa=this.pa.Ba,this.pa.Db=null):(a.Ba.Db=a.Db,a.Db.Ba=a.Ba);a.Ba=null;a.Db=this.ta;this.ta=this.ta.Ba=a;return a.ic};h.gb=function(){return this.i};
h.Sa=function(){var a=Array(this.i),b=0,c;for(c=this.ta;null!==c;c=c.Db)a[b++]=c.ye;return a};h.Ta=function(){var a=Array(this.i),b=0,c;for(c=this.ta;null!==c;c=c.Db)a[b++]=c.ic;return a};h.pop=function(){var a=this.pa;delete this.Zc[a.ye];null!==a.Ba&&(a.Ba.Db=null);this.pa=a.Ba;null===this.pa&&(this.ta=null);--this.i;return a.ic};h.set=function(a,b){var c={ye:a,Ba:null,Db:this.ta,ic:b};null===this.ta?this.pa=c:this.ta.Ba=c;this.ta=c;this.Zc[a]=c;++this.i};function cn(a,b){this.d=a;this.U=b;this.rb={};this.Dd={};this.ud={};this.Hf=null;U(this.d,"webglcontextlost",this.Tb,!1,this);U(this.d,"webglcontextrestored",this.Xf,!1,this)}h=cn.prototype;
h.bindBuffer=function(a,b){var c=this.U,d=b.cd(),e=B(b);if(e in this.rb)e=this.rb[e],c.bindBuffer(a,e.buffer),e.$d.zh(function(b,e){var f=d.slice(b,e);c.bufferSubData(a,b,34962==a?new Float32Array(f):new Uint16Array(f))}),e.$d.clear();else{var f=c.createBuffer();c.bindBuffer(a,f);c.bufferData(a,34962==a?new Float32Array(d):new Uint16Array(d),b.Im);var g=new Rm;b.Lb.push(g);this.rb[e]={Tg:b,buffer:f,$d:g}}};
h.deleteBuffer=function(a){var b=this.U;a=B(a);var c=this.rb[a];Ra(c.Tg.Lb,c.$d);b.isContextLost()||b.deleteBuffer(c.buffer);delete this.rb[a]};h.c=function(){cb(this.rb,function(a){Ra(a.Tg.Lb,a.$d)});var a=this.U;a.isContextLost()||(cb(this.rb,function(b){a.deleteBuffer(b.buffer)}),cb(this.ud,function(b){a.deleteProgram(b)}),cb(this.Dd,function(b){a.deleteShader(b)}))};
function dn(a,b){var c=B(b);if(c in a.Dd)return a.Dd[c];var d=a.U,e=d.createShader(b.Sb());d.shaderSource(e,b.W);d.compileShader(e);return a.Dd[c]=e}function Wm(a,b,c){var d=B(b)+"/"+B(c);if(d in a.ud)return a.ud[d];var e=a.U,f=e.createProgram();e.attachShader(f,dn(a,b));e.attachShader(f,dn(a,c));e.linkProgram(f);return a.ud[d]=f}h.Tb=function(){ib(this.rb);ib(this.Dd);ib(this.ud);this.Hf=null};h.Xf=function(){};h.useProgram=function(a){if(a==this.Hf)return!1;this.U.useProgram(a);this.Hf=a;return!0};function en(a,b){yk.call(this,0,b);this.d=Wb("CANVAS");this.d.style.width="100%";this.d.style.height="100%";this.d.className="ol-unselectable";$b(a,this.d,0);this.Wg=0;this.Xg=ji();this.v=!0;this.U=oi(this.d,{antialias:!0,depth:!1,ak:!0,preserveDrawingBuffer:!1,stencil:!0});this.A=new cn(this.d,this.U);U(this.d,"webglcontextlost",this.Tb,!1,this);U(this.d,"webglcontextrestored",this.Xf,!1,this);this.ja=new bn;this.Ob=null;this.Ld=new Dk(C(function(a){var b=a[1];a=a[2];var e=b[0]-this.Ob[0],b=b[1]-
this.Ob[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.al=C(function(){if(!this.Ld.lb()){Hk(this.Ld);var a=Ek(this.Ld);an(this,a[0],a[3],a[4])}},this);this.Kd=0;fn(this)}D(en,yk);
function an(a,b,c,d){var e=a.U,f=b.getKey();if(a.ja.ea(f))a=a.ja.get(f),e.bindTexture(3553,a.Fb),9729!=a.pi&&(e.texParameteri(3553,10240,9729),a.pi=9729),9729!=a.ti&&(e.texParameteri(3553,10240,9729),a.ti=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var k=a.Xg.canvas,m=a.Xg;a.Wg!=c?(k.width=c,k.height=c,a.Wg=c):m.clearRect(0,0,c,c);m.drawImage(b.za(),d,d,c,c,0,0,c,c);e.texImage2D(3553,0,6408,6408,5121,k)}else e.texImage2D(3553,0,6408,6408,5121,b.za());e.texParameteri(3553,10240,
9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.ja.set(f,{Fb:g,pi:9729,ti:9729})}}h=en.prototype;h.Zd=function(a){return a instanceof jm?new $m(this,a):null};h.xa=function(a,b){var c=this.ha();if(c.yb(a)){var d=this.getContext();c.dispatchEvent(new Hl(a,c,new Fm,0,b,null,d))}};h.c=function(){var a=this.U;a.isContextLost()||this.ja.forEach(function(b){null===b||a.deleteTexture(b.Fb)});Ac(this.A);en.g.c.call(this)};
h.$j=function(a,b){for(var c=this.U,d;1024<this.ja.gb()-this.Kd;){d=this.ja.pa.ic;if(null===d)if(+this.ja.pa.ye==b.index)break;else--this.Kd;else c.deleteTexture(d.Fb);this.ja.pop()}};h.getContext=function(){return this.A};h.Sb=function(){return"webgl"};h.Tb=function(a){a.preventDefault();this.ja.clear();this.Kd=0;cb(this.Aa,function(a){a.Tb()})};h.Xf=function(){fn(this);this.ha().render()};
function fn(a){a=a.U;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
h.Ve=function(a){var b=this.getContext(),c=this.U;if(c.isContextLost())return!1;if(null===a)return this.v&&(lg(this.d,!1),this.v=!1),!1;this.Ob=a.focus;this.ja.set((-a.index).toString(),null);++this.Kd;var d=[],e=a.layerStatesArray,f=a.viewState.resolution,g,k,m,n;g=0;for(k=e.length;g<k;++g)n=e[g],n.visible&&f>=n.minResolution&&f<n.maxResolution&&"ready"==n.Dg&&(m=Bk(this,n.layer),m.td(a,n)&&d.push(n));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.d.width!=e||this.d.height!=f)this.d.width=
e,this.d.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.d.width,this.d.height);this.xa("precompose",a);g=0;for(k=d.length;g<k;++g)n=d[g],m=Bk(this,n.layer),m.Ef(a,n,b);this.v||(lg(this.d,!0),this.v=!0);zk(a);1024<this.ja.gb()-this.Kd&&a.postRenderFunctions.push(C(this.$j,this));this.Ld.lb()||(a.postRenderFunctions.push(this.al),a.animate=!0);this.xa("postcompose",a);Ck(this,a);a.postRenderFunctions.push(Ak)};var gn=["canvas","webgl","dom"];
function Z(a){Sh.call(this);var b=hn(a);this.Ec=r(a.pixelRatio)?a.pixelRatio:pi;this.dl=b.logos;this.uf=new Jf(this.Vl,void 0,this);zc(this,this.uf);this.Rj=Gh();this.Il=Gh();this.dk=0;this.md=this.mf=this.qg=this.tb=null;this.M=Sb("DIV","ol-viewport");this.M.style.position="relative";this.M.style.overflow="hidden";this.M.style.width="100%";this.M.style.height="100%";this.M.style.msTouchAction="none";si&&(this.M.className="ol-touch");this.Li=Sb("DIV","ol-overlaycontainer");this.M.appendChild(this.Li);
this.Me=Sb("DIV","ol-overlaycontainer-stopevent");U(this.Me,["click","dblclick","mousedown","touchstart","MSPointerDown",hj,Cc],Bc);this.M.appendChild(this.Me);a=new $i(this);U(a,fb(kj),this.wb,!1,this);zc(this,a);this.fi=b.keyboardEventTarget;this.Ua=new of;U(this.Ua,"key",this.Lh,!1,this);zc(this,this.Ua);a=new zh(this.M);U(a,"mousewheel",this.Lh,!1,this);zc(this,a);this.Ff=b.controls;this.Wj=b.deviceOptions;this.ve=b.interactions;this.Ne=b.overlays;this.ia=new b.Wl(this.M,this);zc(this,this.ia);
this.Gj=new yh;zc(this,this.Gj);U(this.Gj,"resize",this.Ej,!1,this);this.Ob=null;this.Se=[];this.Mi=[];this.rj=new Ik(C(this.ik,this),C(this.Nk,this));this.pm={};U(this,Wh("layergroup"),this.rk,!1,this);U(this,Wh("view"),this.Pk,!1,this);U(this,Wh("size"),this.Jk,!1,this);U(this,Wh("target"),this.Lk,!1,this);this.Cd(b.Km);this.Ff.forEach(function(a){a.setMap(this)},this);U(this.Ff,"add",function(a){a.element.setMap(this)},!1,this);U(this.Ff,"remove",function(a){a.element.setMap(null)},!1,this);this.ve.forEach(function(a){a.setMap(this)},
this);U(this.ve,"add",function(a){a.element.setMap(this)},!1,this);U(this.ve,"remove",function(a){a.element.setMap(null)},!1,this);this.Ne.forEach(function(a){a.setMap(this)},this);U(this.Ne,"add",function(a){a.element.setMap(this)},!1,this);U(this.Ne,"remove",function(a){a.element.setMap(null)},!1,this)}D(Z,Sh);Z.prototype.Ja=function(a){this.render();Array.prototype.push.apply(this.Se,arguments)};Z.prototype.c=function(){ac(this.M);Z.g.c.call(this)};Z.prototype.ub=function(){return this.get("target")};
Z.prototype.getTarget=Z.prototype.ub;Z.prototype.dd=function(a){var b=this.tb;if(null===b)return null;a=a.slice();return xk(b.pixelToCoordinateMatrix,a,a)};Z.prototype.ie=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.ie;Z.prototype.gd=function(){return this.ie().gd()};function wl(a,b){var c=a.tb;if(null===c)return null;var d=b.slice(0,2);return xk(c.coordinateToPixelMatrix,d,d)}Z.prototype.T=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.T;
Z.prototype.B=function(){return this.get("view")};Z.prototype.getView=Z.prototype.B;h=Z.prototype;h.ik=function(a,b,c,d){var e=this.tb;if(!(null!==e&&b in e.wantedTiles&&e.wantedTiles[b][nj(a.o)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};h.Lh=function(a,b){var c=new Yi(b||a.type,this,a);this.wb(c)};
h.wb=function(a){if(null!==this.tb){this.Ob=a.coordinate;a.frameState=this.tb;var b=this.ve.cd(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.wa&&!d.wb(a))break}}};
h.Gk=function(){var a=this.tb,b=this.rj;if(!b.lb()){var c=16,d=c,e=0;if(null!==a){var e=a.viewHints,f=this.Wj;e[0]&&(c=!1===f.loadTilesWhileAnimating?0:8,d=2);e[1]&&(c=!1===f.loadTilesWhileInteracting?0:8,d=2);e=eb(a.wantedTiles)}c*=e;d*=e;if(b.Md<c){Hk(b);c=Math.min(c-b.Md,d,b.gb());for(d=0;d<c;++d)e=Ek(b)[0],Zc(e,"change",b.Mk,!1,b),e.load();b.Md+=c}}b=this.Mi;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};h.Jk=function(){this.render()};
h.Lk=function(){var a=this.ub(),a=r(a)?R(a):null;this.Ua.detach();null===a?ac(this.M):(a.appendChild(this.M),pf(this.Ua,null===this.fi?a:this.fi));this.Ej()};h.Nk=function(){this.render()};h.Qk=function(){this.render()};h.Pk=function(){null!==this.mf&&(V(this.mf),this.mf=null);var a=this.B();null!==a&&(this.mf=U(a,"propertychange",this.Qk,!1,this));this.render()};h.sk=function(){this.render()};h.tk=function(){this.render()};
h.rk=function(){if(null!==this.md){for(var a=this.md.length,b=0;b<a;++b)V(this.md[b]);this.md=null}a=this.ie();null!=a&&(this.md=[U(a,"propertychange",this.tk,!1,this),U(a,"change",this.sk,!1,this)]);this.render()};h.bg=function(){if(!cc(document,this.M)||"none"==this.M.style.display)return!1;var a=this.T();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.B();return null!==a&&a.bg()?!0:!1};h.render=function(){this.uf.zc()||this.uf.start()};
h.Vl=function(a){var b,c,d,e=this.T(),f=this.B(),g=null;if(r(e)&&0<e[0]&&0<e[1]&&null!==f&&f.bg()){var g=Ta(f.Zf),k=this.ie().Sf(),m={};b=0;for(c=k.length;b<c;++b)m[B(k[b].layer)]=k[b];d=f.D();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Rj,extent:null,focus:null===this.Ob?d.center:this.Ob,index:this.dk++,layerStates:m,layerStatesArray:k,logos:this.dl,pixelRatio:this.Ec,pixelToCoordinateMatrix:this.Il,postRenderFunctions:[],size:e,skippedFeatureUids:this.pm,tileQueue:this.rj,time:a,
usedTiles:{},viewState:d,viewHints:g,wantedTiles:{}}}if(null!==g){a=this.Se;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=zj(d.center,d.resolution,d.rotation,g.size)}this.tb=g;this.ia.Ve(g);null!==g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Mi,g.postRenderFunctions),!(b=0!==this.Se.length||g.viewHints[0]||g.viewHints[1])&&(b=this.qg)&&(b=g.extent,c=this.qg,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new di("moveend",this,
g)),this.qg=uj(g.extent)));this.dispatchEvent(new di("postrender",this,g));wd(this.Gk,this)};h.gm=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.gm;Z.prototype.zg=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.zg;Z.prototype.Ag=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Ag;Z.prototype.nm=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.nm;
Z.prototype.Ej=function(){var a=this.ub(),a=r(a)?R(a):null;if(null===a)this.zg(void 0);else{var b=Kb(a),c=L&&a.currentStyle;c&&kc(Ib(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=og(a,c.width,"width","pixelWidth"),a=og(a,c.height,"height","pixelHeight"),a=new Gb(b,a)):(c=new Gb(a.offsetWidth,a.offsetHeight),b=qg(a),a=tg(a),a=new Gb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.zg([a.width,a.height])}};
function hn(a){var b=null;r(a.keyboardEventTarget)&&(b=w(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(!r(a.logo)||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;w(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.layers instanceof Zl?a.layers:new Zl({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=r(a.view)?a.view:new Y;var e=yk,f;r(a.renderer)?ha(a.renderer)?f=a.renderer:w(a.renderer)&&(f=[a.renderer]):f=gn;var g,k;g=0;for(k=f.length;g<k;++g){var m=f[g];if("canvas"==m){if(ri){e=xm;break}}else if("dom"==m){e=Em;break}else if("webgl"==m&&vi){e=en;break}}r(a.controls)?f=ha(a.controls)?new Yh(Ta(a.controls)):a.controls:
(f=r(void 0)?void 0:{},g=new Yh,(r(f.zoom)?f.zoom:1)&&g.push(new fl(f.zoomOptions)),(r(f.rotate)?f.rotate:1)&&g.push(new dl(f.rotateOptions)),(r(f.attribution)?f.attribution:1)&&g.push(new Wk(f.attributionOptions)),f=g);g=r(a.deviceOptions)?a.deviceOptions:{};if(r(a.interactions))k=ha(a.interactions)?new Yh(Ta(a.interactions)):a.interactions;else{k=r(void 0)?void 0:{};var m=new Yh,n=new hl(-.005,.05,100);(r(k.altShiftDragRotate)?k.altShiftDragRotate:1)&&m.push(new xl);(r(k.doubleClickZoom)?k.doubleClickZoom:
1)&&m.push(new ol({delta:k.zoomDelta,duration:k.zoomDuration}));(r(k.dragPan)?k.dragPan:1)&&m.push(new vl({kinetic:n}));(r(k.pinchRotate)?k.pinchRotate:1)&&m.push(new Xl);(r(k.pinchZoom)?k.pinchZoom:1)&&m.push(new Yl({duration:k.zoomDuration}));if(r(k.keyboard)?k.keyboard:1)m.push(new Ul),m.push(new Vl({delta:k.zoomDelta,duration:k.zoomDuration}));(r(k.mouseWheelZoom)?k.mouseWheelZoom:1)&&m.push(new Wl({duration:k.zoomDuration}));(r(k.shiftDragZoom)?k.shiftDragZoom:1)&&m.push(new Tl);k=m}a=r(a.overlays)?
ha(a.overlays)?new Yh(Ta(a.overlays)):a.overlays:new Yh;return{controls:f,deviceOptions:g,interactions:k,keyboardEventTarget:b,logos:d,overlays:a,Wl:e,Km:c}}Jj(dm);Jj(im);F(im,function(a){F(dm,function(b){Lj(a,b,em);Lj(b,a,fm)})});function $(a){Sh.call(this);this.Yk=r(a.insertFirst)?a.insertFirst:!0;this.qm=r(a.stopEvent)?a.stopEvent:!0;this.a=Wb("DIV");this.a.style.position="absolute";this.L={Rd:"",Be:"",Ye:"",ff:"",visible:!0};this.Ge=null;U(this,Wh("element"),this.lk,!1,this);U(this,Wh("map"),this.xk,!1,this);U(this,Wh("offset"),this.Bk,!1,this);U(this,Wh("position"),this.Ek,!1,this);U(this,Wh("positioning"),this.Fk,!1,this);r(a.element)&&this.cj(a.element);this.gj(r(a.offset)?a.offset:[0,0]);this.hj(r(a.positioning)?a.positioning:
"top-left");r(a.position)&&this.Bd(a.position)}D($,Sh);$.prototype.ed=function(){return this.get("element")};$.prototype.getElement=$.prototype.ed;$.prototype.ha=function(){return this.get("map")};$.prototype.getMap=$.prototype.ha;$.prototype.Gh=function(){return this.get("offset")};$.prototype.getOffset=$.prototype.Gh;$.prototype.Tf=function(){return this.get("position")};$.prototype.getPosition=$.prototype.Tf;$.prototype.Ih=function(){return this.get("positioning")};$.prototype.getPositioning=$.prototype.Ih;
h=$.prototype;h.lk=function(){Yb(this.a);var a=this.ed();null!=a&&Xb(this.a,a)};h.xk=function(){null!==this.Ge&&(ac(this.a),V(this.Ge),this.Ge=null);var a=this.ha();null!=a&&(this.Ge=U(a,"postrender",this.tc,!1,this),jn(this),a=this.qm?a.Me:a.Li,this.Yk?$b(a,this.a,0):Xb(a,this.a))};h.tc=function(){jn(this)};h.Bk=function(){jn(this)};h.Ek=function(){jn(this)};h.Fk=function(){jn(this)};h.cj=function(a){this.set("element",a)};$.prototype.setElement=$.prototype.cj;
$.prototype.setMap=function(a){this.set("map",a)};$.prototype.setMap=$.prototype.setMap;$.prototype.gj=function(a){this.set("offset",a)};$.prototype.setOffset=$.prototype.gj;$.prototype.Bd=function(a){this.set("position",a)};$.prototype.setPosition=$.prototype.Bd;$.prototype.hj=function(a){this.set("positioning",a)};$.prototype.setPositioning=$.prototype.hj;
function jn(a){var b=a.ha(),c=a.Tf();if(r(b)&&null!==b.tb&&r(c)){var c=wl(b,c),d=b.T(),b=a.a.style,e=a.Gh(),f=a.Ih(),g=e[0],e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.L.Be&&(a.L.Be=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.L.Ye!=g&&(a.L.Ye=b.right=g);else{""!==a.L.Ye&&(a.L.Ye=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=jg(a.a).width/2;g=Math.round(c[0]+g)+"px";a.L.Be!=g&&(a.L.Be=b.left=g)}if("bottom-left"==f||"bottom-center"==f||"bottom-right"==
f)""!==a.L.ff&&(a.L.ff=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.L.Rd!=c&&(a.L.Rd=b.bottom=c);else{""!==a.L.Rd&&(a.L.Rd=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=jg(a.a).height/2;c=Math.round(c[1]+e)+"px";a.L.ff!=c&&(a.L.ff=b.top=c)}a.L.visible||(lg(a.a,!0),a.L.visible=!0)}else a.L.visible&&(lg(a.a,!1),a.L.visible=!1)};function kn(a){var b=/\{z\}/g,c=/\{x\}/g,d=/\{y\}/g,e=/\{-y\}/g;return function(f){return null===f?void 0:a.replace(b,f[0].toString()).replace(c,f[1].toString()).replace(d,f[2].toString()).replace(e,function(){return((1<<f[0])-f[2]-1).toString()})}}function ln(a){return 1===a.length?a[0]:function(b,c,d){return null===b?void 0:a[Eb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function mn(){}function nn(a,b){var c=[0,0,0];return function(d,e,f){return null===d?void 0:b(a(d,f,c),e,f)}};function on(a,b,c,d,e){Xj.call(this,a,b);this.Ed=c;this.$=new Image;null!==d&&(this.$.crossOrigin=d);this.se={};this.kd=null;this.xm=e}D(on,Xj);h=on.prototype;h.za=function(a){if(r(a)){var b=B(a);if(b in this.se)return this.se[b];a=hb(this.se)?this.$:this.$.cloneNode(!1);return this.se[b]=a}return this.$};h.getKey=function(){return this.Ed};h.mk=function(){this.state=3;F(this.kd,V);this.kd=null;this.X()};
h.nk=function(){this.state=this.$.naturalWidth&&this.$.naturalHeight?2:4;F(this.kd,V);this.kd=null;this.X()};h.load=function(){0==this.state&&(this.state=1,this.kd=[Zc(this.$,"error",this.mk,!1,this),Zc(this.$,"load",this.nk,!1,this)],this.xm(this,this.Ed))};function pn(a){bn.call(this);this.Rk=r(a)?a:2048}D(pn,bn);pn.prototype.Kb=function(){return this.gb()>this.Rk};pn.prototype.ad=function(a){for(var b,c;this.Kb()&&!(b=this.pa.ic,c=b.o[0].toString(),c in a&&a[c].contains(b.o));)this.pop().eb()};function qn(a){kk.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:r(a.state)?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio});this.tileUrlFunction=r(a.tileUrlFunction)?a.tileUrlFunction:mn;this.crossOrigin=r(a.crossOrigin)?a.crossOrigin:null;this.da=new pn;this.tileLoadFunction=r(a.tileLoadFunction)?a.tileLoadFunction:rn;this.tileClass=r(a.tileClass)?a.tileClass:on}D(qn,kk);function rn(a,b){a.za().src=b}
qn.prototype.Kb=function(){return this.da.Kb()};qn.prototype.ad=function(a){this.da.ad(a)};qn.prototype.Rb=function(a,b,c,d,e){var f=this.fd(a,b,c);if(this.da.ea(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new this.tileClass(a,r(d)?0:4,r(d)?d:"",this.crossOrigin,this.tileLoadFunction);this.da.set(f,d);return d};qn.prototype.Ig=function(a,b,c){a=this.fd(a,b,c);this.da.ea(a)&&this.da.get(a)};function sn(a){var b=r(a.extent)?a.extent:am,c=ik(b,a.maxZoom,a.tileSize);Zj.call(this,{minZoom:a.minZoom,origin:xj(b,"top-left"),resolutions:c,tileSize:a.tileSize})}D(sn,Zj);
function tn(a,b){var c=r(b)?b:{},d=a.minZoom,e=a.maxZoom,f=r(c.wrapX)?c.wrapX:!0,g=null;if(r(c.extent)){var g=Array(e+1),k;for(k=0;k<=e;++k)g[k]=k<d?null:ck(a,c.extent,k)}return function(a,b,c){b=a[0];if(b<d||e<b)return null;var k=Math.pow(2,b),t=a[1];if(f)t=Eb(t,k);else if(0>t||k<=t)return null;a=a[2];return a<-k||-1<a||null!==g&&!g[b].Wc(t,a)?null:lj(b,t,-a-1,c)}}sn.prototype.ke=function(a,b){return a[0]<this.maxZoom?pj(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};
sn.prototype.de=function(a,b,c,d){d=pj(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.minZoom;--a)if(d.n=d.G>>=1,d.t=d.s>>=1,b.call(c,a,d))return!0;return!1};function un(a){qn.call(this,{crossOrigin:a.crossOrigin,projection:Pj("EPSG:3857"),state:"loading",tileLoadFunction:a.tileLoadFunction});(new qh(a.url)).send(void 0,C(this.Wf,this))}D(un,qn);
un.prototype.Wf=function(a){var b=Pj("EPSG:4326"),c=this.Ic,d;r(a.bounds)&&(d=Dj(a.bounds,Rj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new sn({extent:jk(c),maxZoom:f,minZoom:e});this.tileUrlFunction=nn(tn(c,{extent:d}),ln(Na(a.tiles,kn)));if(r(a.attribution)){b=r(d)?d:b.S();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[ck(c,b,e)];this.wf=[new rj({html:a.attribution,tileRanges:d})]}this.j="ready";this.X()};function vn(a){kk.call(this,{projection:Pj("EPSG:3857"),state:"loading"});this.pg=r(a.preemptive)?a.preemptive:!1;this.tileUrlFunction=mn;this.da=new pn;(new qh(a.url)).send(void 0,C(this.Wf,this))}D(vn,kk);h=vn.prototype;h.Kb=function(){return this.da.Kb()};h.ad=function(a){this.da.ad(a)};function wn(a,b,c,d,e){null!==a.tileGrid&&(c=ek(a.tileGrid,b[0],b[1],c,!1,void 0),xn(a.Rb(c[0],c[1],c[2],1,a.Ic),b,d,e))}
h.Wf=function(a){var b=Pj("EPSG:4326"),c=this.Ic,d;r(a.bounds)&&(d=Dj(a.bounds,Rj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=new sn({extent:jk(c),maxZoom:f,minZoom:e});var g=a.grids;if(null!=g){this.tileUrlFunction=nn(tn(c,{extent:d}),ln(Na(g,kn)));if(r(a.attribution)){b=r(d)?d:b.S();for(d={};e<=f;++e)g=e.toString(),d[g]=[ck(c,b,e)];this.wf=[new rj({html:a.attribution,tileRanges:d})]}this.j="ready"}else this.j="error";this.X()};
h.Rb=function(a,b,c,d,e){var f=this.fd(a,b,c);if(this.da.ea(f))return this.da.get(f);a=[a,b,c];d=this.tileUrlFunction(a,d,e);d=new yn(a,r(d)?0:4,r(d)?d:"",bk(this.tileGrid,a),this.pg);this.da.set(f,d);return d};h.Ig=function(a,b,c){a=this.fd(a,b,c);this.da.ea(a)&&this.da.get(a)};function yn(a,b,c,d,e){Xj.call(this,a,b);this.Ed=c;this.Y=d;this.pg=e;this.If=this.p=this.me=null}D(yn,Xj);h=yn.prototype;h.za=function(){return null};
h.getData=function(a){if(null!==this.me&&null!==this.p&&null!==this.If){var b=this.me[Math.floor((1-(a[1]-this.Y[1])/(this.Y[3]-this.Y[1]))*this.me.length)];if(w(b))return a=b.charCodeAt(Math.floor((a[0]-this.Y[0])/(this.Y[2]-this.Y[0])*b.length)),93<=a&&a--,35<=a&&a--,a=this.p[a-32],null!=a?this.If[a]:void 0}};function xn(a,b,c,d){0==a.state?(a.kg("change",function(){c.call(d,this.getData(b))},!1,a),zn(a)):c.call(d,a.getData(b))}h.getKey=function(){return this.Ed};h.oe=function(){this.state=3;this.X()};
h.Vf=function(a){this.me=a.grid;this.p=a.keys;this.If=a.data;this.state=4;this.X()};function zn(a){0==a.state&&(a.state=1,(new qh(a.Ed)).send(void 0,C(a.Vf,a),C(a.oe,a)))}h.load=function(){this.pg&&zn(this)};function An(){var a=[-5.3642,51.3776,-2.6334,53.4369],b=Tj(a),c=uj(b);Cj(c,2);var d=uj(b);Cj(d,1.2);this.qi=R("map");this.lf=new vn({url:"http://cynefinproject.eu/tileserver/cynefin-parishes.json",preemptive:!0});this.J=new Y({extent:c,zoom:7,minZoom:6,maxZoom:14});this.b=new Z({target:this.qi,controls:[],layers:[new jm({source:new un({url:"http://cynefin.tileserver.com/cynefin-counties.json"})}),new jm({source:new un({url:"http://cynefin.tileserver.com/cynefin-parishes.json"})}),new jm({source:this.lf})],
view:this.J});Ph(this.b,ij,function(a){var b=this.J.k()||1;wn(this.lf,a.coordinate,b,this.yk,this)},this);Ph(this.b,dj,function(a){var b=this.J.k()||1;wn(this.lf,a.coordinate,b,this.Ak,this)},this);Qh(this.b,function(){var a=this.b.T();a?Tk(this.J,d,a):Bn(this,[-3.9001,52.3118],!0)},this);var e=C(function(a,b){var c=this.J.k()||1;this.b.Ja(cl({resolution:c,duration:250,easing:Yk}));this.J.fc(this.J.constrainResolution(c,a));b.preventDefault()},this);U(R("map-zoom-in"),"click",function(a){e(1,a)});
U(R("map-zoom-out"),"click",function(a){e(-1,a)});var f=R("nominatim-input");if(f){var g=new wh(f,void 0,void 0,a),k=C(function(a){this.yd.Bd(void 0);if(a){var b=Qj("EPSG:4326",this.J.Ic),c=a.bounds||a.viewport,d=Cn(this);c&&d&&(c=Dj(c,b),Cj(c,1.33),Tk(this.J,c,d),Bn(this,this.J.ma()),this.J.fc(this.J.constrainResolution(this.J.k())));if(a=[a.lon,a.lat],9<Sk(this.J)){var e=b(a),b=this.J.k()||1;wn(this.lf,e,b,function(a){if(a){var b=a.County,c=a.SHAPE_ID;b&&c&&(this.Yc=!0,Ae(this.La,b,C(function(){Je(this.La,
c.toString())},this)),Bn(this,e),this.Yc=!1,this.yd.Bd(e))}},this)}}},this);U(g,"update",function(a){k(a.Wa);a.preventDefault()});a=ic(f);U(a,"submit",function(a){a.preventDefault();g.search(f.value,1,function(a,b){k(b[0])})})}this.yd=new $({element:Sb("DIV",{"class":"search-marker"})});this.b.Ne.push(this.yd);Ph(this.J,"propertychange",function(){null!=this.yd.Tf()&&(this.yd.Bd(void 0),f.value="")},this);this.La=new ve;this.Yc=!1;this.La.oa("opened",function(a){if(!this.Yc){var b=Sk(this.J);if(10!=
b){var c=this.J,d=c.constrainResolution(c.lg,10-c.mg,0);c.fc(d)}Bn(this,a.center,!0,10==b)}},!1,this)}function Dn(){var a=R("application-panel");return a?jg(a).width+30:0}function Cn(a){(a=a.b.T())&&(a=[a[0]-Dn(),a[1]]);return a}
function Bn(a,b,c,d){if(b)if(c&&(c=b,b=Qj("EPSG:4326","EPSG:3857")(c)),c=a.J.ma(),d&&c&&a.b.Ja(al({duration:300,source:c})),d=a.b.T(),c=[(d[0]+Dn())/2,d[1]/2],d){a=a.J;var e=b,f=a.Qb();b=Math.cos(-f);var f=Math.sin(-f),g=e[0]*b-e[1]*f,e=e[1]*b+e[0]*f,k=a.k(),g=g+(d[0]/2-c[0])*k,e=e+(c[1]-d[1]/2)*k,f=-f;a.Xa([g*b-e*f,e*b+g*f])}else a.J.Xa(b)}An.prototype.yk=function(a){this.qi.style.cursor=a?"pointer":"";Be(this.La,a?a.County:null)};
An.prototype.Ak=function(a){if(a){var b=a.County;if(w(b)){var c=C(function(){9<Sk(this.J)&&Je(this.La,a.SHAPE_ID.toString())},this);this.Yc=!0;Ae(this.La,b,c);this.Yc=!1}}};da("TitheMaps",An);
