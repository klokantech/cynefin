(function() {var k,aa=aa||{},x=this;function ba(a){return void 0!==a}function ca(a,b){var c=a.split("."),d=x;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ba(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function da(){}function ea(a){a.Zb=function(){return a.Ol?a.Ol:a.Ol=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function A(a){return"array"==fa(a)}function ga(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function H(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){return"function"==fa(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function J(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;
function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function L(a,b,c){L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return L.apply(null,arguments)}
function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var pa=Date.now||function(){return+new Date};function N(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.rr=function(a,c,g){for(var f=Array(arguments.length-2),h=2;h<arguments.length;h++)f[h-2]=arguments[h];return b.prototype[c].apply(a,f)}};function qa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,qa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}N(qa,Error);qa.prototype.name="CustomError";var ra;var sa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Aa,"\x26#0;"));return a}
var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,ua=/[\x00&<>"']/;function Ba(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ca(a,b){return a<b?-1:a>b?1:0};var Da=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(H(a))return H(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=H(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Fa=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,f=H(a)?a.split(""):a,h=0;h<d;h++)if(h in f){var l=f[h];b.call(c,l,h,a)&&(e[g++]=l)}return e},Ga=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=H(a)?a.split(""):a,f=0;f<d;f++)f in g&&(e[f]=b.call(c,g[f],f,a));return e},Ha=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=H(a)?a.split(""):a,g=0;g<d;g++)if(g in
e&&b.call(c,e[g],g,a))return!0;return!1},Ia=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=H(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};function Ja(a,b){var c;a:{c=a.length;for(var d=H(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:H(a)?a.charAt(c):a[c]}function Ka(a,b){var c=Da(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}
function La(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Na(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ga(d)){var e=a.length||0,g=d.length||0;a.length=e+g;for(var f=0;f<g;f++)a[e+f]=d[f]}else a.push(d)}}function Oa(a,b,c,d){Array.prototype.splice.apply(a,Pa(arguments,1))}
function Pa(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Qa(a,b){a.sort(b||Ra)}function Ua(a){for(var b=Va,c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||Ra;Qa(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value}function Wa(a,b){if(!ga(a)||!ga(b)||a.length!=b.length)return!1;for(var c=a.length,d=Xa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}
function Ra(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){return a===b};function Ya(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Za(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function $a(a){var b=0,c;for(c in a)b++;return b}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function cb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function db(a){return null!==a&&"withCredentials"in a}function eb(a){for(var b in a)return!1;return!0}function fb(a){for(var b in a)delete a[b]}function gb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function hb(a){var b=fa(a);if("object"==b||"array"==b){if(ia(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=hb(a[c]);return b}return a}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<ib.length;g++)c=ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function kb(a){if(a.rb&&"function"==typeof a.rb)return a.rb();if(H(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}
function lb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ga(a)||H(a))Ea(a,b,c);else{var d;if(a.Bb&&"function"==typeof a.Bb)d=a.Bb();else if(a.rb&&"function"==typeof a.rb)d=void 0;else if(ga(a)||H(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=cb(a);for(var e=kb(a),g=e.length,f=0;f<g;f++)b.call(c,e[f],d&&d[f],a)}};function mb(a){return function(){return a}}var nb=mb(!1),ob=mb(!0);function pb(a){return a}function qb(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function rb(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}}function sb(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function tb(a,b){var c=a%b;return 0>c*b?c+b:c};function ub(a,b){this.i={};this.J=[];this.F=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}k=ub.prototype;k.Uc=function(){return this.F};k.rb=function(){vb(this);for(var a=[],b=0;b<this.J.length;b++)a.push(this.i[this.J[b]]);return a};k.Bb=function(){vb(this);return this.J.concat()};k.Da=function(a){return wb(this.i,a)};
k.jl=function(a,b){if(this===a)return!0;if(this.F!=a.Uc())return!1;var c=b||xb;vb(this);for(var d,e=0;d=this.J[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function xb(a,b){return a===b}k.Qa=function(){return 0==this.F};k.clear=function(){this.i={};this.F=this.J.length=0};k.remove=function(a){return wb(this.i,a)?(delete this.i[a],this.F--,this.J.length>2*this.F&&vb(this),!0):!1};
function vb(a){if(a.F!=a.J.length){for(var b=0,c=0;b<a.J.length;){var d=a.J[b];wb(a.i,d)&&(a.J[c++]=d);b++}a.J.length=c}if(a.F!=a.J.length){for(var e={},c=b=0;b<a.J.length;)d=a.J[b],wb(e,d)||(a.J[c++]=d,e[d]=1),b++;a.J.length=c}}k.get=function(a,b){return wb(this.i,a)?this.i[a]:b};k.set=function(a,b){wb(this.i,a)||(this.F++,this.J.push(a));this.i[a]=b};k.addAll=function(a){var b;a instanceof ub?(b=a.Bb(),a=a.rb()):(b=cb(a),a=ab(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
k.forEach=function(a,b){for(var c=this.Bb(),d=0;d<c.length;d++){var e=c[d],g=this.get(e);a.call(b,g,e,this)}};k.clone=function(){return new ub(this)};function wb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function zb(a,b){if(a)for(var c=a.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),g=null,f=null;0<=e?(g=c[d].substring(0,e),f=c[d].substring(e+1)):g=c[d];b(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}};function Ab(a,b){this.pc=this.oe=this.jd="";this.We=null;this.Jd=this.Jb="";this.sb=this.$o=!1;var c;if(a instanceof Ab)this.sb=ba(b)?b:a.sb,Bb(this,a.jd),c=a.oe,Cb(this),this.oe=c,c=a.pc,Cb(this),this.pc=c,Db(this,a.We),c=a.Jb,Cb(this),this.Jb=c,Eb(this,a.dc.clone()),c=a.Jd,Cb(this),this.Jd=c;else if(a&&(c=String(a).match(yb))){this.sb=!!b;Bb(this,c[1]||"",!0);var d=c[2]||"";Cb(this);this.oe=Fb(d);d=c[3]||"";Cb(this);this.pc=Fb(d,!0);Db(this,c[4]);d=c[5]||"";Cb(this);this.Jb=Fb(d,!0);Eb(this,c[6]||
"",!0);c=c[7]||"";Cb(this);this.Jd=Fb(c)}else this.sb=!!b,this.dc=new Gb(null,0,this.sb)}
Ab.prototype.toString=function(){var a=[],b=this.jd;b&&a.push(Hb(b,Ib,!0),":");var c=this.pc;if(c||"file"==b)a.push("//"),(b=this.oe)&&a.push(Hb(b,Ib,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.We,null!=c&&a.push(":",String(c));if(c=this.Jb)this.pc&&"/"!=c.charAt(0)&&a.push("/"),a.push(Hb(c,"/"==c.charAt(0)?Jb:Kb,!0));(c=this.dc.toString())&&a.push("?",c);(c=this.Jd)&&a.push("#",Hb(c,Lb));return a.join("")};
Ab.prototype.resolve=function(a){var b=this.clone(),c=!!a.jd;c?Bb(b,a.jd):c=!!a.oe;if(c){var d=a.oe;Cb(b);b.oe=d}else c=!!a.pc;c?(d=a.pc,Cb(b),b.pc=d):c=null!=a.We;d=a.Jb;if(c)Db(b,a.We);else if(c=!!a.Jb){if("/"!=d.charAt(0))if(this.pc&&!this.Jb)d="/"+d;else{var e=b.Jb.lastIndexOf("/");-1!=e&&(d=b.Jb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),g=[],f=0;f<e.length;){var h=e[f++];"."==h?d&&f==e.length&&
g.push(""):".."==h?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),d&&f==e.length&&g.push("")):(g.push(h),d=!0)}d=g.join("/")}else d=e}c?(Cb(b),b.Jb=d):c=""!==a.dc.toString();c?Eb(b,Fb(a.dc.toString())):c=!!a.Jd;c&&(a=a.Jd,Cb(b),b.Jd=a);return b};Ab.prototype.clone=function(){return new Ab(this)};function Bb(a,b,c){Cb(a);a.jd=c?Fb(b,!0):b;a.jd&&(a.jd=a.jd.replace(/:$/,""))}function Db(a,b){Cb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.We=b}else a.We=null}
function Mb(a){return a.Jb}function Eb(a,b,c){Cb(a);b instanceof Gb?(a.dc=b,a.dc.bk(a.sb)):(c||(b=Hb(b,Nb)),a.dc=new Gb(b,0,a.sb))}function Ob(a,b,c){Cb(a);A(c)||(c=[String(c)]);Pb(a.dc,b,c)}function Cb(a){if(a.$o)throw Error("Tried to modify a read-only Uri");}Ab.prototype.bk=function(a){this.sb=a;this.dc&&this.dc.bk(a);return this};function Fb(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function Hb(a,b,c){return H(a)?(a=encodeURI(a).replace(b,Qb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Qb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ib=/[#\/\?@]/g,Kb=/[\#\?:]/g,Jb=/[\#\?]/g,Nb=/[\#\?@]/g,Lb=/#/g;function Gb(a,b,c){this.F=this.ca=null;this.ib=a||null;this.sb=!!c}function Rb(a){a.ca||(a.ca=new ub,a.F=0,a.ib&&zb(a.ib,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}k=Gb.prototype;k.Uc=function(){Rb(this);return this.F};
k.add=function(a,b){Rb(this);this.ib=null;a=Sb(this,a);var c=this.ca.get(a);c||this.ca.set(a,c=[]);c.push(b);this.F++;return this};k.remove=function(a){Rb(this);a=Sb(this,a);return this.ca.Da(a)?(this.ib=null,this.F-=this.ca.get(a).length,this.ca.remove(a)):!1};k.clear=function(){this.ca=this.ib=null;this.F=0};k.Qa=function(){Rb(this);return 0==this.F};k.Da=function(a){Rb(this);a=Sb(this,a);return this.ca.Da(a)};
k.Bb=function(){Rb(this);for(var a=this.ca.rb(),b=this.ca.Bb(),c=[],d=0;d<b.length;d++)for(var e=a[d],g=0;g<e.length;g++)c.push(b[d]);return c};k.rb=function(a){Rb(this);var b=[];if(H(a))this.Da(a)&&(b=La(b,this.ca.get(Sb(this,a))));else{a=this.ca.rb();for(var c=0;c<a.length;c++)b=La(b,a[c])}return b};k.set=function(a,b){Rb(this);this.ib=null;a=Sb(this,a);this.Da(a)&&(this.F-=this.ca.get(a).length);this.ca.set(a,[b]);this.F++;return this};
k.get=function(a,b){var c=a?this.rb(a):[];return 0<c.length?String(c[0]):b};function Pb(a,b,c){a.remove(b);0<c.length&&(a.ib=null,a.ca.set(Sb(a,b),Ma(c)),a.F+=c.length)}k.toString=function(){if(this.ib)return this.ib;if(!this.ca)return"";for(var a=[],b=this.ca.Bb(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.rb(d),g=0;g<d.length;g++){var f=e;""!==d[g]&&(f+="\x3d"+encodeURIComponent(String(d[g])));a.push(f)}return this.ib=a.join("\x26")};
k.clone=function(){var a=new Gb;a.ib=this.ib;this.ca&&(a.ca=this.ca.clone(),a.F=this.F);return a};function Sb(a,b){var c=String(b);a.sb&&(c=c.toLowerCase());return c}k.bk=function(a){a&&!this.sb&&(Rb(this),this.ib=null,this.ca.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Pb(this,d,a))},this));this.sb=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)lb(arguments[b],function(a,b){this.add(b,a)},this)};var Tb;a:{var Ub=x.navigator;if(Ub){var Vb=Ub.userAgent;if(Vb){Tb=Vb;break a}}Tb=""}function P(a){return-1!=Tb.indexOf(a)};function Wb(){return P("iPhone")&&!P("iPod")&&!P("iPad")};var Xb=P("Opera")||P("OPR"),Q=P("Trident")||P("MSIE"),Yb=P("Edge"),Zb=P("Gecko")&&!(-1!=Tb.toLowerCase().indexOf("webkit")&&!P("Edge"))&&!(P("Trident")||P("MSIE"))&&!P("Edge"),$b=-1!=Tb.toLowerCase().indexOf("webkit")&&!P("Edge"),ac=P("Macintosh"),bc=P("Windows"),cc=P("Linux")||P("CrOS");function dc(){var a=Tb;if(Zb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Yb)return/Edge\/([\d\.]+)/.exec(a);if(Q)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if($b)return/WebKit\/(\S+)/.exec(a)}
function ec(){var a=x.document;return a?a.documentMode:void 0}var fc=function(){if(Xb&&x.opera){var a;var b=x.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=dc())&&(a=b?b[1]:"");return Q&&(b=ec(),b>parseFloat(a))?String(b):a}(),gc={};
function hc(a){var b;if(!(b=gc[a])){b=0;for(var c=sa(String(fc)).split("."),d=sa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var f=c[g]||"",h=d[g]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(f)||["","",""],p=m.exec(h)||["","",""];if(0==n[0].length&&0==p[0].length)break;b=Ca(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Ca(0==n[2].length,0==p[2].length)||Ca(n[2],p[2])}while(0==b)}b=gc[a]=0<=b}return b}
var ic=x.document,jc=ic&&Q?ec()||("CSS1Compat"==ic.compatMode?parseInt(fc,10):5):void 0;var kc=!Q||9<=jc,lc=!Q||9<=jc,mc=Q&&!hc("9");!$b||hc("528");Zb&&hc("1.9b")||Q&&hc("8")||Xb&&hc("9.5")||$b&&hc("528");Zb&&!hc("8")||Q&&hc("9");function nc(){0!=oc&&(pc[J(this)]=this);this.we=this.we;this.$d=this.$d}var oc=0,pc={};nc.prototype.we=!1;nc.prototype.oc=function(){if(!this.we&&(this.we=!0,this.f(),0!=oc)){var a=J(this);delete pc[a]}};function qc(a,b){var c=oa(rc,b);a.we?c.call(void 0):(a.$d||(a.$d=[]),a.$d.push(ba(void 0)?L(c,void 0):c))}nc.prototype.f=function(){if(this.$d)for(;this.$d.length;)this.$d.shift()()};function rc(a){a&&"function"==typeof a.oc&&a.oc()};function S(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.de=!1;this.Pm=!0}S.prototype.stopPropagation=function(){this.de=!0};S.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Pm=!1};function tc(a){a.stopPropagation()}function uc(a){a.preventDefault()};function vc(a){vc[" "](a);return a}vc[" "]=da;function wc(a,b){S.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Dh=!1;this.R=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(Zb){var g;a:{try{vc(e.nodeName);
g=!0;break a}catch(f){}g=!1}g||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=$b||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=$b||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,
this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Dh=ac?a.metaKey:a.ctrlKey;this.state=a.state;this.R=a;a.defaultPrevented&&this.preventDefault()}}N(wc,S);var xc=[1,4,2];function yc(a){return(kc?0==a.R.button:"click"==a.type?!0:!!(a.R.button&xc[0]))&&!($b&&ac&&a.ctrlKey)}
wc.prototype.stopPropagation=function(){wc.o.stopPropagation.call(this);this.R.stopPropagation?this.R.stopPropagation():this.R.cancelBubble=!0};wc.prototype.preventDefault=function(){wc.o.preventDefault.call(this);var a=this.R;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,mc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var zc="closure_listenable_"+(1E6*Math.random()|0);function Ac(a){return!(!a||!a[zc])}var Bc=0;function Cc(a,b,c,d,e){this.listener=a;this.Gh=null;this.src=b;this.type=c;this.lf=!!d;this.Wg=e;this.key=++Bc;this.Ze=this.ug=!1}function Dc(a){a.Ze=!0;a.listener=null;a.Gh=null;a.src=null;a.Wg=null};function Ec(a){this.src=a;this.Fa={};this.ng=0}k=Ec.prototype;k.add=function(a,b,c,d,e){var g=a.toString();a=this.Fa[g];a||(a=this.Fa[g]=[],this.ng++);var f=Fc(a,b,d,e);-1<f?(b=a[f],c||(b.ug=!1)):(b=new Cc(b,this.src,g,!!d,e),b.ug=c,a.push(b));return b};k.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Fa))return!1;var e=this.Fa[a];b=Fc(e,b,c,d);return-1<b?(Dc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Fa[a],this.ng--),!0):!1};
function Gc(a,b){var c=b.type;if(!(c in a.Fa))return!1;var d=Ka(a.Fa[c],b);d&&(Dc(b),0==a.Fa[c].length&&(delete a.Fa[c],a.ng--));return d}k.Hh=function(a){a=a&&a.toString();var b=0,c;for(c in this.Fa)if(!a||c==a){for(var d=this.Fa[c],e=0;e<d.length;e++)++b,Dc(d[e]);delete this.Fa[c];this.ng--}return b};k.Df=function(a,b,c,d){a=this.Fa[a.toString()];var e=-1;a&&(e=Fc(a,b,c,d));return-1<e?a[e]:null};
k.hasListener=function(a,b){var c=ba(a),d=c?a.toString():"",e=ba(b);return Za(this.Fa,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].lf!=b))return!0;return!1})};function Fc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.Ze&&g.listener==b&&g.lf==!!c&&g.Wg==d)return e}return-1};var Hc="closure_lm_"+(1E6*Math.random()|0),Ic={},Jc=0;function T(a,b,c,d,e){if(A(b)){for(var g=0;g<b.length;g++)T(a,b[g],c,d,e);return null}c=Kc(c);return Ac(a)?a.ab(b,c,d,e):Lc(a,b,c,!1,d,e)}
function Lc(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var f=!!e,h=Mc(a);h||(a[Hc]=h=new Ec(a));c=h.add(b,c,d,e,g);if(c.Gh)return c;d=Nc();c.Gh=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(Oc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Jc++;return c}
function Nc(){var a=Pc,b=lc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Qc(a,b,c,d,e){if(A(b)){for(var g=0;g<b.length;g++)Qc(a,b[g],c,d,e);return null}c=Kc(c);return Ac(a)?a.Yl(b,c,d,e):Lc(a,b,c,!0,d,e)}function Rc(a,b,c,d,e){if(A(b))for(var g=0;g<b.length;g++)Rc(a,b[g],c,d,e);else c=Kc(c),Ac(a)?a.gc(b,c,d,e):a&&(a=Mc(a))&&(b=a.Df(b,c,!!d,e))&&U(b)}
function U(a){if(ha(a)||!a||a.Ze)return!1;var b=a.src;if(Ac(b))return Gc(b.Wb,a);var c=a.type,d=a.Gh;b.removeEventListener?b.removeEventListener(c,d,a.lf):b.detachEvent&&b.detachEvent(Oc(c),d);Jc--;(c=Mc(b))?(Gc(c,a),0==c.ng&&(c.src=null,b[Hc]=null)):Dc(a);return!0}function Oc(a){return a in Ic?Ic[a]:Ic[a]="on"+a}function Sc(a,b,c,d){var e=!0;if(a=Mc(a))if(b=a.Fa[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.lf==c&&!g.Ze&&(g=Tc(g,d),e=e&&!1!==g)}return e}
function Tc(a,b){var c=a.listener,d=a.Wg||a.src;a.ug&&U(a);return c.call(d,b)}
function Pc(a,b){if(a.Ze)return!0;if(!lc){var c;if(!(c=b))a:{c=["window","event"];for(var d=x,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new wc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,f=e.length-1;!c.de&&0<=f;f--){c.currentTarget=e[f];var h=Sc(e[f],g,!0,c),d=d&&h}for(f=0;!c.de&&f<
e.length;f++)c.currentTarget=e[f],h=Sc(e[f],g,!1,c),d=d&&h}return d}return Tc(a,new wc(b,this))}function Mc(a){a=a[Hc];return a instanceof Ec?a:null}var Uc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Kc(a){if(ia(a))return a;a[Uc]||(a[Uc]=function(b){return a.handleEvent(b)});return a[Uc]};function Vc(){}Vc.prototype.Qk=null;function Wc(a){return a.Qk||(a.Qk=a.Pl())};var Xc;function Yc(){}N(Yc,Vc);Yc.prototype.Si=function(){var a=Zc(this);return a?new ActiveXObject(a):new XMLHttpRequest};Yc.prototype.Pl=function(){var a={};Zc(this)&&(a[0]=!0,a[1]=!0);return a};
function Zc(a){if(!a.El&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.El=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.El}Xc=new Yc;function $c(){}N($c,Vc);$c.prototype.Si=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new ad;throw Error("Unsupported browser");};$c.prototype.Pl=function(){return{}};
function ad(){this.Nb=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.Nb.onload=L(this.oj,this);this.Nb.onerror=L(this.Qg,this);this.Nb.onprogress=L(this.Ko,this);this.Nb.ontimeout=L(this.Ro,this)}k=ad.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.Nb.open(a,b)};
k.send=function(a){if(a)if("string"==typeof a)this.Nb.send(a);else throw Error("Only string data is supported");else this.Nb.send()};k.abort=function(){this.Nb.abort()};k.setRequestHeader=function(){};k.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.Nb.contentType:""};k.oj=function(){this.status=200;this.responseText=this.Nb.responseText;bd(this,4)};k.Qg=function(){this.status=500;this.responseText=null;bd(this,4)};k.Ro=function(){this.Qg()};
k.Ko=function(){this.status=200;bd(this,1)};function bd(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}k.getAllResponseHeaders=function(){return"content-type: "+this.Nb.contentType};function cd(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function dd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ed(a,b,c){this.bp=c;this.On=a;this.tq=b;this.Bh=0;this.Xg=null}ed.prototype.get=function(){var a;0<this.Bh?(this.Bh--,a=this.Xg,this.Xg=a.next,a.next=null):a=this.On();return a};ed.prototype.put=function(a){this.tq(a);this.Bh<this.bp&&(this.Bh++,a.next=this.Xg,this.Xg=a)};function fd(){this.pi=this.ef=null}var hd=new ed(function(){return new gd},function(a){a.reset()},100);fd.prototype.add=function(a,b){var c=hd.get();c.set(a,b);this.pi?this.pi.next=c:this.ef=c;this.pi=c};fd.prototype.remove=function(){var a=null;this.ef&&(a=this.ef,this.ef=this.ef.next,this.ef||(this.pi=null),a.next=null);return a};function gd(){this.next=this.scope=this.ej=null}gd.prototype.set=function(a,b){this.ej=a;this.scope=b;this.next=null};
gd.prototype.reset=function(){this.next=this.scope=this.ej=null};function id(a){x.setTimeout(function(){throw a;},0)}function jd(a,b){var c=a;b&&(c=L(a,b));c=kd(c);!ia(x.setImmediate)||x.Window&&x.Window.prototype&&x.Window.prototype.setImmediate==x.setImmediate?(ld||(ld=md()),ld(c)):x.setImmediate(c)}var ld;
function md(){var a=x.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!P("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=L(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!P("Trident")&&!P("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(ba(c.next)){c=c.next;var a=c.Sk;c.Sk=null;a()}};return function(a){d.next={Sk:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){x.setTimeout(a,0)}}var kd=pb;function nd(a,b){od||pd();qd||(od(),qd=!0);rd.add(a,b)}var od;function pd(){if(x.Promise&&x.Promise.resolve){var a=x.Promise.resolve(void 0);od=function(){a.then(sd)}}else od=function(){jd(sd)}}var qd=!1,rd=new fd;function sd(){for(var a=null;a=rd.remove();){try{a.ej.call(a.scope)}catch(b){id(b)}hd.put(a)}qd=!1};function td(a,b){this.h=ud;this.Dc=void 0;this.re=this.Nc=this.ra=null;this.Pg=this.bj=!1;if(a!=da)try{var c=this;a.call(b,function(a){vd(c,wd,a)},function(a){vd(c,xd,a)})}catch(d){vd(this,xd,d)}}var ud=0,wd=2,xd=3;function yd(){this.next=this.context=this.Ue=this.Rf=this.Bd=null;this.pg=!1}yd.prototype.reset=function(){this.context=this.Ue=this.Rf=this.Bd=null;this.pg=!1};var zd=new ed(function(){return new yd},function(a){a.reset()},100);
function Ad(a,b,c){var d=zd.get();d.Rf=a;d.Ue=b;d.context=c;return d}td.prototype.then=function(a,b,c){return Bd(this,ia(a)?a:null,ia(b)?b:null,c)};cd(td);td.prototype.cancel=function(a){this.h==ud&&nd(function(){var b=new Cd(a);Dd(this,b)},this)};
function Dd(a,b){if(a.h==ud)if(a.ra){var c=a.ra;if(c.Nc){for(var d=0,e=null,g=null,f=c.Nc;f&&(f.pg||(d++,f.Bd==a&&(e=f),!(e&&1<d)));f=f.next)e||(g=f);e&&(c.h==ud&&1==d?Dd(c,b):(g?(d=g,d.next==c.re&&(c.re=d),d.next=d.next.next):Ed(c),Fd(c,e,xd,b)))}a.ra=null}else vd(a,xd,b)}function Gd(a,b){a.Nc||a.h!=wd&&a.h!=xd||Hd(a);a.re?a.re.next=b:a.Nc=b;a.re=b}
function Bd(a,b,c,d){var e=Ad(null,null,null);e.Bd=new td(function(a,f){e.Rf=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){f(m)}}:a;e.Ue=c?function(b){try{var e=c.call(d,b);!ba(e)&&b instanceof Cd?f(b):a(e)}catch(m){f(m)}}:f});e.Bd.ra=a;Gd(a,e);return e.Bd}td.prototype.Rq=function(a){this.h=ud;vd(this,wd,a)};td.prototype.Sq=function(a){this.h=ud;vd(this,xd,a)};
function vd(a,b,c){if(a.h==ud){a==c&&(b=xd,c=new TypeError("Promise cannot resolve to itself"));a.h=1;var d;a:{var e=c,g=a.Rq,f=a.Sq;if(e instanceof td)Gd(e,Ad(g||da,f||null,a)),d=!0;else if(dd(e))e.then(g,f,a),d=!0;else{if(ja(e))try{var h=e.then;if(ia(h)){Id(e,h,g,f,a);d=!0;break a}}catch(l){f.call(a,l);d=!0;break a}d=!1}}d||(a.Dc=c,a.h=b,a.ra=null,Hd(a),b!=xd||c instanceof Cd||Jd(a,c))}}
function Id(a,b,c,d,e){function g(a){h||(h=!0,d.call(e,a))}function f(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,f,g)}catch(l){g(l)}}function Hd(a){a.bj||(a.bj=!0,nd(a.Vn,a))}function Ed(a){var b=null;a.Nc&&(b=a.Nc,a.Nc=b.next,b.next=null);a.Nc||(a.re=null);return b}td.prototype.Vn=function(){for(var a=null;a=Ed(this);)Fd(this,a,this.h,this.Dc);this.bj=!1};
function Fd(a,b,c,d){if(c==xd&&b.Ue&&!b.pg)for(;a&&a.Pg;a=a.ra)a.Pg=!1;if(b.Bd)b.Bd.ra=null,Kd(b,c,d);else try{b.pg?b.Rf.call(b.context):Kd(b,c,d)}catch(e){Ld.call(null,e)}zd.put(b)}function Kd(a,b,c){b==wd?a.Rf.call(a.context,c):a.Ue&&a.Ue.call(a.context,c)}function Jd(a,b){a.Pg=!0;nd(function(){a.Pg&&Ld.call(null,b)})}var Ld=id;function Cd(a){qa.call(this,a)}N(Cd,qa);Cd.prototype.name="cancel";function V(){nc.call(this);this.Wb=new Ec(this);this.wn=this;this.Sj=null}N(V,nc);V.prototype[zc]=!0;k=V.prototype;k.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Rc(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.Sj;if(c)for(b=[];c;c=c.Sj)b.push(c);var c=this.wn,d=a.type||a;if(H(a))a=new S(a,c);else if(a instanceof S)a.target=a.target||c;else{var e=a;a=new S(d,c);jb(a,e)}var e=!0,g;if(b)for(var f=b.length-1;!a.de&&0<=f;f--)g=a.currentTarget=b[f],e=Md(g,d,!0,a)&&e;a.de||(g=a.currentTarget=c,e=Md(g,d,!0,a)&&e,a.de||(e=Md(g,d,!1,a)&&e));if(b)for(f=0;!a.de&&f<b.length;f++)g=a.currentTarget=b[f],e=Md(g,d,!1,a)&&e;return e};
k.f=function(){V.o.f.call(this);this.Wb&&this.Wb.Hh(void 0);this.Sj=null};k.ab=function(a,b,c,d){return this.Wb.add(String(a),b,!1,c,d)};k.Yl=function(a,b,c,d){return this.Wb.add(String(a),b,!0,c,d)};k.gc=function(a,b,c,d){return this.Wb.remove(String(a),b,c,d)};function Md(a,b,c,d){b=a.Wb.Fa[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var f=b[g];if(f&&!f.Ze&&f.lf==c){var h=f.listener,l=f.Wg||f.src;f.ug&&Gc(a.Wb,f);e=!1!==h.call(l,d)&&e}}return e&&0!=d.Pm}
k.Df=function(a,b,c,d){return this.Wb.Df(String(a),b,c,d)};k.hasListener=function(a,b){return this.Wb.hasListener(ba(a)?String(a):void 0,b)};function Nd(a,b){V.call(this);this.Vd=a||1;this.cf=b||x;this.Ii=L(this.Eq,this);this.Hj=pa()}N(Nd,V);k=Nd.prototype;k.enabled=!1;k.M=null;k.setInterval=function(a){this.Vd=a;this.M&&this.enabled?(this.stop(),this.start()):this.M&&this.stop()};k.Eq=function(){if(this.enabled){var a=pa()-this.Hj;0<a&&a<.8*this.Vd?this.M=this.cf.setTimeout(this.Ii,this.Vd-a):(this.M&&(this.cf.clearTimeout(this.M),this.M=null),this.dispatchEvent(Od),this.enabled&&(this.M=this.cf.setTimeout(this.Ii,this.Vd),this.Hj=pa()))}};
k.start=function(){this.enabled=!0;this.M||(this.M=this.cf.setTimeout(this.Ii,this.Vd),this.Hj=pa())};k.stop=function(){this.enabled=!1;this.M&&(this.cf.clearTimeout(this.M),this.M=null)};k.f=function(){Nd.o.f.call(this);this.stop();delete this.cf};var Od="tick";function Pd(a,b,c){if(ia(a))c&&(a=L(a,c));else if(a&&"function"==typeof a.handleEvent)a=L(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:x.setTimeout(a,b||0)};function Qd(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Rd(a){V.call(this);this.headers=new ub;this.ui=a||null;this.Lc=!1;this.ti=this.j=null;this.lh=this.Fj="";this.Td=this.xj=this.dh=this.aj=!1;this.bi=0;this.qd=null;this.Nh=Sd;this.yk=this.eq=this.cr=!1}N(Rd,V);var Sd="",Td=/^https?$/i,Ud=["POST","PUT"];k=Rd.prototype;
k.send=function(a,b,c,d){if(this.j)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Fj+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Fj=a;this.lh="";this.aj=!1;this.Lc=!0;this.j=this.ui?this.ui.Si():Xc.Si();this.ti=this.ui?Wc(this.ui):Wc(Xc);this.j.onreadystatechange=L(this.qm,this);this.eq&&"onprogress"in this.j&&(this.j.onprogress=L(function(a){this.pm(a,!0)},this),this.j.upload&&(this.j.upload.onprogress=L(this.pm,this)));try{this.xj=!0,this.j.open(b,String(a),!0),
this.xj=!1}catch(g){this.Gg(5,g);return}a=c||"";var e=this.headers.clone();d&&lb(d,function(a,b){e.set(b,a)});d=Ja(e.Bb(),Vd);c=x.FormData&&a instanceof x.FormData;!(0<=Da(Ud,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(a,b){this.j.setRequestHeader(b,a)},this);this.Nh&&(this.j.responseType=this.Nh);db(this.j)&&(this.j.withCredentials=this.cr);try{Wd(this),0<this.bi&&((this.yk=Xd(this.j))?(this.j.timeout=this.bi,this.j.ontimeout=L(this.ne,
this)):this.qd=Pd(this.ne,this.bi,this)),this.dh=!0,this.j.send(a),this.dh=!1}catch(g){this.Gg(5,g)}};function Xd(a){return Q&&hc(9)&&ha(a.timeout)&&ba(a.ontimeout)}function Vd(a){return"content-type"==a.toLowerCase()}k.ne=function(){"undefined"!=typeof aa&&this.j&&(this.lh="Timed out after "+this.bi+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};k.Gg=function(a,b){this.Lc=!1;this.j&&(this.Td=!0,this.j.abort(),this.Td=!1);this.lh=b;Yd(this);Zd(this)};
function Yd(a){a.aj||(a.aj=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}k.abort=function(){this.j&&this.Lc&&(this.Lc=!1,this.Td=!0,this.j.abort(),this.Td=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Zd(this))};k.f=function(){this.j&&(this.Lc&&(this.Lc=!1,this.Td=!0,this.j.abort(),this.Td=!1),Zd(this,!0));Rd.o.f.call(this)};k.qm=function(){this.we||(this.xj||this.dh||this.Td?$d(this):this.Op())};k.Op=function(){$d(this)};
function $d(a){if(a.Lc&&"undefined"!=typeof aa&&(!a.ti[1]||4!=ae(a)||2!=be(a)))if(a.dh&&4==ae(a))Pd(a.qm,0,a);else if(a.dispatchEvent("readystatechange"),4==ae(a)){a.Lc=!1;try{if(ce(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<ae(a)?a.j.statusText:""}catch(c){b=""}a.lh=b+" ["+be(a)+"]";Yd(a)}}finally{Zd(a)}}}k.pm=function(a,b){this.dispatchEvent(de(a,"progress"));this.dispatchEvent(de(a,b?"downloadprogress":"uploadprogress"))};
function de(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function Zd(a,b){if(a.j){Wd(a);var c=a.j,d=a.ti[0]?da:null;a.j=null;a.ti=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function Wd(a){a.j&&a.yk&&(a.j.ontimeout=null);ha(a.qd)&&(x.clearTimeout(a.qd),a.qd=null)}k.Pe=function(){return!!this.j};
function ce(a){var b=be(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Fj).match(yb)[1]||null,!a&&x.self&&x.self.location&&(a=x.self.location.protocol,a=a.substr(0,a.length-1)),b=!Td.test(a?a.toLowerCase():"");c=b}return c}function ae(a){return a.j?a.j.readyState:0}function be(a){try{return 2<ae(a)?a.j.status:-1}catch(b){return-1}}function ee(a){try{return a.j?a.j.responseText:""}catch(b){return""}}
function fe(a){if(a.j)return Qd(a.j.responseText)}function ge(a){try{if(!a.j)return null;if("response"in a.j)return a.j.response;switch(a.Nh){case Sd:case "text":return a.j.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.j)return a.j.mozResponseArrayBuffer}return null}catch(b){return null}}k.getResponseHeader=function(a){return this.j&&4==ae(this)?this.j.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.j&&4==ae(this)?this.j.getAllResponseHeaders():""};function ie(a){var b=(a.visualize_url||"").replace("/?#","/").replace("/#","/");return encodeURIComponent(a.title)+"\x26"+Mb(new Ab(a.transcription_url||""))+"\x26"+Mb(new Ab(a.georeference_url||""))+"\x26"+Mb(new Ab(b))+"\x26\x26"+Mb(new Ab(a.object_url||""))}
function je(a,b,c,d,e){d="http://cynefin.georeferencer.com/collection/"+c+d;var g=new Rd(new $c);T(g,"complete",function(){if(ce(g)){var d=fe(g),d=e?encodeURIComponent(b)+"\x26"+Mb(new Ab(d.transcription_url||""))+"\x26\x26\x26\x26\x26"+c:ie(d)+"\x26"+c;null!=a?window.location=a+"#"+d:(window.location.hash=d,window.location.reload())}});g.send(d)};var ke=!Q||9<=jc;!Zb&&!Q||Q&&9<=jc||Zb&&hc("1.9.1");var le=Q&&!hc("9");function me(a,b){this.x=ba(a)?a:0;this.y=ba(b)?b:0}k=me.prototype;k.clone=function(){return new me(this.x,this.y)};function ne(a,b){return new me(a.x-b.x,a.y-b.y)}k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
k.translate=function(a,b){a instanceof me?(this.x+=a.x,this.y+=a.y):(this.x+=a,ha(b)&&(this.y+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.x*=a;this.y*=c;return this};function oe(a,b){this.width=a;this.height=b}function pe(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}k=oe.prototype;k.clone=function(){return new oe(this.width,this.height)};k.yn=function(){return this.width*this.height};k.Qa=function(){return!this.yn()};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.scale=function(a,b){var c=ha(b)?b:a;this.width*=a;this.height*=c;return this};function qe(a){return a?new re(se(a)):ra||(ra=new re)}function W(a){return H(a)?document.getElementById(a):a}function te(a,b){var c=document,c=b||c,d=a&&"*"!=a?a.toUpperCase():"";return c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*")}
function ue(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:ve.hasOwnProperty(d)?a.setAttribute(ve[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var ve={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function we(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new oe(a.clientWidth,a.clientHeight)}function xe(a){var b=ye(a);a=ze(a);return Q&&hc("10")&&a.pageYOffset!=b.scrollTop?new me(b.scrollLeft,b.scrollTop):new me(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function ye(a){return a.scrollingElement?a.scrollingElement:$b||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function ze(a){return a.parentWindow||a.defaultView}
function Ae(a,b,c){return Be(document,arguments)}function Be(a,b){var c=b[0],d=b[1];if(!ke&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',ta(d.name),'"');if(d.type){c.push(' type\x3d"',ta(d.type),'"');var e={};jb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(H(d)?c.className=d:A(d)?c.className=d.join(" "):ue(c,d));2<b.length&&Ce(a,c,b,2);return c}
function Ce(a,b,c,d){function e(c){c&&b.appendChild(H(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ga(g)||ja(g)&&0<g.nodeType?e(g):Ea(De(g)?Ma(g):g,e)}}function Ee(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Fe(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Ge(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function He(a){return ja(a)&&1==a.nodeType}
function Ie(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function se(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Je(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Ee(a),a.appendChild(se(a).createTextNode(String(b)))}var Ke={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Le={IMG:" ",BR:"\n"};
function Me(a){if(le&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ne(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");le||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Ne(a,b,c){if(!(a.nodeName in Ke))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Le)b.push(Le[a.nodeName]);else for(a=a.firstChild;a;)Ne(a,b,c),a=a.nextSibling}function De(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;if(ia(a))return"function"==typeof a.item}return!1}function Oe(a){return Pe(a,function(a){return"FORM"==a.nodeName&&!0})}
function Pe(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function re(a){this.Ka=a||x.document||document}k=re.prototype;k.Bf=function(a){return H(a)?this.Ka.getElementById(a):a};k.je=ue;k.cl=function(a,b,c){return Be(this.Ka,arguments)};k.createElement=function(a){return this.Ka.createElement(a)};k.createTextNode=function(a){return this.Ka.createTextNode(String(a))};function Qe(a){return"CSS1Compat"==a.Ka.compatMode}k.appendChild=function(a,b){a.appendChild(b)};
k.append=function(a,b){Ce(se(a),a,arguments,1)};k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};k.lq=Ee;k.removeNode=Ge;
k.contains=Ie;function Re(a){if(a.classList)return a.classList;a=a.className;return H(a)&&a.match(/\S+/g)||[]}function Se(a,b){var c;a.classList?c=a.classList.contains(b):(c=Re(a),c=0<=Da(c,b));return c}function Te(a,b){a.classList?a.classList.add(b):Se(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Ue(a,b){if(a.classList)Ea(b,function(b){Te(a,b)});else{var c={};Ea(Re(a),function(a){c[a]=!0});Ea(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Ve(a,b){a.classList?a.classList.remove(b):Se(a,b)&&(a.className=Fa(Re(a),function(a){return a!=b}).join(" "))}function We(a,b){a.classList?Ea(b,function(b){Ve(a,b)}):a.className=Fa(Re(a),function(a){return!(0<=Da(b,a))}).join(" ")}function Xe(a,b,c){c?Te(a,b):Ve(a,b)};function Ye(){V.call(this);this.bl=W("counties-list");this.Nk=W("application-panel");this.Mn=W("county-detail-name");this.Kn=(this.xg=W("county-detail-contrib-link"))?this.xg.href:"";this.Ln=W("county-detail-hide");T(this.Ln,"click",function(a){this.Va&&Ve(this.Va.Nf,"active");this.Va=null;Te(this.Nk,"no-county-detail");a.preventDefault()},!1,this);this.lp=W("map-list");this.Ql="";var a=W("item-template");a&&(this.Ql=a.innerHTML,Ge(a));this.sh=W("map-filter");this.kp=W("map-filter-clear");T(this.sh,
"input",function(){Ze(this,this.sh.value)},!1,this);T(this.kp,"click",function(){Ze(this,"")},!1,this);this.Kg=W("georeference-random");T(this.Kg,"click",function(a){Se(this.Kg,"disabled")||this.Va&&je(this.Kg.href,this.Va.label,this.Va.id,"/random/public/georeference/json",void 0);a.preventDefault()},!1,this);this.gi=W("transcribe-random");T(this.gi,"click",function(a){Se(this.gi,"disabled")||this.Va&&je(this.gi.href,this.Va.label,this.Va.id,"/supplement/random/public/transcription/json",!0);a.preventDefault()},
!1,this);this.Ab=[];this.qj=this.Va=null;this.Pf=[];$e(this);this.le="all";a=L(function(a){T(W("map-filter-"+a),"click",function(){Ze(this,"");af(this,a)},!1,this)},this);a("all");a("scanned");a("notgeorefed");a("nottransed");a("notfin");this.fq={Zj:W("progress-maps-reviewed-bar"),$i:W("progress-maps-edited-bar"),Om:W("progress-maps-rest-bar"),Yj:W("progress-maps-reviewed"),Zi:W("progress-maps-edited"),total:W("progress-maps-total")};this.gq={Zj:W("progress-sheets-reviewed-bar"),$i:W("progress-sheets-edited-bar"),
Om:W("progress-sheets-rest-bar"),Yj:W("progress-sheets-reviewed"),Zi:W("progress-sheets-edited"),total:W("progress-sheets-total")};this.Tm=W("stats-gcp-count");this.Um=W("stats-label-count")}N(Ye,V);
function $e(a){if(a.bl){var b=te("LI",a.bl);Ea(b,function(a){if(a){var b=a.getAttribute("data-collection-id"),e=te("A",a)[0],g=Me(e),f=a.getAttribute("data-name");if(b&&e&&f&&0<f.length){var h=a.getAttribute("data-center"),l=null;H(h)&&(h=h.split(","),l=[parseFloat(h[1]),parseFloat(h[0])]);this.Ab.push({label:g,name:f,id:b,center:l,anchor:e,Nf:a});T(e,"click",function(a){bf(this,f);a.preventDefault()},!1,this)}}},a)}}
function cf(a,b){a.qj&&Ve(a.qj.Nf,"highlighted");if(b){var c=Ja(a.Ab,function(a){return a.name==b});c&&(Te(c.Nf,"highlighted"),a.qj=c)}}
function bf(a,b,c){if(a.Va&&a.Va.name==b)c&&c();else{var d=Ja(a.Ab,function(a){return a.name==b});if(d){var e="http://cynefin.georeferencer.com/collection/"+d.id+"/objects/json",g=new Rd(new $c);T(g,"complete",function(){if(ce(g)){var a=fe(g);df(this,a);c&&c()}},!1,a);g.send(e);Je(a.Tm,"...");Je(a.Um,"...");var e="http://cynefin.georeferencer.com/collection/"+d.id+"/stats.json",f=new Rd(new $c);T(f,"complete",function(){if(ce(f)){var a=fe(f).map,b=a.supplement,c=(b.products||{}).transcription||{};
ef(this,!0,(c["impossible-reviewed"]||0)+(c["finished-reviewed"]||0),(c.touched||0)+(c.finished||0)+(c.impossible||0),b.objects||0);b=a.components.label+b.components.label;Je(this.Tm,a.components.gcp.toString());Je(this.Um,b.toString())}},!1,a);f.send(e);Je(a.Mn,d.label);a.xg&&(a.xg.href=a.Kn+"#"+encodeURIComponent(d.label));Ve(a.Nk,"no-county-detail");ef(a,!1,0,0,0);ef(a,!0,0,0,0);a.Va&&Ve(a.Va.Nf,"active");Te(d.Nf,"active");a.Va=d;a.dispatchEvent({type:"opened",tr:b,center:d.center})}}}
function ff(a,b){function c(b,c){function g(b,c){a=a.replace(new RegExp(b,"g"),c)}null!=c||(c="");g("\\$"+b+"\\$",c);0<c.toString().length&&(g("\x3c!--"+b+" ",""),g(" "+b+"--\x3e",""))}c("title",b.title);c("thumbnail_url",b.thumbnail_url);c("transcription_url",b.transcription_url);c("georeference_url",b.georeference_url);c("visualize_url",b.visualize_url);c("object_url",b.object_url);c("link_hash",ie(b));null===b.thumbnail_url&&c("no_thumbnail","\x26nbsp;");return a}
function df(a,b){function c(a,b){Je(W("map-count-"+a),b)}Ea(a.Pf,function(a){Ea(a.keys,U);Ge(a.node)});a.Pf=[];Ze(a,"");af(a,"all");var d=0,e=0,g=0,f=0,h=0,l=0,m=0,n=!1,p=!1;Ea(b,function(a){var b,c=ff(this.Ql,a),y=document;b=y.createElement("DIV");Q?(b.innerHTML="\x3cbr\x3e"+c,b.removeChild(b.firstChild)):b.innerHTML=c;if(1==b.childNodes.length)b=b.removeChild(b.firstChild);else{for(c=y.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b=c}if(ba(b.firstElementChild))b=b.firstElementChild;
else for(b=b.firstChild;b&&1!=b.nodeType;)b=b.nextSibling;this.lp.appendChild(b);var B=a.georeference_status,c=null!=a.thumbnail_url,y=null!=a.visualize_url,v;if(v=B)v=B.length-9,v=0<=v&&B.indexOf("-reviewed",v)==v;var u=c&&!y,B=null===B||"fresh"==B;n=n||null!=a.georeference_url;p=p||null!=a.transcription_url;d++;c&&e++;y&&g++;v&&f++;u&&h++;l++;B&&m++;this.Pf.push({title:gf(a.title),Rp:a.identifier,node:b,keys:[],vq:c,Ip:u,Jp:!0,Hp:B})},a);c("all",d);c("scanned",e);c("notgeorefed",h);c("nottransed",
l);c("notfin",m);X(W("map-filter-scanned-block"),d!=e);Xe(a.Kg,"disabled",!n);Xe(a.gi,"disabled",!p);ef(a,!1,f,g,d)}function ef(a,b,c,d,e){a=b?a.gq:a.fq;Je(a.Yj,c);Je(a.Zi,d);Je(a.total,e);b=100*c/e||0;e=100*d/e||0;a.Zj.style.width=b+"%";a.$i.style.width=e-b+"%";a.Om.style.width=100-e+"%";e=0<c;c=!e||d>c;X(a.Yj,e);X(a.Zj,e);X(a.Zi,c);X(a.$i,c)}function Ze(a,b){a.sh.value=b;hf(a)}function af(a,b){Ve(W("map-filter-"+a.le),"active");Te(W("map-filter-"+b),"active");a.le=b;hf(a)}
function hf(a){var b=gf(a.sh.value).split(" or ");Ea(a.Pf,function(a){var d=!("all"==this.le||"scanned"==this.le&&a.vq||"notgeorefed"==this.le&&a.Ip||"nottransed"==this.le&&a.Jp||"notfin"==this.le&&a.Hp)||Ia(b,function(b){return-1==a.title.indexOf(b)});Xe(a.node,"filtered",d)},a)}function jf(a,b){var c="";Ea(a.Pf,function(a){0<=Da(a.Rp.split("|"),b)&&(0<c.length&&(c+=" OR "),c+=a.title)},a);Ze(a,c)}
function gf(a){a=(a||"").toLowerCase();a=a.replace(RegExp("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]","g"),"a");a=a.replace(RegExp("\u00e6","g"),"ae");a=a.replace(RegExp("[\u00e7\u010d]","g"),"c");a=a.replace(RegExp("\u010f","g"),"c");a=a.replace(RegExp("[\u00e8\u00e9\u00ea\u00eb\u011b]","g"),"e");a=a.replace(RegExp("[\u00ec\u00ed\u00ee\u00ef]","g"),"i");a=a.replace(RegExp("[\u00f1\u0148]","g"),"n");a=a.replace(RegExp("[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]","g"),"o");a=a.replace(RegExp("\u0153","g"),
"oe");a=a.replace(RegExp("\u0159","g"),"r");a=a.replace(RegExp("\u0161","g"),"s");a=a.replace(RegExp("\u0165","g"),"t");a=a.replace(RegExp("[\u00f9\u00fa\u00fb\u00fc\u016f]","g"),"u");a=a.replace(RegExp("[\u00fd\u00ff]","g"),"y");return a=a.replace(RegExp("\u017e","g"),"z")};function kf(a,b,c){V.call(this);this.ad=a;this.$f=c;this.Ta=b;T(b,[lf,mf,nf,of],this.handleEvent,!1,this);this.zb=null;this.$=[];this.Xc=-1;this.La=0;this.Ed=this.W=null;this.Nl={}}N(kf,V);k=kf.prototype;k.pp=10;k.Bn=!0;k.Kk=!1;k.mn=!1;k.dn=!1;var lf="hilite",mf="select",of="dismiss",nf="canceldismiss";k=kf.prototype;
k.handleEvent=function(a){var b=this.ad;if(a.target==this.Ta)switch(a.type){case lf:this.tc(a.ec);break;case mf:var c=!1;if(ha(a.ec)){a=a.ec;var d=this.$[pf(this,a)],c=!!d&&b.zj&&b.zj(d);d&&!c&&this.Xc!=a&&this.tc(a)}c||qf(this);break;case nf:rf(this);break;case of:sf(this)}};k.ek=function(a){this.zb!=a&&(this.zb=a,tf(this.ad,this.zb,this.pp,L(this.mp,this)),rf(this))};k.Ie=function(){return this.W};k.Rh=function(a){this.W=a};
function uf(a){for(var b=a.La+a.$.length-1,c=a.Xc,d=0;d<a.$.length;d++){if(c>=a.La&&c<b)c++;else if(-1==c)c=a.La;else if(a.Kk&&c==b){a.tc(-1);break}else if(a.mn&&c==b)c=a.La;else break;if(a.tc(c))break}}function vf(a){for(var b=a.La+a.$.length-1,c=a.Xc,d=0;d<a.$.length;d++){if(c>a.La)c--;else if(a.Kk&&c==a.La){a.tc(-1);break}else if(!a.mn||-1!=c&&c!=a.La)break;else c=b;if(a.tc(c))break}}
k.tc=function(a){var b=pf(this,a),c=this.$[b];return c&&this.ad.zj&&this.ad.zj(c)?!1:(this.Xc=a,this.Ta.tc(a),-1!=b)};
function qf(a){var b=pf(a,a.Xc);if(-1!=b){var c=a.$[b],d=a.$f;if(d.D){var e=c.toString();if(ba(void 0)?0:d.Te){var g=wf(d,d.D.value,xf(d.D)[0]),f=yf(d,d.D.value);d.wq.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.Pn);d.ar&&(0==g||/^[\s\xa0]*$/.test(f[g-1])||(e=" "+e),g==f.length-1&&(e+=" "));if(e!=f[g]){f[g]=e;e=d.D;(Zb||Q&&hc("9"))&&e.blur();e.value=f.join("");for(var h=0,l=0;l<=g;l++)h+=f[l].length;e.focus();g=h;f=d.D;e=g;zf(f)?f.selectionStart=e:Q&&(h=Af(f),l=h[0],l.inRange(h[1])&&(e=Bf(f,e),l.collapse(!0),
l.move("character",e),l.select()));f=d.D;zf(f)?f.selectionEnd=g:Q&&(h=Af(f),e=h[1],h[0].inRange(e)&&(g=Bf(f,g),f=Bf(f,xf(f)[0]),e.collapse(!0),e.moveEnd("character",g-f),e.select()))}}else d.D.value=e;d.ak=!0}a.dn?(a.zb=null,sf(a)):a.Sb();a.dispatchEvent({type:"update",ec:c,index:b});a.dn&&a.$f.update(!0);return!0}a.Sb();a.dispatchEvent({type:"update",ec:null,index:null});return!1}
k.Sb=function(){this.Xc=-1;this.zb=null;this.La+=this.$.length;this.$=[];window.clearTimeout(this.Ed);this.Ed=null;this.Ta.Sb();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(of)};function sf(a){a.Ed||(a.Ed=window.setTimeout(L(a.Sb,a),100))}k.Ml=function(){return this.Ed?(window.clearTimeout(this.Ed),this.Ed=null,!0):!1};function rf(a){a.Ml()||window.setTimeout(L(a.Ml,a),10)}k.f=function(){kf.o.f.call(this);delete this.Nl;this.Ta.oc();this.$f.oc();this.ad=null};
k.mp=function(a,b,c){this.zb==a&&this.Vj(b,c)};k.Vj=function(a,b){var c="object"==fa(b)&&b,d=(c?c.ur():b)?pf(this,this.Xc):-1;this.La+=this.$.length;this.$=a;for(var e=[],g=0;g<a.length;++g)e.push({id:this.La+g,data:a[g]});g=null;this.W&&(g=this.Nl[J(this.W)]||this.W);this.Ta.xn=g;this.Ta.Vj(e,this.zb,this.W);g=this.Bn;c&&void 0!==c.$n()&&(g=c.$n());this.Xc=-1;(g||0<=d)&&0!=e.length&&this.zb&&(0<=d?this.tc(this.La+d):uf(this));this.dispatchEvent("suggestionsupdate")};
function pf(a,b){var c=b-a.La;return 0>c||c>=a.$.length?-1:c}k.Fi=function(a){var b=this.$f;b.Fi.apply(b,arguments)};k.update=function(a){this.$f.update(a)};var Cf;function Df(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Ef(a,b,c){A(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Cf||(Cf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Cf,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function Ff(a,b){var c="";b&&(c=b.id);Ef(a,"activedescendant",c)};function xf(a){var b=0,c=0;if(zf(a))b=a.selectionStart,c=-1;else if(Q){var d=Af(a),e=d[0],d=d[1];if(e.inRange(d)){e.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=e.text;for(c=!1;!c;)0==e.compareEndPoints("StartToEnd",e)?c=!0:(e.moveEnd("character",-1),e.text==a?b+="\r\n":c=!0);e=[b.length,-1];return e}b=e.text.length;c=-1}}return[b,c]}
function Af(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function Bf(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function zf(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function Gf(a){nc.call(this);this.Wc=a;this.J={}}N(Gf,nc);var Hf=[];k=Gf.prototype;k.ab=function(a,b,c,d){A(b)||(b&&(Hf[0]=b.toString()),b=Hf);for(var e=0;e<b.length;e++){var g=T(a,b[e],c||this.handleEvent,d||!1,this.Wc||this);if(!g)break;this.J[g.key]=g}return this};k.Yl=function(a,b,c,d){return If(this,a,b,c,d)};function If(a,b,c,d,e,g){if(A(c))for(var f=0;f<c.length;f++)If(a,b,c[f],d,e,g);else{b=Qc(b,c,d||a.handleEvent,e,g||a.Wc||a);if(!b)return a;a.J[b.key]=b}return a}
k.gc=function(a,b,c,d,e){if(A(b))for(var g=0;g<b.length;g++)this.gc(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.Wc||this,c=Kc(c),d=!!d,b=Ac(a)?a.Df(b,c,d,e):a?(a=Mc(a))?a.Df(b,c,d,e):null:null,b&&(U(b),delete this.J[b.key]);return this};k.Hh=function(){Ya(this.J,function(a,b){this.J.hasOwnProperty(b)&&U(a)},this);this.J={}};k.f=function(){Gf.o.f.call(this);this.Hh()};k.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Jf(a,b,c,d,e){if(!(Q||Yb||$b&&hc("525")))return!0;if(ac&&e)return Kf(a);if(e&&!d)return!1;ha(b)&&(b=Lf(b));if(!c&&(17==b||18==b||ac&&91==b))return!1;if(($b||Yb)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Q&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!($b||Yb)}return Kf(a)}
function Kf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||($b||Yb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Lf(a){if(Zb)a=Mf(a);else if(ac&&$b)a:switch(a){case 93:a=91;break a}return a}
function Mf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Nf(a,b){V.call(this);a&&Pf(this,a,b)}N(Nf,V);k=Nf.prototype;k.c=null;k.hh=null;k.Aj=null;k.ih=null;k.jb=-1;k.Yc=-1;k.Bi=!1;
var Qf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Rf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Sf=Q||Yb||$b&&hc("525"),Tf=ac&&Zb;k=Nf.prototype;
k.qo=function(a){if($b||Yb)if(17==this.jb&&!a.ctrlKey||18==this.jb&&!a.altKey||ac&&91==this.jb&&!a.metaKey)this.Yc=this.jb=-1;-1==this.jb&&(a.ctrlKey&&17!=a.keyCode?this.jb=17:a.altKey&&18!=a.keyCode?this.jb=18:a.metaKey&&91!=a.keyCode&&(this.jb=91));Sf&&!Jf(a.keyCode,this.jb,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Yc=Lf(a.keyCode),Tf&&(this.Bi=a.altKey))};k.so=function(a){this.Yc=this.jb=-1;this.Bi=a.altKey};
k.handleEvent=function(a){var b=a.R,c,d,e=b.altKey;Q&&"keypress"==a.type?(c=this.Yc,d=13!=c&&27!=c?b.keyCode:0):($b||Yb)&&"keypress"==a.type?(c=this.Yc,d=0<=b.charCode&&63232>b.charCode&&Kf(c)?b.charCode:0):Xb&&!$b?(c=this.Yc,d=Kf(c)?b.keyCode:0):(c=b.keyCode||this.Yc,d=b.charCode||0,Tf&&(e=this.Bi),ac&&63==d&&224==c&&(c=191));var g=c=Lf(c),f=b.keyIdentifier;c?63232<=c&&c in Qf?g=Qf[c]:25==c&&a.shiftKey&&(g=9):f&&f in Rf&&(g=Rf[f]);a=g==this.jb;this.jb=g;b=new Uf(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
k.Bf=function(){return this.c};function Pf(a,b,c){a.ih&&a.detach();a.c=b;a.hh=T(a.c,"keypress",a,c);a.Aj=T(a.c,"keydown",a.qo,c,a);a.ih=T(a.c,"keyup",a.so,c,a)}k.detach=function(){this.hh&&(U(this.hh),U(this.Aj),U(this.ih),this.ih=this.Aj=this.hh=null);this.c=null;this.Yc=this.jb=-1};k.f=function(){Nf.o.f.call(this);this.detach()};function Uf(a,b,c,d){wc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}N(Uf,wc);var Vf=Wb()||P("iPod"),Wf=P("iPad");function Xf(a,b,c,d){nc.call(this);d=d||150;this.Te=null!=c?c:!0;this.ag=a||",;";this.Pn=this.ag.substring(0,1);a=this.Te?"[\\s"+this.ag+"]+":"[\\s]+";this.en=new RegExp("^"+a+"|"+a+"$","g");this.wq=new RegExp("\\s*["+this.ag+"]$");this.Zl=b||"";this.cq=!1;this.bq=this.Te;this.M=0<d?new Nd(d):null;this.za=new Gf(this);this.zi=new Gf(this);this.ac=new Nf;this.Tl=-1}N(Xf,nc);var Yf=(Vf||Wf)&&!hc("533.17.9");k=Xf.prototype;k.ar=!0;k.Zn=!0;k.jn=!1;k.yq=!0;k.xq=!0;k.Ai=null;k.D=null;k.Gj="";k.vd=!1;
k.ak=!1;k.gn=!0;k.Fi=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];He(c)&&Ef(c,"haspopup",!0);this.za.ab(c,"focus",this.wl);this.za.ab(c,"blur",this.lo);if(!this.D&&(this.zi.ab(c,"keydown",this.Np),He(c))){var d;a:{var e=se(c);try{d=e&&e.activeElement;break a}catch(g){}d=null}d==c&&Zf(this,c)}}};k.f=function(){Xf.o.f.call(this);null!=this.Ai&&window.clearTimeout(this.Ai);this.za.oc();delete this.za;this.zi.oc();this.ac.oc();rc(this.M)};
function $f(a){a.M?a.M.setInterval(300):a.M=new Nd(300)}
function ag(a,b){switch(b.keyCode){case 40:if(a.X.Ta.hc){a.jn?vf(a.X):uf(a.X);b.preventDefault();return}if(!a.Te){a.update(!0);b.preventDefault();return}break;case 38:if(a.X.Ta.hc){a.jn?uf(a.X):vf(a.X);b.preventDefault();return}break;case 9:if(!a.X.Ta.hc||b.shiftKey||a.cq)a.X.Sb();else if(a.update(),qf(a.X)&&a.bq){b.preventDefault();return}break;case 13:if(a.X.Ta.hc){if(a.update(),qf(a.X)){b.preventDefault();b.stopPropagation();return}}else a.X.Sb();break;case 27:if(a.X.Ta.hc){a.X.Sb();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.vd){a.vd||(a.za.ab(a.D,"keyup",a.mm),a.za.ab(a.D,"keypress",a.lm),a.vd=!0);return}break;default:a.M&&!a.gn&&(a.M.stop(),a.M.start())}bg(a,b)}function bg(a,b){var c=a.Te&&b.charCode&&-1!=a.ag.indexOf(String.fromCharCode(b.charCode));a.yq&&c&&a.update();a.xq&&c&&qf(a.X)&&b.preventDefault()}k.ro=function(){return!1};k.wl=function(a){Zf(this,a.target||null)};
function Zf(a,b){a.zi.Hh();a.X&&rf(a.X);b!=a.D&&(a.D=b,a.M&&(a.M.start(),a.za.ab(a.M,Od,a.rm)),a.Gj=a.D.value,Pf(a.ac,a.D),a.za.ab(a.ac,"key",a.nm),a.za.ab(a.D,"mousedown",a.om),Q&&a.za.ab(a.D,"keypress",a.km))}k.lo=function(){Yf?this.Ai=window.setTimeout(L(this.ym,this),0):this.ym()};
k.ym=function(){this.D&&(this.za.gc(this.ac,"key",this.nm),this.ac.detach(),this.za.gc(this.D,"keyup",this.ro),this.za.gc(this.D,"mousedown",this.om),Q&&this.za.gc(this.D,"keypress",this.km),this.vd&&cg(this),this.D=null,this.M&&(this.M.stop(),this.za.gc(this.M,Od,this.rm)),this.X&&sf(this.X))};k.rm=function(){this.update()};k.Np=function(a){this.wl(a)};k.nm=function(a){this.Tl=a.keyCode;this.X&&ag(this,a)};k.lm=function(){this.vd&&229!=this.Tl&&cg(this)};
k.mm=function(a){this.vd&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&cg(this)};k.om=function(){};function cg(a){a.vd&&(a.vd=!1,a.za.gc(a.D,"keypress",a.lm),a.za.gc(a.D,"keyup",a.mm))}k.km=function(a){bg(this,a)};k.update=function(a){if(this.D&&(a||this.D.value!=this.Gj)){if(a||!this.ak){a=xf(this.D)[0];var b=this.D.value;a=yf(this,b)[wf(this,b,a)];a=this.en?String(a).replace(this.en,""):a;this.X&&(this.X.Rh(this.D),this.X.ek(a,this.D.value))}this.Gj=this.D.value}this.ak=!1};
function wf(a,b,c){a=yf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}function yf(a,b){if(!a.Te)return[b];for(var c=String(b).split(""),d=[],e=[],g=0,f=!1;g<c.length;g++)a.Zl&&-1!=a.Zl.indexOf(c[g])?(a.Zn&&!f&&(d.push(e.join("")),e.length=0),e.push(c[g]),f=!f):f||-1==a.ag.indexOf(c[g])?e.push(c[g]):(e.push(c[g]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function dg(){V.call(this);this.h=eg;this.endTime=this.startTime=null}N(dg,V);var eg=0;dg.prototype.Ac=function(){this.Tb("begin")};dg.prototype.dd=function(){this.Tb("end")};dg.prototype.Tb=function(a){this.dispatchEvent(a)};function fg(a,b,c){nc.call(this);this.C=null;this.zk=!1;this.Of=a;this.Wc=c;this.ic=b||window;this.jf=L(this.Xi,this)}N(fg,nc);k=fg.prototype;k.start=function(){this.stop();this.zk=!1;var a=gg(this),b=hg(this);a&&!b&&this.ic.mozRequestAnimationFrame?(this.C=T(this.ic,"MozBeforePaint",this.jf),this.ic.mozRequestAnimationFrame(null),this.zk=!0):this.C=a&&b?a.call(this.ic,this.jf):this.ic.setTimeout(qb(this.jf),20)};
k.stop=function(){if(this.Pe()){var a=gg(this),b=hg(this);a&&!b&&this.ic.mozRequestAnimationFrame?U(this.C):a&&b?b.call(this.ic,this.C):this.ic.clearTimeout(this.C)}this.C=null};k.Pe=function(){return null!=this.C};k.Xi=function(){this.zk&&this.C&&U(this.C);this.C=null;this.Of.call(this.Wc,pa())};k.f=function(){this.stop();fg.o.f.call(this)};
function gg(a){a=a.ic;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function hg(a){a=a.ic;return a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function ig(a,b,c){nc.call(this);this.Of=a;this.Vd=b||0;this.Wc=c;this.jf=L(this.Xi,this)}N(ig,nc);k=ig.prototype;k.C=0;k.f=function(){ig.o.f.call(this);this.stop();delete this.Of;delete this.Wc};k.start=function(a){this.stop();this.C=Pd(this.jf,ba(a)?a:this.Vd)};k.stop=function(){this.Pe()&&x.clearTimeout(this.C);this.C=0};k.Pe=function(){return 0!=this.C};k.Xi=function(){this.C=0;this.Of&&this.Of.call(this.Wc)};var jg={},kg=null;function lg(a){a=J(a);delete jg[a];eb(jg)&&kg&&kg.stop()}function mg(){kg||(kg=new ig(function(){ng()},20));var a=kg;a.Pe()||a.start()}function ng(){var a=pa();Ya(jg,function(b){og(b,a)});eb(jg)||mg()};function pg(a,b,c,d){dg.call(this);if(!A(a)||!A(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.eg=a;this.Tn=b;this.duration=c;this.Gk=d;this.coords=[];this.wb=0}N(pg,dg);k=pg.prototype;
k.play=function(a){if(a||this.h==eg)this.wb=0,this.coords=this.eg;else if(1==this.h)return!1;lg(this);this.startTime=a=pa();-1==this.h&&(this.startTime-=this.duration*this.wb);this.endTime=this.startTime+this.duration;this.wb||this.Ac();this.Tb("play");-1==this.h&&this.Tb("resume");this.h=1;var b=J(this);b in jg||(jg[b]=this);mg();og(this,a);return!0};k.stop=function(a){lg(this);this.h=eg;a&&(this.wb=1);qg(this,this.wb);this.Tb("stop");this.dd()};
k.pause=function(){1==this.h&&(lg(this),this.h=-1,this.Tb("pause"))};k.f=function(){this.h==eg||this.stop(!1);this.Tb("destroy");pg.o.f.call(this)};function og(a,b){a.wb=(b-a.startTime)/(a.endTime-a.startTime);1<=a.wb&&(a.wb=1);qg(a,a.wb);1==a.wb?(a.h=eg,lg(a),a.Tb("finish"),a.dd()):1==a.h&&a.Qj()}function qg(a,b){ia(a.Gk)&&(b=a.Gk(b));a.coords=Array(a.eg.length);for(var c=0;c<a.eg.length;c++)a.coords[c]=(a.Tn[c]-a.eg[c])*b+a.eg[c]}k.Qj=function(){this.Tb("animate")};
k.Tb=function(a){this.dispatchEvent(new rg(a,this))};function rg(a,b){S.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.wb=b.wb;this.state=b.h}N(rg,S);function sg(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=sg.prototype;k.Oa=function(){return this.right-this.left};k.Fe=function(){return this.bottom-this.top};k.clone=function(){return new sg(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof sg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){ja(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof me?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ha(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function tg(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}k=tg.prototype;k.clone=function(){return new tg(this.left,this.top,this.width,this.height)};k.gh=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
k.contains=function(a){return a instanceof tg?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};k.distance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return Math.sqrt(b*b+a*a)};k.N=function(){return new oe(this.width,this.height)};
k.Ma=function(){return new me(this.left+this.width/2,this.top+this.height/2)};k.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.translate=function(a,b){a instanceof me?(this.left+=a.x,this.top+=a.y):(this.left+=a,ha(b)&&(this.top+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function ug(a,b){var c=se(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function vg(a,b){return ug(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function wg(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Q&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function xg(a){if(Q&&!(8<=jc))return a.offsetParent;var b=se(a),c=vg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=vg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function yg(a){for(var b=new sg(0,Infinity,Infinity,0),c=qe(a),d=c.Ka.body,e=c.Ka.documentElement,g=ye(c.Ka);a=xg(a);)if(!(Q&&0==a.clientWidth||$b&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=vg(a,"overflow")){var f=zg(a),h=new me(a.clientLeft,a.clientTop);f.x+=h.x;f.y+=h.y;b.top=Math.max(b.top,f.y);b.right=Math.min(b.right,f.x+a.clientWidth);b.bottom=Math.min(b.bottom,f.y+a.clientHeight);b.left=Math.max(b.left,f.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,
g);c=we(ze(c.Ka)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function zg(a){var b=se(a),c=new me(0,0),d;d=b?se(b):document;var e;(e=!Q)||(e=9<=jc);d=e||Qe(qe(d))?d.documentElement:d.body;if(a==d)return c;a=wg(a);b=qe(b);b=xe(b.Ka);c.x=a.left+b.x;c.y=a.top+b.y;return c}function Ag(a){a=wg(a);return new me(a.left,a.top)}
function Bg(a){if(1==a.nodeType)return Ag(a);a=a.changedTouches?a.changedTouches[0]:a;return new me(a.clientX,a.clientY)}function Cg(a){"number"==typeof a&&(a+="px");return a}function Dg(a){var b=Eg;if("none"!=vg(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}
function Eg(a){var b=a.offsetWidth,c=a.offsetHeight,d=$b&&!b&&!c;return ba(b)&&!d||!a.getBoundingClientRect?new oe(b,c):(a=wg(a),new oe(a.right-a.left,a.bottom-a.top))}function X(a,b){a.style.display=b?"":"none"}function Fg(a){return"rtl"==vg(a,"direction")}var Gg=Zb?"MozUserSelect":$b?"WebkitUserSelect":null;
function Hg(a){var b=a.getElementsByTagName("*");if(Gg){var c="none";a.style&&(a.style[Gg]=c);if(b){a=0;for(var d;d=b[a];a++)d.style&&(d.style[Gg]=c)}}else if(Q||Xb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function Ig(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],g=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=g;return b}
function Jg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Ig(a,c,"left","pixelLeft"):0}function Kg(a){if(Q){var b=Jg(a,"paddingLeft"),c=Jg(a,"paddingRight"),d=Jg(a,"paddingTop");a=Jg(a,"paddingBottom");return new sg(d,c,a,b)}b=ug(a,"paddingLeft");c=ug(a,"paddingRight");d=ug(a,"paddingTop");a=ug(a,"paddingBottom");return new sg(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Lg={thin:2,medium:4,thick:6};
function Mg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Lg?Lg[c]:Ig(a,c,"left","pixelLeft")}
function Ng(a){if(Q&&!(9<=jc)){var b=Mg(a,"borderLeft"),c=Mg(a,"borderRight"),d=Mg(a,"borderTop");a=Mg(a,"borderBottom");return new sg(d,c,a,b)}b=ug(a,"borderLeftWidth");c=ug(a,"borderRightWidth");d=ug(a,"borderTopWidth");a=ug(a,"borderBottomWidth");return new sg(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Og(a,b,c,d,e){pg.call(this,b,c,d,e);this.element=a}N(Og,pg);Og.prototype.ki=da;Og.prototype.Qj=function(){this.ki();Og.o.Qj.call(this)};Og.prototype.dd=function(){this.ki();Og.o.dd.call(this)};Og.prototype.Ac=function(){this.ki();Og.o.Ac.call(this)};function Pg(a,b,c,d,e){ha(b)&&(b=[b]);ha(c)&&(c=[c]);Og.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.mh=Qg}N(Pg,Og);var Rg=1/1024,Qg=-1;
Pg.prototype.ki=function(){var a=this.coords[0];if(Math.abs(a-this.mh)>=Rg){var b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")");this.mh=a}};Pg.prototype.Ac=function(){this.mh=Qg;Pg.o.Ac.call(this)};Pg.prototype.dd=function(){this.mh=Qg;Pg.o.dd.call(this)};Pg.prototype.show=function(){this.element.style.display=""};function Sg(a,b,c){Pg.call(this,a,1,0,b,c)}N(Sg,Pg);
Sg.prototype.Ac=function(){this.show();Sg.o.Ac.call(this)};Sg.prototype.dd=function(){this.element.style.display="none";Sg.o.dd.call(this)};function Tg(a,b,c){Pg.call(this,a,0,1,b,c)}N(Tg,Pg);Tg.prototype.Ac=function(){this.show();Tg.o.Ac.call(this)};function Ug(a,b){return(b&4&&Fg(a)?b^2:b)&-5};function Vg(){}ea(Vg);Vg.prototype.gm=0;function Wg(a,b,c,d){V.call(this);this.ra=a||document.body;this.Ub=qe(this.ra);this.rq=!a;this.c=null;this.zb="";this.$=[];this.he=[];this.Sm=this.Zg=-1;this.hc=!1;this.className="ac-renderer";this.$j="ac-row";this.Vl="active";this.Hk="ac-active";this.Wo="ac-highlighted";this.ve=b||null;this.Yq=null!=d?d:!0;this.np=!0;this.Yg=!1;this.uq=!!c;this.di=!1;this.xh=0;this.Rm=!1}N(Wg,V);k=Wg.prototype;k.Bf=function(){return this.c};
k.Vj=function(a,b,c){this.zb=b;this.$=a;this.Zg=-1;this.Sm=pa();this.W=c;this.he=[];Xg(this)};k.Sb=function(){this.W&&Ff(this.W,null);this.hc&&(this.hc=!1,this.W&&Ef(this.W,"haspopup",!1),0<this.xh?(rc(this.qe),this.qe=new Sg(this.c,this.xh),this.qe.play()):X(this.c,!1))};k.show=function(){this.hc||(this.hc=!0,this.W&&(Df(this.W,"combobox"),Ef(this.W,"autocomplete","list"),Ef(this.W,"haspopup",!0)),0<this.xh?(rc(this.qe),this.qe=new Tg(this.c,this.xh),this.qe.play()):X(this.c,!0))};
function Yg(a,b){var c=0<=b&&b<a.$.length?a.$[b]:void 0,d=0<=b&&b<a.he.length?a.he[b]:void 0;if(a.dispatchEvent({type:"rowhilite",vr:d,ec:c?c.data:null})&&(0<=a.Zg&&We(a.he[a.Zg],[a.Hk,a.Vl]),a.Zg=b,d)){Ue(d,[a.Hk,a.Vl]);a.W&&Ff(a.W,d);var e=(c=a.c||ye(document))||ye(document),g=zg(d),f=zg(e),h=Ng(e);if(e==ye(document)){var l=g.x-e.scrollLeft,g=g.y-e.scrollTop;!Q||10<=jc||(l+=h.left,g+=h.top)}else l=g.x-f.x-h.left,g=g.y-f.y-h.top;var h=e.clientHeight-d.offsetHeight,f=e.scrollLeft,m=e.scrollTop,f=
f+Math.min(l,Math.max(l-(e.clientWidth-d.offsetWidth),0)),m=m+Math.min(g,Math.max(g-h,0)),d=new me(f,m);c.scrollLeft=d.x;c.scrollTop=d.y}}k.tc=function(a){if(-1==a)Yg(this,-1);else for(var b=0;b<this.$.length;b++)if(this.$[b].id==a){Yg(this,b);break}};
function Zg(a){if(!a.c){var b=a.Ub.cl("DIV",{style:"display:none"});a.Rm&&(b.style.overflowY="auto");a.c=b;Ue(b,sa(a.className).split(" "));Df(b,"listbox");b.id=":"+(Vg.Zb().gm++).toString(36);a.Ub.appendChild(a.ra,b);T(b,"click",a.sc,!1,a);T(b,"mousedown",a.yl,!1,a);T(b,"mouseover",a.zl,!1,a)}}
function Xg(a){Zg(a);a.di&&(a.c.style.visibility="hidden");a.br&&(a.c.style.minWidth=a.br.clientWidth+"px");a.he.length=0;a.Ub.lq(a.c);if(a.ve&&a.ve.render)a.ve.render(a,a.c,a.$,a.zb);else{var b=null;Ea(a.$,function(a){var d=this.zb,e=this.Ub.cl("DIV",{className:this.$j,id:":"+(Vg.Zb().gm++).toString(36)});Df(e,"option");this.ve&&this.ve.Cm?this.ve.Cm(a,d,e):Je(e,a.data.toString());d&&this.Yq&&(this.ln=!1,$g(this,e,d));Te(e,this.$j);this.he.push(e);a=e;this.di?this.c.insertBefore(a,b):this.Ub.appendChild(this.c,
a);b=a},a)}0==a.$.length?a.Sb():(a.show(),ah(a),Hg(a.c))}
function ah(a){if(a.W&&a.rq){var b=a.xn||a.W,c,d=a.uq?3:1;a.di&&(d^=1);c=d;var e=65;a.Rm&&(a.c.style.height="",e|=32);var d=a.c,g=c^1,f,h;if(f=d.offsetParent){var l="HTML"==f.tagName||"BODY"==f.tagName;l&&"static"==vg(f,"position")||(h=zg(f),l||(l=(l=Fg(f))&&Zb?-f.scrollLeft:!l||Q&&hc("8")||"visible"==vg(f,"overflowX")?f.scrollLeft:f.scrollWidth-f.clientWidth-f.scrollLeft,h=ne(h,new me(l,f.scrollTop))))}f=h||new me;h=zg(b);l=Dg(b);h=new tg(h.x,h.y,l.width,l.height);if(l=yg(b)){var m=new tg(l.left,
l.top,l.right-l.left,l.bottom-l.top),l=Math.max(h.left,m.left),n=Math.min(h.left+h.width,m.left+m.width);if(l<=n){var p=Math.max(h.top,m.top),m=Math.min(h.top+h.height,m.top+m.height);p<=m&&(h.left=l,h.top=p,h.width=n-l,h.height=m-p)}}l=qe(b);p=qe(d);if(l.Ka!=p.Ka){var n=l.Ka.body,p=ze(p.Ka),m=new me(0,0),q;q=(q=se(n))?ze(q):window;var r=n;do{var t=q==p?zg(r):Ag(r);m.x+=t.x;m.y+=t.y}while(q&&q!=p&&q!=q.parent&&(r=q.frameElement)&&(q=q.parent));n=ne(m,zg(n));!Q||9<=jc||Qe(l)||(n=ne(n,xe(l.Ka)));h.left+=
n.x;h.top+=n.y}var b=Ug(b,c),b=new me(b&2?h.left+h.width:h.left,b&1?h.top+h.height:h.top),b=ne(b,f),y;e&&(y=yg(d))&&(y.top-=f.y,y.right-=f.x,y.bottom-=f.y,y.left-=f.x);b=b.clone();f=Ug(d,g);g=Dg(d);c=g.clone();b=b.clone();c=c.clone();h=0;0!=f&&(f&2&&(b.x-=c.width+0),f&1&&(b.y-=c.height+0));e&&(y?(f=b,h=c,l=0,65==(e&65)&&(f.x<y.left||f.x>=y.right)&&(e&=-2),132==(e&132)&&(f.y<y.top||f.y>=y.bottom)&&(e&=-5),f.x<y.left&&e&1&&(f.x=y.left,l|=1),e&16&&(n=f.x,f.x<y.left&&(f.x=y.left,l|=4),f.x+h.width>y.right&&
(h.width=Math.min(y.right-f.x,n+h.width-y.left),h.width=Math.max(h.width,0),l|=4)),f.x+h.width>y.right&&e&1&&(f.x=Math.max(y.right-h.width,y.left),l|=1),e&2&&(l=l|(f.x<y.left?16:0)|(f.x+h.width>y.right?32:0)),f.y<y.top&&e&4&&(f.y=y.top,l|=2),e&32&&(n=f.y,f.y<y.top&&(f.y=y.top,l|=8),f.y+h.height>y.bottom&&(h.height=Math.min(y.bottom-f.y,n+h.height-y.top),h.height=Math.max(h.height,0),l|=8)),f.y+h.height>y.bottom&&e&4&&(f.y=Math.max(y.bottom-h.height,y.top),l|=2),e&8&&(l=l|(f.y<y.top?64:0)|(f.y+h.height>
y.bottom?128:0)),e=l):e=256,h=e);e=new tg(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;h&496||(b=new me(e.left,e.top),b instanceof me?(y=b.x,b=b.y):(y=b,b=void 0),d.style.left=Cg(y),d.style.top=Cg(b),c=e.N(),pe(g,c)||(e=c,y=Qe(qe(se(d))),!Q||hc("10")||y&&hc("8")?(d=d.style,Zb?d.MozBoxSizing="border-box":$b?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(g=d.style,y?(y=Kg(d),d=Ng(d),g.pixelWidth=e.width-
d.left-y.left-y.right-d.right,g.pixelHeight=e.height-d.top-y.top-y.bottom-d.bottom):(g.pixelWidth=e.width,g.pixelHeight=e.height))));a.di&&(a.c.style.visibility="visible")}}k.Ie=function(){return this.W||null};k.f=function(){this.c&&(Rc(this.c,"click",this.sc,!1,this),Rc(this.c,"mousedown",this.yl,!1,this),Rc(this.c,"mouseover",this.zl,!1,this),this.Ub.removeNode(this.c),this.c=null,this.hc=!1);rc(this.qe);this.ra=null;Wg.o.f.call(this)};
function $g(a,b,c){if(a.Yg||!a.ln)if(3==b.nodeType){var d=null;A(c)&&1<c.length&&!a.Yg&&(d=Pa(c,1));c=bh(a,c);if(0!=c.length){var e=b.nodeValue,g=a.np?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var f=0,h=g.exec(e),l=0;h;)l++,c.push(e.substring(f,h.index)),c.push(e.substring(h.index,g.lastIndex)),f=g.lastIndex,h=g.exec(e);c.push(e.substring(f));if(1<c.length){d=a.Yg?l:1;for(e=0;e<d;e++)g=2*e,b.nodeValue=c[g],f=a.Ub.createElement("B"),f.className=a.Wo,a.Ub.appendChild(f,a.Ub.createTextNode(c[g+
1])),f=b.parentNode.insertBefore(f,b.nextSibling),b.parentNode.insertBefore(a.Ub.createTextNode(""),f.nextSibling),b=f.nextSibling;b.nodeValue=Pa(c,2*d).join("");a.ln=!0}else d&&$g(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,$g(a,b,c),b=d}
function bh(a,b){var c="";if(!b)return c;A(b)&&(b=Fa(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.Yg?A(b)?c=Ga(b,Ba).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ba(c),c=c.replace(/ /g,"|")):A(b)?c=0<b.length?Ba(b[0]):"":/^\W/.test(b)||(c=Ba(b));return c}function ch(a,b){for(;b&&b!=a.c&&!Se(b,a.$j);)b=b.parentNode;return b?Da(a.he,b):-1}k.sc=function(a){var b=ch(this,a.target);0<=b&&this.dispatchEvent({type:mf,ec:this.$[b].id});a.stopPropagation()};
k.yl=function(a){a.stopPropagation();a.preventDefault()};k.zl=function(a){a=ch(this,a.target);0<=a&&!(300>pa()-this.Sm)&&this.dispatchEvent({type:lf,ec:this.$[a].id})};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function dh(a,b){this.Qh=[];this.jm=a;this.el=b||null;this.Hf=this.Ce=!1;this.Dc=void 0;this.gk=this.En=this.Hi=!1;this.ii=0;this.ra=null;this.Ji=0}dh.prototype.cancel=function(a){if(this.Ce)this.Dc instanceof dh&&this.Dc.cancel();else{if(this.ra){var b=this.ra;delete this.ra;a?b.cancel(a):(b.Ji--,0>=b.Ji&&b.cancel())}this.jm?this.jm.call(this.el,this):this.gk=!0;this.Ce||(a=new eh,fh(this),gh(this,!1,a))}};dh.prototype.al=function(a,b){this.Hi=!1;gh(this,a,b)};
function gh(a,b,c){a.Ce=!0;a.Dc=c;a.Hf=!b;hh(a)}function fh(a){if(a.Ce){if(!a.gk)throw new ih;a.gk=!1}}function jh(a,b,c,d){a.Qh.push([b,c,d]);a.Ce&&hh(a)}dh.prototype.then=function(a,b,c){var d,e,g=new td(function(a,b){d=a;e=b});jh(this,d,function(a){a instanceof eh?g.cancel():e(a)});return g.then(a,b,c)};cd(dh);function kh(a){return Ha(a.Qh,function(a){return ia(a[1])})}
function hh(a){if(a.ii&&a.Ce&&kh(a)){var b=a.ii,c=lh[b];c&&(x.clearTimeout(c.C),delete lh[b]);a.ii=0}a.ra&&(a.ra.Ji--,delete a.ra);for(var b=a.Dc,d=c=!1;a.Qh.length&&!a.Hi;){var e=a.Qh.shift(),g=e[0],f=e[1],e=e[2];if(g=a.Hf?f:g)try{var h=g.call(e||a.el,b);ba(h)&&(a.Hf=a.Hf&&(h==b||h instanceof Error),a.Dc=b=h);if(dd(b)||"function"===typeof x.Promise&&b instanceof x.Promise)d=!0,a.Hi=!0}catch(l){b=l,a.Hf=!0,kh(a)||(c=!0)}}a.Dc=b;d&&(h=L(a.al,a,!0),d=L(a.al,a,!1),b instanceof dh?(jh(b,h,d),b.En=!0):
b.then(h,d));c&&(b=new mh(b),lh[b.C]=b,a.ii=b.C)}function ih(){qa.call(this)}N(ih,qa);ih.prototype.message="Deferred has already fired";ih.prototype.name="AlreadyCalledError";function eh(){qa.call(this)}N(eh,qa);eh.prototype.message="Deferred was canceled";eh.prototype.name="CanceledError";function mh(a){this.C=x.setTimeout(L(this.Dq,this),0);this.Gg=a}mh.prototype.Dq=function(){delete lh[this.C];throw this.Gg;};var lh={};function nh(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),g={Qm:e,ne:void 0},f=new dh(oh,g),h=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(h=window.setTimeout(function(){ph(e,!0);var b=new qh(rh,"Timeout reached for loading script "+a);fh(f);gh(f,!1,b)},l),g.ne=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(ph(e,c.In||!1,h),fh(f),gh(f,!0,null))};e.onerror=function(){ph(e,!0,h);var b=new qh(sh,"Error while loading script "+
a);fh(f);gh(f,!1,b)};g=c.attributes||{};jb(g,{type:"text/javascript",charset:"UTF-8",src:a});ue(e,g);th(d).appendChild(e);return f}function th(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function oh(){if(this&&this.Qm){var a=this.Qm;a&&"SCRIPT"==a.tagName&&ph(a,!0,this.ne)}}function ph(a,b,c){null!=c&&x.clearTimeout(c);a.onload=da;a.onerror=da;a.onreadystatechange=da;b&&window.setTimeout(function(){Ge(a)},0)}var sh=0,rh=1;
function qh(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);qa.call(this,c);this.code=a}N(qh,qa);function uh(a,b){this.Uq=new Ab(a);this.Gn=b?b:"callback";this.ne=5E3}var vh=0;uh.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(vh++).toString(36)+pa().toString(36);x._callbacks_||(x._callbacks_={});var e=this.Uq.clone();if(a)for(var g in a)a.hasOwnProperty&&!a.hasOwnProperty(g)||Ob(e,g,a[g]);b&&(x._callbacks_[d]=wh(d,b),Ob(e,this.Gn,"_callbacks_."+d));b=nh(e.toString(),{timeout:this.ne,In:!0});jh(b,null,xh(d,a,c),void 0);return{C:d,gl:b}};
uh.prototype.cancel=function(a){a&&(a.gl&&a.gl.cancel(),a.C&&yh(a.C,!1))};function xh(a,b,c){return function(){yh(a,!1);c&&c(b)}}function wh(a,b){return function(c){yh(a,!0);b.apply(void 0,arguments)}}function yh(a,b){x._callbacks_[a]&&(b?delete x._callbacks_[a]:x._callbacks_[a]=da)};function zh(a,b,c){this.Vq=a||"http://open.mapquestapi.com/nominatim/v1/search";this.be=b||{};if(this.pe=c||null)this.be.viewboxlbrt=this.pe.join(","),this.be.bounded=1;this.Rl=new uh(this.Vq,"json_callback")}
function tf(a,b,c,d){a.be.q=b;a.be.format="json";a.be.addressdetails=1;a.be.limit=c;b&&1!=b.length?(null!==a.Mm&&a.Rl.cancel(a.Mm),a.Mm=a.Rl.send(a.be,L(function(a){var c=Fa(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==a["class"])&&"state"!==a.type&&"country"!==a.type}),f=Fa(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]}),h=L(function(a){var b=[];Ea(a,function(a){var c=a.boundingbox,c=c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:
null;this.pe&&c&&(this.pe[0]>c[2]||this.pe[1]>c[3]||this.pe[2]<c[0]||this.pe[3]<c[1])||b.push({formatted_address:a.display_name,type:a.type,bounds:c,lat:parseFloat(a.lat),lon:parseFloat(a.lon),viewport:null})},this);return b},this);0<c.length?(Ea(c,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:
a.address.hamlet;if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,h(La(c,f)))):d(b,h(a))},a))):d(b,[])};function Ah(a,b,c,d){var e=new Wg(null,{Cm:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});this.ad=new zh(b,c,d);b=new Xf(null,null,!1);$f(b);b.gn=!1;b.X=this;b.Fi(a);kf.call(this,this.ad,e,b);this.ab("update",function(b){b.ec&&(a.value=b.ec.formatted_address)})}N(Ah,kf);Ah.prototype.search=function(a,b,c){tf(this.ad,a,b,c)};Ah.prototype.ek=function(a,b){this.Sb();Ah.o.ek.call(this,a,b)};function Bh(){this.zm=pa()}new Bh;Bh.prototype.set=function(a){this.zm=a};Bh.prototype.reset=function(){this.set(pa())};Bh.prototype.get=function(){return this.zm};function Ch(a){V.call(this);this.oi=a||window;this.Lj=T(this.oi,"resize",this.Lo,!1,this);this.pa=we(this.oi||window)}N(Ch,V);Ch.prototype.N=function(){return this.pa?this.pa.clone():null};Ch.prototype.f=function(){Ch.o.f.call(this);this.Lj&&(U(this.Lj),this.Lj=null);this.pa=this.oi=null};Ch.prototype.Lo=function(){var a=we(this.oi||window);pe(a,this.pa)||(this.pa=a,this.dispatchEvent("resize"))};function Dh(a,b){V.call(this);this.c=a;var c=He(this.c)?this.c:this.c?this.c.body:null;this.ap=!!c&&Fg(c);this.Xl=T(this.c,Zb?"DOMMouseScroll":"mousewheel",this,b)}N(Dh,V);
Dh.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.R;if("mousewheel"==a.type){c=1;if(Q||$b&&(bc||hc("532.0")))c=40;d=Eh(-a.wheelDelta,c);ba(a.wheelDeltaX)?(b=Eh(-a.wheelDeltaX,c),c=Eh(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ha(this.cm)&&(b=Math.min(Math.max(b,-this.cm),this.cm));ha(this.dm)&&(c=Math.min(Math.max(c,-this.dm),this.dm));this.ap&&(b=-b);b=new Fh(d,a,b,c);this.dispatchEvent(b)};
function Eh(a,b){return $b&&(ac||cc)&&0!=a%b?a:a/b}Dh.prototype.f=function(){Dh.o.f.call(this);U(this.Xl);this.Xl=null};function Fh(a,b,c,d){wc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}N(Fh,wc);function Gh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Gh.prototype.BYTES_PER_ELEMENT=4;Gh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Gh.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Gh.BYTES_PER_ELEMENT=4,Gh.prototype.BYTES_PER_ELEMENT=Gh.prototype.BYTES_PER_ELEMENT,Gh.prototype.set=Gh.prototype.set,Gh.prototype.toString=Gh.prototype.toString,ca("Float32Array",Gh));function Hh(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Hh.prototype.BYTES_PER_ELEMENT=8;Hh.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Hh.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Hh.BYTES_PER_ELEMENT=8}catch(a){}Hh.prototype.BYTES_PER_ELEMENT=Hh.prototype.BYTES_PER_ELEMENT;Hh.prototype.set=Hh.prototype.set;Hh.prototype.toString=Hh.prototype.toString;ca("Float64Array",Hh)};function Ih(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Jh(){var a=Array(16);Kh(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Lh(){var a=Array(16);Kh(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Kh(a,b,c,d,e,g,f,h,l,m,n,p,q,r,t,y,B){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=g;a[5]=f;a[6]=h;a[7]=l;a[8]=m;a[9]=n;a[10]=p;a[11]=q;a[12]=r;a[13]=t;a[14]=y;a[15]=B}
function Mh(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15]}function Nh(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function Oh(a,b){var c=a[0],d=a[1],e=a[2],g=a[3],f=a[4],h=a[5],l=a[6],m=a[7],n=a[8],p=a[9],q=a[10],r=a[11],t=a[12],y=a[13],B=a[14],v=a[15],u=c*h-d*f,w=c*l-e*f,C=c*m-g*f,z=d*l-e*h,G=d*m-g*h,D=e*m-g*l,F=n*y-p*t,E=n*B-q*t,K=n*v-r*t,M=p*B-q*y,I=p*v-r*y,R=q*v-r*B,O=u*R-w*I+C*M+z*K-G*E+D*F;0!=O&&(O=1/O,b[0]=(h*R-l*I+m*M)*O,b[1]=(-d*R+e*I-g*M)*O,b[2]=(y*D-B*G+v*z)*O,b[3]=(-p*D+q*G-r*z)*O,b[4]=(-f*R+l*K-m*E)*O,b[5]=(c*R-e*K+g*E)*O,b[6]=(-t*D+B*C-v*w)*O,b[7]=(n*D-q*C+r*w)*O,b[8]=(f*I-h*K+m*F)*O,b[9]=(-c*I+
d*K-g*F)*O,b[10]=(t*G-y*C+v*u)*O,b[11]=(-n*G+p*C-r*u)*O,b[12]=(-f*M+h*E-l*F)*O,b[13]=(c*M-d*E+e*F)*O,b[14]=(-t*z+y*w-B*u)*O,b[15]=(n*z-p*w+q*u)*O)}function Ph(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],g=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=g}function Qh(a,b,c){Kh(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function Rh(a,b){var c=a[0],d=a[1],e=a[2],g=a[3],f=a[4],h=a[5],l=a[6],m=a[7],n=Math.cos(b),p=Math.sin(b);a[0]=c*n+f*p;a[1]=d*n+h*p;a[2]=e*n+l*p;a[3]=g*n+m*p;a[4]=c*-p+f*n;a[5]=d*-p+h*n;a[6]=e*-p+l*n;a[7]=g*-p+m*n}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);var Sh;function Th(){V.call(this);this.V=0}N(Th,V);Th.prototype.g=function(){++this.V;this.dispatchEvent("change")};function Uh(a,b,c,d){T(a,b,c,!1,d)}function Vh(a,b,c){Qc(a,"postrender",b,!1,c)};function Wh(a,b,c){S.call(this,a);this.key=b;this.oldValue=c}N(Wh,S);function Y(a){Th.call(this);J(this);this.ud={};void 0!==a&&this.je(a)}N(Y,Th);var Xh={};function Yh(a){return Xh.hasOwnProperty(a)?Xh[a]:Xh[a]="change:"+a}Y.prototype.get=function(a){var b;this.ud.hasOwnProperty(a)&&(b=this.ud[a]);return b};Y.prototype.Bb=function(){return Object.keys(this.ud)};function Zh(a){var b={},c;for(c in a.ud)b[c]=a.ud[c];return b}
Y.prototype.set=function(a,b,c){c?this.ud[a]=b:(c=this.ud[a],this.ud[a]=b,c!==b&&(b=Yh(a),this.dispatchEvent(new Wh(b,a,c)),this.dispatchEvent(new Wh("propertychange",a,c))))};Y.prototype.je=function(a,b){for(var c in a)this.set(c,a[c],b)};function $h(a,b,c){S.call(this,a,c);this.element=b}N($h,S);function ai(a){Y.call(this);this.lc=a?a:[];bi(this)}N(ai,Y);k=ai.prototype;k.clear=function(){for(;0<this.ij();)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){this.lc.forEach(a,b)};k.zf=function(){return this.lc};k.item=function(a){return this.lc[a]};k.ij=function(){return this.get("length")};k.pop=function(){return ci(this,this.ij()-1)};
k.push=function(a){var b=this.lc.length;Oa(this.lc,b,0,a);bi(this);this.dispatchEvent(new $h("add",a,this));return b};k.remove=function(a){var b=this.lc,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return ci(this,c)};function ci(a,b){var c=a.lc[b];Array.prototype.splice.call(a.lc,b,1);bi(a);a.dispatchEvent(new $h("remove",c,a));return c}function bi(a){a.set("length",a.lc.length)};function di(){};function ei(a,b){a[0]+=b[0];a[1]+=b[1]}function fi(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function gi(a,b,c){S.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}N(gi,S);function hi(a,b,c){S.call(this,a);this.Wa=b;a=c?c:{};this.buttons=ii(a);this.pressure=ji(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey=
"shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.hwTimestamp="hwTimestamp"in a?a.hwTimestamp:0;this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&
(this.preventDefault=function(){b.preventDefault()})}N(hi,S);function ii(a){if(a.buttons||ki)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function ji(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var ki=!1;try{ki=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function li(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}
var mi=function(){var a;return function(){if(void 0===a)if(x.getComputedStyle){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=x.getComputedStyle(b).getPropertyValue(d[e]));Ge(b);a=c&&"none"!==c}else a=!1;return a}}(),ni=function(){var a;return function(){if(void 0===a)if(x.getComputedStyle){var b=
document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=x.getComputedStyle(b).getPropertyValue(d[e]));Ge(b);a=c&&"none"!==c}else a=!1;return a}}();
function oi(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.gr=b;c.msTransform=b;c.transform=b;Q&&hc("9.0")&&(a.style.transformOrigin="0 0")}function pi(a,b){var c;if(ni()){var d=Array(16);for(c=0;16>c;++c)d[c]=b[c].toFixed(6);oi(a,"matrix3d("+d.join(",")+")")}else if(mi()){var d=[b[0],b[1],b[4],b[5],b[12],b[13]],e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);oi(a,"matrix("+e.join(",")+")")}else a.style.left=Math.round(b[12])+"px",a.style.top=Math.round(b[13])+"px"};var qi=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ri(a,b){var c,d,e=qi.length;for(d=0;d<e;++d)try{if(c=a.getContext(qi[d],b))return c}catch(g){}return null};var si,ti=x.devicePixelRatio||1,ui=!1,vi=function(){if(!("HTMLCanvasElement"in x))return!1;try{var a=li();return a?(void 0!==a.setLineDash&&(ui=!0),!0):!1}catch(b){return!1}}(),wi="ontouchstart"in x,xi="PointerEvent"in x,yi=!!x.navigator.msPointerEnabled,zi=!1,Ai=[];if("WebGLRenderingContext"in x)try{var Bi=ri(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Bi&&(zi=!0,Ai=Bi.getSupportedExtensions())}catch(a){}si=zi;Sh=Ai;function Ci(a,b){this.B=a;this.uh=b};function Di(a){Ci.call(this,a,{mousedown:this.tp,mousemove:this.up,mouseup:this.xp,mouseover:this.wp,mouseout:this.vp});this.da=a.da;this.Ul=[]}N(Di,Ci);function Ei(a,b){for(var c=a.Ul,d=b.clientX,e=b.clientY,g=0,f=c.length,h;g<f&&(h=c[g]);g++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function Fi(a){var b=Hi(a,a.R),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=Di.prototype;
k.tp=function(a){if(!Ei(this,a)){(1).toString()in this.da&&this.cancel(a);var b=Fi(a);this.da[(1).toString()]=a;this.B.fireEvent(Ii,b,a)}};k.up=function(a){if(!Ei(this,a)){var b=Fi(a);this.B.move(b,a)}};k.xp=function(a){if(!Ei(this,a)){var b=this.da[(1).toString()];b&&b.button===a.button&&(b=Fi(a),this.B.fireEvent(Ji,b,a),delete this.da[(1).toString()])}};k.wp=function(a){if(!Ei(this,a)){var b=Fi(a);Ki(this.B,b,a)}};k.vp=function(a){if(!Ei(this,a)){var b=Fi(a);Li(this.B,b,a)}};
k.cancel=function(a){var b=Fi(a);this.B.cancel(b,a);delete this.da[(1).toString()]};function Mi(a){Ci.call(this,a,{MSPointerDown:this.Cp,MSPointerMove:this.Dp,MSPointerUp:this.Gp,MSPointerOut:this.Ep,MSPointerOver:this.Fp,MSPointerCancel:this.Bp,MSGotPointerCapture:this.zp,MSLostPointerCapture:this.Ap});this.da=a.da;this.on=["","unavailable","touch","pen","mouse"]}N(Mi,Ci);function Ni(a,b){var c=b;ha(b.R.pointerType)&&(c=Hi(b,b.R),c.pointerType=a.on[b.R.pointerType]);return c}k=Mi.prototype;
k.Cp=function(a){this.da[a.R.pointerId.toString()]=a;var b=Ni(this,a);this.B.fireEvent(Ii,b,a)};k.Dp=function(a){var b=Ni(this,a);this.B.move(b,a)};k.Gp=function(a){var b=Ni(this,a);this.B.fireEvent(Ji,b,a);delete this.da[a.R.pointerId.toString()]};k.Ep=function(a){var b=Ni(this,a);Li(this.B,b,a)};k.Fp=function(a){var b=Ni(this,a);Ki(this.B,b,a)};k.Bp=function(a){var b=Ni(this,a);this.B.cancel(b,a);delete this.da[a.R.pointerId.toString()]};
k.Ap=function(a){this.B.dispatchEvent(new hi("lostpointercapture",a,a.R))};k.zp=function(a){this.B.dispatchEvent(new hi("gotpointercapture",a,a.R))};function Oi(a){Ci.call(this,a,{pointerdown:this.Xp,pointermove:this.Yp,pointerup:this.aq,pointerout:this.Zp,pointerover:this.$p,pointercancel:this.Wp,gotpointercapture:this.ko,lostpointercapture:this.jp})}N(Oi,Ci);k=Oi.prototype;k.Xp=function(a){Pi(this.B,a)};k.Yp=function(a){Pi(this.B,a)};k.aq=function(a){Pi(this.B,a)};k.Zp=function(a){Pi(this.B,a)};k.$p=function(a){Pi(this.B,a)};k.Wp=function(a){Pi(this.B,a)};k.jp=function(a){Pi(this.B,a)};k.ko=function(a){Pi(this.B,a)};function Qi(a,b){Ci.call(this,a,{touchstart:this.Mq,touchmove:this.Lq,touchend:this.Kq,touchcancel:this.Jq});this.da=a.da;this.sp=b;this.xf=void 0;this.Mi=0;this.Xf=void 0}N(Qi,Ci);k=Qi.prototype;k.Nm=function(){this.Mi=0;this.Xf=void 0};
function Ri(a,b,c){b=Hi(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Mi;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.xf===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Si(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.R.changedTouches),g=e.length,f,h;for(f=0;f<g;++f)h=Ri(a,b,e[f]),h.preventDefault=d,c.call(a,b,h)}
k.Mq=function(a){var b=a.R.touches,c=Object.keys(this.da),d=c.length;if(d>=b.length){var e=[],g,f,h;for(g=0;g<d;++g){f=c[g];h=this.da[f];var l;if(!(l=1==f))a:{l=b.length;for(var m=void 0,n=0;n<l;n++)if(m=b[n],m.identifier===f-2){l=!0;break a}l=!1}l||e.push(h.ae)}for(g=0;g<e.length;++g)this.Ki(a,e[g])}b=$a(this.da);if(0===b||1===b&&(1).toString()in this.da)this.xf=a.R.changedTouches[0].identifier,void 0!==this.Xf&&x.clearTimeout(this.Xf);Ti(this,a);this.Mi++;Si(this,a,this.Qp)};
k.Qp=function(a,b){this.da[b.pointerId]={target:b.target,ae:b,sm:b.target};var c=this.B;b.bubbles=!0;c.fireEvent(Ui,b,a);c=this.B;b.bubbles=!1;c.fireEvent(Vi,b,a);this.B.fireEvent(Ii,b,a)};k.Lq=function(a){a.preventDefault();Si(this,a,this.yp)};
k.yp=function(a,b){var c=this.da[b.pointerId];if(c){var d=c.ae,e=c.sm;this.B.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Li(this.B,d,a),Ki(this.B,b,a)):(b.target=e,b.relatedTarget=null,this.Ki(a,b)));c.ae=b;c.sm=b.target}};k.Kq=function(a){Ti(this,a);Si(this,a,this.Tq)};
k.Tq=function(a,b){this.B.fireEvent(Ji,b,a);this.B.ae(b,a);var c=this.B;b.bubbles=!1;c.fireEvent(Wi,b,a);delete this.da[b.pointerId];b.isPrimary&&(this.xf=void 0,this.Xf=x.setTimeout(this.Nm.bind(this),200))};k.Jq=function(a){Si(this,a,this.Ki)};k.Ki=function(a,b){this.B.cancel(b,a);this.B.ae(b,a);var c=this.B;b.bubbles=!1;c.fireEvent(Wi,b,a);delete this.da[b.pointerId];b.isPrimary&&(this.xf=void 0,this.Xf=x.setTimeout(this.Nm.bind(this),200))};
function Ti(a,b){var c=a.sp.Ul,d=b.R.changedTouches[0];if(a.xf===d.identifier){var e=[d.clientX,d.clientY];c.push(e);x.setTimeout(function(){Ka(c,e)},2500)}};function Xi(a){V.call(this);this.c=a;this.da={};this.ll={};this.wf=[];xi?Yi(this,new Oi(this)):yi?Yi(this,new Mi(this)):(a=new Di(this),Yi(this,a),wi&&Yi(this,new Qi(this,a)));a=this.wf.length;for(var b,c=0;c<a;c++)b=this.wf[c],Zi(this,Object.keys(b.uh))}N(Xi,V);function Yi(a,b){var c=Object.keys(b.uh);c&&(c.forEach(function(a){var c=b.uh[a];c&&(this.ll[a]=c.bind(b))},a),a.wf.push(b))}k=Xi.prototype;k.kl=function(a){var b=this.ll[a.type];b&&b(a)};
function Zi(a,b){b.forEach(function(a){T(this.c,a,this.kl,!1,this)},a)}function $i(a,b){b.forEach(function(a){Rc(this.c,a,this.kl,!1,this)},a)}function Hi(a,b){for(var c={},d,e=0,g=aj.length;e<g;e++)d=aj[e][0],c[d]=a[d]||b[d]||aj[e][1];return c}k.move=function(a,b){this.fireEvent(bj,a,b)};k.ae=function(a,b){a.bubbles=!0;this.fireEvent(cj,a,b)};k.cancel=function(a,b){this.fireEvent(dj,a,b)};function Li(a,b,c){a.ae(b,c);var d=b.relatedTarget;d&&Ie(b.target,d)||(b.bubbles=!1,a.fireEvent(Wi,b,c))}
function Ki(a,b,c){b.bubbles=!0;a.fireEvent(Ui,b,c);var d=b.relatedTarget;d&&Ie(b.target,d)||(b.bubbles=!1,a.fireEvent(Vi,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new hi(a,c,b))};function Pi(a,b){a.dispatchEvent(new hi(b.type,b,b.R))}k.f=function(){for(var a=this.wf.length,b,c=0;c<a;c++)b=this.wf[c],$i(this,Object.keys(b.uh));Xi.o.f.call(this)};
var bj="pointermove",Ii="pointerdown",Ji="pointerup",Ui="pointerover",cj="pointerout",Vi="pointerenter",Wi="pointerleave",dj="pointercancel",aj=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function ej(a,b,c,d,e){gi.call(this,a,b,e);this.Wa=c;this.originalEvent=c.R;c=b.ja;a=Bg(this.originalEvent);c=Bg(c);a=new me(a.x-c.x,a.y-c.y);this.pixel=[a.x,a.y];this.coordinate=b.Ld(this.pixel);this.dragging=void 0!==d?d:!1}N(ej,gi);ej.prototype.preventDefault=function(){ej.o.preventDefault.call(this);this.Wa.preventDefault()};ej.prototype.stopPropagation=function(){ej.o.stopPropagation.call(this);this.Wa.stopPropagation()};function fj(a,b,c,d,e){ej.call(this,a,b,c.Wa,d,e);this.um=c}N(fj,ej);
function gj(a){V.call(this);this.i=a;this.mf=0;this.zg=!1;this.Sc=this.Eh=this.Fd=null;a=this.i.ja;this.Ik=0;this.qk={};this.Ve=new Xi(a);this.Rc=null;this.Eh=T(this.Ve,Ii,this.Fo,!1,this);this.Uj=T(this.Ve,bj,this.kq,!1,this)}N(gj,V);function hj(a,b){var c;c=new fj(ij,a.i,b);a.dispatchEvent(c);0!==a.mf?(x.clearTimeout(a.mf),a.mf=0,c=new fj(jj,a.i,b),a.dispatchEvent(c)):a.mf=x.setTimeout(function(){this.mf=0;var a=new fj(kj,this.i,b);this.dispatchEvent(a)}.bind(a),250)}
function lj(a,b){b.type==mj||b.type==nj?delete a.qk[b.pointerId]:b.type==oj&&(a.qk[b.pointerId]=!0);a.Ik=$a(a.qk)}k=gj.prototype;k.Al=function(a){lj(this,a);var b=new fj(mj,this.i,a);this.dispatchEvent(b);!this.zg&&0===a.button&&hj(this,this.Sc);0===this.Ik&&(this.Fd.forEach(U),this.Fd=null,this.zg=!1,this.Sc=null,rc(this.Rc),this.Rc=null)};
k.Fo=function(a){lj(this,a);var b=new fj(oj,this.i,a);this.dispatchEvent(b);this.Sc=a;this.Fd||(this.Rc=new Xi(document),this.Fd=[T(this.Rc,pj,this.Go,!1,this),T(this.Rc,mj,this.Al,!1,this),T(this.Ve,nj,this.Al,!1,this)])};k.Go=function(a){if(a.clientX!=this.Sc.clientX||a.clientY!=this.Sc.clientY){this.zg=!0;var b=new fj(qj,this.i,a,this.zg);this.dispatchEvent(b)}a.preventDefault()};k.kq=function(a){this.dispatchEvent(new fj(a.type,this.i,a,!(!this.Sc||a.clientX==this.Sc.clientX&&a.clientY==this.Sc.clientY)))};
k.f=function(){this.Uj&&(U(this.Uj),this.Uj=null);this.Eh&&(U(this.Eh),this.Eh=null);this.Fd&&(this.Fd.forEach(U),this.Fd=null);this.Rc&&(rc(this.Rc),this.Rc=null);this.Ve&&(rc(this.Ve),this.Ve=null);gj.o.f.call(this)};var kj="singleclick",ij="click",jj="dblclick",qj="pointerdrag",pj="pointermove",oj="pointerdown",mj="pointerup",nj="pointercancel",rj={qr:kj,er:ij,fr:jj,jr:qj,mr:pj,ir:oj,pr:mj,or:"pointerover",nr:"pointerout",kr:"pointerenter",lr:"pointerleave",hr:nj};function sj(a,b){if(A(a))return a;void 0===b?b=[a,a]:(b[0]=a,b[1]=a);return b};function tj(a){for(var b=uj(),c=0,d=a.length;c<d;++c)vj(b,a[c]);return b}function wj(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),g=Math.max.apply(null,b);return xj(c,d,e,g,void 0)}function yj(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function zj(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Aj(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}
function uj(){return[Infinity,Infinity,-Infinity,-Infinity]}function xj(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Bj(a,b){var c=a[0],d=a[1];return xj(c,d,c,d,b)}function Cj(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function Dj(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])}function vj(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}
function Ej(a,b,c,d,e){for(;c<d;c+=e){var g=a,f=b[c],h=b[c+1];g[0]=Math.min(g[0],f);g[1]=Math.min(g[1],h);g[2]=Math.max(g[2],f);g[3]=Math.max(g[3],h)}return a}function Fj(a){var b=0;a[2]<a[0]||a[3]<a[1]||(b=Gj(a)*Hj(a));return b}function Ij(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Jj(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var g,f,h;for(g=0;4>g;++g)f=e[g],h=d[g],e[g]=a[0]+f*b-h*c,d[g]=a[1]+f*c+h*b;return wj(e,d)}
function Hj(a){return a[3]-a[1]}function Kj(a,b){var c=uj();Lj(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function Mj(a){return[a[0],a[3]]}function Gj(a){return a[2]-a[0]}function Lj(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Nj(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d}
function Oj(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return wj([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};function Pj(a,b,c){return Math.min(Math.max(a,b),c)}var Qj="cosh"in Math?Math.cosh:function(a){a=Math.exp(a);return(a+1/a)/2};function Rj(a,b,c,d){this.G=a;this.T=b;this.L=c;this.P=d}k=Rj.prototype;k.contains=function(a){return this.Qc(a[1],a[2])};function Sj(a,b){return a.G<=b.G&&b.T<=a.T&&a.L<=b.L&&b.P<=a.P}k.Qc=function(a,b){return this.G<=a&&a<=this.T&&this.L<=b&&b<=this.P};k.jl=function(a){return this.G==a.G&&this.L==a.L&&this.T==a.T&&this.P==a.P};k.extend=function(a){a.G<this.G&&(this.G=a.G);a.T>this.T&&(this.T=a.T);a.L<this.L&&(this.L=a.L);a.P>this.P&&(this.P=a.P)};k.Fe=function(){return this.P-this.L+1};
k.N=function(){return[this.Oa(),this.Fe()]};k.Oa=function(){return this.T-this.G+1};k.gh=function(a){return this.G<=a.T&&this.T>=a.G&&this.L<=a.P&&this.P>=a.L};function Tj(a){this.Dl=a.html;this.$h=a.tileRanges?a.tileRanges:null};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function Uj(a){this.radius=a}function Vj(a,b){var c=a[1]*Math.PI/180,d=b[1]*Math.PI/180,e=(d-c)/2,g=(b[0]-a[0])*Math.PI/180/2,c=Math.sin(e)*Math.sin(e)+Math.sin(g)*Math.sin(g)*Math.cos(c)*Math.cos(d);return 2*Wj.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}
Uj.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Wj=new Uj(6370997);var Xj={};Xj.degrees=2*Math.PI*Wj.radius/360;Xj.ft=.3048;Xj.m=1;Xj["us-ft"]=1200/3937;function Yj(a){this.Cd=a.code;this.ji=a.units;this.S=void 0!==a.extent?a.extent:null;this.Ng=void 0!==a.global?a.global:!1;this.se=!(!this.Ng||!this.S);this.eo=void 0!==a.getPointResolution?a.getPointResolution:this.fo;this.fl=null;this.qp=a.metersPerUnit}Yj.prototype.u=function(){return this.S};function Zj(a){return a.qp||Xj[a.ji]}
Yj.prototype.fo=function(a,b){if("degrees"==this.ji)return a;var c=ak(this,bk("EPSG:4326")),d=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],d=c(d,d,2),c=(Vj(d.slice(0,2),d.slice(2,4))+Vj(d.slice(4,6),d.slice(6,8)))/2,d=Zj(this);void 0!==d&&(c/=d);return c};Yj.prototype.getPointResolution=function(a,b){return this.eo(a,b)};var ck={},dk={};function ek(a){fk(a);a.forEach(function(b){a.forEach(function(a){b!==a&&gk(b,a,hk)})})}function ik(a){ck[a.Cd]=a;gk(a,a,hk)}
function fk(a){var b=[];a.forEach(function(a){b.push(ik(a))})}function jk(a){return a?H(a)?bk(a):a:bk("EPSG:3857")}function gk(a,b,c){a=a.Cd;b=b.Cd;a in dk||(dk[a]={});dk[a][b]=c}function bk(a){return a instanceof Yj?a:H(a)?ck[a]:null}function kk(a,b){if(a===b)return!0;var c=a.ji===b.ji;return a.Cd===b.Cd?c:ak(a,b)===hk&&c}function lk(a,b){var c=bk(a),d=bk(b);return ak(c,d)}function ak(a,b){var c=a.Cd,d=b.Cd,e;c in dk&&d in dk[c]&&(e=dk[c][d]);void 0===e&&(e=mk);return e}
function mk(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function hk(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}function nk(a,b,c){b=lk(b,c);return Oj(a,b)};function ok(a){Y.call(this);this.Sa=bk(a.projection);this.xd=void 0!==a.attributions?a.attributions:null;this.hp=a.logo;this.h=void 0!==a.state?a.state:"ready";this.ri=void 0!==a.wrapX?a.wrapX:!1}N(ok,Y);ok.prototype.Ya=di;ok.prototype.O=function(){return this.h};function pk(a){return a.ri};function qk(a){Y.call(this);var b=gb(a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;b.minResolution=void 0!==a.minResolution?a.minResolution:0;this.je(b)}N(qk,Y);
function rk(a){var b=a.Ef(),c=a.lj(),d=a.get("visible"),e=a.u(),g=a.Ea(),f=a.get("maxResolution"),h=a.get("minResolution");return{layer:a,opacity:Pj(b,0,1),hk:c,visible:d,$c:!0,extent:e,zIndex:g,maxResolution:f,minResolution:Math.max(h,0)}}qk.prototype.u=function(){return this.get("extent")};qk.prototype.Ef=function(){return this.get("opacity")};qk.prototype.Ea=function(){return this.get("zIndex")};qk.prototype.fk=function(a){this.set("visible",a)};function sk(){};function tk(a,b,c,d,e,g){S.call(this,a,b);this.vectorContext=c;this.frameState=d;this.context=e;this.glContext=g}N(tk,S);function uk(a){var b=gb(a);delete b.source;qk.call(this,b);this.Th=this.Oj=this.Nj=null;a.map&&this.setMap(a.map);T(this,Yh("source"),this.Oo,!1,this);this.set("source",a.source?a.source:null)}N(uk,qk);function vk(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}k=uk.prototype;k.hj=function(a){a=a?a:[];a.push(rk(this));return a};k.$a=function(){return this.get("source")||null};k.lj=function(){var a=this.$a();return a?a.O():"undefined"};k.No=function(){this.g()};
k.Oo=function(){this.Th&&(U(this.Th),this.Th=null);var a=this.$a();a&&(this.Th=T(a,"change",this.No,!1,this));this.g()};k.setMap=function(a){U(this.Nj);this.Nj=null;a||this.g();U(this.Oj);this.Oj=null;a&&(this.Nj=T(a,"precompose",function(a){var c=rk(this);c.$c=!1;c.zIndex=Infinity;a.frameState.layerStatesArray.push(c);a.frameState.layerStates[J(this)]=c},!1,this),this.Oj=T(this,"change",a.render,!1,a),this.g())};function wk(a,b){V.call(this);this.H=a;this.state=b;this.ia=null;this.key=""}N(wk,V);wk.prototype.g=function(){this.dispatchEvent("change")};wk.prototype.getKey=function(){return J(this).toString()};wk.prototype.O=function(){return this.state};function xk(){this.F=0;this.ye={};this.tb=this.kb=null}k=xk.prototype;k.clear=function(){this.F=0;this.ye={};this.tb=this.kb=null};k.Da=function(a){return this.ye.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.kb;c;)a.call(b,c.td,c.jh,this),c=c.Gb};k.get=function(a){a=this.ye[a];if(a===this.tb)return a.td;a===this.kb?(this.kb=this.kb.Gb,this.kb.cd=null):(a.Gb.cd=a.cd,a.cd.Gb=a.Gb);a.Gb=null;a.cd=this.tb;this.tb=this.tb.Gb=a;return a.td};k.Uc=function(){return this.F};
k.Bb=function(){var a=Array(this.F),b=0,c;for(c=this.tb;c;c=c.cd)a[b++]=c.jh;return a};k.rb=function(){var a=Array(this.F),b=0,c;for(c=this.tb;c;c=c.cd)a[b++]=c.td;return a};k.pop=function(){var a=this.kb;delete this.ye[a.jh];a.Gb&&(a.Gb.cd=null);this.kb=a.Gb;this.kb||(this.tb=null);--this.F;return a.td};k.replace=function(a,b){this.get(a);this.ye[a].td=b};k.set=function(a,b){var c={jh:a,Gb:null,cd:this.tb,td:b};this.tb?this.tb.Gb=c:this.kb=c;this.tb=c;this.ye[a]=c;++this.F};function yk(a){xk.call(this);this.Vo=void 0!==a?a:2048}N(yk,xk);yk.prototype.Ad=function(){return this.Uc()>this.Vo};yk.prototype.ze=function(a){for(var b,c;this.Ad()&&!(b=this.kb.td,c=b.H[0].toString(),c in a&&a[c].contains(b.H));)this.pop().oc()};function zk(a,b){return a>b?1:a<b?-1:0}function Ak(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Bk(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.Mh=a.resolutions;this.maxZoom=this.Mh.length-1;this.na=void 0!==a.origin?a.origin:null;this.Rj=null;void 0!==a.origins&&(this.Rj=a.origins);var b=a.extent;void 0===b||this.na||this.Rj||(this.na=Mj(b));this.mk=null;void 0!==a.tileSizes&&(this.mk=a.tileSizes);this.an=void 0!==a.tileSize?a.tileSize:this.mk?null:256;this.S=void 0!==b?b:null;this.De=null;void 0!==a.sizes?this.De=a.sizes.map(function(a){return new Rj(Math.min(0,a[0]),Math.max(a[0]-
1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&Ck(this,b);this.Jc=[0,0]}var Dk=[0,0,0];function Ek(a,b,c,d,e){e=Fk(a,b,e);for(b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,Gk(a,e,b,d)))return!0;--b}return!1}Bk.prototype.u=function(){return this.S};Bk.prototype.Cb=function(a){return this.na?this.na:this.Rj[a]};Bk.prototype.w=function(a){return this.Mh[a]};function Hk(a,b,c,d){return b[0]<a.maxZoom?(d=Fk(a,b,d),Gk(a,d,b[0]+1,c)):null}
function Ik(a,b,c,d){Jk(a,b[0],b[1],c,!1,Dk);var e=Dk[1],g=Dk[2];Jk(a,b[2],b[3],c,!0,Dk);a=Dk[1];b=Dk[2];void 0!==d?(d.G=e,d.T=a,d.L=g,d.P=b):d=new Rj(e,a,g,b);return d}function Gk(a,b,c,d){c=a.w(c);return Ik(a,b,c,d)}function Kk(a,b){var c=a.Cb(b[0]),d=a.w(b[0]),e=sj(Lk(a,b[0]),a.Jc);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}function Fk(a,b,c){var d=a.Cb(b[0]),e=a.w(b[0]);a=sj(Lk(a,b[0]),a.Jc);var g=d[0]+b[1]*a[0]*e;b=d[1]+b[2]*a[1]*e;return xj(g,b,g+a[0]*e,b+a[1]*e,c)}
function Jk(a,b,c,d,e,g){var f=Mk(a,d),h=d/a.w(f),l=a.Cb(f);a=sj(Lk(a,f),a.Jc);b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0];c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;void 0!==g?(g[0]=f,g[1]=e,g[2]=c):g=[f,e,c];return g}function Nk(a,b,c){c=a.w(c);return Jk(a,b[0],b[1],c,!1,void 0)}function Lk(a,b){return a.an?a.an:a.mk[b]}function Mk(a,b){var c=Ak(a.Mh,b,0);return Pj(c,a.minZoom,a.maxZoom)}
function Ck(a,b){for(var c=a.Mh.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=Gk(a,b,e);a.De=d}function Ok(a){var b=a.fl;if(!b){var b=Pk(a),c=Qk(b,void 0,void 0),b=new Bk({extent:b,origin:Mj(b),resolutions:c,tileSize:void 0});a.fl=b}return b}function Rk(a){var b={};jb(b,void 0!==a?a:{});void 0===b.extent&&(b.extent=bk("EPSG:3857").u());b.resolutions=Qk(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new Bk(b)}
function Qk(a,b,c){b=void 0!==b?b:42;var d=Hj(a);a=Gj(a);c=sj(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function Pk(a){a=bk(a);var b=a.u();b||(a=180*Xj.degrees/Zj(a),b=xj(-a,-a,a,a));return b};function Sk(a){ok.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.Pp=void 0!==a.opaque?a.opaque:!1;this.Zm=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.ua=new yk(a.Pk);this.cn=[0,0]}N(Sk,ok);k=Sk.prototype;k.Ad=function(){return this.ua.Ad()};k.ze=function(a,b){var c=this.Gf(a);c&&c.ze(b)};
function Tk(a,b,c,d,e){b=a.Gf(b);if(!b)return!1;for(var g=!0,f,h,l=d.G;l<=d.T;++l)for(var m=d.L;m<=d.P;++m)f=a.He(c,l,m),h=!1,b.Da(f)&&(f=b.get(f),(h=2===f.O())&&(h=!1!==e(f))),h||(g=!1);return g}k.He=function(a,b,c){return a+"/"+b+"/"+c};k.jj=function(){return this.Pp};k.rc=function(a){return this.tileGrid?this.tileGrid:Ok(a)};k.Gf=function(a){var b=this.Sa;return b&&!kk(b,a)?null:this.ua};
function Uk(a,b,c){var d=a.rc(c);c=a.Zm;b=sj(Lk(d,b),a.cn);1==c?a=b:(a=a.cn,void 0===a&&(a=[0,0]),a[0]=b[0]*c+.5|0,a[1]=b[1]*c+.5|0);return a}function Vk(a,b,c){var d=void 0!==c?c:a.Sa;c=a.rc(d);if(a.ri&&d.Ng){var e=b;b=e[0];a=Kk(c,e);var d=Pk(d),g=a[0],f=a[1];d[0]<=g&&g<=d[2]&&d[1]<=f&&f<=d[3]?b=e:(e=Gj(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=Nk(c,a,b))}d=b[0];a=b[1];e=b[2];c=c.minZoom>d||d>c.maxZoom?!1:(c=(g=c.u())?Gk(c,g,d):c.De?c.De[d]:null)?c.Qc(a,e):!0;return c?b:null}k.xk=di;
function Wk(a,b){S.call(this,a);this.tile=b}N(Wk,S);function Xk(a,b,c,d,e,g,f,h){Nh(a);0===b&&0===c||Ph(a,b,c);1==d&&1==e||Qh(a,d,e);0!==g&&Rh(a,g);0===f&&0===h||Ph(a,f,h);return a}function Yk(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function Zk(a,b,c){var d=a[1],e=a[5],g=a[13],f=b[0];b=b[1];c[0]=a[0]*f+a[4]*b+a[12];c[1]=d*f+e*b+g;return c};function $k(a){Th.call(this);this.Ra=a}N($k,Th);$k.prototype.Ya=di;$k.prototype.yg=function(a,b,c){return function(d,e){return Tk(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.H.toString()]=a})}};function al(a){var b=a.Ra;b.get("visible")&&"ready"==b.lj()&&a.g()}function bl(a,b){b.Ad()&&a.postRenderFunctions.push(oa(function(a,b,e){b=J(a).toString();a.ze(e.viewState.projection,e.usedTiles[b])},b))}function cl(a,b){if(b){var c,d,e;d=0;for(e=b.length;d<e;++d)c=b[d],a[J(c).toString()]=c}}
function dl(a,b){var c=b.hp;void 0!==c&&(H(c)?a.logos[c]="":ja(c)&&(a.logos[c.src]=c.href))}function el(a,b,c,d){b=J(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function fl(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function gl(a,b,c,d,e,g,f,h,l,m){var n=J(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var q=c.minZoom,r,t,y,B,v,u;for(u=f;u>=q;--u)for(t=Gk(c,g,u,t),y=c.w(u),B=t.G;B<=t.T;++B)for(v=t.L;v<=t.P;++v)f-u<=h?(r=b.Je(u,B,v,d,e),0==r.O()&&(p[r.H.toString()]=!0,r.getKey()in a.Ye||a.enqueue([r,n,Kk(c,r.H),y])),void 0!==l&&l.call(m,r)):b.xk(u,B,v,e)};var hl=/^#(?:[0-9a-f]{3}){1,2}$/i,il=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,jl=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;function kl(a){if(!H(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a}
var ml=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(1024<=b){d=0;for(var e in a)0===(d++&3)&&(delete a[e],--b)}var g,f;hl.exec(c)?(f=3==c.length-1?1:2,d=parseInt(c.substr(1+0*f,f),16),e=parseInt(c.substr(1+1*f,f),16),g=parseInt(c.substr(1+2*f,f),16),1==f&&(d=(d<<4)+d,e=(e<<4)+e,g=(g<<4)+g),d=[d,e,g,1]):(f=jl.exec(c))?(d=Number(f[1]),e=Number(f[2]),g=Number(f[3]),f=Number(f[4]),d=[d,e,g,f],d=ll(d,d)):(f=il.exec(c))?(d=Number(f[1]),e=Number(f[2]),g=Number(f[3]),
d=[d,e,g,1],d=ll(d,d)):d=void 0;a[c]=d;++b}return d}}();function ll(a,b){var c=b||[];c[0]=Pj(a[0]+.5|0,0,255);c[1]=Pj(a[1]+.5|0,0,255);c[2]=Pj(a[2]+.5|0,0,255);c[3]=Pj(a[3],0,1);return c};function nl(a){this.ub=a.opacity;this.bb=a.rotateWithView;this.oa=a.rotation;this.Ha=a.scale;this.Fc=a.snapToPixel}nl.prototype.Ef=function(){return this.ub};nl.prototype.Ba=function(){return this.oa};nl.prototype.ck=function(a){this.oa=a};function ol(a){a=a||{};this.va=void 0!==a.anchor?a.anchor:[.5,.5];this.Ah=null;this.ff=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left";this.Lk=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction";this.Mk=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";var b=void 0!==a.crossOrigin?a.crossOrigin:null,c=void 0!==a.img?a.img:null,d=void 0!==a.imgSize?a.imgSize:null,e=a.src;void 0!==e&&0!==e.length||!c||(e=c.src||J(c).toString());var g=void 0!==a.src?0:2,f;void 0!==a.color?(f=a.color,f=A(f)?f:ml(f)):
f=null;var h=pl.Zb(),l=h.get(e,b,f);l||(l=new ql(c,e,d,b,g,f),h.set(e,b,f,l));this.vc=l;this.Mp=void 0!==a.offset?a.offset:[0,0];this.Qf=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left";this.na=null;this.pa=void 0!==a.size?a.size:null;nl.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1})}N(ol,nl);k=ol.prototype;
k.Lg=function(){if(this.Ah)return this.Ah;var a=this.va,b=this.N();if("fraction"==this.Lk||"fraction"==this.Mk){if(!b)return null;a=this.va.slice();"fraction"==this.Lk&&(a[0]*=b[0]);"fraction"==this.Mk&&(a[1]*=b[1])}if("top-left"!=this.ff){if(!b)return null;a===this.va&&(a=this.va.slice());if("top-right"==this.ff||"bottom-right"==this.ff)a[0]=-a[0]+b[0];if("bottom-left"==this.ff||"bottom-right"==this.ff)a[1]=-a[1]+b[1]}return this.Ah=a};k.Y=function(a){return this.vc.Y(a)};k.gj=function(){return this.vc.N()};
k.tl=function(){return this.gj()};k.Ge=function(){return this.vc.Ge()};k.Cf=function(a){return this.vc.Cf(a)};k.Cb=function(){if(this.na)return this.na;var a=this.Mp;if("top-left"!=this.Qf){var b=this.N(),c=this.vc.N();if(!b||!c)return null;a=a.slice();if("top-right"==this.Qf||"bottom-right"==this.Qf)a[0]=c[0]-b[0]-a[0];if("bottom-left"==this.Qf||"bottom-right"==this.Qf)a[1]=c[1]-b[1]-a[1]}return this.na=a};k.N=function(){return this.pa?this.pa:this.vc.N()};
k.Wl=function(a,b){return T(this.vc,"change",a,!1,b)};k.load=function(){this.vc.load()};k.fn=function(a,b){Rc(this.vc,"change",a,!1,b)};function ql(a,b,c,d,e,g){V.call(this);this.uc=null;this.v=a?a:new Image;null!==d&&(this.v.crossOrigin=d);this.b=g?document.createElement("CANVAS"):null;this.ha=g;this.Qd=null;this.Ne=e;this.pa=c;this.ke=b;this.ik=!1;2==this.Ne&&rl(this)}N(ql,V);function rl(a){var b=li(1,1);try{b.drawImage(a.v,0,0),b.getImageData(0,0,1,1)}catch(c){a.ik=!0}}k=ql.prototype;
k.Sg=function(){this.Ne=3;this.df();this.dispatchEvent("change")};k.nj=function(){this.Ne=2;this.pa=[this.v.width,this.v.height];this.df();rl(this);if(!this.ik&&null!==this.ha){this.b.width=this.v.width;this.b.height=this.v.height;var a=this.b.getContext("2d");a.drawImage(this.v,0,0);for(var b=a.getImageData(0,0,this.v.width,this.v.height),c=b.data,d=this.ha[0]/255,e=this.ha[1]/255,g=this.ha[2]/255,f=0,h=c.length;f<h;f+=4)c[f]*=d,c[f+1]*=e,c[f+2]*=g;a.putImageData(b,0,0)}this.dispatchEvent("change")};
k.Y=function(){return this.b?this.b:this.v};k.Ge=function(){return this.Ne};k.Cf=function(){if(!this.uc)if(this.ik){var a=this.pa[0],b=this.pa[1],c=li(a,b);c.fillRect(0,0,a,b);this.uc=c.canvas}else this.uc=this.v;return this.uc};k.N=function(){return this.pa};k.load=function(){if(0==this.Ne){this.Ne=1;this.Qd=[Qc(this.v,"error",this.Sg,!1,this),Qc(this.v,"load",this.nj,!1,this)];try{this.v.src=this.ke}catch(a){this.Sg()}}};k.df=function(){this.Qd.forEach(U);this.Qd=null};
function pl(){this.zd={};this.tg=0;this.op=32}ea(pl);pl.prototype.clear=function(){this.zd={};this.tg=0};pl.prototype.get=function(a,b,c){a=b+":"+a+":"+(c?kl(c):"null");return a in this.zd?this.zd[a]:null};pl.prototype.set=function(a,b,c,d){this.zd[b+":"+a+":"+(c?kl(c):"null")]=d;++this.tg};function sl(a,b){nc.call(this);this.i=b;this.Fb={};this.Ij={}}N(sl,nc);function tl(a){var b=a.viewState,c=a.coordinateToPixelMatrix;Xk(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);Oh(c,a.pixelToCoordinateMatrix)}k=sl.prototype;k.f=function(){Ya(this.Fb,rc);sl.o.f.call(this)};
function ul(){var a=pl.Zb();if(a.tg>a.op){var b=0,c,d;for(c in a.zd){d=a.zd[c];var e;if(e=0===(b++&3))Ac(d)?d=d.hasListener(void 0,void 0):(d=Mc(d),d=!!d&&d.hasListener(void 0,void 0)),e=!d;e&&(delete a.zd[c],--a.tg)}}}
k.Ya=function(a,b,c,d,e,g){function f(a){var b=J(a).toString();if(!(b in n))return n[b]=!0,c.call(d,a,null)}var h,l=b.viewState,m=l.resolution,n={},p=l.projection,l=a;if(p.se){var p=p.u(),q=Gj(p),r=a[0];if(r<p[0]||r>p[2])l=[r+q*Math.ceil((p[0]-r)/q),a[1]]}p=b.layerStatesArray;for(q=p.length-1;0<=q;--q){var r=p[q],t=r.layer;if(vk(r,m)&&e.call(g,t)){var y=vl(this,t);t.$a()&&(h=y.Ya(pk(t.$a())?l:a,b,r.$c?c:f,d));if(h)return h}}};
function vl(a,b){var c=J(b).toString();if(c in a.Fb)return a.Fb[c];var d=a.Ti(b);a.Fb[c]=d;a.Ij[c]=T(d,"change",a.wo,!1,a);return d}k.Za=function(){return this.i};k.wo=function(){this.i.render()};k.Ih=di;k.mq=function(a,b){for(var c in this.Fb)if(!(b&&c in b.layerStates)){var d=c,e=this.Fb[d];delete this.Fb[d];U(this.Ij[d]);delete this.Ij[d];rc(e)}};function wl(a,b){for(var c in a.Fb)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.mq.bind(a));break}}
function Va(a,b){return a.zIndex-b.zIndex};function xl(a,b){this.xm=a;this.Bj=b;this.Vb=[];this.Xe=[];this.Ye={}}xl.prototype.clear=function(){this.Vb.length=0;this.Xe.length=0;fb(this.Ye)};function yl(a){var b=a.Vb,c=a.Xe,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),zl(a,0));b=a.Bj(d);delete a.Ye[b];return d}xl.prototype.enqueue=function(a){var b=this.xm(a);return Infinity!=b?(this.Vb.push(a),this.Xe.push(b),this.Ye[this.Bj(a)]=!0,Al(this,0,this.Vb.length-1),!0):!1};xl.prototype.Uc=function(){return this.Vb.length};
xl.prototype.Qa=function(){return 0===this.Vb.length};function zl(a,b){for(var c=a.Vb,d=a.Xe,e=c.length,g=c[b],f=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=g;d[b]=f;Al(a,h,b)}function Al(a,b,c){var d=a.Vb;a=a.Xe;for(var e=d[c],g=a[c];c>b;){var f=c-1>>1;if(a[f]>g)d[c]=d[f],a[c]=a[f],c=f;else break}d[c]=e;a[c]=g}
function Bl(a){var b=a.xm,c=a.Vb,d=a.Xe,e=0,g=c.length,f,h,l;for(h=0;h<g;++h)f=c[h],l=b(f),Infinity==l?delete a.Ye[a.Bj(f)]:(d[e]=l,c[e++]=f);c.length=e;d.length=e;for(b=(a.Vb.length>>1)-1;0<=b;b--)zl(a,b)};function Cl(a,b){xl.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Fq=b;this.ai=0;this.nk={}}N(Cl,xl);Cl.prototype.enqueue=function(a){var b=Cl.o.enqueue.call(this,a);b&&T(a[0],"change",this.Ug,!1,this);return b};Cl.prototype.Ug=function(a){a=a.target;var b=a.O();if(2===b||3===b||4===b)Rc(a,"change",this.Ug,!1,this),a=a.getKey(),a in this.nk&&(delete this.nk[a],--this.ai),this.Fq()};function Dl(a){return function(b){if(b)return[Pj(b[0],a[0],a[2]),Pj(b[1],a[1],a[3])]}}function El(a){return a};function Fl(a){return function(b,c,d){if(void 0!==b)return b=Ak(a,b,d),b=Pj(b+c,0,a.length-1),a[b]}}function Gl(a,b,c){return function(d,e,g){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(0<g?0:0>g?1:.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function Hl(a){if(void 0!==a)return 0}function Il(a,b){if(void 0!==a)return a+b}function Jl(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function Kl(){var a=5*Math.PI/180;return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function Ll(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Ml(){Y.call(this);this.S=uj();this.nl=-1;this.ld={};this.Sh=this.md=0}N(Ml,Y);Ml.prototype.Qc=nb;Ml.prototype.u=function(a){this.nl!=this.V&&(this.S=this.Qi(this.S),this.nl=this.V);var b=this.S;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};Ml.prototype.transform=function(a,b){this.Ei(lk(a,b));return this};function Nl(a,b,c,d,e,g){var f=e[0],h=e[1],l=e[4],m=e[5],n=e[12];e=e[13];for(var p=g?g:[],q=0;b<c;b+=d){var r=a[b],t=a[b+1];p[q++]=f*r+l*t+n;p[q++]=h*r+m*t+e}g&&p.length!=q&&(p.length=q);return p};function Ol(){Ml.call(this);this.yc="XY";this.l=2;this.a=null}N(Ol,Ml);function Pl(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}k=Ol.prototype;k.Qc=nb;k.Qi=function(a){var b=this.a,c=this.a.length,d=this.l;a=xj(Infinity,Infinity,-Infinity,-Infinity,a);return Ej(a,b,0,c,d)};
k.kj=function(a){this.Sh!=this.V&&(fb(this.ld),this.md=0,this.Sh=this.V);if(0>a||0!==this.md&&a<=this.md)return this;var b=a.toString();if(this.ld.hasOwnProperty(b))return this.ld[b];var c=this.Ff(a);if(c.a.length<this.a.length)return this.ld[b]=c;this.md=a;return this};k.Ff=function(){return this};function Ql(a,b,c){a.l=Pl(b);a.yc=b;a.a=c}
function Rl(a,b,c,d){if(b)c=Pl(b);else{for(b=0;b<d;++b){if(0===c.length){a.yc="XY";a.l=2;return}c=c[0]}c=c.length;b=2==c?"XY":3==c?"XYZ":4==c?"XYZM":void 0}a.yc=b;a.l=c}k.Ei=function(a){this.a&&(a(this.a,this.a,this.l),this.g())};k.translate=function(a,b){var c=this.a;if(c){var d=c.length,e=this.l,g=c?c:[],f=0,h,l;for(h=0;h<d;h+=e)for(g[f++]=c[h]+a,g[f++]=c[h+1]+b,l=h+2;l<h+e;++l)g[f++]=c[l];c&&g.length!=f&&(g.length=f);this.g()}};function Sl(a,b,c,d){var e,g;e=0;for(g=c.length;e<g;++e){var f=c[e],h;for(h=0;h<d;++h)a[b++]=f[h]}return b}function Tl(a,b,c,d,e){e=e?e:[];var g=0,f,h;f=0;for(h=c.length;f<h;++f)b=Sl(a,b,c[f],d),e[g++]=b;e.length=g;return e};function Ul(a,b,c,d,e,g,f){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)g[f++]=a[b],g[f++]=a[b+1];return f}var l=Array(h);l[0]=1;l[h-1]=1;c=[b,c-d];for(var m=0,n;0<c.length;){var p=c.pop(),q=c.pop(),r=0,t=a[q],y=a[q+1],B=a[p],v=a[p+1];for(n=q+d;n<p;n+=d){var u,w=a[n];u=a[n+1];var C=t,z=y,G=B-C,D=v-z;if(0!==G||0!==D){var F=((w-C)*G+(u-z)*D)/(G*G+D*D);1<F?(C=B,z=v):0<F&&(C+=G*F,z+=D*F)}w=C-w;u=z-u;u=w*w+u*u;u>r&&(m=n,r=u)}r>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(g[f++]=
a[b+n*d],g[f++]=a[b+n*d+1]);return f}
function Vl(a,b,c,d,e,g,f,h){var l,m;l=0;for(m=c.length;l<m;++l){var n=c[l];a:{var p=a,q=n,r=d,t=e,y=g;if(b!=q){var B=t*Math.round(p[b]/t),v=t*Math.round(p[b+1]/t);b+=r;y[f++]=B;y[f++]=v;var u=void 0,w=void 0;do if(u=t*Math.round(p[b]/t),w=t*Math.round(p[b+1]/t),b+=r,b==q){y[f++]=u;y[f++]=w;break a}while(u==B&&w==v);for(;b<q;){var C,z;C=t*Math.round(p[b]/t);z=t*Math.round(p[b+1]/t);b+=r;if(C!=u||z!=w){var G=u-B,D=w-v,F=C-B,E=z-v;G*E==D*F&&(0>G&&F<G||G==F||0<G&&F>G)&&(0>D&&E<D||D==E||0<D&&E>D)||(y[f++]=
u,y[f++]=w,B=u,v=w);u=C;w=z}}y[f++]=u;y[f++]=w}}h.push(f);b=n}return f};function Wl(a,b){Ol.call(this);this.yb(a,b)}N(Wl,Ol);k=Wl.prototype;k.clone=function(){var a=new Wl(null);a.fa(this.yc,this.a.slice());return a};k.Qi=function(a){return Bj(this.a,a)};k.ma=function(){return"Point"};k.yb=function(a,b){if(a){Rl(this,b,a,0);this.a||(this.a=[]);var c=this.a,d=this.a,e=0,g,f;g=0;for(f=a.length;g<f;++g)d[e++]=a[g];c.length=e;this.g()}else this.fa("XY",null)};k.fa=function(a,b){Ql(this,a,b);this.g()};function Xl(a,b,c,d,e,g){for(var f=!1,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l>g!=n>g&&e<(m-h)*(g-l)/(n-l)+h&&(f=!f);h=m;l=n}return f}function Yl(a,b,c,d,e,g){if(0===c.length||!Xl(a,b,c[0],d,e,g))return!1;var f;b=1;for(f=c.length;b<f;++b)if(Xl(a,c[b-1],c[b],d,e,g))return!1;return!0};function Zl(a,b,c,d,e,g,f){var h,l,m,n,p,q=e[g+1],r=[],t=c[0];m=a[t-d];p=a[t-d+1];for(h=b;h<t;h+=d){n=a[h];l=a[h+1];if(q<=p&&l<=q||p<=q&&q<=l)m=(q-p)/(l-p)*(n-m)+m,r.push(m);m=n;p=l}t=NaN;p=-Infinity;r.sort(zk);m=r[0];h=1;for(l=r.length;h<l;++h){n=r[h];var y=Math.abs(n-m);y>p&&(m=(m+n)/2,Yl(a,b,c,d,m,q)&&(t=m,p=y));m=n}isNaN(t)&&(t=e[g]);return f?(f.push(t,q),f):[t,q]};function $l(a,b,c,d){for(var e=0,g=a[c-d],f=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-g)*(l+f),g=h,f=l;return 0<e}function am(a,b,c,d){var e=0;d=void 0!==d?d:!1;var g,f;g=0;for(f=b.length;g<f;++g){var h=b[g],e=$l(a,e,h,c);if(0===g){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function bm(a,b,c,d,e){e=void 0!==e?e:!1;var g,f;g=0;for(f=c.length;g<f;++g){var h=c[g],l=$l(a,b,h,d);if(0===g?e&&l||!e&&!l:e&&!l||!e&&l)for(var l=a,m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p];l[m-n+p]=q}b+=n;m-=n}b=h}return b};function cm(a,b){Ol.call(this);this.ka=[];this.ol=-1;this.pl=null;this.Sf=-1;this.Ib=null;this.yb(a,b)}N(cm,Ol);k=cm.prototype;k.clone=function(){var a=new cm(null);a.fa(this.yc,this.a.slice(),this.ka.slice());return a};k.Qc=function(a,b){return Yl(this.qc(),0,this.ka,this.l,a,b)};function dm(a){if(a.ol!=a.V){var b=Ij(a.u());a.pl=Zl(a.qc(),0,a.ka,a.l,b,0);a.ol=a.V}return a.pl}
k.qc=function(){if(this.Sf!=this.V){var a=this.a;am(a,this.ka,this.l)?this.Ib=a:(this.Ib=a.slice(),this.Ib.length=bm(this.Ib,0,this.ka,this.l));this.Sf=this.V}return this.Ib};k.Ff=function(a){var b=[],c=[];b.length=Vl(this.a,0,this.ka,this.l,Math.sqrt(a),b,0,c);a=new cm(null);a.fa("XY",b,c);return a};k.ma=function(){return"Polygon"};
k.yb=function(a,b){if(a){Rl(this,b,a,2);this.a||(this.a=[]);var c=Tl(this.a,0,a,this.l,this.ka);this.a.length=0===c.length?0:c[c.length-1];this.g()}else this.fa("XY",null,this.ka)};k.fa=function(a,b,c){Ql(this,a,b);this.ka=c;this.g()};function em(a){Y.call(this);a=a||{};this.rj=[0,0];var b={};b.center=void 0!==a.center?a.center:null;this.Sa=jk(a.projection);var c,d,e,g=void 0!==a.minZoom?a.minZoom:0;c=void 0!==a.maxZoom?a.maxZoom:28;var f=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)c=a.resolutions,d=c[0],e=c[c.length-1],c=Fl(c);else{d=jk(a.projection);e=d.u();var h=(e?Math.max(Gj(e),Hj(e)):360*Xj.degrees/Zj(d))/256/Math.pow(2,0),l=h/Math.pow(2,28);d=a.maxResolution;void 0!==d?g=0:d=h/Math.pow(f,g);e=a.minResolution;
void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(f,c):h/Math.pow(f,c):l);c=g+Math.floor(Math.log(d/e)/Math.log(f));e=d/Math.pow(f,c-g);c=Gl(f,d,c-g)}this.wh=d;this.rp=e;this.zh=g;g=void 0!==a.extent?Dl(a.extent):El;(void 0!==a.enableRotation?a.enableRotation:1)?(d=a.constrainRotation,d=void 0===d||!0===d?Kl():!1===d?Il:ha(d)?Jl(d):Il):d=Hl;this.nf=new Ll(g,c,d);void 0!==a.resolution?b.resolution=a.resolution:void 0!==a.zoom&&(b.resolution=this.constrainResolution(this.wh,a.zoom-
this.zh));b.rotation=void 0!==a.rotation?a.rotation:0;this.je(b)}N(em,Y);k=em.prototype;k.constrainResolution=function(a,b,c){return this.nf.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.nf.rotation(a,b||0)};k.Ma=function(){return this.get("center")};k.w=function(){return this.get("resolution")};k.Ba=function(){return this.get("rotation")};
k.O=function(){var a=this.Ma(),b=this.Sa,c=this.w(),d=this.Ba();return{center:[Math.round(a[0]/c)*c,Math.round(a[1]/c)*c],projection:void 0!==b?b:null,resolution:c,rotation:d}};function fm(a){var b,c=a.w();if(void 0!==c){var d,e=0;do{d=a.constrainResolution(a.wh,e);if(d==c){b=e;break}++e}while(d>a.rp)}return void 0!==b?a.zh+b:b}
function gm(a,b,c){if(!(b instanceof Ol)){var d=b[0],e=b[1],g=b[2],f=b[3],d=[d,e,d,f,g,f,g,e,d,e],e=new cm(null);e.fa("XY",d,[d.length]);b=e}var e={},d=void 0!==e.padding?e.padding:[0,0,0,0],h=void 0!==e.constrainResolution?e.constrainResolution:!0,g=void 0!==e.nearest?e.nearest:!1,l;l=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?a.constrainResolution(a.wh,e.maxZoom-a.zh,0):0;var m=b.a,f=a.Ba(),e=Math.cos(-f),f=Math.sin(-f),n=Infinity,p=Infinity,q=-Infinity,r=-Infinity;b=b.l;for(var t=
0,y=m.length;t<y;t+=b)var B=m[t]*e-m[t+1]*f,v=m[t]*f+m[t+1]*e,n=Math.min(n,B),p=Math.min(p,v),q=Math.max(q,B),r=Math.max(r,v);m=[n,p,q,r];c=[c[0]-d[1]-d[3],c[1]-d[0]-d[2]];c=Math.max(Gj(m)/c[0],Hj(m)/c[1]);c=isNaN(c)?l:Math.max(c,l);h&&(h=a.constrainResolution(c,0,0),!g&&h<c&&(h=a.constrainResolution(h,-1,0)),c=h);hm(a,c);f=-f;g=(n+q)/2+(d[1]-d[3])/2*c;c=(p+r)/2+(d[0]-d[2])/2*c;im(a,[g*e-c*f,c*e+g*f])}k.yj=function(){return!!this.Ma()&&void 0!==this.w()};
k.rotate=function(a,b){if(void 0!==b){var c,d=this.Ma();void 0!==d&&(c=[d[0]-b[0],d[1]-b[1]],fi(c,a-this.Ba()),ei(c,b));im(this,c)}this.ck(a)};function im(a,b){a.set("center",b)}function jm(a,b){a.rj[1]+=b}function hm(a,b){a.set("resolution",b)}k.ck=function(a){this.set("rotation",a)};function km(a){Y.call(this);this.element=a.element?a.element:null;this.i=this.W=null;this.qh=[];this.render=a.render?a.render:di;a.target&&this.Rh(a.target)}N(km,Y);km.prototype.f=function(){Ge(this.element);km.o.f.call(this)};km.prototype.Za=function(){return this.i};
km.prototype.setMap=function(a){this.i&&Ge(this.element);0<this.qh.length&&(this.qh.forEach(U),this.qh.length=0);if(this.i=a)(this.W?this.W:a.Tf).appendChild(this.element),this.render!==di&&this.qh.push(T(a,"postrender",this.render,!1,this)),a.render()};km.prototype.Rh=function(a){this.W=W(a)};function lm(a){a=a?a:{};this.hi=document.createElement("UL");this.rh=document.createElement("LI");this.hi.appendChild(this.rh);X(this.rh,!1);this.ue=void 0!==a.collapsed?a.collapsed:!0;this.wg=void 0!==a.collapsible?a.collapsible:!0;this.wg||(this.ue=!1);var b=a.className?a.className:"ol-attribution",c=a.tipLabel?a.tipLabel:"Attributions",d=a.collapseLabel?a.collapseLabel:"\u00bb";this.Ni=H(d)?Ae("SPAN",{},d):d;d=a.label?a.label:"i";this.Eb=H(d)?Ae("SPAN",{},d):d;c=Ae("BUTTON",{type:"button",title:c},
this.wg&&!this.ue?this.Ni:this.Eb);T(c,"click",this.sc,!1,this);b=Ae("DIV",b+" ol-unselectable ol-control"+(this.ue&&this.wg?" ol-collapsed":"")+(this.wg?"":" ol-uncollapsible"),this.hi,c);km.call(this,{element:b,render:a.render?a.render:mm,target:a.target});this.U=!0;this.wd={};this.Mc={};this.gp={}}N(lm,km);
function mm(a){if(a=a.frameState){var b,c,d,e,g,f,h,l,m,n,p,q=a.layerStatesArray,r=gb(a.attributions),t={},y=a.viewState.projection;c=0;for(b=q.length;c<b;c++)if(f=q[c].layer.$a())if(n=J(f).toString(),m=f.xd)for(d=0,e=m.length;d<e;d++)if(h=m[d],l=J(h).toString(),!(l in r)){if(g=a.usedTiles[n]){var B=f.rc(y);a:{p=h;var v=y;if(p.$h){var u=void 0,w=void 0,C=void 0,z=void 0;for(z in g)if(z in p.$h)for(var C=g[z],G,u=0,w=p.$h[z].length;u<w;++u){G=p.$h[z][u];if(G.gh(C)){p=!0;break a}var D=Gk(B,Pk(v),parseInt(z,
10)),F=D.Oa();if(C.G<D.G||C.T>D.T)if(G.gh(new Rj(tb(C.G,F),tb(C.T,F),C.L,C.P))||C.Oa()>F&&G.gh(D)){p=!0;break a}}p=!1}else p=!0}}else p=!1;p?(l in t&&delete t[l],r[l]=h):t[l]=h}b=[r,t];c=b[0];b=b[1];for(var E in this.wd)E in c?(this.Mc[E]||(X(this.wd[E],!0),this.Mc[E]=!0),delete c[E]):E in b?(this.Mc[E]&&(X(this.wd[E],!1),delete this.Mc[E]),delete b[E]):(Ge(this.wd[E]),delete this.wd[E],delete this.Mc[E]);for(E in c)d=document.createElement("LI"),d.innerHTML=c[E].Dl,this.hi.appendChild(d),this.wd[E]=
d,this.Mc[E]=!0;for(E in b)d=document.createElement("LI"),d.innerHTML=b[E].Dl,X(d,!1),this.hi.appendChild(d),this.wd[E]=d;E=!eb(this.Mc)||!eb(a.logos);this.U!=E&&(X(this.element,E),this.U=E);E&&eb(this.Mc)?Te(this.element,"ol-logo-only"):Ve(this.element,"ol-logo-only");var K;a=a.logos;E=this.gp;for(K in E)K in a||(Ge(E[K]),delete E[K]);for(var M in a)M in E||(K=new Image,K.src=M,c=a[M],""===c?c=K:(c=Ae("A",{href:c}),c.appendChild(K)),this.rh.appendChild(c),E[M]=c);X(this.rh,!eb(a))}else this.U&&(X(this.element,
!1),this.U=!1)}lm.prototype.sc=function(a){a.preventDefault();a=this.element;var b=!Se(a,"ol-collapsed");Xe(a,"ol-collapsed",b);this.ue?(a=this.Eb,(b=a.parentNode)&&b.replaceChild(this.Ni,a)):(a=this.Ni,(b=a.parentNode)&&b.replaceChild(this.Eb,a));this.ue=!this.ue};function nm(a){return 1-Math.pow(1-a,3)}function om(a){return 3*a*a-2*a*a*a}function pm(a){return a};function qm(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],g=void 0!==a.duration?a.duration:1E3,f=a.easing?a.easing:om;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+g){var m=1-f((b.time-c)/g),n=d-b.viewState.center[0],p=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=m*n;b.viewState.center[1]+=m*p;b.viewHints[0]+=1;return!0}return!1}}
function rm(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:om,g=a.anchor?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<c+d){var l=1-e((h.time-c)/d),l=(b-h.viewState.rotation)*l;h.animate=!0;h.viewState.rotation+=l;if(g){var m=h.viewState.center;m[0]-=g[0];m[1]-=g[1];fi(m,l);ei(m,g)}h.viewHints[0]+=1;return!0}return!1}}
function sm(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:om;return function(a,f){if(f.time<c)return f.animate=!0,f.viewHints[0]+=1,!0;if(f.time<c+d){var h=1-e((f.time-c)/d),l=b-f.viewState.resolution;f.animate=!0;f.viewState.resolution+=h*l;f.viewHints[0]+=1;return!0}return!1}};function tm(a){a=a?a:{};var b=a.className?a.className:"ol-rotate",c=a.label?a.label:"\u21e7";this.Eb=null;H(c)?this.Eb=Ae("SPAN","ol-compass",c):(this.Eb=c,Te(this.Eb,"ol-compass"));c=Ae("BUTTON",{"class":b+"-reset",type:"button",title:a.tipLabel?a.tipLabel:"Reset rotation"},this.Eb);T(c,"click",tm.prototype.sc,!1,this);b=Ae("DIV",b+" ol-unselectable ol-control",c);c=a.render?a.render:um;this.Rk=a.resetNorth?a.resetNorth:void 0;km.call(this,{element:b,render:c,target:a.target});this.aa=void 0!==a.duration?
a.duration:250;this.Ok=void 0!==a.autoHide?a.autoHide:!0;this.oa=void 0;this.Ok&&Te(this.element,"ol-hidden")}N(tm,km);tm.prototype.sc=function(a){a.preventDefault();if(void 0!==this.Rk)this.Rk();else{a=this.Za();var b=Z(a);if(b){var c=b.Ba();void 0!==c&&(0<this.aa&&(c%=2*Math.PI,c<-Math.PI&&(c+=2*Math.PI),c>Math.PI&&(c-=2*Math.PI),a.hb(rm({rotation:c,duration:this.aa,easing:nm}))),b.ck(0))}}};
function um(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.oa){var b="rotate("+a+"rad)";this.Ok&&Xe(this.element,"ol-hidden",0===a);this.Eb.style.msTransform=b;this.Eb.style.webkitTransform=b;this.Eb.style.transform=b}this.oa=a}};function vm(a){a=a?a:{};var b=a.className?a.className:"ol-zoom",c=a.delta?a.delta:1,d=a.zoomOutLabel?a.zoomOutLabel:"\u2212",e=a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",g=Ae("BUTTON",{"class":b+"-in",type:"button",title:a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in"},a.zoomInLabel?a.zoomInLabel:"+");T(g,"click",oa(vm.prototype.sc,c),!1,this);d=Ae("BUTTON",{"class":b+"-out",type:"button",title:e},d);T(d,"click",oa(vm.prototype.sc,-c),!1,this);b=Ae("DIV",b+" ol-unselectable ol-control",g,d);km.call(this,
{element:b,target:a.target});this.aa=void 0!==a.duration?a.duration:250}N(vm,km);vm.prototype.sc=function(a,b){b.preventDefault();var c=this.Za(),d=Z(c);if(d){var e=d.w();e&&(0<this.aa&&c.hb(sm({resolution:e,duration:this.aa,easing:nm})),c=d.constrainResolution(e,a),hm(d,c))}};function wm(a,b,c){this.Wi=a;this.yh=b;this.Qn=c;this.vb=[];this.Oe=this.Ci=0}wm.prototype.update=function(a,b){this.vb.push(a,b,Date.now())};wm.prototype.end=function(){if(6>this.vb.length)return!1;var a=Date.now()-this.Qn,b=this.vb.length-3;if(this.vb[b+2]<a)return!1;for(var c=b-3;0<c&&this.vb[c+2]>a;)c-=3;var a=this.vb[b+2]-this.vb[c+2],d=this.vb[b]-this.vb[c],b=this.vb[b+1]-this.vb[c+1];this.Ci=Math.atan2(b,d);this.Oe=Math.sqrt(d*d+b*b)/a;return this.Oe>this.yh};
wm.prototype.pan=function(a){var b=this.Wi,c=this.Oe,d=this.yh-c,e=Math.log(this.yh/this.Oe)/this.Wi;return qm({source:a,duration:e,easing:function(a){return c*(Math.exp(b*a*e)-1)/d}})};function xm(a){Y.call(this);this.i=null;this.setActive(!0);this.handleEvent=a.handleEvent}N(xm,Y);xm.prototype.Za=function(){return this.i};xm.prototype.setActive=function(a){this.set("active",a)};xm.prototype.setMap=function(a){this.i=a};function ym(a,b,c,d,e){if(void 0!==c){var g=b.Ba(),f=b.Ma();void 0!==g&&f&&e&&0<e&&(a.hb(rm({rotation:g,duration:e,easing:nm})),d&&a.hb(qm({source:f,duration:e,easing:nm})));b.rotate(c,d)}}
function zm(a,b,c,d,e){var g=b.w();c=b.constrainResolution(g,c,0);Am(a,b,c,d,e)}function Am(a,b,c,d,e){if(c){var g=b.w(),f=b.Ma();void 0!==g&&f&&c!==g&&e&&0<e&&(a.hb(sm({resolution:g,duration:e,easing:nm})),d&&a.hb(qm({source:f,duration:e,easing:nm})));if(d){var h;a=b.Ma();e=b.w();void 0!==a&&void 0!==e&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);im(b,h)}hm(b,c)}};function Bm(a){a=a?a:{};this.Rb=a.delta?a.delta:1;xm.call(this,{handleEvent:Cm});this.aa=void 0!==a.duration?a.duration:250}N(Bm,xm);function Cm(a){var b=!1,c=a.Wa;if(a.type==jj){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Rb:this.Rb,e=Z(b);zm(b,e,c,d,this.aa);a.preventDefault();b=!0}return!b};function Dm(a){a=a.Wa;return a.altKey&&!a.Dh&&a.shiftKey}function Em(a){a=a.Wa;return!a.altKey&&!a.Dh&&!a.shiftKey}function Fm(a){a=a.Wa;return!a.altKey&&!a.Dh&&a.shiftKey}function Gm(a){a=a.Wa.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function Hm(a){return"mouse"==a.um.pointerType};function Im(a){a=a?a:{};xm.call(this,{handleEvent:a.handleEvent?a.handleEvent:Jm});this.mo=a.handleDownEvent?a.handleDownEvent:nb;this.no=a.handleDragEvent?a.handleDragEvent:di;this.Do=a.handleMoveEvent?a.handleMoveEvent:di;this.So=a.handleUpEvent?a.handleUpEvent:nb;this.Ke=!1;this.mg={};this.Ua=[]}N(Im,xm);function Km(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function Jm(a){if(!(a instanceof fj))return!0;var b=!1,c=a.type;if(c===oj||c===qj||c===mj)c=a.um,a.type==mj?delete this.mg[c.pointerId]:a.type==oj?this.mg[c.pointerId]=c:c.pointerId in this.mg&&(this.mg[c.pointerId]=c),this.Ua=ab(this.mg);this.Ke&&(a.type==qj?this.no(a):a.type==mj&&(this.Ke=this.So(a)));a.type==oj?(this.Ke=a=this.mo(a),b=this.dg(a)):a.type==pj&&this.Do(a);return!b}Im.prototype.dg=pb;function Lm(a){Im.call(this,{handleDownEvent:Mm,handleDragEvent:Nm,handleUpEvent:Om});a=a?a:{};this.wc=a.kinetic;this.Qe=this.Mf=null;this.nc=a.condition?a.condition:Em;this.hm=!1}N(Lm,Im);function Nm(a){var b=Km(this.Ua);this.wc&&this.wc.update(b[0],b[1]);if(this.Qe){var c=this.Qe[0]-b[0],d=b[1]-this.Qe[1];a=a.map;var e=Z(a),g=e.O(),d=c=[c,d],f=g.resolution;d[0]*=f;d[1]*=f;fi(c,g.rotation);ei(c,g.center);c=e.nf.center(c);a.render();im(e,c)}this.Qe=b}
function Om(a){a=a.map;var b=Z(a);if(0===this.Ua.length){if(!this.hm&&this.wc&&this.wc.end()){var c;c=this.wc;c=(c.yh-c.Oe)/c.Wi;var d=this.wc.Ci,e=b.Ma();this.Mf=this.wc.pan(e);a.hb(this.Mf);e=Pm(a,e);c=a.Ld([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);c=b.nf.center(c);im(b,c)}jm(b,-1);a.render();return!1}this.Qe=null;return!0}
function Mm(a){if(0<this.Ua.length&&this.nc(a)){var b=a.map,c=Z(b);this.Qe=null;this.Ke||jm(c,1);b.render();this.Mf&&Ka(b.Fh,this.Mf)&&(im(c,a.frameState.viewState.center),this.Mf=null);this.wc&&(a=this.wc,a.vb.length=0,a.Ci=0,a.Oe=0);this.hm=1<this.Ua.length;return!0}return!1}Lm.prototype.dg=nb;function Qm(a){a=a?a:{};Im.call(this,{handleDownEvent:Rm,handleDragEvent:Sm,handleUpEvent:Tm});this.nc=a.condition?a.condition:Dm;this.xc=void 0;this.aa=void 0!==a.duration?a.duration:250}N(Qm,Im);function Sm(a){if(Hm(a)){var b=a.map,c=b.N();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(void 0!==this.xc){a=c-this.xc;var d=Z(b),e=d.Ba();b.render();ym(b,d,e-a)}this.xc=c}}
function Tm(a){if(!Hm(a))return!0;a=a.map;var b=Z(a);jm(b,-1);var c=b.Ba(),d=this.aa,c=b.constrainRotation(c,0);ym(a,b,c,void 0,d);return!1}function Rm(a){return Hm(a)&&yc(a.Wa)&&this.nc(a)?(a=a.map,jm(Z(a),1),a.render(),this.xc=void 0,!0):!1}Qm.prototype.dg=nb;function Um(a){this.Kd=null;this.c=document.createElement("div");this.c.style.position="absolute";this.c.className="ol-box "+a;this.Fg=this.fc=this.i=null}N(Um,nc);Um.prototype.f=function(){this.setMap(null);Um.o.f.call(this)};Um.prototype.Jh=function(){var a=this.fc,b=this.Fg,c=this.c.style;c.left=Math.min(a[0],b[0])+"px";c.top=Math.min(a[1],b[1])+"px";c.width=Math.abs(b[0]-a[0])+"px";c.height=Math.abs(b[1]-a[1])+"px"};
Um.prototype.setMap=function(a){if(this.i){this.i.Uf.removeChild(this.c);var b=this.c.style;b.left=b.top=b.width=b.height="inherit"}(this.i=a)&&this.i.Uf.appendChild(this.c)};function Vm(a){var b=a.fc,c=a.Fg,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.i.Ld,a.i);b[4]=b[0].slice();a.Kd?a.Kd.yb([b]):a.Kd=new cm([b])}Um.prototype.Na=function(){return this.Kd};function Wm(a,b,c){S.call(this,a);this.coordinate=b;this.mapBrowserEvent=c}N(Wm,S);function Xm(a){Im.call(this,{handleDownEvent:Ym,handleDragEvent:Zm,handleUpEvent:$m});a=a?a:{};this.hf=new Um(a.className||"ol-dragbox");this.fc=null;this.nc=a.condition?a.condition:ob;this.Fn=a.boxEndCondition?a.boxEndCondition:an}N(Xm,Im);function an(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return 64<=a*a+b*b}
function Zm(a){if(Hm(a)){var b=this.hf,c=a.pixel;b.fc=this.fc;b.Fg=c;Vm(b);b.Jh();this.dispatchEvent(new Wm("boxdrag",a.coordinate,a))}}Xm.prototype.Na=function(){return this.hf.Na()};Xm.prototype.im=di;function $m(a){if(!Hm(a))return!0;this.hf.setMap(null);this.Fn(a,this.fc,a.pixel)&&(this.im(a),this.dispatchEvent(new Wm("boxend",a.coordinate,a)));return!1}
function Ym(a){if(Hm(a)&&yc(a.Wa)&&this.nc(a)){this.fc=a.pixel;this.hf.setMap(a.map);var b=this.hf,c=this.fc;b.fc=this.fc;b.Fg=c;Vm(b);b.Jh();this.dispatchEvent(new Wm("boxstart",a.coordinate,a));return!0}return!1};function bn(a){a=a?a:{};var b=a.condition?a.condition:Fm;this.aa=void 0!==a.duration?a.duration:200;Xm.call(this,{condition:b,className:a.className||"ol-dragzoom"})}N(bn,Xm);bn.prototype.im=function(){var a=this.Za(),b=Z(a),c=a.N(),d=this.Na().u(),c=b.constrainResolution(Math.max(Gj(d)/c[0],Hj(d)/c[1])),e=b.w(),g=b.Ma();a.hb(sm({resolution:e,duration:this.aa,easing:nm}));a.hb(qm({source:g,duration:this.aa,easing:nm}));im(b,Ij(d));hm(b,c)};function cn(a){xm.call(this,{handleEvent:dn});a=a||{};this.nc=void 0!==a.condition?a.condition:sb(Em,Gm);this.aa=void 0!==a.duration?a.duration:100;this.Tp=void 0!==a.pixelDelta?a.pixelDelta:128}N(cn,xm);
function dn(a){var b=!1;if("key"==a.type){var c=a.Wa.keyCode;if(this.nc(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=Z(d),e=b.w()*this.Tp,g=0,f=0;40==c?f=-e:37==c?g=-e:39==c?g=e:f=e;c=[g,f];fi(c,b.Ba());e=this.aa;if(g=b.Ma())e&&0<e&&d.hb(qm({source:g,duration:e,easing:pm})),d=b.nf.center([g[0]+c[0],g[1]+c[1]]),im(b,d);a.preventDefault();b=!0}}return!b};function en(a){xm.call(this,{handleEvent:fn});a=a?a:{};this.nc=a.condition?a.condition:Gm;this.Rb=a.delta?a.delta:1;this.aa=void 0!==a.duration?a.duration:100}N(en,xm);function fn(a){var b=!1;if("key"==a.type){var c=a.Wa.charCode;if(this.nc(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Rb:-this.Rb;b.render();var d=Z(b);zm(b,d,c,void 0,this.aa);a.preventDefault();b=!0}}return!b};function gn(a){xm.call(this,{handleEvent:hn});a=a||{};this.Rb=0;this.aa=void 0!==a.duration?a.duration:250;this.Xq=void 0!==a.useAnchor?a.useAnchor:!0;this.Cj=null;this.qd=this.Xh=void 0}N(gn,xm);function hn(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.Wa;this.Xq&&(this.Cj=a.coordinate);this.Rb+=c.deltaY;void 0===this.Xh&&(this.Xh=Date.now());c=Math.max(80-(Date.now()-this.Xh),0);x.clearTimeout(this.qd);this.qd=x.setTimeout(this.Rn.bind(this,b),c);a.preventDefault();b=!0}return!b}
gn.prototype.Rn=function(a){var b=Pj(this.Rb,-1,1),c=Z(a);a.render();zm(a,c,-b,this.Cj,this.aa);this.Rb=0;this.Cj=null;this.qd=this.Xh=void 0};function jn(a){Im.call(this,{handleDownEvent:kn,handleDragEvent:ln,handleUpEvent:mn});a=a||{};this.va=null;this.xc=void 0;this.Yf=!1;this.Ph=0;this.Cq=void 0!==a.threshold?a.threshold:.3;this.aa=void 0!==a.duration?a.duration:250}N(jn,Im);
function ln(a){var b=0,c=this.Ua[0],d=this.Ua[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.xc&&(b=c-this.xc,this.Ph+=b,!this.Yf&&Math.abs(this.Ph)>this.Cq&&(this.Yf=!0));this.xc=c;a=a.map;c=Bg(a.ja);d=Km(this.Ua);d[0]-=c.x;d[1]-=c.y;this.va=a.Ld(d);this.Yf&&(c=Z(a),d=c.Ba(),a.render(),ym(a,c,d+b,this.va))}
function mn(a){if(2>this.Ua.length){a=a.map;var b=Z(a);jm(b,-1);if(this.Yf){var c=b.Ba(),d=this.va,e=this.aa,c=b.constrainRotation(c,0);ym(a,b,c,d,e)}return!1}return!0}function kn(a){return 2<=this.Ua.length?(a=a.map,this.va=null,this.xc=void 0,this.Yf=!1,this.Ph=0,this.Ke||jm(Z(a),1),a.render(),!0):!1}jn.prototype.dg=nb;function nn(a){Im.call(this,{handleDownEvent:on,handleDragEvent:pn,handleUpEvent:qn});a=a?a:{};this.va=null;this.aa=void 0!==a.duration?a.duration:400;this.kh=void 0;this.Dj=1}N(nn,Im);function pn(a){var b=1,c=this.Ua[0],d=this.Ua[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.kh&&(b=this.kh/e);this.kh=e;1!=b&&(this.Dj=b);a=a.map;var e=Z(a),c=e.w(),d=Bg(a.ja),g=Km(this.Ua);g[0]-=d.x;g[1]-=d.y;this.va=a.Ld(g);a.render();Am(a,e,c*b,this.va)}
function qn(a){if(2>this.Ua.length){a=a.map;var b=Z(a);jm(b,-1);var c=b.w(),d=this.va,e=this.aa,c=b.constrainResolution(c,0,this.Dj-1);Am(a,b,c,d,e);return!1}return!0}function on(a){return 2<=this.Ua.length?(a=a.map,this.va=null,this.kh=void 0,this.Dj=1,this.Ke||jm(Z(a),1),a.render(),!0):!1}nn.prototype.dg=nb;function rn(a){var b=a||{};a=gb(b);delete a.layers;b=b.layers;qk.call(this,a);this.Kj=[];this.Re={};T(this,Yh("layers"),this.yo,!1,this);b?A(b)&&(b=new ai(b.slice())):b=new ai;this.set("layers",b)}N(rn,qk);k=rn.prototype;k.Tg=function(){this.get("visible")&&this.g()};
k.yo=function(){this.Kj.forEach(U);this.Kj.length=0;var a=this.Mg();this.Kj.push(T(a,"add",this.xo,!1,this),T(a,"remove",this.zo,!1,this));Ya(this.Re,function(a){a.forEach(U)});fb(this.Re);var a=a.zf(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Re[J(d).toString()]=[T(d,"propertychange",this.Tg,!1,this),T(d,"change",this.Tg,!1,this)];this.g()};k.xo=function(a){a=a.element;var b=J(a).toString();this.Re[b]=[T(a,"propertychange",this.Tg,!1,this),T(a,"change",this.Tg,!1,this)];this.g()};
k.zo=function(a){a=J(a.element).toString();this.Re[a].forEach(U);delete this.Re[a];this.g()};k.Mg=function(){return this.get("layers")};
k.hj=function(a){var b=void 0!==a?a:[],c=b.length;this.Mg().forEach(function(a){a.hj(b)});a=rk(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?Kj(e.extent,a.extent):a.extent);return b};k.lj=function(){return"ready"};function sn(a){Yj.call(this,{code:a,units:"m",extent:tn,global:!0,worldExtent:un})}N(sn,Yj);sn.prototype.getPointResolution=function(a,b){return a/Qj(b[1]/6378137)};var vn=6378137*Math.PI,tn=[-vn,-vn,vn,vn],un=[-180,-85,180,85],wn="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new sn(a)});
function xn(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function yn(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};var zn=new Uj(6378137);function An(a,b){Yj.call(this,{code:a,units:"degrees",extent:Bn,axisOrientation:b,global:!0,metersPerUnit:Cn,worldExtent:Bn})}N(An,Yj);An.prototype.getPointResolution=function(a){return a};
var Bn=[-180,-90,180,90],Cn=Math.PI*zn.radius/180,Dn=[new An("CRS:84"),new An("EPSG:4326","neu"),new An("urn:ogc:def:crs:EPSG::4326","neu"),new An("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new An("urn:ogc:def:crs:OGC:1.3:CRS84"),new An("urn:ogc:def:crs:OGC:2:84"),new An("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new An("urn:x-ogc:def:crs:EPSG:4326","neu")];function En(a){a=a?a:{};var b=gb(a);delete b.preload;delete b.useInterimTilesOnError;uk.call(this,b);this.set("preload",void 0!==a.preload?a.preload:0);this.set("useInterimTilesOnError",void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}N(En,uk);function Fn(a){return a.get("useInterimTilesOnError")};var Gn=[0,0,0,1],Hn=[],In=[0,0,0,1];function Jn(a){a=a||{};this.ha=void 0!==a.color?a.color:null;this.Oc=void 0}Jn.prototype.Af=function(){void 0===this.Oc&&(this.Oc="f"+(this.ha?kl(this.ha):"-"));return this.Oc};function Kn(){this.mc=-1};function Ln(){this.mc=-1;this.mc=64;this.wa=Array(4);this.Dn=Array(this.mc);this.fi=this.gf=0;this.reset()}N(Ln,Kn);Ln.prototype.reset=function(){this.wa[0]=1732584193;this.wa[1]=4023233417;this.wa[2]=2562383102;this.wa[3]=271733878;this.fi=this.gf=0};
function Mn(a,b,c){c||(c=0);var d=Array(16);if(H(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.wa[0];c=a.wa[1];var e=a.wa[2],g=a.wa[3],f=0,f=b+(g^c&(e^g))+d[0]+3614090360&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[1]+3905402710&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[2]+606105819&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&
(g^b))+d[3]+3250441966&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[4]+4118548399&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[5]+1200080426&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[6]+2821735955&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[7]+4249261313&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[8]+1770035416&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[9]+2336552879&4294967295;g=b+(f<<12&4294967295|f>>>20);f=
e+(c^g&(b^c))+d[10]+4294925233&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[11]+2304563134&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(g^c&(e^g))+d[12]+1804603682&4294967295;b=c+(f<<7&4294967295|f>>>25);f=g+(e^b&(c^e))+d[13]+4254626195&4294967295;g=b+(f<<12&4294967295|f>>>20);f=e+(c^g&(b^c))+d[14]+2792965006&4294967295;e=g+(f<<17&4294967295|f>>>15);f=c+(b^e&(g^b))+d[15]+1236535329&4294967295;c=e+(f<<22&4294967295|f>>>10);f=b+(e^g&(c^e))+d[1]+4129170786&4294967295;b=c+(f<<5&4294967295|
f>>>27);f=g+(c^e&(b^c))+d[6]+3225465664&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[11]+643717713&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[0]+3921069994&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[5]+3593408605&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[10]+38016083&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[15]+3634488961&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[4]+3889429448&4294967295;c=e+(f<<20&4294967295|
f>>>12);f=b+(e^g&(c^e))+d[9]+568446438&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[14]+3275163606&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[3]+4107603335&4294967295;e=g+(f<<14&4294967295|f>>>18);f=c+(g^b&(e^g))+d[8]+1163531501&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(e^g&(c^e))+d[13]+2850285829&4294967295;b=c+(f<<5&4294967295|f>>>27);f=g+(c^e&(b^c))+d[2]+4243563512&4294967295;g=b+(f<<9&4294967295|f>>>23);f=e+(b^c&(g^b))+d[7]+1735328473&4294967295;e=g+(f<<14&4294967295|
f>>>18);f=c+(g^b&(e^g))+d[12]+2368359562&4294967295;c=e+(f<<20&4294967295|f>>>12);f=b+(c^e^g)+d[5]+4294588738&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[8]+2272392833&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[11]+1839030562&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[14]+4259657740&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[1]+2763975236&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[4]+1272893353&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^
b^c)+d[7]+4139469664&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[10]+3200236656&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[13]+681279174&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[0]+3936430074&4294967295;g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[3]+3572445317&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[6]+76029189&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(c^e^g)+d[9]+3654602809&4294967295;b=c+(f<<4&4294967295|f>>>28);f=g+(b^c^e)+d[12]+3873151461&4294967295;
g=b+(f<<11&4294967295|f>>>21);f=e+(g^b^c)+d[15]+530742520&4294967295;e=g+(f<<16&4294967295|f>>>16);f=c+(e^g^b)+d[2]+3299628645&4294967295;c=e+(f<<23&4294967295|f>>>9);f=b+(e^(c|~g))+d[0]+4096336452&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[7]+1126891415&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[14]+2878612391&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[5]+4237533241&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[12]+1700485571&4294967295;b=c+
(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[3]+2399980690&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[10]+4293915773&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[1]+2240044497&4294967295;c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[8]+1873313359&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[15]+4264355552&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[6]+2734768916&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[13]+1309151649&4294967295;
c=e+(f<<21&4294967295|f>>>11);f=b+(e^(c|~g))+d[4]+4149444226&4294967295;b=c+(f<<6&4294967295|f>>>26);f=g+(c^(b|~e))+d[11]+3174756917&4294967295;g=b+(f<<10&4294967295|f>>>22);f=e+(b^(g|~c))+d[2]+718787259&4294967295;e=g+(f<<15&4294967295|f>>>17);f=c+(g^(e|~b))+d[9]+3951481745&4294967295;a.wa[0]=a.wa[0]+b&4294967295;a.wa[1]=a.wa[1]+(e+(f<<21&4294967295|f>>>11))&4294967295;a.wa[2]=a.wa[2]+e&4294967295;a.wa[3]=a.wa[3]+g&4294967295}
Ln.prototype.update=function(a,b){ba(b)||(b=a.length);for(var c=b-this.mc,d=this.Dn,e=this.gf,g=0;g<b;){if(0==e)for(;g<=c;)Mn(this,a,g),g+=this.mc;if(H(a))for(;g<b;){if(d[e++]=a.charCodeAt(g++),e==this.mc){Mn(this,d);e=0;break}}else for(;g<b;)if(d[e++]=a[g++],e==this.mc){Mn(this,d);e=0;break}}this.gf=e;this.fi+=b};
Ln.prototype.digest=function(){var a=Array((56>this.gf?this.mc:2*this.mc)-this.gf);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.fi,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.wa[b]>>>d&255;return a};function Nn(a){a=a||{};this.ha=void 0!==a.color?a.color:null;this.Xd=a.lineCap;this.ph=void 0!==a.lineDash?a.lineDash:null;this.Yd=a.lineJoin;this.Zd=a.miterLimit;this.gb=a.width;this.Oc=void 0}Nn.prototype.getLineDash=function(){return this.ph};Nn.prototype.Oa=function(){return this.gb};Nn.prototype.setLineDash=function(a){this.ph=a;this.Oc=void 0};
Nn.prototype.Af=function(){if(void 0===this.Oc){var a="s"+(this.ha?kl(this.ha):"-")+","+(void 0!==this.Xd?this.Xd.toString():"-")+","+(this.ph?this.ph.toString():"-")+","+(void 0!==this.Yd?this.Yd:"-")+","+(void 0!==this.Zd?this.Zd.toString():"-")+","+(void 0!==this.gb?this.gb.toString():"-"),b=new Ln;b.update(a);a=b.digest();if(8192>=a.length)a=String.fromCharCode.apply(null,a);else{for(var b="",c=0;c<a.length;c+=8192)b+=String.fromCharCode.apply(null,Pa(a,c,c+8192));a=b}this.Oc=a}return this.Oc};function On(a){a=a||{};this.Me=this.b=this.te=null;this.qb=void 0!==a.fill?a.fill:null;this.Ia=void 0!==a.stroke?a.stroke:null;this.ee=a.radius;this.na=[0,0];this.$g=this.Jl=this.pa=this.va=null;this.Jh(a.atlasManager);nl.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}N(On,nl);k=On.prototype;k.Lg=function(){return this.va};k.Cf=function(){return this.Me};k.Y=function(){return this.b};k.Ge=function(){return 2};k.gj=function(){return this.Jl};
k.tl=function(){return this.$g};k.Cb=function(){return this.na};k.N=function(){return this.pa};k.Wl=di;k.load=di;k.fn=di;
k.Jh=function(a){var b=null,c,d=0;this.Ia&&(c=kl(this.Ia.ha),d=this.Ia.Oa(),void 0===d&&(d=1),b=this.Ia.getLineDash(),ui||(b=null));var e=2*(this.ee+d)+1,b={strokeStyle:c,Vm:d,size:e,lineDash:b};if(void 0===a){this.b=document.createElement("CANVAS");this.b.height=e;this.b.width=e;a=e=this.b.width;var g=this.b.getContext("2d");this.il(b,g,0,0);this.$g=[b.size,b.size];this.qb?this.Me=this.b:(g=this.Me=document.createElement("CANVAS"),g.height=b.size,g.width=b.size,g=g.getContext("2d"),this.hl(b,g,0,
0))}else e=Math.round(e),(c=!this.qb)&&(g=this.hl.bind(this,b)),d=this.Af(),b=a.add(d,e,e,this.il.bind(this,b),g),this.b=b.image,this.na=[b.offsetX,b.offsetY],a=b.image.width,c?(this.Me=b.Cl,this.$g=[b.Cl.width,b.Cl.height]):(this.Me=this.b,this.$g=[a,a]);this.va=[e/2,e/2];this.pa=[e,e];this.Jl=[a,a]};
k.il=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();b.arc(a.size/2,a.size/2,this.ee,0,2*Math.PI,!0);this.qb&&(b.fillStyle=kl(this.qb.ha),b.fill());this.Ia&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Vm,a.lineDash&&b.setLineDash(a.lineDash),b.stroke());b.closePath()};
k.hl=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();b.arc(a.size/2,a.size/2,this.ee,0,2*Math.PI,!0);b.fillStyle=kl(Gn);b.fill();this.Ia&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Vm,a.lineDash&&b.setLineDash(a.lineDash),b.stroke());b.closePath()};k.Af=function(){var a=this.Ia?this.Ia.Af():"-",b=this.qb?this.qb.Af():"-";this.te&&a==this.te[1]&&b==this.te[2]&&this.ee==this.te[3]||(this.te=["c"+a+b+(void 0!==this.ee?this.ee.toString():"-"),a,b,this.ee]);return this.te[0]};function Pn(a){a=a||{};this.Kd=null;this.yf=Qn;void 0!==a.geometry&&this.bg(a.geometry);this.qb=void 0!==a.fill?a.fill:null;this.v=void 0!==a.image?a.image:null;this.Ia=void 0!==a.stroke?a.stroke:null;this.K=void 0!==a.text?a.text:null;this.dr=a.zIndex}Pn.prototype.Na=function(){return this.Kd};Pn.prototype.Y=function(){return this.v};Pn.prototype.Ea=function(){return this.dr};
Pn.prototype.bg=function(a){ia(a)?this.yf=a:H(a)?this.yf=function(b){return b.get(a)}:a?void 0!==a&&(this.yf=function(){return a}):this.yf=Qn;this.Kd=a};function Rn(a){if(!ia(a)){var b;b=A(a)?a:[a];a=function(){return b}}return a}var Sn=null;function Tn(){if(!Sn){var a=new Jn({color:"rgba(255,255,255,0.4)"}),b=new Nn({color:"#3399CC",width:1.25});Sn=[new Pn({image:new On({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Sn}function Qn(a){return a.Na()};function Un(a){a=a?a:{};var b=gb(a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;uk.call(this,b);this.xb=void 0!==a.renderBuffer?a.renderBuffer:100;this.fg=null;this.Hc=void 0;this.dk(a.style);this.vk=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.wk=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}N(Un,uk);Un.prototype.dk=function(a){this.fg=void 0!==a?a:Tn;this.Hc=null===a?void 0:Rn(this.fg);this.g()};function Vn(a,b,c,d,e){this.kf={};this.s=a;this.Kb=b;this.S=c;this.Ja=d;this.$q=e;this.v=this.ta=this.Xa=this.$k=this.Zk=this.Yk=null;this.Gl=this.Fl=this.bh=this.Pd=this.vj=this.uj=0;this.Hl=!1;this.Lf=this.Il=0;this.Kl=!1;this.Rd=0;this.K="";this.od=this.me=this.hg=this.gg=0;this.Ic=this.eb=this.cb=null;this.ce=[];this.ci=Jh()}
function Wn(a,b,c){if(a.v){b=Nl(b,0,c,2,a.Ja,a.ce);c=a.s;var d=a.ci,e=c.globalAlpha;1!=a.bh&&(c.globalAlpha=e*a.bh);var g=a.Il;a.Hl&&(g+=a.$q);var f,h;f=0;for(h=b.length;f<h;f+=2){var l=b[f]-a.uj,m=b[f+1]-a.vj;a.Kl&&(l=Math.round(l),m=Math.round(m));if(0!==g||1!=a.Lf){var n=l+a.uj,p=m+a.vj;Xk(d,n,p,a.Lf,a.Lf,g,-n,-p);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.v,a.Fl,a.Gl,a.Rd,a.Pd,l,m,a.Rd,a.Pd)}0===g&&1==a.Lf||c.setTransform(1,0,0,1,0,0);1!=a.bh&&(c.globalAlpha=e)}}
function Xn(a,b,c,d){var e=0;if(a.Ic&&""!==a.K){a.cb&&Yn(a,a.cb);a.eb&&Zn(a,a.eb);var g=a.Ic,f=a.s,h=a.$k;h?(h.font!=g.font&&(h.font=f.font=g.font),h.textAlign!=g.textAlign&&(h.textAlign=f.textAlign=g.textAlign),h.textBaseline!=g.textBaseline&&(h.textBaseline=f.textBaseline=g.textBaseline)):(f.font=g.font,f.textAlign=g.textAlign,f.textBaseline=g.textBaseline,a.$k={font:g.font,textAlign:g.textAlign,textBaseline:g.textBaseline});b=Nl(b,e,c,d,a.Ja,a.ce);for(g=a.s;e<c;e+=d){f=b[e]+a.gg;h=b[e+1]+a.hg;
if(0!==a.me||1!=a.od){var l=Xk(a.ci,f,h,a.od,a.od,a.me,-f,-h);g.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}a.eb&&g.strokeText(a.K,f,h);a.cb&&g.fillText(a.K,f,h)}0===a.me&&1==a.od||g.setTransform(1,0,0,1,0,0)}}function $n(a,b,c,d,e,g){var f=a.s;a=Nl(b,c,d,e,a.Ja,a.ce);f.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)f.lineTo(a[b],a[b+1]);g&&f.lineTo(a[0],a[1]);return d}function ao(a,b,c,d,e){var g=a.s,f,h;f=0;for(h=d.length;f<h;++f)c=$n(a,b,c,d[f],e,!0),g.closePath();return c}k=Vn.prototype;
k.Ag=function(a){if(Lj(this.S,a.u())){if(this.Xa||this.ta){this.Xa&&Yn(this,this.Xa);this.ta&&Zn(this,this.ta);var b;b=this.Ja;var c=this.ce,d=a.a;b=d?Nl(d,0,d.length,a.l,b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.s;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.Xa&&d.fill();this.ta&&d.stroke()}""!==this.K&&Xn(this,a.Ma(),2,2)}};k.Yi=function(a,b){var c=a.qa,d,e;d=0;for(e=c.length;d<e;++d){var g=c[d];bo[g.ma()].call(this,g,b)}};
k.Hd=function(a){var b=a.a;a=a.l;this.v&&Wn(this,b,b.length);""!==this.K&&Xn(this,b,b.length,a)};k.Gd=function(a){var b=a.a;a=a.l;this.v&&Wn(this,b,b.length);""!==this.K&&Xn(this,b,b.length,a)};k.Bg=function(a){if(Lj(this.S,a.u())){if(this.ta){Zn(this,this.ta);var b=this.s,c=a.a;b.beginPath();$n(this,c,0,c.length,a.l,!1);b.stroke()}""!==this.K&&(a=co(a),Xn(this,a,2,2))}};
k.Cg=function(a){var b=a.u();if(Lj(this.S,b)){if(this.ta){Zn(this,this.ta);var b=this.s,c=a.a,d=0,e=a.ka,g=a.l;b.beginPath();var f,h;f=0;for(h=e.length;f<h;++f)d=$n(this,c,d,e[f],g,!1);b.stroke()}""!==this.K&&(a=eo(a),Xn(this,a,a.length,2))}};k.Eg=function(a){if(Lj(this.S,a.u())){if(this.ta||this.Xa){this.Xa&&Yn(this,this.Xa);this.ta&&Zn(this,this.ta);var b=this.s;b.beginPath();ao(this,a.qc(),0,a.ka,a.l);this.Xa&&b.fill();this.ta&&b.stroke()}""!==this.K&&(a=dm(a),Xn(this,a,2,2))}};
k.Dg=function(a){if(Lj(this.S,a.u())){if(this.ta||this.Xa){this.Xa&&Yn(this,this.Xa);this.ta&&Zn(this,this.ta);var b=this.s,c=a.qc(),d=0,e=a.pb,g=a.l,f,h;f=0;for(h=e.length;f<h;++f){var l=e[f];b.beginPath();d=ao(this,c,d,l,g);this.Xa&&b.fill();this.ta&&b.stroke()}}""!==this.K&&(a=fo(a),Xn(this,a,a.length,2))}};k.flush=function(){var a=Object.keys(this.kf).map(Number);a.sort(zk);var b,c,d,e,g;b=0;for(c=a.length;b<c;++b)for(d=this.kf[a[b].toString()],e=0,g=d.length;e<g;++e)d[e](this)};
function Yn(a,b){var c=a.s,d=a.Yk;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.Yk={fillStyle:b.fillStyle})}
function Zn(a,b){var c=a.s,d=a.Zk;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),ui&&!Wa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,ui&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=
b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Zk={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}
k.kd=function(a,b){if(a){var c=a.ha;this.Xa={fillStyle:kl(c?c:Gn)}}else this.Xa=null;if(b){var c=b.ha,d=b.Xd,e=b.getLineDash(),g=b.Yd,f=b.Oa(),h=b.Zd;this.ta={lineCap:void 0!==d?d:"round",lineDash:e?e:Hn,lineJoin:void 0!==g?g:"round",lineWidth:this.Kb*(void 0!==f?f:1),miterLimit:void 0!==h?h:10,strokeStyle:kl(c?c:In)}}else this.ta=null};
k.ie=function(a){if(a){var b=a.Lg(),c=a.Y(1),d=a.Cb(),e=a.N();this.uj=b[0];this.vj=b[1];this.Pd=e[1];this.v=c;this.bh=a.Ef();this.Fl=d[0];this.Gl=d[1];this.Hl=a.bb;this.Il=a.Ba();this.Lf=a.Ha;this.Kl=a.Fc;this.Rd=e[0]}else this.v=null};
k.Ec=function(a){if(a){var b=a.qb;b?(b=b.ha,this.cb={fillStyle:kl(b?b:Gn)}):this.cb=null;var c=a.Ia;if(c){var b=c.ha,d=c.Xd,e=c.getLineDash(),g=c.Yd,f=c.Oa(),c=c.Zd;this.eb={lineCap:void 0!==d?d:"round",lineDash:e?e:Hn,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==f?f:1,miterLimit:void 0!==c?c:10,strokeStyle:kl(b?b:In)}}else this.eb=null;var b=a.ao(),d=a.bo(),e=a.co(),g=a.Ba(),f=a.Ha,c=a.K,h=a.ho();a=a.io();this.Ic={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==
a?a:"middle"};this.K=void 0!==c?c:"";this.gg=void 0!==d?this.Kb*d:0;this.hg=void 0!==e?this.Kb*e:0;this.me=void 0!==g?g:0;this.od=this.Kb*(void 0!==f?f:1)}else this.K=""};var bo={Point:Vn.prototype.Hd,LineString:Vn.prototype.Bg,Polygon:Vn.prototype.Eg,MultiPoint:Vn.prototype.Gd,MultiLineString:Vn.prototype.Cg,MultiPolygon:Vn.prototype.Dg,GeometryCollection:Vn.prototype.Yi,Circle:Vn.prototype.Ag};function go(a){$k.call(this,a);this.Ja=Jh()}N(go,$k);
go.prototype.Pc=function(a,b,c){this.ya("precompose",c,a,void 0);var d=this.Y();if(d){var e=b.extent,g=void 0!==e;if(g){var f=a.pixelRatio,h=Mj(e),l=[e[2],e[3]],m=[e[2],e[1]],e=[e[0],e[1]];Zk(a.coordinateToPixelMatrix,h,h);Zk(a.coordinateToPixelMatrix,l,l);Zk(a.coordinateToPixelMatrix,m,m);Zk(a.coordinateToPixelMatrix,e,e);c.save();c.beginPath();c.moveTo(h[0]*f,h[1]*f);c.lineTo(l[0]*f,l[1]*f);c.lineTo(m[0]*f,m[1]*f);c.lineTo(e[0]*f,e[1]*f);c.clip()}f=this.Ll;h=c.globalAlpha;c.globalAlpha=b.opacity;
0===a.viewState.rotation?c.drawImage(d,0,0,+d.width,+d.height,Math.round(f[12]),Math.round(f[13]),Math.round(d.width*f[0]),Math.round(d.height*f[5])):(c.setTransform(f[0],f[1],f[4],f[5],f[12],f[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0));c.globalAlpha=h;g&&c.restore()}this.ya("postcompose",c,a,void 0)};
go.prototype.ya=function(a,b,c,d){var e=this.Ra;e.hasListener(a)&&(d=void 0!==d?d:this.Md(c,0),d=new Vn(b,c.pixelRatio,c.extent,d,c.viewState.rotation),e.dispatchEvent(new tk(a,e,d,c,b,null)),d.flush())};go.prototype.Md=function(a,b){var c=a.viewState,d=a.pixelRatio;return Xk(this.Ja,d*a.size[0]/2,d*a.size[1]/2,d/c.resolution,-d/c.resolution,-c.rotation,-c.center[0]+b,-c.center[1])};
var ho=function(){var a=null,b=null;return function(c){if(!a){a=li(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Wa(b.data,c.data));return e}}();var io=["Polygon","LineString","Image","Text"];function jo(a,b,c){this.Iq=a;this.Pj=b;this.ob=null;this.bd=0;this.resolution=c;this.rg=this.qg=null;this.Z=[];this.coordinates=[];this.Hm=Jh();this.I=[];this.ce=[];this.ci=Jh();this.Hq=Jh()}N(jo,sk);
function ko(a,b,c,d,e,g){var f=a.coordinates.length,h=a.fj(),l=[b[c],b[c+1]],m=[NaN,NaN],n=!0,p,q,r;for(p=c+e;p<d;p+=e){m[0]=b[p];m[1]=b[p+1];r=h[1];var t=h[2],y=h[3],B=m[0],v=m[1],u=0;B<h[0]?u|=16:B>t&&(u|=4);v<r?u|=8:v>y&&(u|=2);0===u&&(u=1);r=u;r!==q?(n&&(a.coordinates[f++]=l[0],a.coordinates[f++]=l[1]),a.coordinates[f++]=m[0],a.coordinates[f++]=m[1],n=!1):1===r?(a.coordinates[f++]=m[0],a.coordinates[f++]=m[1],n=!1):n=!0;l[0]=m[0];l[1]=m[1];q=r}p===c+e&&(a.coordinates[f++]=l[0],a.coordinates[f++]=
l[1]);g&&(a.coordinates[f++]=b[c],a.coordinates[f++]=b[c+1]);return f}function lo(a,b){a.qg=[0,b,0];a.Z.push(a.qg);a.rg=[0,b,0];a.I.push(a.rg)}
function mo(a,b,c,d,e,g,f,h,l){var m;Yk(d,a.Hm)?m=a.ce:(m=Nl(a.coordinates,0,a.coordinates.length,2,d,a.ce),Mh(a.Hm,d));d=!eb(g);var n=0,p=f.length,q=0,r,t=a.ci;a=a.Hq;for(var y,B,v,u;n<p;){var w=f[n],C,z,G,D;switch(w[0]){case 0:q=w[1];d&&g[J(q).toString()]||!q.Na()?n=w[2]:void 0===l||Lj(l,q.Na().u())?++n:n=w[2];break;case 1:b.beginPath();++n;break;case 2:q=w[1];r=m[q];w=m[q+1];v=m[q+2]-r;q=m[q+3]-w;b.arc(r,w,Math.sqrt(v*v+q*q),0,2*Math.PI,!0);++n;break;case 3:b.closePath();++n;break;case 4:q=w[1];
r=w[2];C=w[3];G=w[4]*c;var F=w[5]*c,E=w[6];z=w[7];var K=w[8],M=w[9];v=w[11];u=w[12];var I=w[13],R=w[14];for(w[10]&&(v+=e);q<r;q+=2){w=m[q]-G;D=m[q+1]-F;I&&(w=Math.round(w),D=Math.round(D));if(1!=u||0!==v){var O=w+G,bb=D+F;Xk(t,O,bb,u,u,v,-O,-bb);b.transform(t[0],t[1],t[4],t[5],t[12],t[13])}O=b.globalAlpha;1!=z&&(b.globalAlpha=O*z);var bb=R+K>C.width?C.width-K:R,Sa=E+M>C.height?C.height-M:E;b.drawImage(C,K,M,bb,Sa,w,D,bb*c,Sa*c);1!=z&&(b.globalAlpha=O);if(1!=u||0!==v)Oh(t,a),b.transform(a[0],a[1],
a[4],a[5],a[12],a[13])}++n;break;case 5:q=w[1];r=w[2];G=w[3];F=w[4]*c;E=w[5]*c;v=w[6];u=w[7]*c;C=w[8];for(z=w[9];q<r;q+=2){w=m[q]+F;D=m[q+1]+E;if(1!=u||0!==v)Xk(t,w,D,u,u,v,-w,-D),b.transform(t[0],t[1],t[4],t[5],t[12],t[13]);K=G.split("\n");M=K.length;1<M?(I=Math.round(1.5*b.measureText("M").width),D-=(M-1)/2*I):I=0;for(R=0;R<M;R++)O=K[R],z&&b.strokeText(O,w,D),C&&b.fillText(O,w,D),D+=I;if(1!=u||0!==v)Oh(t,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13])}++n;break;case 6:if(void 0!==h&&(q=w[1],q=h(q)))return q;
++n;break;case 7:b.fill();++n;break;case 8:q=w[1];r=w[2];w=m[q];D=m[q+1];v=w+.5|0;u=D+.5|0;if(v!==y||u!==B)b.moveTo(w,D),y=v,B=u;for(q+=2;q<r;q+=2)if(w=m[q],D=m[q+1],v=w+.5|0,u=D+.5|0,v!==y||u!==B)b.lineTo(w,D),y=v,B=u;++n;break;case 9:b.fillStyle=w[1];++n;break;case 10:y=void 0!==w[7]?w[7]:!0;B=w[2];b.strokeStyle=w[1];b.lineWidth=y?B*c:B;b.lineCap=w[3];b.lineJoin=w[4];b.miterLimit=w[5];ui&&b.setLineDash(w[6]);B=y=NaN;++n;break;case 11:b.font=w[1];b.textAlign=w[2];b.textBaseline=w[3];++n;break;case 12:b.stroke();
++n;break;default:++n}}}jo.prototype.lb=function(a,b,c,d,e){mo(this,a,b,c,d,e,this.Z,void 0)};function no(a){var b=a.I;b.reverse();var c,d=b.length,e,g,f=-1;for(c=0;c<d;++c)if(e=b[c],g=e[0],6==g)f=c;else if(0==g){e[2]=c;e=a.I;for(g=c;f<g;){var h=e[f];e[f]=e[g];e[g]=h;++f;--g}f=-1}}function oo(a,b){a.qg[2]=a.Z.length;a.qg=null;a.rg[2]=a.I.length;a.rg=null;var c=[6,b];a.Z.push(c);a.I.push(c)}jo.prototype.finish=di;jo.prototype.fj=function(){return this.Pj};
function po(a,b,c){jo.call(this,a,b,c);this.v=this.uc=null;this.gb=this.Fc=this.Ha=this.oa=this.bb=this.cc=this.bc=this.ub=this.$b=this.Pb=this.Ob=void 0}N(po,jo);k=po.prototype;k.vf=function(a,b,c,d){return ko(this,a,b,c,d,!1)};
k.Hd=function(a,b){if(this.v){lo(this,b);var c=a.a,d=this.coordinates.length,c=this.vf(c,0,c.length,a.l);this.Z.push([4,d,c,this.v,this.Ob,this.Pb,this.$b,this.ub,this.bc,this.cc,this.bb,this.oa,this.Ha,this.Fc,this.gb]);this.I.push([4,d,c,this.uc,this.Ob,this.Pb,this.$b,this.ub,this.bc,this.cc,this.bb,this.oa,this.Ha,this.Fc,this.gb]);oo(this,b)}};
k.Gd=function(a,b){if(this.v){lo(this,b);var c=a.a,d=this.coordinates.length,c=this.vf(c,0,c.length,a.l);this.Z.push([4,d,c,this.v,this.Ob,this.Pb,this.$b,this.ub,this.bc,this.cc,this.bb,this.oa,this.Ha,this.Fc,this.gb]);this.I.push([4,d,c,this.uc,this.Ob,this.Pb,this.$b,this.ub,this.bc,this.cc,this.bb,this.oa,this.Ha,this.Fc,this.gb]);oo(this,b)}};k.finish=function(){no(this);this.Pb=this.Ob=void 0;this.v=this.uc=null;this.gb=this.Fc=this.oa=this.bb=this.cc=this.bc=this.ub=this.Ha=this.$b=void 0};
k.ie=function(a){var b=a.Lg(),c=a.N(),d=a.Cf(1),e=a.Y(1),g=a.Cb();this.Ob=b[0];this.Pb=b[1];this.uc=d;this.v=e;this.$b=c[1];this.ub=a.Ef();this.bc=g[0];this.cc=g[1];this.bb=a.bb;this.oa=a.Ba();this.Ha=a.Ha;this.Fc=a.Fc;this.gb=c[0]};function qo(a,b,c){jo.call(this,a,b,c);this.h={tf:void 0,of:void 0,pf:null,qf:void 0,rf:void 0,sf:void 0,Ej:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}N(qo,jo);
function ro(a,b,c,d,e){var g=a.coordinates.length;b=ko(a,b,c,d,e,!1);g=[8,g,b];a.Z.push(g);a.I.push(g);return d}k=qo.prototype;k.fj=function(){this.ob||(this.ob=zj(this.Pj),0<this.bd&&yj(this.ob,this.resolution*(this.bd+1)/2,this.ob));return this.ob};
function so(a){var b=a.h,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,g=b.lineJoin,f=b.lineWidth,h=b.miterLimit;b.tf==c&&b.of==d&&Wa(b.pf,e)&&b.qf==g&&b.rf==f&&b.sf==h||(b.Ej!=a.coordinates.length&&(a.Z.push([12]),b.Ej=a.coordinates.length),a.Z.push([10,c,f,d,g,h,e],[1]),b.tf=c,b.of=d,b.pf=e,b.qf=g,b.rf=f,b.sf=h)}
k.Bg=function(a,b){var c=this.h,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(so(this),lo(this,b),this.I.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.a,ro(this,c,0,c.length,a.l),this.I.push([12]),oo(this,b))};
k.Cg=function(a,b){var c=this.h,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){so(this);lo(this,b);this.I.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var c=a.ka,d=a.a,e=a.l,g=0,f,h;f=0;for(h=c.length;f<h;++f)g=ro(this,d,g,c[f],e);this.I.push([12]);oo(this,b)}};k.finish=function(){this.h.Ej!=this.coordinates.length&&this.Z.push([12]);no(this);this.h=null};
k.kd=function(a,b){var c=b.ha;this.h.strokeStyle=kl(c?c:In);c=b.Xd;this.h.lineCap=void 0!==c?c:"round";c=b.getLineDash();this.h.lineDash=c?c:Hn;c=b.Yd;this.h.lineJoin=void 0!==c?c:"round";c=b.Oa();this.h.lineWidth=void 0!==c?c:1;c=b.Zd;this.h.miterLimit=void 0!==c?c:10;this.h.lineWidth>this.bd&&(this.bd=this.h.lineWidth,this.ob=null)};
function to(a,b,c){jo.call(this,a,b,c);this.h={dl:void 0,tf:void 0,of:void 0,pf:null,qf:void 0,rf:void 0,sf:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}N(to,jo);
function uo(a,b,c,d,e){var g=a.h,f=[1];a.Z.push(f);a.I.push(f);var h,f=0;for(h=d.length;f<h;++f){var l=d[f],m=a.coordinates.length;c=ko(a,b,c,l,e,!0);c=[8,m,c];m=[3];a.Z.push(c,m);a.I.push(c,m);c=l}b=[7];a.I.push(b);void 0!==g.fillStyle&&a.Z.push(b);void 0!==g.strokeStyle&&(g=[12],a.Z.push(g),a.I.push(g));return c}k=to.prototype;
k.Ag=function(a,b){var c=this.h,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){vo(this);lo(this,b);this.I.push([9,kl(Gn)]);void 0!==c.strokeStyle&&this.I.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e=a.a,d=this.coordinates.length;ko(this,e,0,e.length,a.l,!1);e=[1];d=[2,d];this.Z.push(e,d);this.I.push(e,d);d=[7];this.I.push(d);void 0!==c.fillStyle&&this.Z.push(d);void 0!==c.strokeStyle&&(c=[12],this.Z.push(c),this.I.push(c));oo(this,b)}};
k.Eg=function(a,b){var c=this.h,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d)vo(this),lo(this,b),this.I.push([9,kl(Gn)]),void 0!==c.strokeStyle&&this.I.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.ka,d=a.qc(),uo(this,d,0,c,a.l),oo(this,b)};
k.Dg=function(a,b){var c=this.h,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){vo(this);lo(this,b);this.I.push([9,kl(Gn)]);void 0!==c.strokeStyle&&this.I.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var c=a.pb,d=a.qc(),e=a.l,g=0,f,h;f=0;for(h=c.length;f<h;++f)g=uo(this,d,g,c[f],e);oo(this,b)}};k.finish=function(){no(this);this.h=null;var a=this.Iq;if(0!==a){var b=this.coordinates,c,d;c=0;for(d=b.length;c<d;++c)b[c]=a*Math.round(b[c]/a)}};
k.fj=function(){this.ob||(this.ob=zj(this.Pj),0<this.bd&&yj(this.ob,this.resolution*(this.bd+1)/2,this.ob));return this.ob};
k.kd=function(a,b){var c=this.h;if(a){var d=a.ha;c.fillStyle=kl(d?d:Gn)}else c.fillStyle=void 0;b?(d=b.ha,c.strokeStyle=kl(d?d:In),d=b.Xd,c.lineCap=void 0!==d?d:"round",d=b.getLineDash(),c.lineDash=d?d.slice():Hn,d=b.Yd,c.lineJoin=void 0!==d?d:"round",d=b.Oa(),c.lineWidth=void 0!==d?d:1,d=b.Zd,c.miterLimit=void 0!==d?d:10,c.lineWidth>this.bd&&(this.bd=c.lineWidth,this.ob=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)};
function vo(a){var b=a.h,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,g=b.lineDash,f=b.lineJoin,h=b.lineWidth,l=b.miterLimit;void 0!==c&&b.dl!=c&&(a.Z.push([9,c]),b.dl=b.fillStyle);void 0===d||b.tf==d&&b.of==e&&b.pf==g&&b.qf==f&&b.rf==h&&b.sf==l||(a.Z.push([10,d,h,e,f,l,g]),b.tf=d,b.of=e,b.pf=g,b.qf=f,b.rf=h,b.sf=l)}function wo(a,b,c){jo.call(this,a,b,c);this.Km=this.Jm=this.Im=null;this.K="";this.od=this.me=this.hg=this.gg=0;this.Ic=this.eb=this.cb=null}N(wo,jo);
wo.prototype.Tc=function(a,b,c,d,e,g){if(""!==this.K&&this.Ic&&(this.cb||this.eb)){if(this.cb){e=this.cb;var f=this.Im;if(!f||f.fillStyle!=e.fillStyle){var h=[9,e.fillStyle];this.Z.push(h);this.I.push(h);f?f.fillStyle=e.fillStyle:this.Im={fillStyle:e.fillStyle}}}this.eb&&(e=this.eb,f=this.Jm,f&&f.lineCap==e.lineCap&&f.lineDash==e.lineDash&&f.lineJoin==e.lineJoin&&f.lineWidth==e.lineWidth&&f.miterLimit==e.miterLimit&&f.strokeStyle==e.strokeStyle||(h=[10,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,
e.miterLimit,e.lineDash,!1],this.Z.push(h),this.I.push(h),f?(f.lineCap=e.lineCap,f.lineDash=e.lineDash,f.lineJoin=e.lineJoin,f.lineWidth=e.lineWidth,f.miterLimit=e.miterLimit,f.strokeStyle=e.strokeStyle):this.Jm={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}));e=this.Ic;f=this.Km;f&&f.font==e.font&&f.textAlign==e.textAlign&&f.textBaseline==e.textBaseline||(h=[11,e.font,e.textAlign,e.textBaseline],this.Z.push(h),this.I.push(h),
f?(f.font=e.font,f.textAlign=e.textAlign,f.textBaseline=e.textBaseline):this.Km={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline});lo(this,g);e=this.coordinates.length;a=ko(this,a,b,c,d,!1);a=[5,e,a,this.K,this.gg,this.hg,this.me,this.od,!!this.cb,!!this.eb];this.Z.push(a);this.I.push(a);oo(this,g)}};
wo.prototype.Ec=function(a){if(a){var b=a.qb;b?(b=b.ha,b=kl(b?b:Gn),this.cb?this.cb.fillStyle=b:this.cb={fillStyle:b}):this.cb=null;var c=a.Ia;if(c){var b=c.ha,d=c.Xd,e=c.getLineDash(),g=c.Yd,f=c.Oa(),c=c.Zd,d=void 0!==d?d:"round",e=e?e.slice():Hn,g=void 0!==g?g:"round",f=void 0!==f?f:1,c=void 0!==c?c:10,b=kl(b?b:In);if(this.eb){var h=this.eb;h.lineCap=d;h.lineDash=e;h.lineJoin=g;h.lineWidth=f;h.miterLimit=c;h.strokeStyle=b}else this.eb={lineCap:d,lineDash:e,lineJoin:g,lineWidth:f,miterLimit:c,strokeStyle:b}}else this.eb=
null;var l=a.ao(),b=a.bo(),d=a.co(),e=a.Ba(),f=a.Ha,c=a.K,g=a.ho(),h=a.io();a=void 0!==l?l:"10px sans-serif";g=void 0!==g?g:"center";h=void 0!==h?h:"middle";this.Ic?(l=this.Ic,l.font=a,l.textAlign=g,l.textBaseline=h):this.Ic={font:a,textAlign:g,textBaseline:h};this.K=void 0!==c?c:"";this.gg=void 0!==b?b:0;this.hg=void 0!==d?d:0;this.me=void 0!==e?e:0;this.od=void 0!==f?f:1}else this.K=""};function xo(a,b,c,d){this.pk=a;this.vh=b;this.$e=c;this.xb=d;this.Bc={};this.Xo=li(1,1);this.Yo=Jh()}k=xo.prototype;
k.finish=function(){for(var a in this.Bc){var b=this.Bc[a],c;for(c in b)b[c].finish()}};k.Ya=function(a,b,c,d,e){var g=this.Yo;Xk(g,.5,.5,1/b,-1/b,-c,-a[0],-a[1]);var f=this.Xo;f.clearRect(0,0,1,1);var h;void 0!==this.xb&&(h=uj(),vj(h,a),yj(h,b*this.xb,h));return this.Xj(f,g,c,d,function(a){if(0<f.getImageData(0,0,1,1).data[3]){if(a=e(a))return a;f.clearRect(0,0,1,1)}},h)};
k.Aa=function(a,b){var c=void 0!==a?a.toString():"0",d=this.Bc[c];void 0===d&&(d={},this.Bc[c]=d);c=d[b];void 0===c&&(c=new yo[b](this.pk,this.vh,this.$e),d[b]=c);return c};k.Qa=function(){return eb(this.Bc)};
k.lb=function(a,b,c,d,e,g){var f=Object.keys(this.Bc).map(Number);f.sort(zk);if(!1!==g){var h=this.vh;g=h[0];var l=h[1],m=h[2],h=h[3];g=[g,l,g,h,m,h,m,l];Nl(g,0,8,2,c,g);a.save();a.beginPath();a.moveTo(g[0],g[1]);a.lineTo(g[2],g[3]);a.lineTo(g[4],g[5]);a.lineTo(g[6],g[7]);a.closePath();a.clip()}var n,p;g=0;for(l=f.length;g<l;++g)for(n=this.Bc[f[g].toString()],m=0,h=io.length;m<h;++m)p=n[io[m]],void 0!==p&&p.lb(a,b,c,d,e);a.restore()};
k.Xj=function(a,b,c,d,e,g){var f=Object.keys(this.Bc).map(Number);f.sort(function(a,b){return b-a});var h,l,m,n,p;h=0;for(l=f.length;h<l;++h)for(n=this.Bc[f[h].toString()],m=io.length-1;0<=m;--m)if(p=n[io[m]],void 0!==p&&(p=mo(p,a,1,b,c,d,p.I,e,g)))return p};var yo={Image:po,LineString:qo,Polygon:to,Text:wo};function zo(a,b){return J(a)-J(b)}function Ao(a,b){var c=.5*a/b;return c*c}function Bo(a,b,c,d,e,g){var f=!1,h,l;if(h=c.Y())l=h.Ge(),2==l||3==l?h.fn(e,g):(0==l&&h.load(),h.Wl(e,g),f=!0);if(e=(0,c.yf)(b))d=e.kj(d),(0,Co[d.ma()])(a,d,c,b);return f}
var Co={Point:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ge())return;var g=a.Aa(c.Ea(),"Image");g.ie(e);g.Hd(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),a.Tc(b.a,0,2,2,b,d)},LineString:function(a,b,c,d){var e=c.Ia;if(e){var g=a.Aa(c.Ea(),"LineString");g.kd(null,e);g.Bg(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),a.Tc(co(b),0,2,2,b,d)},Polygon:function(a,b,c,d){var e=c.qb,g=c.Ia;if(e||g){var f=a.Aa(c.Ea(),"Polygon");f.kd(e,g);f.Eg(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),a.Tc(dm(b),0,2,2,b,d)},
MultiPoint:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.Ge())return;var g=a.Aa(c.Ea(),"Image");g.ie(e);g.Gd(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),c=b.a,a.Tc(c,0,c.length,b.l,b,d)},MultiLineString:function(a,b,c,d){var e=c.Ia;if(e){var g=a.Aa(c.Ea(),"LineString");g.kd(null,e);g.Cg(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),c=eo(b),a.Tc(c,0,c.length,2,b,d)},MultiPolygon:function(a,b,c,d){var e=c.qb,g=c.Ia;if(g||e){var f=a.Aa(c.Ea(),"Polygon");f.kd(e,g);f.Dg(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),
a.Ec(e),c=fo(b),a.Tc(c,0,c.length,2,b,d)},GeometryCollection:function(a,b,c,d){b=b.qa;var e,g;e=0;for(g=b.length;e<g;++e)(0,Co[b[e].ma()])(a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.qb,g=c.Ia;if(e||g){var f=a.Aa(c.Ea(),"Polygon");f.kd(e,g);f.Ag(b,d)}if(e=c.K)a=a.Aa(c.Ea(),"Text"),a.Ec(e),a.Tc(b.Ma(),0,2,2,b,d)}};var Do=!((P("Chrome")||P("CriOS"))&&!P("Opera")&&!P("OPR")&&!P("Edge"))||Wb()||P("iPad")||P("iPod");function Eo(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function Fo(a,b,c,d,e,g,f,h,l,m){var n=li(Math.round(c*a),Math.round(c*b));if(0===l.length)return n.canvas;n.scale(c,c);var p=uj();l.forEach(function(a){Dj(p,a.extent)});var q=li(Math.round(c*Gj(p)/d),Math.round(c*Hj(p)/d));q.scale(c/d,c/d);q.translate(-p[0],p[3]);l.forEach(function(a){q.drawImage(a.image,a.extent[0],-a.extent[3],Gj(a.extent),Hj(a.extent))});var r=Mj(f);h.rd.forEach(function(a){var b=a.source,e=a.target,f=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-r[0])/g;var z=-(e[0][1]-r[1])/
g,G=(e[1][0]-r[0])/g,D=-(e[1][1]-r[1])/g,F=(e[2][0]-r[0])/g,E=-(e[2][1]-r[1])/g,e=b[0][0],b=b[0][1],f=f-e,h=h-b,l=l-e,m=m-b;a:{f=[[f,h,0,0,G-a],[l,m,0,0,F-a],[0,0,f,h,D-z],[0,0,l,m,E-z]];h=f.length;for(l=0;l<h;l++){for(var m=l,K=Math.abs(f[l][l]),M=l+1;M<h;M++){var I=Math.abs(f[M][l]);I>K&&(K=I,m=M)}if(0===K){f=null;break a}K=f[m];f[m]=f[l];f[l]=K;for(m=l+1;m<h;m++)for(K=-f[m][l]/f[l][l],M=l;M<h+1;M++)f[m][M]=l==M?0:f[m][M]+K*f[l][M]}l=Array(h);for(m=h-1;0<=m;m--)for(l[m]=f[m][h]/f[m][m],K=m-1;0<=
K;K--)f[K][h]-=f[K][m]*l[m];f=l}f&&(n.save(),n.beginPath(),Do?(l=(a+G+F)/3,m=(z+D+E)/3,h=Eo(l,m,a,z),G=Eo(l,m,G,D),F=Eo(l,m,F,E),n.moveTo(h[0],h[1]),n.lineTo(G[0],G[1]),n.lineTo(F[0],F[1])):(n.moveTo(a,z),n.lineTo(G,D),n.lineTo(F,E)),n.closePath(),n.clip(),n.transform(f[0],f[2],f[1],f[3],a,z),n.translate(p[0]-e,p[3]-b),n.scale(d/c,-d/c),n.drawImage(q.canvas,0,0),n.restore())});m&&(n.save(),n.strokeStyle="black",n.lineWidth=1,h.rd.forEach(function(a){var b=a.target;a=(b[0][0]-r[0])/g;var c=-(b[0][1]-
r[1])/g,d=(b[1][0]-r[0])/g,e=-(b[1][1]-r[1])/g,f=(b[2][0]-r[0])/g,b=-(b[2][1]-r[1])/g;n.beginPath();n.moveTo(a,c);n.lineTo(d,e);n.lineTo(f,b);n.closePath();n.stroke()}),n.restore());return n.canvas};function Go(a,b,c,d,e){this.nd=a;this.Yh=b;var g={},f=lk(this.Yh,this.nd);this.Kc=function(a){var b=a[0]+"/"+a[1];g[b]||(g[b]=f(a));return g[b]};this.em=d;this.Un=e*e;this.rd=[];this.nn=!1;this.Hn=this.nd.se&&!!d&&!!this.nd.u()&&Gj(d)==Gj(this.nd.u());this.mb=this.nd.u()?Gj(this.nd.u()):null;this.Wm=this.Yh.u()?Gj(this.Yh.u()):null;a=Mj(c);b=[c[2],c[3]];d=[c[2],c[1]];c=[c[0],c[1]];e=this.Kc(a);var h=this.Kc(b),l=this.Kc(d),m=this.Kc(c);Ho(this,a,b,d,c,e,h,l,m,10);if(this.nn){var n=Infinity;this.rd.forEach(function(a){n=
Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])});this.rd.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.mb/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.mb/2&&(b[0][0]-=this.mb);b[1][0]-n>this.mb/2&&(b[1][0]-=this.mb);b[2][0]-n>this.mb/2&&(b[2][0]-=this.mb);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.mb/2&&(a.source=b)}},this)}g={}}
function Ho(a,b,c,d,e,g,f,h,l,m){var n=tj([g,f,h,l]),p=a.mb?Gj(n)/a.mb:null,q=a.nd.se&&.5<p&&1>p,r=!1;if(0<m){if(a.Yh.Ng&&a.Wm)var t=tj([b,c,d,e]),r=r|.25<Gj(t)/a.Wm;!q&&a.nd.Ng&&p&&(r|=.25<p)}if(r||!a.em||Lj(n,a.em)){if(!(r||isFinite(g[0])&&isFinite(g[1])&&isFinite(f[0])&&isFinite(f[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)r=!0;else return;if(0<m&&(r||(p=a.Kc([(b[0]+d[0])/2,(b[1]+d[1])/2]),n=q?(tb(g[0],a.mb)+tb(h[0],a.mb))/2-tb(p[0],a.mb):(g[0]+h[0])/2-p[0],p=(g[1]+
h[1])/2-p[1],r=n*n+p*p>a.Un),r)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(q=[(c[0]+d[0])/2,(c[1]+d[1])/2],n=a.Kc(q),p=[(e[0]+b[0])/2,(e[1]+b[1])/2],r=a.Kc(p),Ho(a,b,c,q,p,g,f,n,r,m-1),Ho(a,p,q,d,e,r,n,h,l,m-1)):(q=[(b[0]+c[0])/2,(b[1]+c[1])/2],n=a.Kc(q),p=[(d[0]+e[0])/2,(d[1]+e[1])/2],r=a.Kc(p),Ho(a,b,q,p,e,g,n,r,l,m-1),Ho(a,q,c,d,p,n,f,h,r,m-1));return}if(q){if(!a.Hn)return;a.nn=!0}a.rd.push({source:[g,h,l],target:[b,d,e]});a.rd.push({source:[g,f,h],target:[b,c,d]})}}
function Io(a){var b=uj();a.rd.forEach(function(a){a=a.source;vj(b,a[0]);vj(b,a[1]);vj(b,a[2])});return b};function Jo(a){Y.call(this);this.C=void 0;this.Yb="geometry";this.fg=null;this.Hc=void 0;this.Jg=null;T(this,Yh(this.Yb),this.Rg,!1,this);void 0!==a&&(a instanceof Ml||!a?this.bg(a):this.je(a))}N(Jo,Y);k=Jo.prototype;k.clone=function(){var a=new Jo(Zh(this));Ko(a,this.Yb);var b=this.Na();b&&a.bg(b.clone());(b=this.fg)&&a.dk(b);return a};k.Na=function(){return this.get(this.Yb)};k.po=function(){this.g()};
k.Rg=function(){this.Jg&&(U(this.Jg),this.Jg=null);var a=this.Na();a&&(this.Jg=T(a,"change",this.po,!1,this));this.g()};k.bg=function(a){this.set(this.Yb,a)};k.dk=function(a){this.Hc=(this.fg=a)?Lo(a):void 0;this.g()};function Ko(a,b){Rc(a,Yh(a.Yb),a.Rg,!1,a);a.Yb=b;T(a,Yh(a.Yb),a.Rg,!1,a);a.Rg()}function Lo(a){if(!ia(a)){var b;b=A(a)?a:[a];a=function(){return b}}return a};function Mo(){if(!Q)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}}var No=Q&&Mo();a:if(!document.implementation||!document.implementation.createDocument){if(No){var Oo=new ActiveXObject("MSXML2.DOMDocument");if(Oo){Oo.resolveExternals=!1;Oo.validateOnParse=!1;try{Oo.setProperty("ProhibitDTD",!0),Oo.setProperty("MaxXMLSize",2048),Oo.setProperty("MaxElementDepth",256)}catch(a){}}if(Oo)break a}throw Error("Your browser does not support creating new documents");};function Po(a,b,c){return function(d,e,g){var f=new Rd;f.Nh="arraybuffer"==b.ma()?"arraybuffer":"text";T(f,"complete",function(a){a=a.target;if(ce(a)){var d=b.ma(),e;if("json"==d)e=ee(a);else if("text"==d)e=ee(a);else if("xml"==d){if(!Q)try{e=a.j?a.j.responseXML:null}catch(f){e=null}e||(e=ee(a),e=(new DOMParser).parseFromString(e,"application/xml"))}else"arraybuffer"==d&&(e=ge(a));e&&c.call(this,Qo(b,e,{featureProjection:g}),Ro(b,So(e)))}rc(a)},!1,this);ia(a)?f.send(a(d,e,g)):f.send(a)}}
function To(a,b){return Po(a,b,function(a){Uo(this,a);this.g()})};function Vo(){return[[-Infinity,-Infinity,Infinity,Infinity]]};var Wo;
(function(){var a={ml:{}};(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.vi=Math.max(4,a||9);this.Ek=Math.max(2,Math.ceil(.4*this.vi));c&&this.un(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],g;b<c;b++)g=a.children[b],e(f,a.Ca?d(g):g.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function g(a,b){return a.bbox[0]-
b.bbox[0]}function f(a,b){return a.bbox[1]-b.bbox[1]}function h(a){return(a[2]-a[0])*(a[3]-a[1])}function l(a){return a[2]-a[0]+(a[3]-a[1])}function m(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function n(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function p(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,q(a,b,c,g,e),f.push(b,g,g,c))}function q(a,b,c,d,e){for(var f,g,h,l,m;c>b;){600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),
l=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*l*(f-l)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*l/f+m)),g=Math.min(c,Math.floor(d+(f-g)*l/f+m)),q(a,h,g,d,e));f=a[d];g=b;l=c;r(a,b,d);for(0<e(a[c],f)&&r(a,b,c);g<l;){r(a,g,l);g++;for(l--;0>e(a[g],f);)g++;for(;0<e(a[l],f);)l--}0===e(a[b],f)?r(a,b,l):(l++,r(a,l,c));l<=d&&(b=l+1);d<=l&&(c=l-1)}}function r(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Ak(this.data,[])},search:function(a){var b=this.data,c=[],d=this.nb;if(!n(a,b.bbox))return c;
for(var e=[],f,g,h,l;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],l=b.Ca?d(h):h.bbox,n(a,l)&&(b.Ca?c.push(h):m(a,l)?this.Ak(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.Ek){for(var b=0,c=a.length;b<c;b++)this.Ud(a[b]);return this}a=this.Ck(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Fk(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.Dk(a,this.data.height-a.height-1,
!0)):this.data=a;return this},Ud:function(a){a&&this.Dk(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],Ca:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.nb(a),d=[],e=[],f,g,h,l;b||d.length;){b||(b=d.pop(),g=d[d.length-1],f=e.pop(),l=!0);if(b.Ca&&(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.tn(d);break}l||b.Ca||!m(b.bbox,c)?g?(f++,b=g.children[f],l=!1):b=null:
(d.push(b),e.push(f),f=0,g=b,b=b.children[0])}return this},nb:function(a){return a},Oi:function(a,b){return a[0]-b[0]},Pi:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Ak:function(a,b){for(var c=[];a;)a.Ca?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},Ck:function(a,b,d,e){var f=d-b+1,g=this.vi,h;if(f<=g)return h={children:a.slice(b,d+1),height:1,bbox:null,Ca:!0},c(h,this.nb),h;e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));
h={children:[],height:e,bbox:null,Ca:!1};var f=Math.ceil(f/g),g=f*Math.ceil(Math.sqrt(g)),l,m,n;for(p(a,b,d,g,this.Oi);b<=d;b+=g)for(m=Math.min(b+g-1,d),p(a,b,m,f,this.Pi),l=b;l<=m;l+=f)n=Math.min(l+f-1,m),h.children.push(this.Ck(a,l,n,e-1));c(h,this.nb);return h},sn:function(a,b,c,d){for(var e,f,g,l,m,n,p,q;;){d.push(b);if(b.Ca||d.length-1===c)break;p=q=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],m=h(g.bbox),n=g.bbox,n=(Math.max(n[2],a[2])-Math.min(n[0],a[0]))*(Math.max(n[3],a[3])-
Math.min(n[1],a[1]))-m,n<q?(q=n,p=m<p?m:p,l=g):n===q&&m<p&&(p=m,l=g);b=l}return b},Dk:function(a,b,c){var d=this.nb;c=c?a.bbox:d(a);var d=[],f=this.sn(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.vi)this.vn(d,b),b--;else break;this.pn(c,d,b)},vn:function(a,b){var d=a[b],e=d.children.length,f=this.Ek;this.qn(d,f,e);e=this.rn(d,f,e);e={children:d.children.splice(e,d.children.length-e),height:d.height,bbox:null,Ca:!1};d.Ca&&(e.Ca=!0);c(d,this.nb);c(e,this.nb);
b?a[b-1].children.push(e):this.Fk(d,e)},Fk:function(a,b){this.data={children:[a,b],height:a.height+1,bbox:null,Ca:!1};c(this.data,this.nb)},rn:function(a,b,c){var e,f,g,l,m,n,p;m=n=Infinity;for(e=b;e<=c-b;e++)f=d(a,0,e,this.nb),g=d(a,e,c,this.nb),l=Math.max(0,Math.min(f[2],g[2])-Math.max(f[0],g[0]))*Math.max(0,Math.min(f[3],g[3])-Math.max(f[1],g[1])),f=h(f)+h(g),l<m?(m=l,p=e,n=f<n?f:n):l===m&&f<n&&(n=f,p=e);return p},qn:function(a,b,c){var d=a.Ca?this.Oi:g,e=a.Ca?this.Pi:f,h=this.Bk(a,b,c,d);b=this.Bk(a,
b,c,e);h<b&&a.children.sort(d)},Bk:function(a,b,c,f){a.children.sort(f);f=this.nb;var g=d(a,0,b,f),h=d(a,c-b,c,f),m=l(g)+l(h),n,p;for(n=b;n<c-b;n++)p=a.children[n],e(g,a.Ca?f(p):p.bbox),m+=l(g);for(n=c-b-1;n>=b;n--)p=a.children[n],e(h,a.Ca?f(p):p.bbox),m+=l(h);return m},pn:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},tn:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.nb)},un:function(a){var b=["return a",
" - b",";"];this.Oi=new Function("a","b",b.join(a[0]));this.Pi=new Function("a","b",b.join(a[1]));this.nb=new Function("a","return [a"+a.join(", a")+"];")}};"undefined"!==typeof a?a.ml=b:"undefined"!==typeof self?self.jq=b:window.jq=b})();Wo=a.ml})();function Xo(a){this.fe=Wo(a);this.Wd={}}k=Xo.prototype;k.Ud=function(a,b){var c=[a[0],a[1],a[2],a[3],b];this.fe.Ud(c);this.Wd[J(b)]=c};k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var g=a[d],f=b[d],g=[g[0],g[1],g[2],g[3],f];c[d]=g;this.Wd[J(f)]=g}this.fe.load(c)};k.remove=function(a){a=J(a);var b=this.Wd[a];delete this.Wd[a];return null!==this.fe.remove(b)};k.update=function(a,b){var c=J(b);Cj(this.Wd[c].slice(0,4),a)||(this.remove(b),this.Ud(a,b))};k.getAll=function(){return this.fe.all().map(function(a){return a[4]})};
function Yo(a,b){return a.fe.search(b).map(function(a){return a[4]})}k.forEach=function(a,b){return Zo(this.getAll(),a,b)};function $o(a,b,c,d){return Zo(Yo(a,b),c,d)}function Zo(a,b,c){for(var d,e=0,g=a.length;e<g&&!(d=b.call(c,a[e]));e++);return d}k.Qa=function(){return eb(this.Wd)};k.clear=function(){this.fe.clear();this.Wd={}};k.u=function(){return this.fe.data.bbox};function ap(a){a=a||{};ok.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.Mj=di;void 0!==a.loader?this.Mj=a.loader:void 0!==a.url&&(this.Mj=To(a.url,a.format));this.Bq=void 0!==a.strategy?a.strategy:Vo;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.la=b?new Xo:null;this.$l=new Xo;this.Hb={};this.Db={};this.sd={};this.Ae={};this.Be=null;var c,d;a.features instanceof ai?(c=a.features,d=c.zf()):A(a.features)&&(d=
a.features);b||void 0!==c||(c=new ai(d));void 0!==d&&Uo(this,d);void 0!==c&&bp(this,c)}N(ap,ok);function cp(a,b,c){a.Ae[b]=[T(c,"change",a.vl,!1,a),T(c,"propertychange",a.vl,!1,a)]}function dp(a,b,c){var d=!0,e=c.C;void 0!==e?e.toString()in a.Db?d=!1:a.Db[e.toString()]=c:a.sd[b]=c;return d}
function Uo(a,b){var c,d,e,g,f=[],h=[],l=[];d=0;for(e=b.length;d<e;d++)g=b[d],c=J(g).toString(),dp(a,c,g)&&h.push(g);d=0;for(e=h.length;d<e;d++){g=h[d];c=J(g).toString();cp(a,c,g);var m=g.Na();m?(c=m.u(),f.push(c),l.push(g)):a.Hb[c]=g}a.la&&a.la.load(f,l);d=0;for(e=h.length;d<e;d++)a.dispatchEvent(new ep("addfeature",h[d]))}
function bp(a,b){var c=!1;T(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)});T(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)});T(b,"add",function(a){if(!c){a=a.element;c=!0;var b=J(a).toString();if(dp(this,b,a)){cp(this,b,a);var g=a.Na();g?(b=g.u(),this.la&&this.la.Ud(b,a)):this.Hb[b]=a;this.dispatchEvent(new ep("addfeature",a))}this.g();c=!1}},!1,a);T(b,"remove",function(a){if(!c){a=a.element;c=!0;var b=J(a).toString();b in this.Hb?delete this.Hb[b]:this.la&&this.la.remove(a);
this.Am(a);this.g();c=!1}},!1,a);a.Be=b}k=ap.prototype;k.clear=function(a){if(a){for(var b in this.Ae)this.Ae[b].forEach(U);this.Be||(this.Ae={},this.Db={},this.sd={})}else a=this.Am,this.la&&(this.la.forEach(a,this),Ya(this.Hb,a,this));this.Be&&this.Be.clear();this.la&&this.la.clear();this.$l.clear();this.Hb={};this.dispatchEvent(new ep("clear"));this.g()};function fp(a,b,c,d){a.la?$o(a.la,b,c,d):a.Be&&a.Be.forEach(c,d)}k.u=function(){return this.la.u()};
k.vl=function(a){a=a.target;var b=J(a).toString(),c=a.Na();c?(c=c.u(),b in this.Hb?(delete this.Hb[b],this.la&&this.la.Ud(c,a)):this.la&&this.la.update(c,a)):b in this.Hb||(this.la&&this.la.remove(a),this.Hb[b]=a);c=a.C;void 0!==c?(c=c.toString(),b in this.sd?(delete this.sd[b],this.Db[c]=a):this.Db[c]!==a&&(gp(this,a),this.Db[c]=a)):b in this.sd||(gp(this,a),this.sd[b]=a);this.g();this.dispatchEvent(new ep("changefeature",a))};k.hasFeature=function(a){var b=a.C;return b?b in this.Db:J(a)in this.sd};
k.Qa=function(){return this.la.Qa()&&eb(this.Hb)};function hp(a,b,c,d){var e=a.$l;b=a.Bq(b,c);var g,f;g=0;for(f=b.length;g<f;++g){var h=b[g];$o(e,h,function(a){return Aj(a.extent,h)})||(a.Mj.call(a,h,c,d),e.Ud(h,{extent:h.slice()}))}}k.Am=function(a){var b=J(a).toString();this.Ae[b].forEach(U);delete this.Ae[b];var c=a.C;void 0!==c?delete this.Db[c.toString()]:delete this.sd[b];this.dispatchEvent(new ep("removefeature",a))};
function gp(a,b){for(var c in a.Db)if(a.Db[c]===b){delete a.Db[c];break}}function ep(a,b){S.call(this,a);this.feature=b}N(ep,S);function ip(a){go.call(this,a);this.Qb=this.b=null;this.Li=!1;this.s=null;this.Ll=Jh();this.Fm=this.Gm=this.Dm=NaN;this.Lh=this.ge=null;this.Jc=[0,0]}N(ip,go);ip.prototype.Y=function(){return this.b};
ip.prototype.ed=function(a,b){function c(a){a=a.O();return 2==a||4==a||3==a&&!F}var d=a.pixelRatio,e=a.viewState,g=e.projection,f=this.Ra,h=f.$a(),l=h.rc(g),m=Mk(l,e.resolution),n=Uk(h,m,g),p=n[0]/sj(Lk(l,m),this.Jc)[0],q=l.w(m),p=q/p,r=e.center,t;q==e.resolution?(r=fl(r,q,a.size),t=Jj(r,q,e.rotation,a.size)):t=a.extent;void 0!==b.extent&&(t=Kj(t,b.extent));if(t[2]<t[0]||t[3]<t[1])return!1;var y=Ik(l,t,q),B=n[0]*y.Oa(),v=n[1]*y.Fe(),u,w;this.b?(u=this.b,w=this.s,this.Qb[0]<B||this.Qb[1]<v||this.Gm!==
n[0]||this.Fm!==n[1]||this.Li&&(this.Qb[0]>B||this.Qb[1]>v)?(u.width=B,u.height=v,this.Qb=[B,v],this.Li=!ho(this.Qb),this.ge=null):(B=this.Qb[0],v=this.Qb[1],m==this.Dm&&Sj(this.ge,y)||(this.ge=null))):(w=li(B,v),this.b=w.canvas,this.Qb=[B,v],this.s=w,this.Li=!ho(this.Qb));var C,z;this.ge?(v=this.ge,B=v.Oa()):(B/=n[0],v/=n[1],C=y.G-Math.floor((B-y.Oa())/2),z=y.L-Math.floor((v-y.Fe())/2),this.Dm=m,this.Gm=n[0],this.Fm=n[1],this.ge=new Rj(C,C+B-1,z,z+v-1),this.Lh=Array(B*v),v=this.ge);u={};u[m]={};
var G=[],D=this.yg(h,g,u),F=Fn(f),E=uj(),K=new Rj(0,0,0,0),M,I,R;for(z=y.G;z<=y.T;++z)for(R=y.L;R<=y.P;++R)I=h.Je(m,z,R,d,g),!c(I)&&I.ia&&(I=I.ia),c(I)?u[m][I.H.toString()]=I:(M=Ek(l,I.H,D,K,E),M||(G.push(I),(M=Hk(l,I.H,K,E))&&D(m+1,M)));D=0;for(M=G.length;D<M;++D)I=G[D],z=n[0]*(I.H[1]-v.G),R=n[1]*(v.P-I.H[2]),w.clearRect(z,R,n[0],n[1]);G=Object.keys(u).map(Number);G.sort(zk);var O=h.jj(g),bb=Mj(Fk(l,[m,v.G,v.P],E)),Sa,Of,Ta,he,sc,Gi,D=0;for(M=G.length;D<M;++D)if(Sa=G[D],n=Uk(h,Sa,g),he=u[Sa],Sa==
m)for(Of in he)I=he[Of],C=(I.H[2]-v.L)*B+(I.H[1]-v.G),this.Lh[C]!=I&&(z=n[0]*(I.H[1]-v.G),R=n[1]*(v.P-I.H[2]),Ta=I.O(),4!=Ta&&(3!=Ta||F)&&O||w.clearRect(z,R,n[0],n[1]),2==Ta&&w.drawImage(I.Y(),0,0,n[0],n[1],z,R,n[0],n[1]),this.Lh[C]=I);else for(Of in Sa=l.w(Sa)/q,he)for(I=he[Of],C=Fk(l,I.H,E),z=(C[0]-bb[0])/p,R=(bb[1]-C[3])/p,Gi=Sa*n[0],sc=Sa*n[1],Ta=I.O(),4!=Ta&&O||w.clearRect(z,R,Gi,sc),2==Ta&&w.drawImage(I.Y(),0,0,n[0],n[1],z,R,Gi,sc),I=Gk(l,C,m,K),C=Math.max(I.G,v.G),R=Math.min(I.T,v.T),z=Math.max(I.L,
v.L),I=Math.min(I.P,v.P),Ta=C;Ta<=R;++Ta)for(sc=z;sc<=I;++sc)C=(sc-v.L)*B+(Ta-v.G),this.Lh[C]=void 0;el(a.usedTiles,h,m,y);gl(a,h,l,d,g,t,m,f.get("preload"));bl(a,h);dl(a,h);Xk(this.Ll,d*a.size[0]/2,d*a.size[1]/2,d*p/e.resolution,d*p/e.resolution,e.rotation,(bb[0]-r[0])/p,(r[1]-bb[1])/p);return!0};function jp(a){go.call(this,a);this.xa=!1;this.Ga=-1;this.hd=NaN;this.fd=uj();this.ea=this.gd=null;this.s=li()}N(jp,go);k=jp.prototype;
k.Pc=function(a,b,c){var d=a.extent,e=a.pixelRatio,g=b.$c?a.skippedFeatureUids:{},f=a.viewState,h=f.projection,f=f.rotation,l=h.u(),m=this.Ra.$a(),n=this.Md(a,0);this.ya("precompose",c,a,n);var p=this.ea;if(p&&!p.Qa()){var q;this.Ra.hasListener("render")?(this.s.canvas.width=c.canvas.width,this.s.canvas.height=c.canvas.height,q=this.s):q=c;var r=q.globalAlpha;q.globalAlpha=b.opacity;p.lb(q,e,n,f,g);if(m.ri&&h.se&&!Aj(l,d)){b=d[0];h=Gj(l);for(m=0;b<l[0];)--m,n=h*m,n=this.Md(a,n),p.lb(q,e,n,f,g),b+=
h;m=0;for(b=d[2];b>l[2];)++m,n=h*m,n=this.Md(a,n),p.lb(q,e,n,f,g),b-=h;n=this.Md(a,0)}q!=c&&(this.ya("render",q,a,n),c.drawImage(q.canvas,0,0));q.globalAlpha=r}this.ya("postcompose",c,a,n)};k.Ya=function(a,b,c,d){if(this.ea){var e=b.viewState.resolution,g=b.viewState.rotation,f=this.Ra,h=b.layerStates[J(f)],l={};return this.ea.Ya(a,e,g,h.$c?b.skippedFeatureUids:{},function(a){var b=J(a).toString();if(!(b in l))return l[b]=!0,c.call(d,a,f)})}};k.Vc=function(){al(this)};
k.ed=function(a){function b(a){var b,d=a.Hc;d?b=d.call(a,m):(d=c.Hc)&&(b=d(a,m));b&&(a=this.Wf(a,m,n,b,q),this.xa=this.xa||a)}var c=this.Ra,d=c.$a();cl(a.attributions,d.xd);dl(a,d);var e=a.viewHints[0],g=a.viewHints[1],f=c.vk,h=c.wk;if(!this.xa&&!f&&e||!h&&g)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,n=a.pixelRatio,g=c.V,p=c.xb,f=c.get("renderOrder");void 0===f&&(f=zo);l=yj(l,p*m);p=h.projection.u();d.ri&&h.projection.se&&!Aj(p,a.extent)&&(a=Math.max(Gj(l)/2,Gj(p)),l[0]=p[0]-
a,l[2]=p[2]+a);if(!this.xa&&this.hd==m&&this.Ga==g&&this.gd==f&&Aj(this.fd,l))return!0;rc(this.ea);this.ea=null;this.xa=!1;var q=new xo(.5*m/n,l,m,c.xb);hp(d,l,m,e);if(f){var r=[];fp(d,l,function(a){r.push(a)},this);r.sort(f);r.forEach(b,this)}else fp(d,l,b,this);q.finish();this.hd=m;this.Ga=g;this.gd=f;this.fd=l;this.ea=q;return!0};
k.Wf=function(a,b,c,d,e){if(!d)return!1;var g=!1;if(A(d))for(var f=0,h=d.length;f<h;++f)g=Bo(e,a,d[f],Ao(b,c),this.Vc,this)||g;else g=Bo(e,a,d,Ao(b,c),this.Vc,this)||g;return g};function kp(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,g=/\{-y\}/g;return function(f){if(f)return a.replace(c,f[0].toString()).replace(d,f[1].toString()).replace(e,function(){return(-f[2]-1).toString()}).replace(g,function(){return((b.De?b.De[f[0]]:null).Fe()+f[2]).toString()})}}function lp(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=kp(a[e],b);return mp(d)}function mp(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[tb((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function np(){};function op(a){Sk.call(this,{attributions:a.attributions,Pk:a.Pk,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.cj||np;this.urls=null;if(a.urls){var b=a.urls;this.urls=b;pp(this,this.cj||lp(b,this.tileGrid))}else if(a.url){var b=a.url,c=[],d=/\{(\d)-(\d)\}/.exec(b)||/\{([a-z])-([a-z])\}/.exec(b);if(d){var e=d[2].charCodeAt(0),
g;for(g=d[1].charCodeAt(0);g<=e;++g)c.push(b.replace(d[0],String.fromCharCode(g)))}else c.push(b);b=this.urls=c;pp(this,this.cj?this.cj.bind(this):lp(b,this.tileGrid))}a.tileUrlFunction&&pp(this,a.tileUrlFunction)}N(op,Sk);op.prototype.Ug=function(a){a=a.target;switch(a.O()){case 1:this.dispatchEvent(new Wk("tileloadstart",a));break;case 2:this.dispatchEvent(new Wk("tileloadend",a));break;case 3:this.dispatchEvent(new Wk("tileloaderror",a))}};
function pp(a,b){a.ua.clear();a.tileUrlFunction=b;a.g()}op.prototype.xk=function(a,b,c){a=this.He(a,b,c);this.ua.Da(a)&&this.ua.get(a)};function qp(a,b){sl.call(this,0,b);this.s=li();this.b=this.s.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Fe(a,this.b,0);this.U=!0;this.Ja=Jh()}N(qp,sl);k=qp.prototype;k.Ti=function(a){return a instanceof En?new ip(a):a instanceof Un?new jp(a):null};k.ya=function(a,b){var c=this.Za(),d=this.s;if(c.hasListener(a)){var e=b.extent,g=b.pixelRatio,f=b.viewState.rotation,h=this.Md(b),e=new Vn(d,g,e,h,f);c.dispatchEvent(new tk(a,c,e,b,d,null));e.flush()}};
k.Md=function(a){var b=a.pixelRatio;a=a.viewState;var c=a.resolution;return Xk(this.Ja,this.b.width/2,this.b.height/2,b/c,-b/c,-a.rotation,-a.center[0],-a.center[1])};k.ma=function(){return"canvas"};
k.Ih=function(a){if(a){var b=this.s,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.b.width!=c||this.b.height!=d?(this.b.width=c,this.b.height=d):b.clearRect(0,0,this.b.width,this.b.height);tl(a);this.ya("precompose",a);c=a.layerStatesArray;Ua(c);var d=a.viewState.resolution,e,g,f,h;e=0;for(g=c.length;e<g;++e)h=c[e],f=h.layer,f=vl(this,f),vk(h,d)&&"ready"==h.hk&&f.ed(a,h)&&f.Pc(a,h,b);this.ya("postcompose",a);this.U||(X(this.b,!0),this.U=!0);wl(this,a);a.postRenderFunctions.push(ul)}else this.U&&
(X(this.b,!1),this.U=!1)};function rp(a,b){$k.call(this,a);this.target=b}N(rp,$k);rp.prototype.Uk=di;rp.prototype.Pc=di;rp.prototype.Ie=function(){return this.target};function sp(a){var b=document.createElement("DIV");b.style.position="absolute";rp.call(this,a,b);this.U=!0;this.Em=1;this.Ga=0;this.Mb={}}N(sp,rp);sp.prototype.Uk=function(){Ee(this.target);this.Ga=0};
sp.prototype.ed=function(a,b){if(!b.visible)return this.U&&(X(this.target,!1),this.U=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,g=this.Ra,f=g.$a(),h=f.rc(e),l=Mk(h,d.resolution),m=h.w(l),n=d.center,p;m==d.resolution?(n=fl(n,m,a.size),p=Jj(n,m,d.rotation,a.size)):p=a.extent;void 0!==b.extent&&(p=Kj(p,b.extent));var m=Ik(h,p,m),q={};q[l]={};var r=this.yg(f,e,q),t=Fn(g),y=uj(),B=new Rj(0,0,0,0),v,u,w,C;for(w=m.G;w<=m.T;++w)for(C=m.L;C<=m.P;++C)v=f.Je(l,w,C,c,e),u=v.O(),u=2==u||4==u||3==u&&
!t,!u&&v.ia&&(v=v.ia),u=v.O(),2==u?q[l][v.H.toString()]=v:4==u||3==u&&!t||(u=Ek(h,v.H,r,B,y),u||(v=Hk(h,v.H,B,y))&&r(l+1,v));var z;if(this.Ga!=f.V){for(z in this.Mb)t=this.Mb[+z],Ge(t.target);this.Mb={};this.Ga=f.V}y=Object.keys(q).map(Number);y.sort(zk);var r={},G;w=0;for(C=y.length;w<C;++w){z=y[w];z in this.Mb?t=this.Mb[z]:(t=Nk(h,n,z),t=new tp(h,t),r[z]=!0,this.Mb[z]=t);z=q[z];for(G in z){v=t;u=z[G];var D=u.H,F=D[0],E=D[1],K=D[2],D=D.toString();if(!(D in v.lg)){var F=sj(Lk(v.Ym,F),v.Jc),M=u.Y(v),
I=M.style;I.maxWidth="none";var R=void 0,O=void 0;I.width=F[0]+"px";I.height=F[1]+"px";R=M;O=I;O.position="absolute";O.left=(E-v.kk[1])*F[0]+"px";O.top=(v.kk[2]-K)*F[1]+"px";v.xe||(v.xe=document.createDocumentFragment());v.xe.appendChild(R);v.lg[D]=u}}t.xe&&(t.target.appendChild(t.xe),t.xe=null)}G=Object.keys(this.Mb).map(Number);G.sort(zk);C=Jh();y=0;for(w=G.length;y<w;++y)if(z=G[y],t=this.Mb[z],z in q)if(u=t.w(),v=t.Cb(),Xk(C,a.size[0]/2,a.size[1]/2,u/d.resolution,u/d.resolution,d.rotation,(v[0]-
n[0])/u,(n[1]-v[1])/u),t.setTransform(C),z in r){for(--z;0<=z;--z)if(z in this.Mb){v=this.Mb[z].target;v.parentNode&&v.parentNode.insertBefore(t.target,v.nextSibling);break}0>z&&Fe(this.target,t.target,0)}else{if(!a.viewHints[0]&&!a.viewHints[1]){E=Gk(t.Ym,p,t.kk[0],B);z=[];u=v=void 0;for(u in t.lg)v=t.lg[u],E.contains(v.H)||z.push(v);K=E=void 0;E=0;for(K=z.length;E<K;++E)v=z[E],u=v.H.toString(),Ge(v.Y(t)),delete t.lg[u]}}else Ge(t.target),delete this.Mb[z];b.opacity!=this.Em&&(this.Em=this.target.style.opacity=
b.opacity);b.visible&&!this.U&&(X(this.target,!0),this.U=!0);el(a.usedTiles,f,l,m);gl(a,f,h,c,e,p,l,g.get("preload"));bl(a,f);dl(a,f);return!0};function tp(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.Ym=a;this.kk=b;this.na=Mj(Fk(a,b));this.$e=a.w(b[0]);this.lg={};this.xe=null;this.Ja=Lh();this.Jc=[0,0]}tp.prototype.Cb=function(){return this.na};tp.prototype.w=function(){return this.$e};
tp.prototype.setTransform=function(a){Yk(a,this.Ja)||(pi(this.target,a),Mh(this.Ja,a))};function up(a){this.s=li();var b=this.s.canvas;b.style.maxWidth="none";b.style.position="absolute";rp.call(this,a,b);this.xa=!1;this.Ga=-1;this.hd=NaN;this.fd=uj();this.ea=this.gd=null;this.Ja=Jh();this.Sn=Jh()}N(up,rp);k=up.prototype;
k.Pc=function(a,b){var c=a.viewState,d=c.center,e=c.rotation,g=c.resolution,c=a.pixelRatio,f=a.size[0],h=a.size[1],l=f*c,m=h*c,d=Xk(this.Ja,c*f/2,c*h/2,c/g,-c/g,-e,-d[0],-d[1]),g=this.s;g.canvas.width=l;g.canvas.height=m;f=Xk(this.Sn,0,0,1/c,1/c,0,-(l-f)/2*c,-(m-h)/2*c);pi(g.canvas,f);vp(this,"precompose",a,d);(f=this.ea)&&!f.Qa()&&(g.globalAlpha=b.opacity,f.lb(g,c,d,e,b.$c?a.skippedFeatureUids:{}),vp(this,"render",a,d));vp(this,"postcompose",a,d)};
function vp(a,b,c,d){var e=a.s;a=a.Ra;a.hasListener(b)&&(d=new Vn(e,c.pixelRatio,c.extent,d,c.viewState.rotation),a.dispatchEvent(new tk(b,a,d,c,e,null)),d.flush())}k.Ya=function(a,b,c,d){if(this.ea){var e=b.viewState.resolution,g=b.viewState.rotation,f=this.Ra,h=b.layerStates[J(f)],l={};return this.ea.Ya(a,e,g,h.$c?b.skippedFeatureUids:{},function(a){var b=J(a).toString();if(!(b in l))return l[b]=!0,c.call(d,a,f)})}};k.Vc=function(){al(this)};
k.ed=function(a){function b(a){var b,d=a.Hc;d?b=d.call(a,l):(d=c.Hc)&&(b=d(a,l));b&&(a=this.Wf(a,l,m,b,n),this.xa=this.xa||a)}var c=this.Ra,d=c.$a();cl(a.attributions,d.xd);dl(a,d);var e=a.viewHints[0],g=a.viewHints[1],f=c.vk,h=c.wk;if(!this.xa&&!f&&e||!h&&g)return!0;var g=a.extent,f=a.viewState,e=f.projection,l=f.resolution,m=a.pixelRatio;a=c.V;h=c.xb;f=c.get("renderOrder");void 0===f&&(f=zo);g=yj(g,h*l);if(!this.xa&&this.hd==l&&this.Ga==a&&this.gd==f&&Aj(this.fd,g))return!0;rc(this.ea);this.ea=
null;this.xa=!1;var n=new xo(.5*l/m,g,l,c.xb);hp(d,g,l,e);if(f){var p=[];fp(d,g,function(a){p.push(a)},this);p.sort(f);p.forEach(b,this)}else fp(d,g,b,this);n.finish();this.hd=l;this.Ga=a;this.gd=f;this.fd=g;this.ea=n;return!0};k.Wf=function(a,b,c,d,e){if(!d)return!1;var g=!1;if(A(d))for(var f=0,h=d.length;f<h;++f)g=Bo(e,a,d[f],Ao(b,c),this.Vc,this)||g;else g=Bo(e,a,d,Ao(b,c),this.Vc,this)||g;return g};function wp(a,b){sl.call(this,0,b);this.s=li();var c=this.s.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className="ol-unselectable";Fe(a,c,0);this.Ja=Jh();this.Zc=document.createElement("DIV");this.Zc.className="ol-unselectable";c=this.Zc.style;c.position="absolute";c.width="100%";c.height="100%";T(this.Zc,"touchstart",uc);Fe(a,this.Zc,0);this.U=!0}N(wp,sl);k=wp.prototype;k.f=function(){Ge(this.Zc);wp.o.f.call(this)};
k.Ti=function(a){if(a instanceof En)a=new sp(a);else if(a instanceof Un)a=new up(a);else return null;return a};k.ya=function(a,b){var c=this.Za();if(c.hasListener(a)){var d=b.extent,e=b.pixelRatio,g=b.viewState,f=g.rotation,h=this.s,l=h.canvas;Xk(this.Ja,l.width/2,l.height/2,e/g.resolution,-e/g.resolution,-g.rotation,-g.center[0],-g.center[1]);d=new Vn(h,e,d,this.Ja,f);c.dispatchEvent(new tk(a,c,d,b,h,null));d.flush()}};k.ma=function(){return"dom"};
k.Ih=function(a){if(a){var b=this.Za();if(b.hasListener("precompose")||b.hasListener("postcompose")){var b=this.s.canvas,c=a.pixelRatio;b.width=a.size[0]*c;b.height=a.size[1]*c}this.ya("precompose",a);b=a.layerStatesArray;Ua(b);var c=a.viewState.resolution,d,e,g,f;d=0;for(e=b.length;d<e;++d)f=b[d],g=f.layer,g=vl(this,g),Fe(this.Zc,g.Ie(),d),vk(f,c)&&"ready"==f.hk?g.ed(a,f)&&g.Pc(a,f):g.Uk();var b=a.layerStates,h;for(h in this.Fb)h in b||(g=this.Fb[h],Ge(g.Ie()));this.U||(X(this.Zc,!0),this.U=!0);
tl(a);wl(this,a);a.postRenderFunctions.push(ul);this.ya("postcompose",a)}else this.U&&(X(this.Zc,!1),this.U=!1)};function xp(a){this.Gc=a}xp.prototype.$a=function(){return this.Gc};function yp(a){this.Gc=a}N(yp,xp);yp.prototype.ma=function(){return 35632};function zp(a){this.Gc=a}N(zp,xp);zp.prototype.ma=function(){return 35633};function Ap(){this.Gc="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor\x3dtexture2D(l,a);gl_FragColor.rgb\x3dtexColor.rgb;float alpha\x3dtexColor.a*b*k;if(alpha\x3d\x3d0.0){discard;}gl_FragColor.a\x3dalpha;}"}N(Ap,yp);ea(Ap);
function Bp(){this.Gc="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix\x3di;if(g\x3d\x3d1.0){offsetMatrix\x3di*j;}vec4 offsets\x3doffsetMatrix*vec4(e,0.,0.);gl_Position\x3dh*vec4(c,0.,1.)+offsets;a\x3dd;b\x3df;}"}N(Bp,zp);ea(Bp);
function Cp(a,b){this.Nq=a.getUniformLocation(b,"j");this.Oq=a.getUniformLocation(b,"i");this.sk=a.getUniformLocation(b,"k");this.tk=a.getUniformLocation(b,"h");this.wi=a.getAttribLocation(b,"e");this.xi=a.getAttribLocation(b,"f");this.jc=a.getAttribLocation(b,"c");this.yi=a.getAttribLocation(b,"g");this.kc=a.getAttribLocation(b,"d")};function Dp(a,b){this.zn=void 0!==a?a:[];this.Wq=void 0!==b?b:35044}Dp.prototype.zf=function(){return this.zn};function Ep(a,b){this.b=a;this.ba=b;this.yd={};this.cg={};this.Vf={};this.sj=this.tj=this.If=this.Ui=null;(this.Le=0<=Sh.indexOf("OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");T(this.b,"webglcontextlost",this.Nd,!1,this);T(this.b,"webglcontextrestored",this.pj,!1,this)}k=Ep.prototype;
k.bindBuffer=function(a,b){var c=this.ba,d=b.zf(),e=J(b);if(e in this.yd)c.bindBuffer(a,this.yd[e].buffer);else{var g=c.createBuffer();c.bindBuffer(a,g);var f;34962==a?f=new Float32Array(d):34963==a&&(f=this.Le?new Uint32Array(d):new Uint16Array(d));c.bufferData(a,f,b.Wq);this.yd[e]={sr:b,buffer:g}}};k.deleteBuffer=function(a){var b=this.ba;a=J(a);var c=this.yd[a];b.isContextLost()||b.deleteBuffer(c.buffer);delete this.yd[a]};
k.f=function(){var a=this.ba;a.isContextLost()||(Ya(this.yd,function(b){a.deleteBuffer(b.buffer)}),Ya(this.Vf,function(b){a.deleteProgram(b)}),Ya(this.cg,function(b){a.deleteShader(b)}),a.deleteFramebuffer(this.If),a.deleteRenderbuffer(this.sj),a.deleteTexture(this.tj))};
function Fp(a){if(!a.If){var b=a.ba,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Gp(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e);b.bindTexture(b.TEXTURE_2D,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);a.If=
c;a.tj=d;a.sj=e}return a.If}function Hp(a,b){var c=J(b);if(c in a.cg)return a.cg[c];var d=a.ba,e=d.createShader(b.ma());d.shaderSource(e,b.$a());d.compileShader(e);return a.cg[c]=e}function Ip(a,b,c){var d=J(b)+"/"+J(c);if(d in a.Vf)return a.Vf[d];var e=a.ba,g=e.createProgram();e.attachShader(g,Hp(a,b));e.attachShader(g,Hp(a,c));e.linkProgram(g);return a.Vf[d]=g}k.Nd=function(){fb(this.yd);fb(this.cg);fb(this.Vf);this.sj=this.tj=this.If=this.Ui=null};k.pj=function(){};
k.useProgram=function(a){if(a==this.Ui)return!1;this.ba.useProgram(a);this.Ui=a;return!0};function Jp(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function Gp(a,b,c){var d=Jp(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d};function Kp(a,b){this.Pb=this.Ob=void 0;this.na=Ij(b);this.mj=[];this.Jf=[];this.$b=void 0;this.Sd=[];this.Od=[];this.Rd=this.Pd=void 0;this.Pa=[];this.Dd=this.eh=null;this.ub=void 0;this.Kp=Lh();this.Lp=Lh();this.cc=this.bc=void 0;this.iq=Lh();this.Ha=this.oa=this.bb=void 0;this.jk=[];this.Kf=[];this.A=[];this.mi=null;this.Lb=[];this.Wh=[];this.gb=void 0}N(Kp,sk);k=Kp.prototype;
k.Ee=function(a){var b=this.mi,c=this.eh,d=this.jk,e=this.Kf,g=a.ba;return function(){if(!g.isContextLost()){var f,h;f=0;for(h=d.length;f<h;++f)g.deleteTexture(d[f]);f=0;for(h=e.length;f<h;++f)g.deleteTexture(e[f])}a.deleteBuffer(b);a.deleteBuffer(c)}};
k.vf=function(a,b,c,d){for(var e=this.Ob,g=this.Pb,f=this.$b,h=this.Pd,l=this.Rd,m=this.ub,n=this.bc,p=this.cc,q=this.bb?1:0,r=this.oa,t=this.Ha,y=this.gb,B=Math.cos(r),r=Math.sin(r),v=this.Pa.length,u=this.A.length,w,C,z,G,D;b<c;b+=d)G=a[b]-this.na[0],D=a[b+1]-this.na[1],w=u/8,C=-t*e,z=-t*(f-g),this.A[u++]=G,this.A[u++]=D,this.A[u++]=C*B-z*r,this.A[u++]=C*r+z*B,this.A[u++]=n/l,this.A[u++]=(p+f)/h,this.A[u++]=m,this.A[u++]=q,C=t*(y-e),z=-t*(f-g),this.A[u++]=G,this.A[u++]=D,this.A[u++]=C*B-z*r,this.A[u++]=
C*r+z*B,this.A[u++]=(n+y)/l,this.A[u++]=(p+f)/h,this.A[u++]=m,this.A[u++]=q,C=t*(y-e),z=t*g,this.A[u++]=G,this.A[u++]=D,this.A[u++]=C*B-z*r,this.A[u++]=C*r+z*B,this.A[u++]=(n+y)/l,this.A[u++]=p/h,this.A[u++]=m,this.A[u++]=q,C=-t*e,z=t*g,this.A[u++]=G,this.A[u++]=D,this.A[u++]=C*B-z*r,this.A[u++]=C*r+z*B,this.A[u++]=n/l,this.A[u++]=p/h,this.A[u++]=m,this.A[u++]=q,this.Pa[v++]=w,this.Pa[v++]=w+1,this.Pa[v++]=w+2,this.Pa[v++]=w,this.Pa[v++]=w+2,this.Pa[v++]=w+3;return u};
k.Gd=function(a,b){this.Lb.push(this.Pa.length);this.Wh.push(b);var c=a.a;this.vf(c,0,c.length,a.l)};k.Hd=function(a,b){this.Lb.push(this.Pa.length);this.Wh.push(b);var c=a.a;this.vf(c,0,c.length,a.l)};
k.finish=function(a){var b=a.ba;this.mj.push(this.Pa.length);this.Jf.push(this.Pa.length);this.mi=new Dp(this.A);a.bindBuffer(34962,this.mi);this.eh=new Dp(this.Pa);a.bindBuffer(34963,this.eh);a={};Lp(this.jk,this.Sd,a,b);Lp(this.Kf,this.Od,a,b);this.$b=this.Pb=this.Ob=void 0;this.Od=this.Sd=null;this.Rd=this.Pd=void 0;this.Pa=null;this.Ha=this.oa=this.bb=this.cc=this.bc=this.ub=void 0;this.A=null;this.gb=void 0};
function Lp(a,b,c,d){var e,g,f,h,l=b.length;for(h=0;h<l;++h){g=b[h];f=J(g).toString();if(f in c)e=c[f];else{e=d;var m=Jp(e,33071,33071);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,g);e=m;c[f]=e}a[h]=e}}
k.lb=function(a,b,c,d,e,g,f,h,l,m,n){g=a.ba;a.bindBuffer(34962,this.mi);a.bindBuffer(34963,this.eh);var p=Ap.Zb(),q=Bp.Zb(),q=Ip(a,p,q);this.Dd?p=this.Dd:this.Dd=p=new Cp(g,q);a.useProgram(q);g.enableVertexAttribArray(p.jc);g.vertexAttribPointer(p.jc,2,5126,!1,32,0);g.enableVertexAttribArray(p.wi);g.vertexAttribPointer(p.wi,2,5126,!1,32,8);g.enableVertexAttribArray(p.kc);g.vertexAttribPointer(p.kc,2,5126,!1,32,16);g.enableVertexAttribArray(p.xi);g.vertexAttribPointer(p.xi,1,5126,!1,32,24);g.enableVertexAttribArray(p.yi);
g.vertexAttribPointer(p.yi,1,5126,!1,32,28);q=this.iq;Xk(q,0,0,2/(c*e[0]),2/(c*e[1]),-d,-(b[0]-this.na[0]),-(b[1]-this.na[1]));b=this.Lp;c=2/e[0];e=2/e[1];Nh(b);b[0]=c;b[5]=e;b[10]=1;b[15]=1;e=this.Kp;Nh(e);0!==d&&Rh(e,-d);g.uniformMatrix4fv(p.tk,!1,q);g.uniformMatrix4fv(p.Oq,!1,b);g.uniformMatrix4fv(p.Nq,!1,e);g.uniform1f(p.sk,f);var r;if(void 0===l)Mp(this,g,a,h,this.jk,this.mj);else{if(m)a:{d=a.Le?5125:5123;a=a.Le?4:2;e=this.Lb.length-1;for(f=this.Kf.length-1;0<=f;--f)for(g.bindTexture(3553,this.Kf[f]),
m=0<f?this.Jf[f-1]:0,b=this.Jf[f];0<=e&&this.Lb[e]>=m;){r=this.Lb[e];c=this.Wh[e];q=J(c).toString();if(void 0===h[q]&&c.Na()&&(void 0===n||Lj(n,c.Na().u()))&&(g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),g.drawElements(4,b-r,d,r*a),b=l(c))){h=b;break a}b=r;e--}h=void 0}else g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),Mp(this,g,a,h,this.Kf,this.Jf),h=(h=l(null))?h:void 0;r=h}g.disableVertexAttribArray(p.jc);g.disableVertexAttribArray(p.wi);g.disableVertexAttribArray(p.kc);g.disableVertexAttribArray(p.xi);
g.disableVertexAttribArray(p.yi);return r};
function Mp(a,b,c,d,e,g){var f=c.Le?5125:5123;c=c.Le?4:2;if(eb(d)){var h;a=0;d=e.length;for(h=0;a<d;++a){b.bindTexture(3553,e[a]);var l=g[a];b.drawElements(4,l-h,f,h*c);h=l}}else{h=0;var m,l=0;for(m=e.length;l<m;++l){b.bindTexture(3553,e[l]);for(var n=0<l?g[l-1]:0,p=g[l],q=n;h<a.Lb.length&&a.Lb[h]<=p;){var r=J(a.Wh[h]).toString();void 0!==d[r]?(q!==n&&b.drawElements(4,n-q,f,q*c),n=q=h===a.Lb.length-1?p:a.Lb[h+1]):n=h===a.Lb.length-1?p:a.Lb[h+1];h++}q!==n&&b.drawElements(4,n-q,f,q*c)}}}
k.ie=function(a){var b=a.Lg(),c=a.Y(1),d=a.gj(),e=a.Cf(1);a.tl();var g=a.Ef(),f=a.Cb(),h=a.bb,l=a.Ba(),m=a.N();a=a.Ha;var n;0===this.Sd.length?this.Sd.push(c):(n=this.Sd[this.Sd.length-1],J(n)!=J(c)&&(this.mj.push(this.Pa.length),this.Sd.push(c)));0===this.Od.length?this.Od.push(e):(n=this.Od[this.Od.length-1],J(n)!=J(e)&&(this.Jf.push(this.Pa.length),this.Od.push(e)));this.Ob=b[0];this.Pb=b[1];this.$b=m[1];this.Pd=d[1];this.Rd=d[0];this.ub=g;this.bc=f[0];this.cc=f[1];this.oa=l;this.bb=h;this.Ha=
a;this.gb=m[0]};function Np(a,b,c){this.vh=b;this.pk=a;this.xb=c;this.Cc={}}k=Np.prototype;k.Ee=function(a){var b=[],c;for(c in this.Cc)b.push(this.Cc[c].Ee(a));return rb.apply(null,b)};k.finish=function(a){for(var b in this.Cc)this.Cc[b].finish(a)};k.Aa=function(a,b){var c=this.Cc[b];void 0===c&&(c=new Op[b](this.pk,this.vh),this.Cc[b]=c);return c};k.Qa=function(){return eb(this.Cc)};
k.lb=function(a,b,c,d,e,g,f,h){var l,m,n;l=0;for(m=io.length;l<m;++l)n=this.Cc[io[l]],void 0!==n&&n.lb(a,b,c,d,e,g,f,h,void 0,!1)};k.Xj=function(a,b,c,d,e,g,f,h,l,m,n){var p,q;for(p=io.length-1;0<=p;--p)if(q=this.Cc[io[p]],void 0!==q&&(q=q.lb(a,b,c,d,e,g,f,h,l,m,n)))return q};
k.Ya=function(a,b,c,d,e,g,f,h,l,m){var n=b.ba;n.bindFramebuffer(n.FRAMEBUFFER,Fp(b));var p;void 0!==this.xb&&(p=yj(Bj(a),d*this.xb));return this.Xj(b,a,d,e,Pp,f,h,l,function(a){var b=new Uint8Array(4);n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b);if(0<b[3]&&(a=m(a)))return a},!0,p)};var Op={Image:Kp},Pp=[1,1];function Qp(a,b,c,d,e,g,f){this.s=a;this.Tk=b;this.S=g;this.Kb=f;this.pa=e;this.oa=d;this.$e=c;this.wj=null;this.kf={}}N(Qp,sk);k=Qp.prototype;k.flush=function(){var a=Object.keys(this.kf).map(Number);a.sort(zk);var b,c,d,e,g;b=0;for(c=a.length;b<c;++b)for(d=this.kf[a[b].toString()],e=0,g=d.length;e<g;++e)d[e](this)};k.Ag=function(){};k.Yi=function(a,b){var c=a.qa,d,e;d=0;for(e=c.length;d<e;++d){var g=c[d],f=Rp[g.ma()];f&&f.call(this,g,b)}};
k.Hd=function(a,b){var c=this.s,d=(new Np(1,this.S)).Aa(0,"Image");d.ie(this.wj);d.Hd(a,b);d.finish(c);d.lb(this.s,this.Tk,this.$e,this.oa,this.pa,this.Kb,1,{},void 0,!1);d.Ee(c)()};k.Bg=function(){};k.Cg=function(){};k.Gd=function(a,b){var c=this.s,d=(new Np(1,this.S)).Aa(0,"Image");d.ie(this.wj);d.Gd(a,b);d.finish(c);d.lb(this.s,this.Tk,this.$e,this.oa,this.pa,this.Kb,1,{},void 0,!1);d.Ee(c)()};k.Dg=function(){};k.Eg=function(){};k.Tc=function(){};k.kd=function(){};k.ie=function(a){this.wj=a};
k.Ec=function(){};var Rp={Point:Qp.prototype.Hd,MultiPoint:Qp.prototype.Gd,GeometryCollection:Qp.prototype.Yi};function Sp(){this.Gc="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}N(Sp,yp);ea(Sp);function Tp(){this.Gc="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}N(Tp,zp);ea(Tp);
function Up(a,b){this.sk=a.getUniformLocation(b,"f");this.tk=a.getUniformLocation(b,"e");this.Pq=a.getUniformLocation(b,"d");this.uk=a.getUniformLocation(b,"g");this.jc=a.getAttribLocation(b,"b");this.kc=a.getAttribLocation(b,"c")};function Vp(a,b){$k.call(this,b);this.Se=a;this.An=new Dp([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.Hg=this.pd=null;this.Ig=void 0;this.Xm=Jh();this.hq=Lh();this.Dd=null}N(Vp,$k);
Vp.prototype.bindFramebuffer=function(a,b){var c=this.Se.ba;if(void 0===this.Ig||this.Ig!=b){a.postRenderFunctions.push(oa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.Hg,this.pd));var d=Gp(c,b,b),e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,3553,d,0);this.pd=d;this.Hg=e;this.Ig=b}else c.bindFramebuffer(36160,this.Hg)};
Vp.prototype.Pc=function(a,b,c){this.ya("precompose",c,a);c.bindBuffer(34962,this.An);var d=c.ba,e=Sp.Zb(),g=Tp.Zb(),e=Ip(c,e,g);this.Dd?g=this.Dd:this.Dd=g=new Up(d,e);c.useProgram(e)&&(d.enableVertexAttribArray(g.jc),d.vertexAttribPointer(g.jc,2,5126,!1,16,0),d.enableVertexAttribArray(g.kc),d.vertexAttribPointer(g.kc,2,5126,!1,16,8),d.uniform1i(g.uk,0));d.uniformMatrix4fv(g.Pq,!1,this.Xm);d.uniformMatrix4fv(g.tk,!1,this.hq);d.uniform1f(g.sk,b.opacity);d.bindTexture(3553,this.pd);d.drawArrays(5,
0,4);this.ya("postcompose",c,a)};Vp.prototype.ya=function(a,b,c){var d=this.Ra;if(d.hasListener(a)){var e=c.viewState;d.dispatchEvent(new tk(a,d,new Qp(b,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,b))}};Vp.prototype.Nd=function(){this.Hg=this.pd=null;this.Ig=void 0};function Wp(){this.Gc="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}N(Wp,yp);ea(Wp);function Xp(){this.Gc="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}N(Xp,zp);ea(Xp);function Yp(a,b){this.uk=a.getUniformLocation(b,"e");this.Qq=a.getUniformLocation(b,"d");this.jc=a.getAttribLocation(b,"b");this.kc=a.getAttribLocation(b,"c")};function Zp(a,b){Vp.call(this,a,b);this.Xn=Wp.Zb();this.Zq=Xp.Zb();this.zc=null;this.Bm=new Dp([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.Wj=this.Kh=null;this.Ga=-1;this.Jc=[0,0]}N(Zp,Vp);Zp.prototype.f=function(){this.Se.getContext().deleteBuffer(this.Bm);Zp.o.f.call(this)};Zp.prototype.yg=function(a,b,c){var d=this.Se;return function(e,g){return Tk(a,b,e,g,function(a){var b=d.fb.Da(a.getKey());b&&(c[e]||(c[e]={}),c[e][a.H.toString()]=a);return b})}};
Zp.prototype.Nd=function(){Zp.o.Nd.call(this);this.zc=null};
Zp.prototype.ed=function(a,b,c){var d=this.Se,e=c.ba,g=a.viewState,f=g.projection,h=this.Ra,l=h.$a(),m=l.rc(f),n=Mk(m,g.resolution),p=m.w(n),q=Uk(l,n,f),r=q[0]/sj(Lk(m,n),this.Jc)[0],t=p/r,y=g.center,B;p==g.resolution?(y=fl(y,p,a.size),B=Jj(y,p,g.rotation,a.size)):B=a.extent;p=Ik(m,B,p);if(this.Kh&&this.Kh.jl(p)&&this.Ga==l.V)t=this.Wj;else{var v=p.N(),u=Math.pow(2,Math.ceil(Math.log(Math.max(v[0]*q[0],v[1]*q[1]))/Math.LN2)),v=t*u,w=m.Cb(n),C=w[0]+p.G*q[0]*t,t=w[1]+p.L*q[1]*t,t=[C,t,C+v,t+v];this.bindFramebuffer(a,
u);e.viewport(0,0,u,u);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);u=Ip(c,this.Xn,this.Zq);c.useProgram(u);this.zc||(this.zc=new Yp(e,u));c.bindBuffer(34962,this.Bm);e.enableVertexAttribArray(this.zc.jc);e.vertexAttribPointer(this.zc.jc,2,5126,!1,16,0);e.enableVertexAttribArray(this.zc.kc);e.vertexAttribPointer(this.zc.kc,2,5126,!1,16,8);e.uniform1i(this.zc.uk,0);c={};c[n]={};var z=this.yg(l,f,c),G=Fn(h),u=!0,C=uj(),D=new Rj(0,0,0,0),F,E,K;for(E=p.G;E<=p.T;++E)for(K=p.L;K<=p.P;++K){w=l.Je(n,
E,K,r,f);if(void 0!==b.extent&&(F=Fk(m,w.H,C),!Lj(F,b.extent)))continue;F=w.O();F=2==F||4==F||3==F&&!G;!F&&w.ia&&(w=w.ia);F=w.O();if(2==F){if(d.fb.Da(w.getKey())){c[n][w.H.toString()]=w;continue}}else if(4==F||3==F&&!G)continue;u=!1;F=Ek(m,w.H,z,D,C);F||(w=Hk(m,w.H,D,C))&&z(n+1,w)}b=Object.keys(c).map(Number);b.sort(zk);for(var z=new Float32Array(4),M,I,R,G=0,D=b.length;G<D;++G)for(M in I=c[b[G]],I)w=I[M],F=Fk(m,w.H,C),E=2*(F[2]-F[0])/v,K=2*(F[3]-F[1])/v,R=2*(F[0]-t[0])/v-1,F=2*(F[1]-t[1])/v-1,Ih(z,
E,K,R,F),e.uniform4fv(this.zc.Qq,z),$p(d,w,q,0*r),e.drawArrays(5,0,4);u?(this.Kh=p,this.Wj=t,this.Ga=l.V):(this.Wj=this.Kh=null,this.Ga=-1,a.animate=!0)}el(a.usedTiles,l,n,p);var O=d.kg;gl(a,l,m,r,f,B,n,h.get("preload"),function(a){var b;(b=2!=a.O()||d.fb.Da(a.getKey()))||(b=a.getKey()in O.Ye);b||O.enqueue([a,Kk(m,a.H),m.w(a.H[0]),q,0*r])},this);bl(a,l);dl(a,l);e=this.Xm;Nh(e);Ph(e,(y[0]-t[0])/(t[2]-t[0]),(y[1]-t[1])/(t[3]-t[1]));0!==g.rotation&&Rh(e,g.rotation);Qh(e,a.size[0]*g.resolution/(t[2]-
t[0]),a.size[1]*g.resolution/(t[3]-t[1]));Ph(e,-.5,-.5);return!0};function aq(a,b){Vp.call(this,a,b);this.xa=!1;this.Ga=-1;this.hd=NaN;this.fd=uj();this.Jj=this.ea=this.gd=null}N(aq,Vp);k=aq.prototype;k.Pc=function(a,b,c){this.Jj=b;var d=a.viewState,e=this.ea;e&&!e.Qa()&&e.lb(c,d.center,d.resolution,d.rotation,a.size,a.pixelRatio,b.opacity,b.$c?a.skippedFeatureUids:{})};k.f=function(){var a=this.ea;if(a){var b=this.Se.getContext();a.Ee(b)();this.ea=null}aq.o.f.call(this)};
k.Ya=function(a,b,c,d){if(this.ea&&this.Jj){var e=this.Se.getContext(),g=b.viewState,f=this.Ra,h=this.Jj,l={};return this.ea.Ya(a,e,g.center,g.resolution,g.rotation,b.size,b.pixelRatio,h.opacity,h.$c?b.skippedFeatureUids:{},function(a){var b=J(a).toString();if(!(b in l))return l[b]=!0,c.call(d,a,f)})}};k.Vc=function(){al(this)};
k.ed=function(a,b,c){function d(a){var b,c=a.Hc;c?b=c.call(a,m):(c=e.Hc)&&(b=c(a,m));b&&(a=this.Wf(a,m,n,b,q),this.xa=this.xa||a)}var e=this.Ra;b=e.$a();cl(a.attributions,b.xd);dl(a,b);var g=a.viewHints[0],f=a.viewHints[1],h=e.vk,l=e.wk;if(!this.xa&&!h&&g||!l&&f)return!0;var f=a.extent,h=a.viewState,g=h.projection,m=h.resolution,n=a.pixelRatio,h=e.V,p=e.xb,l=e.get("renderOrder");void 0===l&&(l=zo);f=yj(f,p*m);if(!this.xa&&this.hd==m&&this.Ga==h&&this.gd==l&&Aj(this.fd,f))return!0;this.ea&&a.postRenderFunctions.push(this.ea.Ee(c));
this.xa=!1;var q=new Np(.5*m/n,f,e.xb);hp(b,f,m,g);if(l){var r=[];fp(b,f,function(a){r.push(a)},this);r.sort(l);r.forEach(d,this)}else fp(b,f,d,this);q.finish(c);this.hd=m;this.Ga=h;this.gd=l;this.fd=f;this.ea=q;return!0};k.Wf=function(a,b,c,d,e){if(!d)return!1;var g=!1;if(A(d))for(var f=0,h=d.length;f<h;++f)g=Bo(e,a,d[f],Ao(b,c),this.Vc,this)||g;else g=Bo(e,a,d,Ao(b,c),this.Vc,this)||g;return g};function bq(a,b){sl.call(this,0,b);this.b=document.createElement("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.className="ol-unselectable";Fe(a,this.b,0);this.Vk=this.Wk=0;this.Xk=li();this.U=!0;this.ba=ri(this.b,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.s=new Ep(this.b,this.ba);T(this.b,"webglcontextlost",this.Nd,!1,this);T(this.b,"webglcontextrestored",this.pj,!1,this);this.fb=new xk;this.Id=null;this.kg=new xl(function(a){var b=
a[1];a=a[2];var e=b[0]-this.Id[0],b=b[1]-this.Id[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a}.bind(this),function(a){return a[0].getKey()});this.cp=function(){if(!this.kg.Qa()){Bl(this.kg);var a=yl(this.kg);$p(this,a[0],a[3],a[4])}return!1}.bind(this);this.ig=0;cq(this)}N(bq,sl);
function $p(a,b,c,d){var e=a.ba,g=b.getKey();if(a.fb.Da(g))a=a.fb.get(g),e.bindTexture(3553,a.pd),9729!=a.am&&(e.texParameteri(3553,10240,9729),a.am=9729),9729!=a.fm&&(e.texParameteri(3553,10240,9729),a.fm=9729);else{var f=e.createTexture();e.bindTexture(3553,f);if(0<d){var h=a.Xk.canvas,l=a.Xk;a.Wk!==c[0]||a.Vk!==c[1]?(h.width=c[0],h.height=c[1],a.Wk=c[0],a.Vk=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.Y(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.Y());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.fb.set(g,{pd:f,am:9729,fm:9729})}}k=bq.prototype;k.Ti=function(a){return a instanceof En?new Zp(this,a):a instanceof Un?new aq(this,a):null};k.ya=function(a,b){var c=this.Za();if(c.hasListener(a)){var d=this.s,e=b.viewState,e=new Qp(d,e.center,e.resolution,e.rotation,b.size,b.extent,b.pixelRatio);c.dispatchEvent(new tk(a,c,e,b,null,d));e.flush()}};
k.f=function(){var a=this.ba;a.isContextLost()||this.fb.forEach(function(b){b&&a.deleteTexture(b.pd)});rc(this.s);bq.o.f.call(this)};k.Wn=function(a,b){for(var c=this.ba,d;1024<this.fb.Uc()-this.ig;){if(d=this.fb.kb.td)c.deleteTexture(d.pd);else if(+this.fb.kb.jh==b.index)break;else--this.ig;this.fb.pop()}};k.getContext=function(){return this.s};k.ma=function(){return"webgl"};k.Nd=function(a){a.preventDefault();this.fb.clear();this.ig=0;Ya(this.Fb,function(a){a.Nd()})};k.pj=function(){cq(this);this.Za().render()};
function cq(a){a=a.ba;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.Ih=function(a){var b=this.getContext(),c=this.ba;if(c.isContextLost())return!1;if(!a)return this.U&&(X(this.b,!1),this.U=!1),!1;this.Id=a.focus;this.fb.set((-a.index).toString(),null);++this.ig;this.ya("precompose",a);var d=[],e=a.layerStatesArray;Ua(e);var g=a.viewState.resolution,f,h,l,m;f=0;for(h=e.length;f<h;++f)m=e[f],vk(m,g)&&"ready"==m.hk&&(l=vl(this,m.layer),l.ed(a,m,b)&&d.push(m));e=a.size[0]*a.pixelRatio;g=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=g)this.b.width=e,this.b.height=
g;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);f=0;for(h=d.length;f<h;++f)m=d[f],l=vl(this,m.layer),l.Pc(a,m,b);this.U||(X(this.b,!0),this.U=!0);tl(a);1024<this.fb.Uc()-this.ig&&a.postRenderFunctions.push(this.Wn.bind(this));this.kg.Qa()||(a.postRenderFunctions.push(this.cp),a.animate=!0);this.ya("postcompose",a);wl(this,a);a.postRenderFunctions.push(ul)};
k.Ya=function(a,b,c,d,e,g){var f;if(this.ba.isContextLost())return!1;var h=b.viewState,l=b.layerStatesArray,m;for(m=l.length-1;0<=m;--m){f=l[m];var n=f.layer;if(vk(f,h.resolution)&&e.call(g,n)&&(f=vl(this,n).Ya(a,b,c,d)))return f}};var dq=["canvas","webgl","dom"];
function eq(a){Y.call(this);var b=fq(a);this.ep=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.fp=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.Kb=void 0!==a.pixelRatio?a.pixelRatio:ti;this.ip=b.logos;this.Di=new fg(this.oq,void 0,this);qc(this,this.Di);this.Jn=Jh();this.Vp=Jh();this.Yn=0;this.Xb=null;this.wm=uj();this.nh=this.ni=null;this.ja=document.createElement("DIV");this.ja.className="ol-viewport";this.ja.style.position="relative";this.ja.style.overflow=
"hidden";this.ja.style.width="100%";this.ja.style.height="100%";this.ja.style.msTouchAction="none";this.ja.style.touchAction="none";wi&&Te(this.ja,"ol-touch");this.Uf=document.createElement("DIV");this.Uf.className="ol-overlaycontainer";this.ja.appendChild(this.Uf);this.Tf=document.createElement("DIV");this.Tf.className="ol-overlaycontainer-stopevent";T(this.Tf,["click","dblclick","mousedown","touchstart","MSPointerDown",oj,Zb?"DOMMouseScroll":"mousewheel"],tc);this.ja.appendChild(this.Tf);a=new gj(this);
T(a,ab(rj),this.xl,!1,this);qc(this,a);this.Sl=b.keyboardEventTarget;this.ac=new Nf;T(this.ac,"key",this.ul,!1,this);qc(this,this.ac);a=new Dh(this.ja);T(a,"mousewheel",this.ul,!1,this);qc(this,a);this.Ri=b.controls;this.fh=b.interactions;this.Ch=b.overlays;this.tm={};this.Ta=new b.qq(this.ja,this);qc(this,this.Ta);this.kn=new Ch;qc(this,this.kn);this.Id=this.og=null;this.Fh=[];this.vm=[];this.$m=new Cl(this.jo.bind(this),this.Qo.bind(this));this.zq={};T(this,Yh("layergroup"),this.to,!1,this);T(this,
Yh("view"),this.To,!1,this);T(this,Yh("size"),this.Mo,!1,this);T(this,Yh("target"),this.Po,!1,this);this.je(b.values);this.Ri.forEach(function(a){a.setMap(this)},this);T(this.Ri,"add",function(a){a.element.setMap(this)},!1,this);T(this.Ri,"remove",function(a){a.element.setMap(null)},!1,this);this.fh.forEach(function(a){a.setMap(this)},this);T(this.fh,"add",function(a){a.element.setMap(this)},!1,this);T(this.fh,"remove",function(a){a.element.setMap(null)},!1,this);this.Ch.forEach(this.Jk,this);T(this.Ch,
"add",function(a){this.Jk(a.element)},!1,this);T(this.Ch,"remove",function(a){var b=a.element.C;void 0!==b&&delete this.tm[b.toString()];a.element.setMap(null)},!1,this)}N(eq,Y);k=eq.prototype;k.Jk=function(a){var b=a.C;void 0!==b&&(this.tm[b.toString()]=a);a.setMap(this)};k.hb=function(a){this.render();Array.prototype.push.apply(this.Fh,arguments)};k.f=function(){Ge(this.ja);eq.o.f.call(this)};function gq(a,b,c){a.Xb&&(b=a.Ld(b),a.Ta.Ya(b,a.Xb,c,null,ob,null))}k.Ie=function(){return this.get("target")};
function hq(a){a=a.Ie();return void 0!==a?W(a):null}k.Ld=function(a){var b=this.Xb;return b?(a=a.slice(),Zk(b.pixelToCoordinateMatrix,a,a)):null};k.Mg=function(){return this.get("layergroup").Mg()};function Pm(a,b){var c=a.Xb;if(c){var d=b.slice(0,2);return Zk(c.coordinateToPixelMatrix,d,d)}return null}k.N=function(){return this.get("size")};function Z(a){return a.get("view")}
k.jo=function(a,b,c,d){var e=this.Xb;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.H.toString()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.ul=function(a,b){var c=new ej(b||a.type,this,a);this.xl(c)};k.xl=function(a){if(this.Xb){this.Id=a.coordinate;a.frameState=this.Xb;var b=this.fh.zf(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.get("active")&&!d.handleEvent(a))break}}};
k.Jo=function(){var a=this.Xb,b=this.$m;if(!b.Qa()){var c=16,d=c,e=0;a&&(e=a.viewHints,e[0]&&(c=this.ep?8:0,d=2),e[1]&&(c=this.fp?8:0,d=2),e=$a(a.wantedTiles));c*=e;d*=e;if(b.ai<c){Bl(b);for(var e=0,g;b.ai<c&&e<d&&0<b.Uc();)g=yl(b)[0],0===g.O()&&(b.nk[g.getKey()]=!0,++b.ai,++e,g.load())}}b=this.vm;d=0;for(c=b.length;d<c;++d)b[d](this,a);b.length=0};k.Mo=function(){this.render()};
k.Po=function(){var a=hq(this);this.ac.detach();a?(a.appendChild(this.ja),Pf(this.ac,this.Sl?this.Sl:a),this.og||(this.og=T(this.kn,"resize",this.hn,!1,this))):(Ge(this.ja),this.og&&(U(this.og),this.og=null));this.hn()};k.Qo=function(){this.render()};k.Uo=function(){this.render()};k.To=function(){this.ni&&(U(this.ni),this.ni=null);var a=Z(this);a&&(this.ni=T(a,"propertychange",this.Uo,!1,this));this.render()};k.uo=function(){this.render()};k.vo=function(){this.render()};
k.to=function(){this.nh&&(this.nh.forEach(U),this.nh=null);var a=this.get("layergroup");a&&(this.nh=[T(a,"propertychange",this.vo,!1,this),T(a,"change",this.uo,!1,this)]);this.render()};k.yj=function(){if(!Ie(document,this.ja)||"none"==this.ja.style.display)return!1;var a=this.N();return!a||0>=a[0]||0>=a[1]?!1:(a=Z(this))&&a.yj()?!0:!1};k.render=function(){this.Di.Pe()||this.Di.start()};
k.oq=function(a){var b,c,d,e=this.N(),g=Z(this),f=null;if(void 0!==e&&0<e[0]&&0<e[1]&&g&&g.yj()){var f=g.rj.slice(),h=this.get("layergroup").hj(),l={};b=0;for(c=h.length;b<c;++b)l[J(h[b].layer)]=h[b];d=g.O();f={animate:!1,attributions:{},coordinateToPixelMatrix:this.Jn,extent:null,focus:this.Id?this.Id:d.center,index:this.Yn++,layerStates:l,layerStatesArray:h,logos:gb(this.ip),pixelRatio:this.Kb,pixelToCoordinateMatrix:this.Vp,postRenderFunctions:[],size:e,skippedFeatureUids:this.zq,tileQueue:this.$m,
time:a,usedTiles:{},viewState:d,viewHints:f,wantedTiles:{}}}if(f){a=this.Fh;b=e=0;for(c=a.length;b<c;++b)g=a[b],g(this,f)&&(a[e++]=g);a.length=e;f.extent=Jj(d.center,d.resolution,d.rotation,f.size)}this.Xb=f;this.Ta.Ih(f);f&&(f.animate&&this.render(),Array.prototype.push.apply(this.vm,f.postRenderFunctions),0!==this.Fh.length||f.viewHints[0]||f.viewHints[1]||Cj(f.extent,this.wm)||(this.dispatchEvent(new gi("moveend",this,f)),zj(f.extent,this.wm)));this.dispatchEvent(new gi("postrender",this,f));jd(this.Jo,
this)};k.Rh=function(a){this.set("target",a)};k.hn=function(){var a=hq(this);if(a){var b=se(a),c=Q&&a.currentStyle;c&&Qe(qe(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=Ig(a,c.width,"width","pixelWidth"),a=Ig(a,c.height,"height","pixelHeight"),a=new oe(b,a)):(c=new oe(a.offsetWidth,a.offsetHeight),b=Kg(a),a=Ng(a),a=new oe(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.set("size",[a.width,a.height])}else this.set("size",void 0)};
function fq(a){var b=null;void 0!==a.keyboardEventTarget&&(b=H(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;H(e)?d[e]="":ja(e)&&(d[e.src]=e.href)}e=a.layers instanceof rn?a.layers:new rn({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=void 0!==a.view?a.view:new em;var e=sl,g;void 0!==a.renderer?A(a.renderer)?g=a.renderer:H(a.renderer)&&(g=[a.renderer]):g=dq;var f,h;f=0;for(h=g.length;f<h;++f){var l=g[f];if("canvas"==l){if(vi){e=qp;break}}else if("dom"==l){e=wp;break}else if("webgl"==l&&si){e=bq;break}}void 0!==a.controls?g=A(a.controls)?new ai(a.controls.slice()):
a.controls:(g={},f=new ai,(void 0!==g.zoom?g.zoom:1)&&f.push(new vm(g.zoomOptions)),(void 0!==g.rotate?g.rotate:1)&&f.push(new tm(g.rotateOptions)),(void 0!==g.attribution?g.attribution:1)&&f.push(new lm(g.attributionOptions)),g=f);if(void 0!==a.interactions)f=A(a.interactions)?new ai(a.interactions.slice()):a.interactions;else{f={};h=new ai;l=new wm(-.005,.05,100);(void 0!==f.altShiftDragRotate?f.altShiftDragRotate:1)&&h.push(new Qm);(void 0!==f.doubleClickZoom?f.doubleClickZoom:1)&&h.push(new Bm({delta:f.zoomDelta,
duration:f.zoomDuration}));(void 0!==f.dragPan?f.dragPan:1)&&h.push(new Lm({kinetic:l}));(void 0!==f.pinchRotate?f.pinchRotate:1)&&h.push(new jn);(void 0!==f.pinchZoom?f.pinchZoom:1)&&h.push(new nn({duration:f.zoomDuration}));if(void 0!==f.keyboard?f.keyboard:1)h.push(new cn),h.push(new en({delta:f.zoomDelta,duration:f.zoomDuration}));(void 0!==f.mouseWheelZoom?f.mouseWheelZoom:1)&&h.push(new gn({duration:f.zoomDuration}));(void 0!==f.shiftDragZoom?f.shiftDragZoom:1)&&h.push(new bn({duration:f.zoomDuration}));
f=h}a=void 0!==a.overlays?A(a.overlays)?new ai(a.overlays.slice()):a.overlays:new ai;return{controls:g,interactions:f,keyboardEventTarget:b,logos:d,overlays:a,qq:e,values:c}}ek(wn);ek(Dn);Dn.forEach(function(a){wn.forEach(function(b){gk(a,b,xn);gk(b,a,yn)})});function iq(a){Y.call(this);this.C=a.id;this.Zo=void 0!==a.insertFirst?a.insertFirst:!0;this.Aq=void 0!==a.stopEvent?a.stopEvent:!0;this.c=document.createElement("DIV");this.c.className="ol-overlay-container";this.c.style.position="absolute";this.autoPan=void 0!==a.autoPan?a.autoPan:!1;this.Gi=void 0!==a.autoPanAnimation?a.autoPanAnimation:{};this.Cn=void 0!==a.autoPanMargin?a.autoPanMargin:20;this.sa={sg:"",oh:"",Oh:"",ei:"",visible:!0};this.th=null;T(this,Yh("element"),this.oo,!1,this);T(this,Yh("map"),
this.Ao,!1,this);T(this,Yh("offset"),this.Eo,!1,this);T(this,Yh("position"),this.Ho,!1,this);T(this,Yh("positioning"),this.Io,!1,this);void 0!==a.element&&this.set("element",a.element);this.set("offset",void 0!==a.offset?a.offset:[0,0]);this.set("positioning",void 0!==a.positioning?a.positioning:"top-left");void 0!==a.position&&this.setPosition(a.position)}N(iq,Y);k=iq.prototype;k.Bf=function(){return this.get("element")};k.Za=function(){return this.get("map")};
k.oo=function(){Ee(this.c);var a=this.Bf();a&&this.c.appendChild(a)};k.Ao=function(){this.th&&(Ge(this.c),U(this.th),this.th=null);var a=this.Za();a&&(this.th=T(a,"postrender",this.render,!1,this),kq(this),a=this.Aq?a.Tf:a.Uf,this.Zo?Fe(a,this.c,0):a.appendChild(this.c))};k.render=function(){kq(this)};k.Eo=function(){kq(this)};
k.Ho=function(){kq(this);if(void 0!==this.get("position")&&this.autoPan){var a=this.Za();if(void 0!==a&&hq(a)){var b=lq(hq(a),a.N()),c=this.Bf(),d=c.offsetWidth,e=c.currentStyle||window.getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,g=c.currentStyle||window.getComputedStyle(c),e=e+(parseInt(g.marginTop,10)+parseInt(g.marginBottom,10)),f=lq(c,[d,e]),c=this.Cn;Aj(b,f)||(d=f[0]-b[0],e=b[2]-f[2],g=f[1]-b[1],f=b[3]-f[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+
c),0>g?b[1]=g-c:0>f&&(b[1]=Math.abs(f)+c),0===b[0]&&0===b[1])||(c=Z(a).Ma(),d=Pm(a,c),b=[d[0]+b[0],d[1]+b[1]],this.Gi&&(this.Gi.source=c,a.hb(qm(this.Gi))),im(Z(a),a.Ld(b)))}}};k.Io=function(){kq(this)};k.setMap=function(a){this.set("map",a)};k.setPosition=function(a){this.set("position",a)};function lq(a,b){var c=zg(a);return[c.x,c.y,c.x+b[0],c.y+b[1]]}k.fk=function(a){this.sa.visible!==a&&(X(this.c,a),this.sa.visible=a)};
function kq(a){var b=a.Za(),c=a.get("position");if(void 0!==b&&b.Xb&&void 0!==c){var c=Pm(b,c),d=b.N(),b=a.c.style,e=a.get("offset"),g=a.get("positioning"),f=e[0],e=e[1];if("bottom-right"==g||"center-right"==g||"top-right"==g)""!==a.sa.oh&&(a.sa.oh=b.left=""),f=Math.round(d[0]-c[0]-f)+"px",a.sa.Oh!=f&&(a.sa.Oh=b.right=f);else{""!==a.sa.Oh&&(a.sa.Oh=b.right="");if("bottom-center"==g||"center-center"==g||"top-center"==g)f-=Dg(a.c).width/2;f=Math.round(c[0]+f)+"px";a.sa.oh!=f&&(a.sa.oh=b.left=f)}if("bottom-left"==
g||"bottom-center"==g||"bottom-right"==g)""!==a.sa.ei&&(a.sa.ei=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.sa.sg!=c&&(a.sa.sg=b.bottom=c);else{""!==a.sa.sg&&(a.sa.sg=b.bottom="");if("center-left"==g||"center-center"==g||"center-right"==g)e-=Dg(a.c).height/2;c=Math.round(c[1]+e)+"px";a.sa.ei!=c&&(a.sa.ei=b.top=c)}a.fk(!0)}else a.fk(!1)};function mq(a,b,c,d,e){wk.call(this,a,b);this.ke=c;this.v=new Image;null!==d&&(this.v.crossOrigin=d);this.ah={};this.Qd=null;this.Gq=e}N(mq,wk);k=mq.prototype;k.f=function(){1==this.state&&this.df();this.ia&&rc(this.ia);mq.o.f.call(this)};k.Y=function(a){if(void 0!==a){var b=J(a);if(b in this.ah)return this.ah[b];a=eb(this.ah)?this.v:this.v.cloneNode(!1);return this.ah[b]=a}return this.v};k.getKey=function(){return this.ke};k.Sg=function(){this.state=3;this.df();this.g()};
k.nj=function(){this.state=this.v.naturalWidth&&this.v.naturalHeight?2:4;this.df();this.g()};k.load=function(){0==this.state&&(this.state=1,this.g(),this.Qd=[Qc(this.v,"error",this.Sg,!1,this),Qc(this.v,"load",this.nj,!1,this)],this.Gq(this,this.ke))};k.df=function(){this.Qd.forEach(U);this.Qd=null};function nq(a,b,c,d,e,g,f,h,l,m){wk.call(this,e,0);this.nq=void 0!==m?m:!1;this.Kb=f;this.b=null;this.vg={};this.Uh=b;this.Zh=d;this.si=g?g:e;this.af=[];this.bf=null;this.Vh=0;g=Fk(d,this.si);m=this.Zh.u();e=this.Uh.u();g=m?Kj(g,m):g;if(0===Fj(g))this.state=4;else{(m=a.u())&&(e=e?Kj(e,m):m);m=d.w(this.si[0]);var n=Ij(g);d=lk(c,a)(n,void 0,n.length);m=c.getPointResolution(m,n);n=Zj(c);void 0!==n&&(m*=n);n=Zj(a);void 0!==n&&(m/=n);d=a.getPointResolution(m,d)/m;isFinite(d)&&!isNaN(d)&&0<d&&(m/=d);d=
m;if(!isFinite(d)||isNaN(d)||0>=d)this.state=4;else if(this.rk=new Go(a,c,g,e,d*(void 0!==l?l:.5)),0===this.rk.rd.length)this.state=4;else if(this.Vh=Mk(b,d),c=Io(this.rk),e&&(a.se?(c[1]=Pj(c[1],e[1],e[3]),c[3]=Pj(c[3],e[1],e[3])):c=Kj(c,e)),Fj(c))if(a=Gk(b,c,this.Vh),100>a.Oa()*a.Fe()){for(b=a.G;b<=a.T;b++)for(c=a.L;c<=a.P;c++)(l=h(this.Vh,b,c,f))&&this.af.push(l);0===this.af.length&&(this.state=4)}else this.state=3;else this.state=4}}N(nq,wk);
nq.prototype.f=function(){1==this.state&&(this.bf.forEach(U),this.bf=null);nq.o.f.call(this)};nq.prototype.Y=function(a){if(void 0!==a){var b=J(a);if(b in this.vg)return this.vg[b];a=eb(this.vg)?this.b:this.b.cloneNode(!1);return this.vg[b]=a}return this.b};
nq.prototype.Lm=function(){var a=[];this.af.forEach(function(b){b&&2==b.O()&&a.push({extent:Fk(this.Uh,b.H),image:b.Y()})},this);this.af.length=0;var b=this.si[0],c=Lk(this.Zh,b),d=ha(c)?c:c[0],c=ha(c)?c:c[1],b=this.Zh.w(b),e=this.Uh.w(this.Vh),g=Fk(this.Zh,this.si);this.b=Fo(d,c,this.Kb,e,this.Uh.u(),b,g,this.rk,a,this.nq);this.state=2;this.g()};
nq.prototype.load=function(){if(0==this.state){this.state=1;this.g();var a=0;this.bf=[];this.af.forEach(function(b){var c=b.O();if(0==c||1==c){a++;var d;d=b.ab("change",function(){var c=b.O();if(2==c||3==c||4==c)U(d),a--,0===a&&(this.bf.forEach(U),this.bf=null,this.Lm())},!1,this);this.bf.push(d)}},this);this.af.forEach(function(a){0==a.O()&&a.load()});0===a&&x.setTimeout(this.Lm.bind(this),0)}};function oq(a){op.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:void 0!==a.state?a.state:void 0,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:pq,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=void 0!==a.tileClass?a.tileClass:mq;this.jg={};this.lk={};this.sq=a.reprojectionErrorThreshold;
this.pq=!1}N(oq,op);k=oq.prototype;k.Ad=function(){return this.ua.Ad()?!0:Za(this.jg,function(a){return a.Ad()})};k.ze=function(a,b){var c=this.Gf(a);this.ua.ze(this.ua==c?b:{});Ya(this.jg,function(a){a.ze(a==c?b:{})})};k.jj=function(a){return this.Sa&&a&&!kk(this.Sa,a)?!1:oq.o.jj.call(this,a)};k.rc=function(a){var b=this.Sa;return!this.tileGrid||b&&!kk(b,a)?(b=J(a).toString(),b in this.lk||(this.lk[b]=Ok(a)),this.lk[b]):this.tileGrid};
k.Gf=function(a){var b=this.Sa;if(!b||kk(b,a))return this.ua;a=J(a).toString();a in this.jg||(this.jg[a]=new yk);return this.jg[a]};function qq(a,b,c,d,e,g){b=[b,c,d];e=(c=Vk(a,b,g))?a.tileUrlFunction(c,e,g):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction);e.key="";T(e,"change",a.Ug,!1,a);return e}
k.Je=function(a,b,c,d,e){if(this.Sa&&e&&!kk(this.Sa,e)){d=this.Gf(e);b=[a,b,c];a=this.He.apply(this,b);if(d.Da(a))return d.get(a);var g=this.Sa;c=this.rc(g);var f=this.rc(e),h=Vk(this,b,e);e=new nq(g,c,e,f,b,h,this.Zm,function(a,b,c,d){return rq(this,a,b,c,d,g)}.bind(this),this.sq,this.pq);d.set(a,e);return e}return rq(this,a,b,c,d,e)};
function rq(a,b,c,d,e,g){var f=null,h=a.He(b,c,d);if(a.ua.Da(h)){if(f=a.ua.get(h),""!=f.key){var l=f;f.ia&&""==f.ia.key?(f=f.ia,2==l.O()&&(f.ia=l)):(f=qq(a,b,c,d,e,g),2==l.O()?f.ia=l:l.ia&&2==l.ia.O()&&(f.ia=l.ia,l.ia=null));f.ia&&(f.ia.ia=null);a.ua.replace(h,f)}}else f=qq(a,b,c,d,e,g),a.ua.set(h,f);return f}function pq(a,b){a.Y().src=b};function sq(a){oq.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,projection:bk("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0});if(a.jsonp)(new uh(a.url)).send(void 0,this.Vg.bind(this),this.Bl.bind(this));else{var b=new Rd(new $c);T(b,"complete",function(){if(ce(b)){var a=fe(b);this.Vg(a)}else this.Bl();b.oc()},!1,this);b.send(a.url)}}N(sq,oq);
sq.prototype.Vg=function(a){var b=bk("EPSG:4326"),c=this.Sa,d;void 0!==a.bounds&&(d=Oj(a.bounds,ak(b,c)));var e=a.minzoom||0,g=a.maxzoom||22;this.tileGrid=c=Rk({extent:Pk(c),maxZoom:g,minZoom:e});this.tileUrlFunction=lp(a.tiles,c);if(void 0!==a.attribution&&!this.xd){b=void 0!==d?d:b.u();d={};for(var f;e<=g;++e)f=e.toString(),d[f]=[Gk(c,b,e)];this.xd=[new Tj({html:a.attribution,tileRanges:d})];this.g()}this.h="ready";this.g()};sq.prototype.Bl=function(){this.h="error";this.g()};function tq(a){Sk.call(this,{projection:bk("EPSG:3857"),state:"loading"});this.Tj=void 0!==a.preemptive?a.preemptive:!0;this.bn=np;(new uh(a.url)).send(void 0,this.Vg.bind(this))}N(tq,Sk);function uq(a,b,c,d,e){a.tileGrid?(c=Jk(a.tileGrid,b[0],b[1],c,!1,void 0),a=a.Je(c[0],c[1],c[2],1,a.Sa),d.call(e,a.getData(b))):d.call(e,null)}
tq.prototype.Vg=function(a){var b=bk("EPSG:4326"),c=this.Sa,d;void 0!==a.bounds&&(d=Oj(a.bounds,ak(b,c)));var e=a.minzoom||0,g=a.maxzoom||22;this.tileGrid=c=Rk({extent:Pk(c),maxZoom:g,minZoom:e});var f=a.grids;if(f){this.bn=lp(f,c);if(void 0!==a.attribution){b=void 0!==d?d:b.u();for(d={};e<=g;++e)f=e.toString(),d[f]=[Gk(c,b,e)];this.xd=[new Tj({html:a.attribution,tileRanges:d})];this.g()}this.h="ready"}else this.h="error";this.g()};
tq.prototype.Je=function(a,b,c,d,e){var g=this.He(a,b,c);if(this.ua.Da(g))return this.ua.get(g);a=[a,b,c];b=Vk(this,a,e);d=this.bn(b,d,e);d=new vq(a,void 0!==d?0:4,void 0!==d?d:"",Fk(this.tileGrid,a),this.Tj);this.ua.set(g,d);return d};tq.prototype.xk=function(a,b,c){a=this.He(a,b,c);this.ua.Da(a)&&this.ua.get(a)};function vq(a,b,c,d,e){wk.call(this,a,b);this.ke=c;this.S=d;this.Tj=e;this.Vi=this.J=this.Og=null}N(vq,wk);k=vq.prototype;k.Y=function(){return null};
k.getData=function(a){if(!this.Og||!this.J||!this.Vi)return null;var b=this.Og[Math.floor((1-(a[1]-this.S[1])/(this.S[3]-this.S[1]))*this.Og.length)];if(!H(b))return null;a=b.charCodeAt(Math.floor((a[0]-this.S[0])/(this.S[2]-this.S[0])*b.length));93<=a&&a--;35<=a&&a--;a-=32;return a in this.J?this.Vi[this.J[a]]:null};k.getKey=function(){return this.ke};k.Qg=function(){this.state=3;this.g()};k.oj=function(a){this.Og=a.grid;this.J=a.keys;this.Vi=a.data;this.state=4;this.g()};
k.load=function(){this.Tj&&0==this.state&&(this.state=1,(new uh(this.ke)).send(void 0,this.oj.bind(this),this.Qg.bind(this)))};function wq(){this.defaultDataProjection=null};function xq(){this.defaultDataProjection=null}N(xq,wq);function So(a){return ja(a)?a:H(a)?(a=Qd(a))?a:null:null}xq.prototype.ma=function(){return"json"};
function Qo(a,b,c){var d=So(b),e;c&&(e={dataProjection:c.dataProjection?c.dataProjection:Ro(a,So(b)),featureProjection:c.featureProjection});var g;e&&(g={featureProjection:e.featureProjection,dataProjection:e.dataProjection?e.dataProjection:a.defaultDataProjection,rightHanded:e.rightHanded});b=g;if("Feature"==d.type)a=[yq(a,d,b)];else if("FeatureCollection"==d.type){c=[];d=d.features;e=0;for(g=d.length;e<g;++e)c.push(yq(a,d[e],b));a=c}else a=[];return a};function zq(a){Ml.call(this);this.qa=a?a:null;Aq(this)}N(zq,Ml);function Bq(a){var b,c;if(a.qa)for(b=0,c=a.qa.length;b<c;++b)Rc(a.qa[b],"change",a.g,!1,a)}function Aq(a){var b,c;if(a.qa)for(b=0,c=a.qa.length;b<c;++b)T(a.qa[b],"change",a.g,!1,a)}k=zq.prototype;k.clone=function(){var a=new zq(null),b=this.qa,c=[],d,e;d=0;for(e=b.length;d<e;++d)c.push(b[d].clone());Bq(a);a.qa=c;Aq(a);a.g();return a};k.Qc=function(a,b){var c=this.qa,d,e;d=0;for(e=c.length;d<e;++d)if(c[d].Qc(a,b))return!0;return!1};
k.Qi=function(a){xj(Infinity,Infinity,-Infinity,-Infinity,a);for(var b=this.qa,c=0,d=b.length;c<d;++c)Dj(a,b[c].u());return a};k.kj=function(a){this.Sh!=this.V&&(fb(this.ld),this.md=0,this.Sh=this.V);if(0>a||0!==this.md&&a<this.md)return this;var b=a.toString();if(this.ld.hasOwnProperty(b))return this.ld[b];var c=[],d=this.qa,e=!1,g,f;g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.kj(a);c.push(l);l!==h&&(e=!0)}if(e)return a=new zq(null),Bq(a),a.qa=c,Aq(a),a.g(),this.ld[b]=a;this.md=a;return this};
k.ma=function(){return"GeometryCollection"};k.Qa=function(){return 0===this.qa.length};k.Ei=function(a){var b=this.qa,c,d;c=0;for(d=b.length;c<d;++c)b[c].Ei(a);this.g()};k.translate=function(a,b){var c=this.qa,d,e;d=0;for(e=c.length;d<e;++d)c[d].translate(a,b);this.g()};k.f=function(){Bq(this);zq.o.f.call(this)};function Cq(a,b,c,d,e){var g=NaN,f=NaN,h=(c-b)/d;if(0!==h)if(1==h)g=a[b],f=a[b+1];else if(2==h)g=.5*a[b]+.5*a[b+d],f=.5*a[b+1]+.5*a[b+d+1];else{var f=a[b],h=a[b+1],l=0,g=[0],m;for(m=b+d;m<c;m+=d){var n=a[m],p=a[m+1],l=l+Math.sqrt((n-f)*(n-f)+(p-h)*(p-h));g.push(l);f=n;h=p}c=.5*l;for(var f=Ra,h=0,l=g.length,q;h<l;)m=h+l>>1,n=f(c,g[m]),0<n?h=m+1:(l=m,q=!n);f=q?h:~h;0>f?(q=(c-g[-f-2])/(g[-f-1]-g[-f-2]),b+=(-f-2)*d,g=a[b],g+=q*(a[b+d]-g),c=a[b+1],f=c+q*(a[b+d+1]-c)):(g=a[b+f*d],f=a[b+f*d+1])}return e?
(e[0]=g,e[1]=f,e):[g,f]};function Dq(a,b){Ol.call(this);this.dj=null;this.sl=-1;this.yb(a,b)}N(Dq,Ol);k=Dq.prototype;k.clone=function(){var a=new Dq(null);a.fa(this.yc,this.a.slice());return a};k.ij=function(){var a=this.a,b=this.l,c=a[0],d=a[1],e=0,g;for(g=0+b;g<this.a.length;g+=b)var f=a[g],h=a[g+1],e=e+Math.sqrt((f-c)*(f-c)+(h-d)*(h-d)),c=f,d=h;return e};function co(a){if(a.sl!=a.V){var b;b=Cq(a.a,0,a.a.length,a.l,a.dj);a.dj=b;a.sl=a.V}return a.dj}
k.Ff=function(a){var b=[];b.length=Ul(this.a,0,this.a.length,this.l,a,b,0);a=new Dq(null);a.fa("XY",b);return a};k.ma=function(){return"LineString"};k.yb=function(a,b){a?(Rl(this,b,a,1),this.a||(this.a=[]),this.a.length=Sl(this.a,0,a,this.l),this.g()):this.fa("XY",null)};k.fa=function(a,b){Ql(this,a,b);this.g()};function Eq(a,b){Ol.call(this);this.ka=[];this.yb(a,b)}N(Eq,Ol);k=Eq.prototype;k.clone=function(){var a=new Eq(null);a.fa(this.yc,this.a.slice(),this.ka.slice());return a};function eo(a){var b=[],c=a.a,d=0,e=a.ka;a=a.l;var g,f;g=0;for(f=e.length;g<f;++g){var h=e[g],d=Cq(c,d,h,a);Na(b,d);d=h}return b}k.Ff=function(a){var b=[],c=[],d=this.a,e=this.ka,g=this.l,f=0,h=0,l,m;l=0;for(m=e.length;l<m;++l){var n=e[l],h=Ul(d,f,n,g,a,b,h);c.push(h);f=n}b.length=h;a=new Eq(null);a.fa("XY",b,c);return a};
k.ma=function(){return"MultiLineString"};k.yb=function(a,b){if(a){Rl(this,b,a,2);this.a||(this.a=[]);var c=Tl(this.a,0,a,this.l,this.ka);this.a.length=0===c.length?0:c[c.length-1];this.g()}else this.fa("XY",null,this.ka)};k.fa=function(a,b,c){Ql(this,a,b);this.ka=c;this.g()};function Fq(a,b){Ol.call(this);this.yb(a,b)}N(Fq,Ol);Fq.prototype.clone=function(){var a=new Fq(null);a.fa(this.yc,this.a.slice());return a};Fq.prototype.ma=function(){return"MultiPoint"};Fq.prototype.yb=function(a,b){a?(Rl(this,b,a,1),this.a||(this.a=[]),this.a.length=Sl(this.a,0,a,this.l),this.g()):this.fa("XY",null)};Fq.prototype.fa=function(a,b){Ql(this,a,b);this.g()};function Gq(a,b){Ol.call(this);this.pb=[];this.ql=-1;this.rl=null;this.Sf=-1;this.Ib=null;this.yb(a,b)}N(Gq,Ol);k=Gq.prototype;k.clone=function(){var a=new Gq(null),b=hb(this.pb);a.fa(this.yc,this.a.slice(),b);return a};k.Qc=function(a,b){var c;a:{c=this.qc();var d=this.pb,e=0;if(0!==d.length){var g,f;g=0;for(f=d.length;g<f;++g){var h=d[g];if(Yl(c,e,h,this.l,a,b)){c=!0;break a}e=h[h.length-1]}}c=!1}return c};
function fo(a){if(a.ql!=a.V){var b=a.a,c=a.pb,d=a.l,e=0,g=[],f,h,l=uj();f=0;for(h=c.length;f<h;++f){var m=c[f],l=Ej(xj(Infinity,Infinity,-Infinity,-Infinity,void 0),b,e,m[0],d);g.push((l[0]+l[2])/2,(l[1]+l[3])/2);e=m[m.length-1]}b=a.qc();c=a.pb;d=a.l;e=0;f=[];h=0;for(l=c.length;h<l;++h)m=c[h],f=Zl(b,e,m,d,g,2*h,f),e=m[m.length-1];a.rl=f;a.ql=a.V}return a.rl}
k.qc=function(){if(this.Sf!=this.V){var a=this.a,b;a:{b=this.pb;var c,d;c=0;for(d=b.length;c<d;++c)if(!am(a,b[c],this.l,void 0)){b=!1;break a}b=!0}if(b)this.Ib=a;else{b=a=this.Ib=a.slice();c=this.pb;d=this.l;var e=0,g,f;g=0;for(f=c.length;g<f;++g)e=bm(b,e,c[g],d,void 0);a.length=e}this.Sf=this.V}return this.Ib};
k.Ff=function(a){var b=[],c=[],d=this.a,e=this.pb,g=this.l;a=Math.sqrt(a);var f=0,h=0,l,m;l=0;for(m=e.length;l<m;++l){var n=e[l],p=[],h=Vl(d,f,n,g,a,b,h,p);c.push(p);f=n[n.length-1]}b.length=h;d=new Gq(null);d.fa("XY",b,c);return d};k.ma=function(){return"MultiPolygon"};
k.yb=function(a,b){if(a){Rl(this,b,a,3);this.a||(this.a=[]);var c=this.a,d=this.l,e=this.pb,g=0,e=e?e:[],f=0,h,l;h=0;for(l=a.length;h<l;++h)g=Tl(c,g,a[h],d,e[f]),e[f++]=g,g=g[g.length-1];e.length=f;0===e.length?this.a.length=0:(c=e[e.length-1],this.a.length=0===c.length?0:c[c.length-1]);this.g()}else this.fa("XY",null,this.pb)};k.fa=function(a,b,c){Ql(this,a,b);this.pb=c;this.g()};function Hq(a){a=a?a:{};this.defaultDataProjection=null;this.defaultDataProjection=bk(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");this.Yb=a.geometryName}N(Hq,xq);function Iq(a,b){var c;if(a){c=(0,Jq[a.type])(a);var d=b?bk(b.featureProjection):null,e=b?bk(b.dataProjection):null;c=d&&e&&!kk(d,e)?c instanceof Ml?c.transform(e,d):nk(c,e,d):c}else c=null;return c}
var Jq={Point:function(a){return new Wl(a.coordinates)},LineString:function(a){return new Dq(a.coordinates)},Polygon:function(a){return new cm(a.coordinates)},MultiPoint:function(a){return new Fq(a.coordinates)},MultiLineString:function(a){return new Eq(a.coordinates)},MultiPolygon:function(a){return new Gq(a.coordinates)},GeometryCollection:function(a,b){var c=a.geometries.map(function(a){return Iq(a,b)});return new zq(c)}};
function yq(a,b,c){c=Iq(b.geometry,c);var d=new Jo;a.Yb&&Ko(d,a.Yb);d.bg(c);void 0!==b.id&&(d.C=b.id,d.g());b.properties&&d.je(b.properties);return d}function Ro(a,b){var c=b.crs;return c?"name"==c.type?bk(c.properties.name):"EPSG"==c.type?bk("EPSG:"+c.properties.code):null:a.defaultDataProjection};function Kq(){function a(a){m=!m;n.style.display=m?"block":"none";a.preventDefault()}var b=[-5.3642,51.3776,-2.6334,53.4369],c=nk(b,"EPSG:4326","EPSG:3857"),d=zj(c);Nj(d,2);var e=zj(c);Nj(e,1.2);this.bm=W("map");this.li=new tq({url:"http://cynefin.archiveswales.org.uk/tileserver/cynefin-parishes.json",preemptive:!0});this.ga=new em({extent:d,zoom:7,minZoom:6,maxZoom:14});this.Nn=new Un({source:new ap({url:"http://api.georeferencer.com/repository/15872231/collection-stats.geojson",format:new Hq}),
style:Lq(),visible:!0,minResolution:100,maxResolution:1E3});this.Sp=new Un({source:new ap({url:"http://api.georeferencer.com/repository/15872231/parish-stats.geojson",format:new Hq}),style:Lq(),visible:!0,minResolution:0,maxResolution:100});this.i=new eq({target:this.bm,controls:[],layers:[new En({source:new sq({url:"http://cynefin.tileserver.com/cynefin-counties.json"}),minResolution:500}),new En({source:new sq({url:"http://cynefin.tileserver.com/cynefin-parishes.json"}),maxResolution:500}),new En({source:this.li}),
this.Nn,this.Sp],view:this.ga});Uh(this.i,pj,function(a){var b=this.ga.w()||1;uq(this.li,a.coordinate,b,this.Bo,this);gq(this.i,a.pixel,function(a){var b=Zh(a),c=b.georeference,d=c.fresh+c.touched+c.finished+c.impossible+c["finished-reviewed"]+c["impossible-reviewed"],e=c["finished-reviewed"]+c["impossible-reviewed"],f=d-e-c.fresh,g=b.transcription,b=g.fresh+g.touched+g.finished+g.impossible+g["finished-reviewed"]+g["impossible-reviewed"],c=g["finished-reviewed"]+c["impossible-reviewed"],g=b-c-g.fresh;
W("feature-info").className="active";W("info-title").innerHTML=a.get("name");W("info-t-touched").innerHTML=c+g;W("info-t-total").innerHTML=b;W("info-t-rev").innerHTML=c;W("info-t-edi").innerHTML=g;W("info-g-touched").innerHTML=e+f;W("info-g-total").innerHTML=d;W("info-g-rev").innerHTML=e;W("info-g-edi").innerHTML=f})},this);Uh(this.i,kj,function(a){var b=this.ga.w()||1;uq(this.li,a.coordinate,b,this.Co,this)},this);Vh(this.i,function(){var a=this.i.N();a?gm(this.ga,e,a):Mq(this,[-3.9001,52.3118],
!0)},this);var g=L(function(a,b){var c=this.ga.w()||1;this.i.hb(sm({resolution:c,duration:250,easing:nm}));hm(this.ga,this.ga.constrainResolution(c,a));b.preventDefault()},this);T(W("map-zoom-in"),"click",function(a){g(1,a)});T(W("map-zoom-out"),"click",function(a){g(-1,a)});var f=W("nominatim-input");if(f){var h=new Ah(f,"http://nominatim.klokantech.com/",void 0,b),l=L(function(a){this.Zf.setPosition(void 0);if(a){var b=lk("EPSG:4326",this.ga.Sa),c=a.bounds||a.viewport,d=Nq(this);c&&d&&(c=Oj(c,b),
Nj(c,1.33),gm(this.ga,c,d),Mq(this,this.ga.Ma()),hm(this.ga,this.ga.constrainResolution(this.ga.w())));if(a=[a.lon,a.lat],9<fm(this.ga)){var e=b(a),b=this.ga.w()||1;uq(this.li,e,b,function(a){if(a){var b=a.County,c=a.SHAPE_ID;b&&c&&(this.uf=!0,bf(this.Ab,b,L(function(){jf(this.Ab,c.toString())},this)),Mq(this,e),this.uf=!1,this.Zf.setPosition(e))}},this)}}},this);T(h,"update",function(a){l(a.ec);a.preventDefault()});b=Oe(f);T(b,"submit",function(a){a.preventDefault();h.search(f.value,1,function(a,
b){l(b[0])})})}this.Zf=new iq({element:Ae("DIV",{"class":"search-marker"})});this.i.Ch.push(this.Zf);Uh(this.ga,"propertychange",function(){null!=this.Zf.get("position")&&(this.Zf.setPosition(void 0),f.value="")},this);this.Ab=new Ye;this.uf=!1;this.Ab.ab("opened",function(a){if(!this.uf){var b=fm(this.ga);if(10!=b){var c=this.ga,d=c.constrainResolution(c.wh,10-c.zh,0);hm(c,d)}Mq(this,a.center,!0,10==b)}},!1,this);var m=!1,n=W("howto-popup"),b=W("howto-popup-close");T(W("howto-btn"),"click",a);T(b,
"click",a)}function Oq(){var a=W("application-panel");return a?Dg(a).width+30:0}function Nq(a){(a=a.i.N())&&(a=[a[0]-Oq(),a[1]]);return a}function Mq(a,b,c,d){if(b)if(c&&(c=b,b=lk("EPSG:4326","EPSG:3857")(c,void 0,c.length)),c=a.ga.Ma(),d&&c&&a.i.hb(qm({duration:300,source:c})),d=a.i.N(),c=[(d[0]+Oq())/2,d[1]/2],d){a=a.ga;var e=b,g=a.Ba();b=Math.cos(-g);var g=Math.sin(-g),f=e[0]*b-e[1]*g,e=e[1]*b+e[0]*g,h=a.w(),f=f+(d[0]/2-c[0])*h,e=e+(c[1]-d[1]/2)*h,g=-g;im(a,[f*b-e*g,e*b+f*g])}else im(a.ga,b)}
Kq.prototype.Bo=function(a){this.bm.style.cursor=a?"pointer":"";cf(this.Ab,a?a.County:null)};Kq.prototype.Co=function(a){if(a){var b=a.County;if(H(b)){var c=9<fm(this.ga),d=L(function(){c?jf(this.Ab,a.SHAPE_ID.toString()):Ze(this.Ab,"")},this);this.uf=c;bf(this.Ab,b,d);this.uf=!1}}};
function Lq(){return function(a){var b=[],c=Zh(a),d=c.georeference;a=d.fresh+d.touched+d.finished+d.impossible+d["finished-reviewed"]+d["impossible-reviewed"];var e=a-(d["finished-reviewed"]+d["impossible-reviewed"])-d.fresh,g=c.transcription,c=g.fresh+g.touched+g.finished+g.impossible+g["finished-reviewed"]+g["impossible-reviewed"],d=c-(g["finished-reviewed"]+d["impossible-reviewed"])-g.fresh;0===a-e&&0===c-d?b.push(new Pn({image:new ol({anchor:[8,-6],anchorOrigin:"bottom-left",anchorXUnits:"pixels",
anchorYUnits:"pixels",size:[16,16],opacity:.75,src:"/wp-content/themes/cynefin/assets/img/map-icon-star.png"})})):(a=50-Math.round(e/a*100/2),1<=a&&b.push(new Pn({image:new ol({anchor:[-6,-6],anchorOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",size:[8,a],opacity:.75,src:"/wp-content/themes/cynefin/assets/img/map-icon-orange.png"})})),a=50-Math.round(d/c*100/2),1<=a&&b.push(new Pn({image:new ol({anchor:[6,-6],anchorOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",
size:[8,a],opacity:.75,src:"/wp-content/themes/cynefin/assets/img/map-icon-blue.png"})})));return b}}ca("TitheMaps",Kq);})();
